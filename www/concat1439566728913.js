!function(){function e(e,t,n){t!==!1?z.addEventListener(e,J[e],n):z.removeEventListener(e,J[e])}function t(e){var t=w(e.target),i=_(t);if(ionic.tap.requiresNativeClick(i)||G)return!1;var r=ionic.tap.pointerCoord(e);n("click",i,r.x,r.y),h(i)}function n(e,t,n,i){var r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,0,0,n,i,!1,!1,!1,!1,0,null),r.isIonicTap=!0,t.dispatchEvent(r)}function i(e){return"submit"==e.target.type&&0===e.detail?null:ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)||!e.isIonicTap&&!ionic.tap.requiresNativeClick(e.target)?(e.stopPropagation(),ionic.tap.isLabelWithTextInput(e.target)||e.preventDefault(),!1):void 0}function r(t){return t.isIonicTap||d(t)?null:q?(t.stopPropagation(),ionic.tap.isTextInput(t.target)&&Y===t.target||/^(select|option)$/i.test(t.target.tagName)||t.preventDefault(),!1):(G=!1,j=ionic.tap.pointerCoord(t),e("mousemove"),void ionic.activator.start(t))}function o(n){return q?(n.stopPropagation(),n.preventDefault(),!1):d(n)||/^(select|option)$/i.test(n.target.tagName)?!1:($(n)||t(n),e("mousemove",!1),ionic.activator.end(),void(G=!1))}function a(t){return $(t)?(e("mousemove",!1),ionic.activator.end(),G=!0,!1):void 0}function s(t){if(!d(t)&&(G=!1,f(),j=ionic.tap.pointerCoord(t),e(X),ionic.activator.start(t),ionic.Platform.isIOS()&&ionic.tap.isLabelWithTextInput(t.target))){var n=_(w(t.target));n!==F&&t.preventDefault()}}function c(e){d(e)||(f(),$(e)||(t(e),/^(select|option)$/i.test(e.target.tagName)&&e.preventDefault()),Y=e.target,u())}function l(t){return $(t)?(G=!0,e(X,!1),ionic.activator.end(),!1):void 0}function u(){e(X,!1),ionic.activator.end(),G=!1}function f(){q=!0,clearTimeout(U),U=setTimeout(function(){q=!1},600)}function d(e){return e.isTapHandled?!0:(e.isTapHandled=!0,ionic.scroll.isScrolling&&ionic.tap.containsOrIsTextInput(e.target)?(e.preventDefault(),!0):void 0)}function h(e){W=null;var t=!1;"SELECT"==e.tagName?(n("mousedown",e,0,0),e.focus&&e.focus(),t=!0):g()===e?t=!0:/^(input|textarea)$/i.test(e.tagName)||e.isContentEditable?(t=!0,e.focus&&e.focus(),e.value=e.value,q&&(W=e)):p(),t&&(g(e),ionic.trigger("ionic.focusin",{target:e},!0))}function p(){var e=g();e&&(/^(input|textarea|select)$/i.test(e.tagName)||e.isContentEditable)&&e.blur(),g(null)}function v(e){q&&ionic.tap.isTextInput(g())&&ionic.tap.isTextInput(W)&&W!==e.target&&(W.focus(),W=null),ionic.scroll.isScrolling=!1}function m(){g(null)}function g(e){return arguments.length&&(F=e),F||document.activeElement}function $(e){if(!e||1!==e.target.nodeType||!j||0===j.x&&0===j.y)return!1;var t=ionic.tap.pointerCoord(e),n=!(!e.target.classList||!e.target.classList.contains||"function"!=typeof e.target.classList.contains),i=n&&e.target.classList.contains("button")?Z:K;return Math.abs(j.x-t.x)>i||Math.abs(j.y-t.y)>i}function w(e,t){for(var n=e,i=0;6>i&&n;i++){if("LABEL"===n.tagName)return n;n=n.parentElement}return t!==!1?e:void 0}function _(e){if(e&&"LABEL"===e.tagName){if(e.control)return e.control;if(e.querySelector){var t=e.querySelector("input,textarea,select");if(t)return t}}return e}function y(){ionic.keyboard.isInitialized||(N()?(window.addEventListener("native.keyboardshow",ut),window.addEventListener("native.keyboardhide",T)):document.body.addEventListener("focusout",T),document.body.addEventListener("ionic.focusin",lt),document.body.addEventListener("focusin",lt),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",y):document.removeEventListener("touchstart",y),ionic.keyboard.isInitialized=!0)}function b(e){clearTimeout(nt),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),ionic.keyboard.height=e.keyboardHeight,at?k(P,!0):k(D,!0)}function S(e){return clearTimeout(nt),e.target&&!e.target.readOnly&&ionic.tap.isKeyboardElement(e.target)&&(et=ionic.DomUtil.getParentWithClass(e.target,ct))?(Q=e.target,et.classList.contains("overflow-scroll")||(document.body.scrollTop=0,et.scrollTop=0,ionic.requestAnimationFrame(function(){document.body.scrollTop=0,et.scrollTop=0}),window.navigator.msPointerEnabled?document.addEventListener("MSPointerMove",C,!1):document.addEventListener("touchmove",C,!1)),(!ionic.keyboard.isOpen||ionic.keyboard.isClosing)&&(ionic.keyboard.isOpening=!0,ionic.keyboard.isClosing=!1),document.addEventListener("keydown",E,!1),void(ionic.keyboard.isOpen||N()?ionic.keyboard.isOpen&&D():k(D,!0))):void(Q=null)}function T(){clearTimeout(nt),(ionic.keyboard.isOpen||ionic.keyboard.isOpening)&&(ionic.keyboard.isClosing=!0,ionic.keyboard.isOpening=!1),nt=setTimeout(function(){ionic.requestAnimationFrame(function(){at?k(function(){P(),A()},!1):k(A,!1)})},50)}function x(){ionic.keyboard.isLandscape=!ionic.keyboard.isLandscape,ionic.Platform.isIOS()&&P(),ionic.Platform.isAndroid()&&(ionic.keyboard.isOpen&&N()?at=!0:k(P,!1))}function E(e){ionic.scroll.isScrolling&&C(e)}function C(e){"TEXTAREA"!==e.target.tagName&&e.preventDefault()}function k(e,t){clearInterval(tt);var n,i=0,r=V(),o=r;return n=ionic.Platform.isAndroid()&&ionic.Platform.version()<4.4?30:ionic.Platform.isAndroid()?10:1,tt=setInterval(function(){o=V(),(!(++i<n)||(M(o)||O(o))&&ionic.keyboard.height)&&(N()||(ionic.keyboard.height=Math.abs(r-window.innerHeight)),ionic.keyboard.isOpen=t,clearInterval(tt),e())},50),n}function A(){clearTimeout(nt),ionic.keyboard.isOpen=!1,ionic.keyboard.isClosing=!1,Q&&ionic.trigger("resetScrollView",{target:Q},!0),ionic.requestAnimationFrame(function(){document.body.classList.remove(st)}),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerMove",C):document.removeEventListener("touchmove",C),document.removeEventListener("keydown",E),ionic.Platform.isAndroid()&&(N()&&cordova.plugins.Keyboard.close(),Q&&Q.blur()),Q=null}function D(){ionic.keyboard.isOpen=!0,ionic.keyboard.isOpening=!1;var e={keyboardHeight:I(),viewportHeight:it};if(Q){e.target=Q;var t=Q.getBoundingClientRect();e.elementTop=Math.round(t.top),e.elementBottom=Math.round(t.bottom),e.windowHeight=e.viewportHeight-e.keyboardHeight,e.isElementUnderKeyboard=e.elementBottom>e.windowHeight,ionic.trigger("scrollChildIntoView",e,!0)}return setTimeout(function(){document.body.classList.add(st)},400),e}function I(){if(ionic.keyboard.height)return ionic.keyboard.height;if(ionic.Platform.isAndroid()){if(ionic.Platform.isFullScreen)return 275;var e=window.innerHeight;return it>e?it-e:0}return ionic.Platform.isIOS()?ionic.keyboard.isLandscape?206:ionic.Platform.isWebView()?260:216:275}function M(e){return!!(!ionic.keyboard.isLandscape&&rt&&Math.abs(rt-e)<2)}function O(e){return!!(ionic.keyboard.isLandscape&&ot&&Math.abs(ot-e)<2)}function P(){at=!1,it=V(),ionic.keyboard.isLandscape&&!ot?ot=it:ionic.keyboard.isLandscape||rt||(rt=it),Q&&ionic.trigger("resetScrollView",{target:Q},!0),ionic.keyboard.isOpen&&ionic.tap.isTextInput(Q)&&D()}function L(){var e=V();e/window.innerWidth<1&&(ionic.keyboard.isLandscape=!0),it=e,ionic.keyboard.isLandscape&&!ot?ot=it:ionic.keyboard.isLandscape||rt||(rt=it)}function V(){var e=window.innerHeight;return ionic.Platform.isAndroid()&&ionic.Platform.isFullScreen||!ionic.keyboard.isOpen&&!ionic.keyboard.isOpening||ionic.keyboard.isClosing?e:e+I()}function N(){return!!(window.cordova&&cordova.plugins&&cordova.plugins.Keyboard)}function B(){var e;for(e=0;e<document.head.children.length;e++)if("viewport"==document.head.children[e].name){ft=document.head.children[e];break}if(ft){var t,n=ft.content.toLowerCase().replace(/\s+/g,"").split(",");for(e=0;e<n.length;e++)n[e]&&(t=n[e].split("="),dt[t[0]]=t.length>1?t[1]:"_");R()}}function R(){var e=dt.width,t=dt.height,n=ionic.Platform,i=n.version(),r="device-width",o="device-height",a=ionic.viewport.orientation();delete dt.height,dt.width=r,n.isIPad()?i>7?delete dt.width:n.isWebView()?90==a?dt.height="0":7==i&&(dt.height=o):7>i&&(dt.height="0"):n.isIOS()&&(n.isWebView()?i>7?delete dt.width:7>i?t&&(dt.height="0"):7==i&&(dt.height=o):7>i&&t&&(dt.height="0")),(e!==dt.width||t!==dt.height)&&H()}function H(){var e,t=[];for(e in dt)dt[e]&&t.push(e+("_"==dt[e]?"":"="+dt[e]));ft.content=t.join(", ")}window.ionic=window.ionic||{},window.ionic.views={},window.ionic.version="1.0.1",function(e){e.DelegateService=function(e){function t(){return!0}if(e.indexOf("$getByHandle")>-1)throw new Error("Method '$getByHandle' is implicitly added to each delegate service. Do not list it as a method.");return["$log",function(n){function i(e,t){this._instances=e,this.handle=t}function r(){this._instances=[]}function o(e){return function(){var t,i=this.handle,r=arguments,o=0;return this._instances.forEach(function(n){if((!i||i==n.$$delegateHandle)&&n.$$filterFn(n)){o++;var a=n[e].apply(n,r);1===o&&(t=a)}}),!o&&i?n.warn('Delegate for handle "'+i+'" could not find a corresponding element with delegate-handle="'+i+'"! '+e+"() was not called!\nPossible cause: If you are calling "+e+'() immediately, and your element with delegate-handle="'+i+'" is a child of your controller, then your element may not be compiled yet. Put a $timeout around your call to '+e+"() and try again."):t}}return e.forEach(function(e){i.prototype[e]=o(e)}),r.prototype=i.prototype,r.prototype._registerInstance=function(e,n,i){var r=this._instances;return e.$$delegateHandle=n,e.$$filterFn=i||t,r.push(e),function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}},r.prototype.$getByHandle=function(e){return new i(this._instances,e)},new r}]}}(window.ionic),function(e,t,n){function i(){o=!0;for(var e=0;e<r.length;e++)n.requestAnimationFrame(r[e]);r=[],t.removeEventListener("DOMContentLoaded",i)}var r=[],o="complete"===t.readyState||"interactive"===t.readyState;o||t.addEventListener("DOMContentLoaded",i),e._rAF=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,16)}}();var a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;n.DomUtil={requestAnimationFrame:function(t){return e._rAF(t)},cancelAnimationFrame:function(e){a(e)},animationFrameThrottle:function(e){var t,i,r;return function(){t=arguments,r=this,i||(i=!0,n.requestAnimationFrame(function(){e.apply(r,t),i=!1}))}},contains:function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}},getPositionInParent:function(e){return{left:e.offsetLeft,top:e.offsetTop}},ready:function(e){o?n.requestAnimationFrame(e):r.push(e)},getTextBounds:function(n){if(t.createRange){var i=t.createRange();if(i.selectNodeContents(n),i.getBoundingClientRect){var r=i.getBoundingClientRect();if(r){var o=e.scrollX,a=e.scrollY;return{top:r.top+a,left:r.left+o,right:r.left+o+r.width,bottom:r.top+a+r.height,width:r.width,height:r.height}}}}return null},getChildIndex:function(e,t){if(t)for(var n,i=e.parentNode.children,r=0,o=0,a=i.length;a>r;r++)if(n=i[r],n.nodeName&&n.nodeName.toLowerCase()==t){if(n==e)return o;o++}return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},swapNodes:function(e,t){t.parentNode.insertBefore(e,t)},elementIsDescendant:function(e,t,n){var i=e;do{if(i===t)return!0;i=i.parentNode}while(i&&i!==n);return!1},getParentWithClass:function(e,t,n){for(n=n||10;e.parentNode&&n--;){if(e.parentNode.classList&&e.parentNode.classList.contains(t))return e.parentNode;e=e.parentNode}return null},getParentOrSelfWithClass:function(e,t,n){for(n=n||10;e&&n--;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},rectContains:function(e,t,n,i,r,o){return n>e||e>r?!1:i>t||t>o?!1:!0},blurAll:function(){return t.activeElement&&t.activeElement!=t.body?(t.activeElement.blur(),t.activeElement):null},cachedAttr:function(e,t,n){if(e=e&&e.length&&e[0]||e,e&&e.setAttribute){var i="$attr-"+t;return arguments.length>2?e[i]!==n&&(e.setAttribute(t,n),e[i]=n):"undefined"==typeof e[i]&&(e[i]=e.getAttribute(t)),e[i]}},cachedStyles:function(e,t){if(e=e&&e.length&&e[0]||e,e&&e.style)for(var n in t)e["$style-"+n]!==t[n]&&(e.style[n]=e["$style-"+n]=t[n])}},n.requestAnimationFrame=n.DomUtil.requestAnimationFrame,n.cancelAnimationFrame=n.DomUtil.cancelAnimationFrame,n.animationFrameThrottle=n.DomUtil.animationFrameThrottle}(window,document,ionic),function(e){e.CustomEvent=function(){if("function"==typeof window.CustomEvent)return CustomEvent;var e=function(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(i){n=document.createEvent("Event");for(var r in t)n[r]=t[r];n.initEvent(e,t.bubbles,t.cancelable)}return n};return e.prototype=window.Event.prototype,e}(),e.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(t,n,i,r){var o=new e.CustomEvent(t,{detail:n,bubbles:!!i,cancelable:!!r});n&&n.target&&n.target.dispatchEvent&&n.target.dispatchEvent(o)||window.dispatchEvent(o)},on:function(t,n,i){for(var r=i||window,o=0,a=this.VIRTUALIZED_EVENTS.length;a>o;o++)if(t==this.VIRTUALIZED_EVENTS[o]){var s=new e.Gesture(i);return s.on(t,n),s}r.addEventListener(t,n)},off:function(e,t,n){n.removeEventListener(e,t)},onGesture:function(t,n,i,r){var o=new e.Gesture(i,r);return o.on(t,n),o},offGesture:function(e,t,n){e&&e.off(t,n)},handlePopState:function(){}},e.on=function(){e.EventController.on.apply(e.EventController,arguments)},e.off=function(){e.EventController.off.apply(e.EventController,arguments)},e.trigger=e.EventController.trigger,e.onGesture=function(){return e.EventController.onGesture.apply(e.EventController.onGesture,arguments)},e.offGesture=function(){return e.EventController.offGesture.apply(e.EventController.offGesture,arguments)}}(window.ionic),function(e){function t(){if(!e.Gestures.READY){e.Gestures.event.determineEventTypes();for(var t in e.Gestures.gestures)e.Gestures.gestures.hasOwnProperty(t)&&e.Gestures.detection.register(e.Gestures.gestures[t]);e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_MOVE,e.Gestures.detection.detect),e.Gestures.event.onTouch(e.Gestures.DOCUMENT,e.Gestures.EVENT_END,e.Gestures.detection.detect),e.Gestures.READY=!0}}e.Gesture=function(t,n){return new e.Gestures.Instance(t,n||{})},e.Gestures={},e.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},e.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,e.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,e.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,e.Gestures.NO_MOUSEEVENTS=e.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(e.Gestures.MOBILE_REGEX),e.Gestures.EVENT_TYPES={},e.Gestures.DIRECTION_DOWN="down",e.Gestures.DIRECTION_LEFT="left",e.Gestures.DIRECTION_UP="up",e.Gestures.DIRECTION_RIGHT="right",e.Gestures.POINTER_MOUSE="mouse",e.Gestures.POINTER_TOUCH="touch",e.Gestures.POINTER_PEN="pen",e.Gestures.EVENT_START="start",e.Gestures.EVENT_MOVE="move",e.Gestures.EVENT_END="end",e.Gestures.DOCUMENT=window.document,e.Gestures.plugins={},e.Gestures.READY=!1,e.Gestures.Instance=function(n,i){var r=this;return null===n?this:(t(),this.element=n,this.enabled=!0,this.options=e.Gestures.utils.extend(e.Gestures.utils.extend({},e.Gestures.defaults),i||{}),this.options.stop_browser_behavior&&e.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),e.Gestures.event.onTouch(n,e.Gestures.EVENT_START,function(t){r.enabled&&e.Gestures.detection.startDetect(r,t)}),this)},e.Gestures.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(t,n){var i=e.Gestures.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n;var r=this.element;return e.Gestures.utils.hasParent(n.target,r)&&(r=n.target),r.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var n=null,i=!1,r=!1;e.Gestures.event={bindDom:function(e,t,n){for(var i=t.split(" "),r=0;r<i.length;r++)e.addEventListener(i[r],n,!1)},onTouch:function(t,o,a){var s=this;this.bindDom(t,e.Gestures.EVENT_TYPES[o],function(c){var l=c.type.toLowerCase();if(!l.match(/mouse/)||!r){l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&1===c.which?i=!0:l.match(/mouse/)&&1!==c.which&&(i=!1),l.match(/touch|pointer/)&&(r=!0);var u=0;i&&(e.Gestures.HAS_POINTEREVENTS&&o!=e.Gestures.EVENT_END?u=e.Gestures.PointerEvent.updatePointer(o,c):l.match(/touch/)?u=c.touches.length:r||(u=l.match(/up/)?0:1),u>0&&o==e.Gestures.EVENT_END?o=e.Gestures.EVENT_MOVE:u||(o=e.Gestures.EVENT_END),(u||null===n)&&(n=c),a.call(e.Gestures.detection,s.collectEventData(t,o,s.getTouchList(n,o),c)),e.Gestures.HAS_POINTEREVENTS&&o==e.Gestures.EVENT_END&&(u=e.Gestures.PointerEvent.updatePointer(o,c))),u||(n=null,i=!1,r=!1,e.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getEvents():e.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_START]=t[0],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_MOVE]=t[1],e.Gestures.EVENT_TYPES[e.Gestures.EVENT_END]=t[2]},getTouchList:function(t){return e.Gestures.HAS_POINTEREVENTS?e.Gestures.PointerEvent.getTouchList():t.touches?t.touches:(t.identifier=1,[t])},collectEventData:function(t,n,i,r){var o=e.Gestures.POINTER_TOUCH;return(r.type.match(/mouse/)||e.Gestures.PointerEvent.matchType(e.Gestures.POINTER_MOUSE,r))&&(o=e.Gestures.POINTER_MOUSE),{center:e.Gestures.utils.getCenter(i),timeStamp:(new Date).getTime(),target:r.target,touches:i,eventType:n,pointerType:o,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return e.Gestures.detection.stopDetect()}}}},e.Gestures.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(t,n){return t==e.Gestures.EVENT_END?this.pointers={}:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n),Object.keys(this.pointers).length},matchType:function(t,n){if(!n.pointerType)return!1;var i={};return i[e.Gestures.POINTER_MOUSE]=n.pointerType==n.MSPOINTER_TYPE_MOUSE||n.pointerType==e.Gestures.POINTER_MOUSE,i[e.Gestures.POINTER_TOUCH]=n.pointerType==n.MSPOINTER_TYPE_TOUCH||n.pointerType==e.Gestures.POINTER_TOUCH,i[e.Gestures.POINTER_PEN]=n.pointerType==n.MSPOINTER_TYPE_PEN||n.pointerType==e.Gestures.POINTER_PEN,i[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},e.Gestures.utils={extend:function(e,t,n){for(var i in t)void 0!==e[i]&&n||(e[i]=t[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,r=e.length;r>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,n){var i=Math.abs(t.pageX-n.pageX),r=Math.abs(t.pageY-n.pageY);return i>=r?t.pageX-n.pageX>0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT:t.pageY-n.pageY>0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(t){return t==e.Gestures.DIRECTION_UP||t==e.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){e&&e.classList&&(e.classList.add(t),e.onselectstart=function(){return!1})}},e.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){this.current||(this.stopped=!1,this.current={inst:t,startEvent:e.Gestures.utils.extend({},n),lastEvent:!1,name:""},this.detect(n))},detect:function(t){if(!this.current||this.stopped)return null;t=this.extendEventData(t);for(var n=this.current.inst.options,i=0,r=this.gestures.length;r>i;i++){var o=this.gestures[i];if(!this.stopped&&n[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==e.Gestures.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t},stopDetect:function(){this.previous=e.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var n=this.current.startEvent;if(n&&(t.touches.length!=n.touches.length||t.touches===n.touches)){n.touches=[];for(var i=0,r=t.touches.length;r>i;i++)n.touches.push(e.Gestures.utils.extend({},t.touches[i]))}var o=t.timeStamp-n.timeStamp,a=t.center.pageX-n.center.pageX,s=t.center.pageY-n.center.pageY,c=e.Gestures.utils.getVelocity(o,a,s);return e.Gestures.utils.extend(t,{deltaTime:o,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:e.Gestures.utils.getDistance(n.center,t.center),angle:e.Gestures.utils.getAngle(n.center,t.center),direction:e.Gestures.utils.getDirection(n.center,t.center),scale:e.Gestures.utils.getScale(n.touches,t.touches),rotation:e.Gestures.utils.getRotation(n.touches,t.touches),startEvent:n}),t},register:function(t){var n=t.defaults||{};return void 0===n[t.name]&&(n[t.name]=!0),e.Gestures.utils.extend(e.Gestures.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},e.Gestures.gestures=e.Gestures.gestures||{},e.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,n){switch(t.eventType){case e.Gestures.EVENT_START:clearTimeout(this.timer),e.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==e.Gestures.detection.current.name&&(e.tap.cancelClick(),n.trigger("hold",t))},n.options.hold_timeout);break;case e.Gestures.EVENT_MOVE:t.distance>n.options.hold_threshold&&clearTimeout(this.timer);break;case e.Gestures.EVENT_END:clearTimeout(this.timer)}}},e.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END&&"touchcancel"!=t.srcEvent.type){var i=e.Gestures.detection.previous,r=!1;if(t.deltaTime>n.options.tap_max_touchtime||t.distance>n.options.tap_max_distance)return;i&&"tap"==i.name&&t.timeStamp-i.lastEvent.timeStamp<n.options.doubletap_interval&&t.distance<n.options.doubletap_distance&&(n.trigger("doubletap",t),r=!0),(!r||n.options.tap_always)&&(e.Gestures.detection.current.name="tap",n.trigger("tap",t))}}},e.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.4},handler:function(t,n){if(t.eventType==e.Gestures.EVENT_END){if(n.options.swipe_max_touches>0&&t.touches.length>n.options.swipe_max_touches)return;(t.velocityX>n.options.swipe_velocity||t.velocityY>n.options.swipe_velocity)&&(n.trigger(this.name,t),n.trigger(this.name+t.direction,t))}}},e.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25,prevent_default_directions:[]},triggered:!1,handler:function(t,n){if("touchstart"==t.srcEvent.type||"touchend"==t.srcEvent.type?this.preventedFirstMove=!1:this.preventedFirstMove||"touchmove"!=t.srcEvent.type||((0===n.options.prevent_default_directions.length||-1!=n.options.prevent_default_directions.indexOf(t.direction))&&t.srcEvent.preventDefault(),this.preventedFirstMove=!0),e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&e.Gestures.detection.current.name!=this.name)return;if(e.Gestures.detection.current.name!=this.name&&(e.Gestures.detection.current.name=this.name,n.options.correct_for_drag_min_distance)){var i=Math.abs(n.options.drag_min_distance/t.distance);e.Gestures.detection.current.startEvent.center.pageX+=t.deltaX*i,e.Gestures.detection.current.startEvent.center.pageY+=t.deltaY*i,t=e.Gestures.detection.extendEventData(t)}(e.Gestures.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=e.Gestures.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=e.Gestures.utils.isVertical(r)?t.deltaY<0?e.Gestures.DIRECTION_UP:e.Gestures.DIRECTION_DOWN:t.deltaX<0?e.Gestures.DIRECTION_LEFT:e.Gestures.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&e.Gestures.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!e.Gestures.utils.isVertical(t.direction))&&t.preventDefault();break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(e.Gestures.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),void(this.triggered=!1);if(!(t.touches.length<2))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case e.Gestures.EVENT_START:this.triggered=!1;break;case e.Gestures.EVENT_MOVE:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(i<n.options.transform_min_scale&&r<n.options.transform_min_rotation)return;e.Gestures.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),r>n.options.transform_min_rotation&&n.trigger("rotate",t),i>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case e.Gestures.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},e.Gestures.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==e.Gestures.POINTER_MOUSE?void t.stopDetect():(n.options.prevent_default&&t.preventDefault(),void(t.eventType==e.Gestures.EVENT_START&&n.trigger(this.name,t)))}},e.Gestures.gestures.Release={name:"release",index:1/0,handler:function(t,n){t.eventType==e.Gestures.EVENT_END&&n.trigger(this.name,t)}}}(window.ionic),function(e,t,n){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function r(){f.isWebView()?t.addEventListener("deviceready",o,!1):o(),a&&e.removeEventListener("load",r,!1)}function o(){f.isReady=!0,f.detect();for(var e=0;e<p.length;e++)p[e]();p=[],n.trigger("platformready",{target:t}),u(function(){t.body.classList.add("platform-ready")})}var a,s="ios",c="android",l="windowsphone",u=n.requestAnimationFrame,f=n.Platform={navigator:e.navigator,isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(e){f.isReady?e():p.push(e)},detect:function(){f._checkPlatforms(),u(function(){for(var e=0;e<f.platforms.length;e++)t.body.classList.add("platform-"+f.platforms[e])})},setGrade:function(e){var n=f.grade;f.grade=e,u(function(){n&&t.body.classList.remove("grade-"+n),t.body.classList.add("grade-"+e)})},device:function(){return e.device||{}},_checkPlatforms:function(){f.platforms=[];var t="a";f.isWebView()?(f.platforms.push("webview"),e.cordova||e.PhoneGap||e.phonegap?f.platforms.push("cordova"):e.forge&&f.platforms.push("trigger")):f.platforms.push("browser"),f.isIPad()&&f.platforms.push("ipad");var n=f.platform();if(n){f.platforms.push(n);var i=f.version();if(i){var r=i.toString();r.indexOf(".")>0?r=r.replace(".","_"):r+="_0",f.platforms.push(n+r.split("_")[0]),f.platforms.push(n+r),f.isAndroid()&&4.4>i?t=4>i?"c":"b":f.isWindowsPhone()&&(t="b")}}f.setGrade(t)},isWebView:function(){return!!(e.cordova||e.PhoneGap||e.phonegap||e.forge)},isIPad:function(){return/iPad/i.test(f.navigator.platform)?!0:/iPad/i.test(f.ua)},isIOS:function(){return f.is(s)},isAndroid:function(){return f.is(c)},isWindowsPhone:function(){return f.is(l)},platform:function(){return null===d&&f.setPlatform(f.device().platform),d},setPlatform:function(e){d="undefined"!=typeof e&&null!==e&&e.length?e.toLowerCase():i("ionicplatform")?i("ionicplatform"):f.ua.indexOf("Android")>0?c:/iPhone|iPad|iPod/.test(f.ua)?s:f.ua.indexOf("Windows Phone")>-1?l:f.navigator.platform&&navigator.platform.toLowerCase().split(" ")[0]||""},version:function(){return null===h&&f.setVersion(f.device().version),h},setVersion:function(e){if("undefined"!=typeof e&&null!==e&&(e=e.split("."),e=parseFloat(e[0]+"."+(e.length>1?e[1]:0)),!isNaN(e)))return void(h=e);h=0;var t=f.platform(),n={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/,windowsphone:/Windows Phone (\d+).(\d+)?/};n[t]&&(e=f.ua.match(n[t]),e&&e.length>2&&(h=parseFloat(e[1]+"."+e[2])))},is:function(e){if(e=e.toLowerCase(),f.platforms)for(var t=0;t<f.platforms.length;t++)if(f.platforms[t]===e)return!0;var n=f.platform();return n?n===e.toLowerCase():f.ua.toLowerCase().indexOf(e)>=0},exitApp:function(){f.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(n){f._showStatusBar=n,f.ready(function(){u(function(){f._showStatusBar?(e.StatusBar&&e.StatusBar.show(),t.body.classList.remove("status-bar-hide")):(e.StatusBar&&e.StatusBar.hide(),t.body.classList.add("status-bar-hide"))})})},fullScreen:function(e,i){f.isFullScreen=e!==!1,n.DomUtil.ready(function(){u(function(){f.isFullScreen?t.body.classList.add("fullscreen"):t.body.classList.remove("fullscreen")}),f.showStatusBar(i===!0)})}},d=null,h=null,p=[];"complete"===t.readyState?r():(a=!0,e.addEventListener("load",r,!1))}(this,document,ionic),function(e,t){"use strict";t.CSS={},function(){var n,i=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform","msTransform"];for(n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSFORM=i[n];break}for(i=["webkitTransition","mozTransition","msTransition","transition"],n=0;n<i.length;n++)if(void 0!==e.documentElement.style[i[n]]){t.CSS.TRANSITION=i[n];break}var r=t.CSS.TRANSITION.indexOf("webkit")>-1;t.CSS.TRANSITION_DURATION=(r?"-webkit-":"")+"transition-duration",t.CSS.TRANSITIONEND=(r?"webkitTransitionEnd ":"")+"transitionend"}(),"classList"in e.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function e(e){return function(){var n,i=t.className.split(/\s+/);for(n=0;n<arguments.length;n++)e(i,i.indexOf(arguments[n]),arguments[n]);t.className=i.join(" ")}}var t=this;return{add:e(function(e,t,n){~t||e.push(n)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}}}})}(document,ionic);var z,F,q,U,G,j,W,Y,X="touchmove",K=12,Z=50,J={click:i,mousedown:r,mouseup:o,mousemove:a,touchstart:s,touchend:c,touchcancel:u,touchmove:l,pointerdown:s,pointerup:c,pointercancel:u,pointermove:l,MSPointerDown:s,MSPointerUp:c,MSPointerCancel:u,MSPointerMove:l,focusin:v,focusout:m};
ionic.tap={register:function(t){return z=t,e("click",!0,!0),e("mouseup"),e("mousedown"),window.navigator.pointerEnabled?(e("pointerdown"),e("pointerup"),e("pointcancel"),X="pointermove"):window.navigator.msPointerEnabled?(e("MSPointerDown"),e("MSPointerUp"),e("MSPointerCancel"),X="MSPointerMove"):(e("touchstart"),e("touchend"),e("touchcancel")),e("focusin"),e("focusout"),function(){for(var t in J)e(t,!1);z=null,F=null,q=!1,G=!1,j=null}},ignoreScrollStart:function(e){return e.defaultPrevented||/^(file|range)$/i.test(e.target.type)||"true"==(e.target.dataset?e.target.dataset.preventScroll:e.target.getAttribute("data-prevent-scroll"))||!!/^(object|embed)$/i.test(e.target.tagName)||ionic.tap.isElementTapDisabled(e.target)},isTextInput:function(e){return!!e&&("TEXTAREA"==e.tagName||"true"===e.contentEditable||"INPUT"==e.tagName&&!/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i.test(e.type))},isDateInput:function(e){return!!e&&"INPUT"==e.tagName&&/^(date|time|datetime-local|month|week)$/i.test(e.type)},isKeyboardElement:function(e){return!ionic.Platform.isIOS()||ionic.Platform.isIPad()?ionic.tap.isTextInput(e)&&!ionic.tap.isDateInput(e):ionic.tap.isTextInput(e)||!!e&&"SELECT"==e.tagName},isLabelWithTextInput:function(e){var t=w(e,!1);return!!t&&ionic.tap.isTextInput(_(t))},containsOrIsTextInput:function(e){return ionic.tap.isTextInput(e)||ionic.tap.isLabelWithTextInput(e)},cloneFocusedInput:function(){},hasCheckedClone:!1,removeClonedInputs:function(e){ionic.tap.hasCheckedClone=!1,ionic.requestAnimationFrame(function(){var t,n=e.querySelectorAll(".cloned-text-input"),i=e.querySelectorAll(".previous-input-focus");for(t=0;t<n.length;t++)n[t].parentElement.removeChild(n[t]);for(t=0;t<i.length;t++)i[t].classList.remove("previous-input-focus"),i[t].style.top="",ionic.keyboard.isOpen&&!ionic.keyboard.isClosing&&i[t].focus()})},requiresNativeClick:function(e){return!e||e.disabled||/^(file|range)$/i.test(e.type)||/^(object|video)$/i.test(e.tagName)||ionic.tap.isLabelContainingFileInput(e)?!0:ionic.tap.isElementTapDisabled(e)},isLabelContainingFileInput:function(e){var t=w(e);if("LABEL"!==t.tagName)return!1;var n=t.querySelector("input[type=file]");return n&&n.disabled===!1?!0:!1},isElementTapDisabled:function(e){if(e&&1===e.nodeType)for(var t=e;t;){if("true"==(t.dataset?t.dataset.tapDisabled:t.getAttribute("data-tap-disabled")))return!0;t=t.parentElement}return!1},setTolerance:function(e,t){K=e,Z=t},cancelClick:function(){G=!0},pointerCoord:function(e){var t={x:0,y:0};if(e){var n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];i&&(t.x=i.clientX||i.pageX||0,t.y=i.clientY||i.pageY||0)}return t}},ionic.DomUtil.ready(function(){var e="undefined"!=typeof angular?angular:null;(!e||e&&!e.scenario)&&ionic.tap.register(document)}),function(e,t){"use strict";function n(){o={},t.requestAnimationFrame(r)}function i(){for(var e in o)o[e]&&(o[e].classList.add(c),a[e]=o[e]);o={}}function r(){if(t.transition&&t.transition.isActive)return void setTimeout(r,400);for(var e in a)a[e]&&(a[e].classList.remove(c),delete a[e])}var o={},a={},s=0,c="activated";t.activator={start:function(e){var n=t.tap.pointerCoord(e).x;n>0&&30>n||t.requestAnimationFrame(function(){if(!(t.scroll&&t.scroll.isScrolling||t.tap.requiresNativeClick(e.target))){for(var n,r=e.target,a=0;6>a&&(r&&1===r.nodeType);a++){if(n&&r.classList&&r.classList.contains("item")){n=r;break}if("A"==r.tagName||"BUTTON"==r.tagName||r.hasAttribute("ng-click")){n=r;break}if(r.classList.contains("button")){n=r;break}if("ION-CONTENT"==r.tagName||r.classList&&r.classList.contains("pane")||"BODY"==r.tagName)break;r=r.parentElement}n&&(o[s]=n,t.requestAnimationFrame(i),s=s>29?0:s+1)}})},end:function(){setTimeout(n,200)}}}(document,ionic),function(e){var t=0;e.Utils={arrayMove:function(e,t,n){if(n>=e.length)for(var i=n-e.length;i--+1;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},proxy:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}},debounce:function(e,t,n){var i,r,o,a,s;return function(){o=this,r=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r)))},l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r)),s}},throttle:function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:Date.now(),a=null,o=e.apply(i,r)};return function(){var l=Date.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return i=this,r=arguments,0>=u?(clearTimeout(a),a=null,s=l,o=e.apply(i,r)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},inherit:function(t,n){var i,r=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return r.apply(this,arguments)},e.extend(i,r,n);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&e.extend(i.prototype,t),i.__super__=r.prototype,i},extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){var i=t[n];if(i)for(var r in i)e[r]=i[r]}return e},nextUid:function(){return"ion"+t++},disconnectScope:function(e){if(e&&e.$root!==e){var t=e.$parent;e.$$disconnected=!0,e.$broadcast("$ionic.disconnectScope",e),t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e.$parent;e.$$disconnected=!1,e.$broadcast("$ionic.reconnectScope",e),e.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=e,t.$$childTail=e):t.$$childHead=t.$$childTail=e}},isScopeDisconnected:function(e){for(var t=e;t;){if(t.$$disconnected)return!0;t=t.$parent}return!1}},e.inherit=e.Utils.inherit,e.extend=e.Utils.extend,e.throttle=e.Utils.throttle,e.proxy=e.Utils.proxy,e.debounce=e.Utils.debounce}(window.ionic);var Q,et,tt,nt,it=0,rt=0,ot=0,at=!1,st="keyboard-open",ct="scroll-content",lt=ionic.debounce(S,200,!0),ut=ionic.debounce(b,100,!0);ionic.keyboard={isOpen:!1,isClosing:!1,isOpening:!1,height:0,isLandscape:!1,isInitialized:!1,hide:function(){N()&&cordova.plugins.Keyboard.close(),Q&&Q.blur()},show:function(){N()&&cordova.plugins.Keyboard.show()},disable:function(){N()?(window.removeEventListener("native.keyboardshow",ut),window.removeEventListener("native.keyboardhide",T)):document.body.removeEventListener("focusout",T),document.body.removeEventListener("ionic.focusin",lt),document.body.removeEventListener("focusin",lt),window.removeEventListener("orientationchange",x),window.navigator.msPointerEnabled?document.removeEventListener("MSPointerDown",y):document.removeEventListener("touchstart",y),ionic.keyboard.isInitialized=!1},enable:function(){y()}},it=V(),ionic.Platform.ready(function(){L(),window.addEventListener("orientationchange",x),setTimeout(L,999),window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",y,!1):document.addEventListener("touchstart",y,!1)});var ft,dt={};ionic.viewport={orientation:function(){return window.innerWidth>window.innerHeight?90:0}},ionic.Platform.ready(function(){B(),window.addEventListener("orientationchange",function(){setTimeout(R,1e3)},!1)}),function(e){"use strict";e.views.View=function(){this.initialize.apply(this,arguments)},e.views.View.inherit=e.inherit,e.extend(e.views.View.prototype,{initialize:function(){}})}(window.ionic);var ht={effect:{}};!function(e){var t=Date.now||function(){return+new Date},n=60,i=1e3,r={},o=1;ht.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(n=!1),n)return function(e,n){t(e,n)};var i=60,r={},o=0,a=1,s=null,c=+new Date;return function(e){var t=a++;return r[t]=e,o++,null===s&&(s=setInterval(function(){var e=+new Date,t=r;r={},o=0;for(var n in t)t.hasOwnProperty(n)&&(t[n](e),c=e);e-c>2500&&(clearInterval(s),s=null)},1e3/i)),t}}(),stop:function(e){var t=null!=r[e];return t&&(r[e]=null),t},isRunning:function(e){return null!=r[e]},start:function(e,a,s,c,l,u){var f=t(),d=f,h=0,p=0,v=o++;if(u||(u=document.body),v%20===0){var m={};for(var g in r)m[g]=!0;r=m}var $=function(o){var m=o!==!0,g=t();if(!r[v]||a&&!a(v))return r[v]=null,void(s&&s(n-p/((g-f)/i),v,!1));if(m)for(var w=Math.round((g-d)/(i/n))-1,_=0;_<Math.min(w,4);_++)$(!0),p++;c&&(h=(g-f)/c,h>1&&(h=1));var y=l?l(h):h;e(y,g,m)!==!1&&1!==h||!m?m&&(d=g,ht.effect.Animate.requestAnimationFrame($,u)):(r[v]=null,s&&s(n-p/((g-f)/i),v,1===h||null==c))};return r[v]=!0,ht.effect.Animate.requestAnimationFrame($,u),v}}}(this),function(e){var t=function(){},n=function(e){return Math.pow(e-1,3)+1},i=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)};e.views.Scroll=e.views.View.inherit({initialize:function(n){var i=this;i.__container=n.el,i.__content=n.el.firstElementChild,setTimeout(function(){i.__container&&i.__content&&(i.__container.scrollTop=0,i.__content.scrollTop=0)}),i.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,decelVelocityThreshold:4,decelVelocityThresholdPaging:4,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,deceleration:.97,preventDefault:!1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:10,freeze:!1,getContentWidth:function(){return Math.max(i.__content.scrollWidth,i.__content.offsetWidth)},getContentHeight:function(){return Math.max(i.__content.scrollHeight,i.__content.offsetHeight+2*i.__content.offsetTop)}};for(var r in n)i.options[r]=n[r];i.hintResize=e.debounce(function(){i.resize()},1e3,!0),i.onScroll=function(){e.scroll.isScrolling?(clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)):setTimeout(i.setScrollStart,50)},i.freeze=function(e){return arguments.length&&(i.options.freeze=e),i.options.freeze},i.setScrollStart=function(){e.scroll.isScrolling=Math.abs(e.scroll.lastTop-i.__scrollTop)>1,clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.setScrollStop,80)},i.setScrollStop=function(){e.scroll.isScrolling=!1,e.scroll.lastTop=i.__scrollTop},i.triggerScrollEvent=e.throttle(function(){i.onScroll(),e.trigger("scroll",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.options.scrollEventInterval),i.triggerScrollEndEvent=function(){e.trigger("scrollend",{scrollTop:i.__scrollTop,scrollLeft:i.__scrollLeft,target:i.__container})},i.__scrollLeft=i.options.startX,i.__scrollTop=i.options.startY,i.__callback=i.getRenderFn(),i.__initEventHandlers(),i.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function t(e){return e.touches&&e.touches.length?e.touches:[{pageX:e.pageX,pageY:e.pageY}]}var n,i=this,r=i.__container;if(i.scrollChildIntoView=function(t){var o=r.getBoundingClientRect().bottom;n=r.offsetHeight;var a=i.isShrunkForKeyboard,s=r.parentNode.classList.contains("modal"),c=s&&window.innerWidth>=680;if(!a){if(e.Platform.isIOS()||e.Platform.isFullScreen||c){var l=t.detail.viewportHeight-o,u=Math.max(0,t.detail.keyboardHeight-l);e.requestAnimationFrame(function(){n-=u,r.style.height=n+"px",r.style.overflow="visible",i.resize()})}i.isShrunkForKeyboard=!0}t.detail.isElementUnderKeyboard&&e.requestAnimationFrame(function(){r.scrollTop=0,i.isShrunkForKeyboard&&!a&&(o=r.getBoundingClientRect().bottom);var s=.5*n,c=(t.detail.elementBottom+t.detail.elementTop)/2,l=c-o,u=l+s;u>0&&(e.Platform.isIOS()&&e.tap.cloneFocusedInput(r,i),i.scrollBy(0,u,!0),i.onScroll())}),t.stopPropagation()},i.resetScrollView=function(){i.isShrunkForKeyboard&&(i.isShrunkForKeyboard=!1,r.style.height="",r.style.overflow=""),i.resize()},r.addEventListener("scrollChildIntoView",i.scrollChildIntoView),document.addEventListener("resetScrollView",i.resetScrollView),i.touchStart=function(n){if(i.startCoordinates=e.tap.pointerCoord(n),!e.tap.ignoreScrollStart(n)){if(i.__isDown=!0,e.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName)return void(i.__hasStarted=!1);i.__isSelectable=!0,i.__enableScrollY=!0,i.__hasStarted=!0,i.doTouchStart(t(n),n.timeStamp),n.preventDefault()}},i.touchMove=function(n){if(!(i.options.freeze||!i.__isDown||!i.__isDown&&n.defaultPrevented||"TEXTAREA"===n.target.tagName&&n.target.parentElement.querySelector(":focus"))){if(!i.__hasStarted&&(e.tap.containsOrIsTextInput(n.target)||"SELECT"===n.target.tagName))return i.__hasStarted=!0,i.doTouchStart(t(n),n.timeStamp),void n.preventDefault();if(i.startCoordinates){var o=e.tap.pointerCoord(n);i.__isSelectable&&e.tap.isTextInput(n.target)&&Math.abs(i.startCoordinates.x-o.x)>20&&(i.__enableScrollY=!1,i.__isSelectable=!0),i.__enableScrollY&&Math.abs(i.startCoordinates.y-o.y)>10&&(i.__isSelectable=!1,e.tap.cloneFocusedInput(r,i))}i.doTouchMove(t(n),n.timeStamp,n.scale),i.__isDown=!0}},i.touchMoveBubble=function(e){i.__isDown&&i.options.preventDefault&&e.preventDefault()},i.touchEnd=function(t){i.__isDown&&(i.doTouchEnd(t,t.timeStamp),i.__isDown=!1,i.__hasStarted=!1,i.__isSelectable=!0,i.__enableScrollY=!0,i.__isDragging||i.__isDecelerating||i.__isAnimating||e.tap.removeClonedInputs(r,i))},i.mouseWheel=e.animationFrameThrottle(function(t){var n=e.DomUtil.getParentOrSelfWithClass(t.target,"ionic-scroll");i.options.freeze||n!==i.__container||(i.hintResize(),i.scrollBy((t.wheelDeltaX||t.deltaX||0)/i.options.wheelDampen,(-t.wheelDeltaY||t.deltaY||0)/i.options.wheelDampen),i.__fadeScrollbars("in"),clearTimeout(i.__wheelHideBarTimeout),i.__wheelHideBarTimeout=setTimeout(function(){i.__fadeScrollbars("out")},100))}),"ontouchstart"in window)r.addEventListener("touchstart",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("touchmove",i.touchMoveBubble,!1),document.addEventListener("touchmove",i.touchMove,!1),document.addEventListener("touchend",i.touchEnd,!1),document.addEventListener("touchcancel",i.touchEnd,!1);else if(window.navigator.pointerEnabled)r.addEventListener("pointerdown",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("pointermove",i.touchMoveBubble,!1),document.addEventListener("pointermove",i.touchMove,!1),document.addEventListener("pointerup",i.touchEnd,!1),document.addEventListener("pointercancel",i.touchEnd,!1),document.addEventListener("wheel",i.mouseWheel,!1);else if(window.navigator.msPointerEnabled)r.addEventListener("MSPointerDown",i.touchStart,!1),i.options.preventDefault&&r.addEventListener("MSPointerMove",i.touchMoveBubble,!1),document.addEventListener("MSPointerMove",i.touchMove,!1),document.addEventListener("MSPointerUp",i.touchEnd,!1),document.addEventListener("MSPointerCancel",i.touchEnd,!1),document.addEventListener("wheel",i.mouseWheel,!1);else{var o=!1;i.mouseDown=function(n){e.tap.ignoreScrollStart(n)||"SELECT"===n.target.tagName||(i.doTouchStart(t(n),n.timeStamp),e.tap.isTextInput(n.target)||n.preventDefault(),o=!0)},i.mouseMove=function(e){i.options.freeze||!o||!o&&e.defaultPrevented||(i.doTouchMove(t(e),e.timeStamp),o=!0)},i.mouseMoveBubble=function(e){o&&i.options.preventDefault&&e.preventDefault()},i.mouseUp=function(e){o&&(i.doTouchEnd(e,e.timeStamp),o=!1)},r.addEventListener("mousedown",i.mouseDown,!1),i.options.preventDefault&&r.addEventListener("mousemove",i.mouseMoveBubble,!1),document.addEventListener("mousemove",i.mouseMove,!1),document.addEventListener("mouseup",i.mouseUp,!1),document.addEventListener("mousewheel",i.mouseWheel,!1),document.addEventListener("wheel",i.mouseWheel,!1)}},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("touchstart",n.touchStart),i.removeEventListener("touchmove",n.touchMoveBubble),document.removeEventListener("touchmove",n.touchMove),document.removeEventListener("touchend",n.touchEnd),document.removeEventListener("touchcancel",n.touchEnd),i.removeEventListener("pointerdown",n.touchStart),i.removeEventListener("pointermove",n.touchMoveBubble),document.removeEventListener("pointermove",n.touchMove),document.removeEventListener("pointerup",n.touchEnd),document.removeEventListener("pointercancel",n.touchEnd),i.removeEventListener("MSPointerDown",n.touchStart),i.removeEventListener("MSPointerMove",n.touchMoveBubble),document.removeEventListener("MSPointerMove",n.touchMove),document.removeEventListener("MSPointerUp",n.touchEnd),document.removeEventListener("MSPointerCancel",n.touchEnd),i.removeEventListener("mousedown",n.mouseDown),i.removeEventListener("mousemove",n.mouseMoveBubble),document.removeEventListener("mousemove",n.mouseMove),document.removeEventListener("mouseup",n.mouseUp),document.removeEventListener("mousewheel",n.mouseWheel),document.removeEventListener("wheel",n.mouseWheel),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),document.removeEventListener("resetScrollView",n.resetScrollView),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.__callback=n.scrollChildIntoView=n.resetScrollView=t,n.mouseMove=n.mouseDown=n.mouseUp=n.mouseWheel=n.touchStart=n.touchMove=n.touchEnd=n.touchCancel=t,n.resize=n.scrollTo=n.zoomTo=n.__scrollingComplete=t,i=null},__createScrollbar:function(e){var t=document.createElement("div"),n=document.createElement("div");return n.className="scroll-bar-indicator scroll-bar-fade-out",t.className="h"==e?"scroll-bar scroll-bar-h":"scroll-bar scroll-bar-v",t.appendChild(n),t},__createScrollbars:function(){var e,t,n=this;n.options.scrollingX&&(e={el:n.__createScrollbar("h"),sizeRatio:1},e.indicator=e.el.children[0],n.options.scrollbarX&&n.__container.appendChild(e.el),n.__indicatorX=e),n.options.scrollingY&&(t={el:n.__createScrollbar("v"),sizeRatio:1},t.indicator=t.el.children[0],n.options.scrollbarY&&n.__container.appendChild(t.el),n.__indicatorY=t)},__resizeScrollbars:function(){var t=this;if(t.__indicatorX){var n=Math.max(Math.round(t.__clientWidth*t.__clientWidth/t.__contentWidth),20);n>t.__contentWidth&&(n=0),n!==t.__indicatorX.size&&e.requestAnimationFrame(function(){t.__indicatorX.indicator.style.width=n+"px"}),t.__indicatorX.size=n,t.__indicatorX.minScale=t.options.minScrollbarSizeX/n,t.__indicatorX.maxPos=t.__clientWidth-n,t.__indicatorX.sizeRatio=t.__maxScrollLeft?t.__indicatorX.maxPos/t.__maxScrollLeft:1}if(t.__indicatorY){var i=Math.max(Math.round(t.__clientHeight*t.__clientHeight/t.__contentHeight),20);i>t.__contentHeight&&(i=0),i!==t.__indicatorY.size&&e.requestAnimationFrame(function(){t.__indicatorY&&(t.__indicatorY.indicator.style.height=i+"px")}),t.__indicatorY.size=i,t.__indicatorY.minScale=t.options.minScrollbarSizeY/i,t.__indicatorY.maxPos=t.__clientHeight-i,t.__indicatorY.sizeRatio=t.__maxScrollTop?t.__indicatorY.maxPos/t.__maxScrollTop:1}},__repositionScrollbars:function(){var e,t,n,i,r,o,a=this,s=0,c=0;if(a.__indicatorX){a.__indicatorY&&(s=10),r=Math.round(a.__indicatorX.sizeRatio*a.__scrollLeft)||0,n=a.__scrollLeft-(a.__maxScrollLeft-s),a.__scrollLeft<0?(t=Math.max(a.__indicatorX.minScale,(a.__indicatorX.size-Math.abs(a.__scrollLeft))/a.__indicatorX.size),r=0,a.__indicatorX.indicator.style[a.__transformOriginProperty]="left center"):n>0?(t=Math.max(a.__indicatorX.minScale,(a.__indicatorX.size-n)/a.__indicatorX.size),r=a.__indicatorX.maxPos-s,a.__indicatorX.indicator.style[a.__transformOriginProperty]="right center"):(r=Math.min(a.__maxScrollLeft,Math.max(0,r)),t=1);var l="translate3d("+r+"px, 0, 0) scaleX("+t+")";a.__indicatorX.transformProp!==l&&(a.__indicatorX.indicator.style[a.__transformProperty]=l,a.__indicatorX.transformProp=l)}if(a.__indicatorY){o=Math.round(a.__indicatorY.sizeRatio*a.__scrollTop)||0,a.__indicatorX&&(c=10),i=a.__scrollTop-(a.__maxScrollTop-c),a.__scrollTop<0?(e=Math.max(a.__indicatorY.minScale,(a.__indicatorY.size-Math.abs(a.__scrollTop))/a.__indicatorY.size),o=0,"center top"!==a.__indicatorY.originProp&&(a.__indicatorY.indicator.style[a.__transformOriginProperty]="center top",a.__indicatorY.originProp="center top")):i>0?(e=Math.max(a.__indicatorY.minScale,(a.__indicatorY.size-i)/a.__indicatorY.size),o=a.__indicatorY.maxPos-c,"center bottom"!==a.__indicatorY.originProp&&(a.__indicatorY.indicator.style[a.__transformOriginProperty]="center bottom",a.__indicatorY.originProp="center bottom")):(o=Math.min(a.__maxScrollTop,Math.max(0,o)),e=1);var u="translate3d(0,"+o+"px, 0) scaleY("+e+")";a.__indicatorY.transformProp!==u&&(a.__indicatorY.indicator.style[a.__transformProperty]=u,a.__indicatorY.transformProp=u)}},__fadeScrollbars:function(e,t){var n=this;if(n.options.scrollbarsFade){var i="scroll-bar-fade-out";n.options.scrollbarsFade===!0&&(clearTimeout(n.__scrollbarFadeTimeout),"in"==e?(n.__indicatorX&&n.__indicatorX.indicator.classList.remove(i),n.__indicatorY&&n.__indicatorY.indicator.classList.remove(i)):n.__scrollbarFadeTimeout=setTimeout(function(){n.__indicatorX&&n.__indicatorX.indicator.classList.add(i),n.__indicatorY&&n.__indicatorY.indicator.classList.add(i)},t||n.options.scrollbarFadeDelay))}},__scrollingComplete:function(){this.options.scrollingComplete(),e.tap.removeClonedInputs(this.__container,this),this.__fadeScrollbars("out")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},getRenderFn:function(){var e,t=this,n=t.__content,i=document.documentElement.style;"MozAppearance"in i?e="gecko":"WebkitAppearance"in i?e="webkit":"string"==typeof navigator.cpuClass&&(e="trident");var r,o={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[e],a=document.createElement("div"),s=o+"Perspective",c=o+"Transform",l=o+"TransformOrigin";return t.__perspectiveProperty=c,t.__transformProperty=c,t.__transformOriginProperty=l,a.style[s]!==r?function(e,i,r,o){var a="translate3d("+-e+"px,"+-i+"px,0) scale("+r+")";a!==t.contentTransform&&(n.style[c]=a,t.contentTransform=a),t.__repositionScrollbars(),o||t.triggerScrollEvent()}:a.style[c]!==r?function(e,i,r,o){n.style[c]="translate("+-e+"px,"+-i+"px) scale("+r+")",t.__repositionScrollbars(),o||t.triggerScrollEvent()}:function(e,i,r,o){n.style.marginLeft=e?-e/r+"px":"",n.style.marginTop=i?-i/r+"px":"",n.style.zoom=r||"",t.__repositionScrollbars(),o||t.triggerScrollEvent()}},setDimensions:function(e,t,n,i,r){var o=this;(e||t||n||i)&&(e===+e&&(o.__clientWidth=e),t===+t&&(o.__clientHeight=t),n===+n&&(o.__contentWidth=n),i===+i&&(o.__contentHeight=i),o.__computeScrollMax(),o.__resizeScrollbars(),r||o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,null,!0))},setPosition:function(e,t){this.__clientLeft=e||0,this.__clientTop=t||0},setSnapSize:function(e,t){this.__snapWidth=e,this.__snapHeight=t},activatePullToRefresh:function(t,n){var i=this;i.__refreshHeight=t,i.__refreshActivate=function(){e.requestAnimationFrame(n.activate)},i.__refreshDeactivate=function(){e.requestAnimationFrame(n.deactivate)},i.__refreshStart=function(){e.requestAnimationFrame(n.start)},i.__refreshShow=function(){e.requestAnimationFrame(n.show)},i.__refreshHide=function(){e.requestAnimationFrame(n.hide)},i.__refreshTail=function(){e.requestAnimationFrame(n.tail)},i.__refreshTailTime=100,i.__minSpinTime=600},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0);var e=new Date;this.refreshStartTime=e.getTime(),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this,t=new Date,n=0;e.refreshStartTime+e.__minSpinTime>t.getTime()&&(n=e.refreshStartTime+e.__minSpinTime-t.getTime()),setTimeout(function(){e.__refreshTail&&e.__refreshTail(),setTimeout(function(){e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.__refreshHide&&e.__refreshHide(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},e.__refreshTailTime)},n)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,t,n,i){var r=this;if(!r.options.zooming)throw new Error("Zooming is not enabled!");r.__isDecelerating&&(ht.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1);var o=r.__zoomLevel;null==n&&(n=r.__clientWidth/2),null==i&&(i=r.__clientHeight/2),e=Math.max(Math.min(e,r.options.maxZoom),r.options.minZoom),r.__computeScrollMax(e);var a=(n+r.__scrollLeft)*e/o-n,s=(i+r.__scrollTop)*e/o-i;a>r.__maxScrollLeft?a=r.__maxScrollLeft:0>a&&(a=0),s>r.__maxScrollTop?s=r.__maxScrollTop:0>s&&(s=0),r.__publish(a,s,e,t)},zoomBy:function(e,t,n,i){this.zoomTo(this.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i,r){var o=this;if(o.__isDecelerating&&(ht.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1),null!=i&&i!==o.__zoomLevel){if(!o.options.zooming)throw new Error("Zooming is not enabled!");e*=i,t*=i,o.__computeScrollMax(i)}else i=o.__zoomLevel;o.options.scrollingX?o.options.paging?e=Math.round(e/o.__clientWidth)*o.__clientWidth:o.options.snapping&&(e=Math.round(e/o.__snapWidth)*o.__snapWidth):e=o.__scrollLeft,o.options.scrollingY?o.options.paging?t=Math.round(t/o.__clientHeight)*o.__clientHeight:o.options.snapping&&(t=Math.round(t/o.__snapHeight)*o.__snapHeight):t=o.__scrollTop,e=Math.max(Math.min(o.__maxScrollLeft,e),0),t=Math.max(Math.min(o.__maxScrollTop,t),0),e===o.__scrollLeft&&t===o.__scrollTop&&(n=!1),o.__publish(e,t,i,n,r)},scrollBy:function(e,t,n){var i=this,r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,o=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),o+(t||0),n)},doMouseZoom:function(e,t,n,i){var r=e>0?.97:1.03;return this.zoomTo(this.__zoomLevel*r,!1,n-this.__clientLeft,i-this.__clientTop)},doTouchStart:function(e,t){var n=this;n.__decStopped=!(!n.__isDecelerating&&!n.__isAnimating),n.hintResize(),t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now()),n.__interruptedAnimation=!0,n.__isDecelerating&&(ht.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(ht.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var i,r,o=1===e.length;o?(i=e[0].pageX,r=e[0].pageY):(i=Math.abs(e[0].pageX+e[1].pageX)/2,r=Math.abs(e[0].pageY+e[1].pageY)/2),n.__initialTouchLeft=i,n.__initialTouchTop=r,n.__initialTouches=e,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=i,n.__lastTouchTop=r,n.__lastTouchMove=t,n.__lastScale=1,n.__enableScrollX=!o&&n.options.scrollingX,n.__enableScrollY=!o&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!o,n.__isSingleTouch=o,n.__positions=[]},doTouchMove:function(e,t,n){t instanceof Date&&(t=t.valueOf()),"number"!=typeof t&&(t=Date.now());var i=this;if(i.__isTracking){var r,o;2===e.length?(r=Math.abs(e[0].pageX+e[1].pageX)/2,o=Math.abs(e[0].pageY+e[1].pageY)/2,!n&&i.options.zooming&&(n=i.__getScale(i.__initialTouches,e))):(r=e[0].pageX,o=e[0].pageY);var a=i.__positions;if(i.__isDragging){i.__decStopped=!1;var s=r-i.__lastTouchLeft,c=o-i.__lastTouchTop,l=i.__scrollLeft,u=i.__scrollTop,f=i.__zoomLevel;if(null!=n&&i.options.zooming){var d=f;if(f=f/i.__lastScale*n,f=Math.max(Math.min(f,i.options.maxZoom),i.options.minZoom),d!==f){var h=r-i.__clientLeft,p=o-i.__clientTop;l=(h+l)*f/d-h,u=(p+u)*f/d-p,i.__computeScrollMax(f)}}if(i.__enableScrollX){l-=s*i.options.speedMultiplier;var v=i.__maxScrollLeft;(l>v||0>l)&&(i.options.bouncing?l+=s/2*i.options.speedMultiplier:l=l>v?v:0)}if(i.__enableScrollY){u-=c*i.options.speedMultiplier;var m=i.__maxScrollTop;u>m||0>u?i.options.bouncing||i.__refreshHeight&&0>u?(u+=c/2*i.options.speedMultiplier,u>m+60&&(u=m+60),-60>u&&(u=-60),i.__enableScrollX||null==i.__refreshHeight||(0>u?(i.__refreshHidden=!1,i.__refreshShow()):(i.__refreshHide(),i.__refreshHidden=!0),!i.__refreshActive&&u<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&u>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):u=u>m?m:0:i.__refreshHeight&&!i.__refreshHidden&&(i.__refreshHide(),i.__refreshHidden=!0)}a.length>60&&a.splice(0,30),a.push(l,u,t),i.__publish(l,u,f)}else{var g=i.options.locking?3:0,$=5,w=Math.abs(r-i.__initialTouchLeft),_=Math.abs(o-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&w>=g,i.__enableScrollY=i.options.scrollingY&&_>=g,a.push(i.__scrollLeft,i.__scrollTop,t),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(w>=$||_>=$),i.__isDragging&&(i.__interruptedAnimation=!1,i.__fadeScrollbars("in"))}i.__lastTouchLeft=r,i.__lastTouchTop=o,i.__lastTouchMove=t,i.__lastScale=n}},doTouchEnd:function(t,n){n instanceof Date&&(n=n.valueOf()),"number"!=typeof n&&(n=Date.now());var i=this;if(i.__isTracking){if(i.__isTracking=!1,i.__isDragging)if(i.__isDragging=!1,i.__isSingleTouch&&i.options.animating&&n-i.__lastTouchMove<=100){for(var r=i.__positions,o=r.length-1,a=o,s=o;s>0&&r[s]>i.__lastTouchMove-100;s-=3)a=s;if(a!==o){var c=r[o]-r[a],l=i.__scrollLeft-r[a-2],u=i.__scrollTop-r[a-1];i.__decelerationVelocityX=l/c*(1e3/60),i.__decelerationVelocityY=u/c*(1e3/60);var f=i.options.paging||i.options.snapping?i.options.decelVelocityThresholdPaging:i.options.decelVelocityThreshold;(Math.abs(i.__decelerationVelocityX)>f||Math.abs(i.__decelerationVelocityY)>f)&&(i.__refreshActive||i.__startDeceleration(n))}else i.__scrollingComplete()}else n-i.__lastTouchMove>100&&i.__scrollingComplete();else i.__decStopped&&(t.isTapHandled=!0,i.__decStopped=!1);if(!i.__isDecelerating)if(i.__refreshActive&&i.__refreshStart){i.__publish(i.__scrollLeft,-i.__refreshHeight,i.__zoomLevel,!0);var d=new Date;i.refreshStartTime=d.getTime(),i.__refreshStart&&i.__refreshStart(),e.Platform.isAndroid()||i.__startDeceleration()}else(i.__interruptedAnimation||i.__isDragging)&&i.__scrollingComplete(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0,i.__zoomLevel),i.__refreshActive&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate());i.__positions.length=0}},__publish:function(e,t,r,o,a){var s=this,c=s.__isAnimating;if(c&&(ht.effect.Animate.stop(c),s.__isAnimating=!1),o&&s.options.animating){s.__scheduledLeft=e,s.__scheduledTop=t,s.__scheduledZoom=r;var l=s.__scrollLeft,u=s.__scrollTop,f=s.__zoomLevel,d=e-l,h=t-u,p=r-f,v=function(e,t,n){n&&(s.__scrollLeft=l+d*e,s.__scrollTop=u+h*e,s.__zoomLevel=f+p*e,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel,a))},m=function(e){return s.__isAnimating===e},g=function(e,t,n){t===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||n)&&s.__scrollingComplete(),s.options.zooming&&s.__computeScrollMax()};s.__isAnimating=ht.effect.Animate.start(v,m,g,s.options.animationDuration,c?n:i)}else s.__scheduledLeft=s.__scrollLeft=e,s.__scheduledTop=s.__scrollTop=t,s.__scheduledZoom=s.__zoomLevel=r,s.__callback&&s.__callback(e,t,r,a),s.options.zooming&&s.__computeScrollMax()
},__computeScrollMax:function(e){var t=this;null==e&&(e=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0),t.__didWaitForSize||t.__maxScrollLeft||t.__maxScrollTop||(t.__didWaitForSize=!0,t.__waitForSize())},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__startDeceleration:function(){var e=this;if(e.options.paging){var t=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),n=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),i=e.__clientWidth,r=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(t/i)*i,e.__minDecelerationScrollTop=Math.floor(n/r)*r,e.__maxDecelerationScrollLeft=Math.ceil(t/i)*i,e.__maxDecelerationScrollTop=Math.ceil(n/r)*r}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop,e.__refreshActive&&(e.__minDecelerationScrollTop=-1*e.__refreshHeight);var o=function(t,n,i){e.__stepThroughDeceleration(i)};e.__minVelocityToKeepDecelerating=e.options.snapping?4:.1;var a=function(){var t=Math.abs(e.__decelerationVelocityX)>=e.__minVelocityToKeepDecelerating||Math.abs(e.__decelerationVelocityY)>=e.__minVelocityToKeepDecelerating;return t||(e.__didDecelerationComplete=!0,e.options.bouncing&&!e.__refreshActive&&e.scrollTo(Math.min(Math.max(e.__scrollLeft,0),e.__maxScrollLeft),Math.min(Math.max(e.__scrollTop,0),e.__maxScrollTop),e.__refreshActive)),t},s=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.__scrollingComplete(),e.options.paging&&e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=ht.effect.Animate.start(o,a,s)},__stepThroughDeceleration:function(e){var t=this,n=t.__scrollLeft+t.__decelerationVelocityX,i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var r=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);r!==n&&(n=r,t.__decelerationVelocityX=0);var o=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);o!==i&&(i=o,t.__decelerationVelocityY=0)}if(e?t.__publish(n,i,t.__zoomLevel):(t.__scrollLeft=n,t.__scrollTop=i),!t.options.paging){var a=t.options.deceleration;t.__decelerationVelocityX*=a,t.__decelerationVelocityY*=a}if(t.options.bouncing){var s=0,c=0,l=t.options.penetrationDeceleration,u=t.options.penetrationAcceleration;if(n<t.__minDecelerationScrollLeft?s=t.__minDecelerationScrollLeft-n:n>t.__maxDecelerationScrollLeft&&(s=t.__maxDecelerationScrollLeft-n),i<t.__minDecelerationScrollTop?c=t.__minDecelerationScrollTop-i:i>t.__maxDecelerationScrollTop&&(c=t.__maxDecelerationScrollTop-i),0!==s){var f=s*t.__decelerationVelocityX<=t.__minDecelerationScrollLeft;f&&(t.__decelerationVelocityX+=s*l);var d=Math.abs(t.__decelerationVelocityX)<=t.__minVelocityToKeepDecelerating;(!f||d)&&(t.__decelerationVelocityX=s*u)}if(0!==c){var h=c*t.__decelerationVelocityY<=t.__minDecelerationScrollTop;h&&(t.__decelerationVelocityY+=c*l);var p=Math.abs(t.__decelerationVelocityY)<=t.__minVelocityToKeepDecelerating;(!h||p)&&(t.__decelerationVelocityY=c*u)}}},__getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},__getScale:function(e,t){return e.length>=2&&t.length>=2?this.__getDistance(t[0],t[1])/this.__getDistance(e[0],e[1]):1}}),e.scroll={isScrolling:!1,lastTop:0}}(ionic),function(e){var t=function(){},n=function(){};e.views.ScrollNative=e.views.View.inherit({initialize:function(n){var i=this;i.__container=i.el=n.el,i.__content=n.el.firstElementChild,i.isNative=!0,i.__scrollTop=i.el.scrollTop,i.__scrollLeft=i.el.scrollLeft,i.__clientHeight=i.__content.clientHeight,i.__clientWidth=i.__content.clientWidth,i.__maxScrollTop=Math.max(i.__contentHeight-i.__clientHeight,0),i.__maxScrollLeft=Math.max(i.__contentWidth-i.__clientWidth,0),i.options={freeze:!1,getContentWidth:function(){return Math.max(i.__content.scrollWidth,i.__content.offsetWidth)},getContentHeight:function(){return Math.max(i.__content.scrollHeight,i.__content.offsetHeight+2*i.__content.offsetTop)}};for(var r in n)i.options[r]=n[r];i.onScroll=function(){e.scroll.isScrolling||(e.scroll.isScrolling=!0),clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(function(){e.scroll.isScrolling=!1},80)},i.freeze=t,i.__initEventHandlers()},__callback:function(){n("__callback")},zoomTo:function(){n("zoomTo")},zoomBy:function(){n("zoomBy")},activatePullToRefresh:function(){n("activatePullToRefresh")},resize:function(e){var t=this;t.__container&&t.options&&t.setDimensions(t.__container.clientWidth,t.__container.clientHeight,t.options.getContentWidth(),t.options.getContentHeight(),e)},run:function(){this.resize()},getValues:function(){var e=this;return e.update(),{left:e.__scrollLeft,top:e.__scrollTop,zoom:1}},update:function(){var e=this;e.__scrollLeft=e.el.scrollLeft,e.__scrollTop=e.el.scrollTop},setDimensions:function(e,t,n,i){var r=this;(e||t||n||i)&&(e===+e&&(r.__clientWidth=e),t===+t&&(r.__clientHeight=t),n===+n&&(r.__contentWidth=n),i===+i&&(r.__contentHeight=i),r.__computeScrollMax())},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},scrollBy:function(e,t,n){var i=this;i.update();var r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,o=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(e||0),o+(t||0),n)},scrollTo:function(t,n,i){function r(t,n){function i(e){return--e*e*e+1}function r(){var u=Date.now(),f=Math.min(1,(u-a)/s),d=i(f);c!=t&&(o.el.scrollTop=parseInt(d*(t-c)+c,10)),l!=n&&(o.el.scrollLeft=parseInt(d*(n-l)+l,10)),1>f?e.requestAnimationFrame(r):(e.tap.removeClonedInputs(o.__container,o),o.resize())}var a=Date.now(),s=250,c=o.el.scrollTop,l=o.el.scrollLeft;return c===t&&l===n?void o.resize():void e.requestAnimationFrame(r)}var o=this;return i?void r(n,t):(o.el.scrollTop=n,o.el.scrollLeft=t,void o.resize())},__waitForSize:function(){var e=this;clearTimeout(e.__sizerTimeout);var t=function(){e.resize(!0)};t(),e.__sizerTimeout=setTimeout(t,500)},__computeScrollMax:function(){var e=this;e.__maxScrollLeft=Math.max(e.__contentWidth-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight-e.__clientHeight,0),e.__didWaitForSize||e.__maxScrollLeft||e.__maxScrollTop||(e.__didWaitForSize=!0,e.__waitForSize())},__initEventHandlers:function(){var t,n=this,i=n.__container;n.scrollChildIntoView=function(r){var o=i.getBoundingClientRect().bottom;t=i.offsetHeight;var a=n.isShrunkForKeyboard,s=i.parentNode.classList.contains("modal"),c=s&&window.innerWidth>=680;if(!a){if(e.Platform.isIOS()||e.Platform.isFullScreen||c){var l=r.detail.viewportHeight-o,u=Math.max(0,r.detail.keyboardHeight-l);e.requestAnimationFrame(function(){t-=u,i.style.height=t+"px",n.resize()})}n.isShrunkForKeyboard=!0}r.detail.isElementUnderKeyboard&&e.requestAnimationFrame(function(){n.isShrunkForKeyboard&&!a&&(o=i.getBoundingClientRect().bottom);var s=.5*t,c=(r.detail.elementBottom+r.detail.elementTop)/2,l=c-o,u=l+s;u>0&&(e.Platform.isIOS()?setTimeout(function(){e.tap.cloneFocusedInput(i,n),n.scrollBy(0,u,!0),n.onScroll()},32):(n.scrollBy(0,u,!0),n.onScroll()))}),r.stopPropagation()},n.resetScrollView=function(){n.isShrunkForKeyboard&&(n.isShrunkForKeyboard=!1,i.style.height=""),n.resize()},i.addEventListener("scroll",n.onScroll),i.addEventListener("scrollChildIntoView",n.scrollChildIntoView),document.addEventListener("resetScrollView",n.resetScrollView)},__cleanup:function(){var n=this,i=n.__container;i.removeEventListener("resetScrollView",n.resetScrollView),i.removeEventListener("scroll",n.onScroll),i.removeEventListener("scrollChildIntoView",n.scrollChildIntoView),i.removeEventListener("resetScrollView",n.resetScrollView),e.tap.removeClonedInputs(i,n),delete n.__container,delete n.__content,delete n.__indicatorX,delete n.__indicatorY,delete n.options.el,n.resize=n.scrollTo=n.onScroll=n.resetScrollView=t,n.scrollChildIntoView=t,i=null}})}(ionic),function(e){"use strict";var t="item",n="item-content",i="item-sliding",r="item-options",o="item-placeholder",a="item-reordering",s="item-reorder",c=function(){};c.prototype={start:function(){},drag:function(){},end:function(){},isSameItem:function(){return!1}};var l=function(e){this.dragThresholdX=e.dragThresholdX||10,this.el=e.el,this.item=e.item,this.canSwipe=e.canSwipe};l.prototype=new c,l.prototype.start=function(o){var a,s,c,l;this.canSwipe()&&(a=o.target.classList.contains(n)?o.target:o.target.classList.contains(t)?o.target.querySelector("."+n):e.DomUtil.getParentWithClass(o.target,n),a&&(a.classList.remove(i),c=parseFloat(a.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,s=a.parentNode.querySelector("."+r),s&&(s.classList.remove("invisible"),l=s.offsetWidth,this._currentDrag={buttons:s,buttonsWidth:l,content:a,startOffsetX:c})))},l.prototype.isSameItem=function(e){return e._lastDrag&&this._currentDrag?this._currentDrag.content==e._lastDrag.content:!1},l.prototype.clean=function(t){function n(){i.buttons&&i.buttons.classList.add("invisible")}var i=this._lastDrag;i&&i.content&&(i.content.style[e.CSS.TRANSITION]="",i.content.style[e.CSS.TRANSFORM]="",t?(i.content.style[e.CSS.TRANSITION]="none",n(),e.requestAnimationFrame(function(){i.content.style[e.CSS.TRANSITION]=""})):e.requestAnimationFrame(function(){setTimeout(n,250)}))},l.prototype.drag=e.animationFrameThrottle(function(t){var n;if(this._currentDrag&&(!this._isDragging&&(Math.abs(t.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){n=this._currentDrag.buttonsWidth;var i=Math.min(0,this._currentDrag.startOffsetX+t.gesture.deltaX);-n>i&&(i=Math.min(-n,-n+.4*(t.gesture.deltaX+n))),this._currentDrag.content.$$ionicOptionsOpen=0!==i,this._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+i+"px, 0, 0)",this._currentDrag.content.style[e.CSS.TRANSITION]="none"}}),l.prototype.end=function(t,n){var i=this;if(!i._currentDrag)return void(n&&n());var r=-i._currentDrag.buttonsWidth;t.gesture.deltaX>-(i._currentDrag.buttonsWidth/2)&&("left"==t.gesture.direction&&Math.abs(t.gesture.velocityX)<.3?r=0:"right"==t.gesture.direction&&(r=0)),e.requestAnimationFrame(function(){if(0===r){i._currentDrag.content.style[e.CSS.TRANSFORM]="";var t=i._currentDrag.buttons;setTimeout(function(){t&&t.classList.add("invisible")},250)}else i._currentDrag.content.style[e.CSS.TRANSFORM]="translate3d("+r+"px,0,0)";i._currentDrag.content.style[e.CSS.TRANSITION]="",i._lastDrag||(i._lastDrag={}),e.extend(i._lastDrag,i._currentDrag),i._currentDrag&&(i._currentDrag.buttons=null,i._currentDrag.content=null),i._currentDrag=null,n&&n()})};var u=function(e){var t=this;if(t.dragThresholdY=e.dragThresholdY||0,t.onReorder=e.onReorder,t.listEl=e.listEl,t.el=t.item=e.el,t.scrollEl=e.scrollEl,t.scrollView=e.scrollView,t.listElTrueTop=0,t.listEl.offsetParent){var n=t.listEl;do t.listElTrueTop+=n.offsetTop,n=n.offsetParent;while(n)}};u.prototype=new c,u.prototype._moveElement=function(t){var n=t.gesture.center.pageY+this.scrollView.getValues().top-this._currentDrag.elementHeight/2-this.listElTrueTop;this.el.style[e.CSS.TRANSFORM]="translate3d(0, "+n+"px, 0)"},u.prototype.deregister=function(){this.listEl=this.el=this.scrollEl=this.scrollView=null},u.prototype.start=function(t){var n=e.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase()),i=this.el.scrollHeight,r=this.el.cloneNode(!0);r.classList.add(o),this.el.parentNode.insertBefore(r,this.el),this.el.classList.add(a),this._currentDrag={elementHeight:i,startIndex:n,placeholder:r,scrollHeight:scroll,list:r.parentNode},this._moveElement(t)},u.prototype.drag=e.animationFrameThrottle(function(t){var n=this;if(this._currentDrag){var i=0,r=t.gesture.center.pageY,o=this.listElTrueTop;if(this.scrollView){var a=this.scrollView.__container;i=this.scrollView.getValues().top;var s=a.offsetTop,c=s-r+this._currentDrag.elementHeight/2,l=r+this._currentDrag.elementHeight/2-s-a.offsetHeight;t.gesture.deltaY<0&&c>0&&i>0&&(this.scrollView.scrollBy(null,-c),e.requestAnimationFrame(function(){n.drag(t)})),t.gesture.deltaY>0&&l>0&&i<this.scrollView.getScrollMax().top&&(this.scrollView.scrollBy(null,l),e.requestAnimationFrame(function(){n.drag(t)}))}!this._isDragging&&Math.abs(t.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(t),this._currentDrag.currentY=i+r-o)}}),u.prototype._getReorderIndex=function(){for(var e,t=this,n=Array.prototype.slice.call(t._currentDrag.placeholder.parentNode.children).filter(function(e){return e.nodeName===t.el.nodeName&&e!==t.el}),i=t._currentDrag.currentY,r=0,o=n.length;o>r;r++)if(e=n[r],r===o-1){if(i>e.offsetTop)return r}else if(0===r){if(i<e.offsetTop+e.offsetHeight)return r}else if(i>e.offsetTop-e.offsetHeight/2&&i<e.offsetTop+e.offsetHeight)return r;return t._currentDrag.startIndex},u.prototype.end=function(t,n){if(!this._currentDrag)return void(n&&n());var i=this._currentDrag.placeholder,r=this._getReorderIndex();this.el.classList.remove(a),this.el.style[e.CSS.TRANSFORM]="",i.parentNode.insertBefore(this.el,i),i.parentNode.removeChild(i),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,r),this._currentDrag={placeholder:null,content:null},this._currentDrag=null,n&&n()},e.views.ListView=e.views.View.inherit({initialize:function(t){var n=this;t=e.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200,canSwipe:function(){return!0}},t),e.extend(n,t),!n.itemHeight&&n.listEl&&(n.itemHeight=n.listEl.children[0]&&parseInt(n.listEl.children[0].style.height,10)),n.onRefresh=t.onRefresh||function(){},n.onRefreshOpening=t.onRefreshOpening||function(){},n.onRefreshHolding=t.onRefreshHolding||function(){};var i={};e.DomUtil.getParentOrSelfWithClass(n.el,"overflow-scroll")&&(i.prevent_default_directions=["left","right"]),window.ionic.onGesture("release",function(e){n._handleEndDrag(e)},n.el,i),window.ionic.onGesture("drag",function(e){n._handleDrag(e)},n.el,i),n._initDrag()},deregister:function(){this.el=this.listEl=this.scrollEl=this.scrollView=null,this.isScrollFreeze&&self.scrollView.freeze(!1)},stopRefreshing:function(){var e=this.el.querySelector(".list-refresher");e.style.height="0"},didScroll:function(e){var t=this;if(t.isVirtual){var n=t.itemHeight,i=e.target.scrollHeight,r=t.el.parentNode.offsetHeight,o=Math.max(0,e.scrollTop+t.virtualRemoveThreshold),a=Math.min(i,Math.abs(e.scrollTop)+r+t.virtualAddThreshold),s=parseInt(Math.abs(o/n),10),c=parseInt(Math.abs(a/n),10);t._virtualItemsToRemove=Array.prototype.slice.call(t.listEl.children,0,s),t.renderViewport&&t.renderViewport(o,a,s,c)}},didStopScrolling:function(){if(this.isVirtual)for(var e=0;e<this._virtualItemsToRemove.length;e++)this.didHideItem&&this.didHideItem(e)},clearDragEffects:function(e){this._lastDragOp&&(this._lastDragOp.clean&&this._lastDragOp.clean(e),this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=null)},_initDrag:function(){this._lastDragOp&&this._lastDragOp.deregister&&this._lastDragOp.deregister(),this._lastDragOp=this._dragOp,this._dragOp=null},_getItem:function(e){for(;e;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null},_startDrag:function(t){var n=this;n._isDragging=!1;var i,r=n._lastDragOp;n._didDragUpOrDown&&r instanceof l&&r.clean&&r.clean(),!e.DomUtil.getParentOrSelfWithClass(t.target,s)||"up"!=t.gesture.direction&&"down"!=t.gesture.direction?!n._didDragUpOrDown&&("left"==t.gesture.direction||"right"==t.gesture.direction)&&Math.abs(t.gesture.deltaX)>5&&(i=n._getItem(t.target),i&&i.querySelector(".item-options")&&(n._dragOp=new l({el:n.el,item:i,canSwipe:n.canSwipe}),n._dragOp.start(t),t.preventDefault(),n.isScrollFreeze=n.scrollView.freeze(!0))):(i=n._getItem(t.target),i&&(n._dragOp=new u({listEl:n.el,el:i,scrollEl:n.scrollEl,scrollView:n.scrollView,onReorder:function(e,t,i){n.onReorder&&n.onReorder(e,t,i)}}),n._dragOp.start(t),t.preventDefault())),r&&n._dragOp&&!n._dragOp.isSameItem(r)&&t.defaultPrevented&&r.clean&&r.clean()},_handleEndDrag:function(e){var t=this;t.scrollView&&(t.isScrollFreeze=t.scrollView.freeze(!1)),t._didDragUpOrDown=!1,t._dragOp&&t._dragOp.end(e,function(){t._initDrag()})},_handleDrag:function(e){var t=this;Math.abs(e.gesture.deltaY)>5&&(t._didDragUpOrDown=!0),t.isDragging||t._dragOp||t._startDrag(e),t._dragOp&&(e.gesture.srcEvent.preventDefault(),t._dragOp.drag(e))}})}(ionic),function(e){"use strict";e.views.Modal=e.views.View.inherit({initialize:function(t){t=e.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600,backdropClickToClose:!0,hardwareBackButtonClose:!0},t),e.extend(this,t),this.el=t.el},show:function(){var e=this;e.focusFirstInput&&window.setTimeout(function(){var t=e.el.querySelector("input, textarea");t&&t.focus&&t.focus()},e.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var e=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var t=0;t<e.length;t++)e[t].blur&&e[t].blur()})}}})}(ionic),function(e){"use strict";e.views.SideMenu=e.views.View.inherit({initialize:function(e){this.el=e.el,this.isEnabled="undefined"==typeof e.isEnabled?!0:e.isEnabled,this.setWidth(e.width)},getFullWidth:function(){return this.width},setWidth:function(e){this.width=e,this.el.style.width=e+"px"},setIsEnabled:function(e){this.isEnabled=e},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),e.views.SideMenuContent=e.views.View.inherit({initialize:function(t){e.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},t),e.onGesture("drag",e.proxy(this._onDrag,this),this.el),e.onGesture("release",e.proxy(this._onEndDrag,this),this.el)},_onDrag:function(e){this.onDrag&&this.onDrag(e)},_onEndDrag:function(e){this.onEndDrag&&this.onEndDrag(e)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[e.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:e.animationFrameThrottle(function(t){this.el.style[e.CSS.TRANSFORM]="translate3d("+t+"px, 0, 0)"})})}(ionic),function(e){"use strict";e.views.Slider=e.views.View.inherit({initialize:function(e){function t(){if(v.offsetWidth){m=_.children,w=m.length,m.length<2&&(e.continuous=!1),p.transitions&&e.continuous&&m.length<3&&(_.appendChild(m[0].cloneNode(!0)),_.appendChild(_.children[1].cloneNode(!0)),m=_.children),g=new Array(m.length),$=v.offsetWidth||v.getBoundingClientRect().width,_.style.width=m.length*$+"px";for(var t=m.length;t--;){var n=m[t];n.style.width=$+"px",n.setAttribute("data-index",t),p.transitions&&(n.style.left=t*-$+"px",a(t,y>t?-$:t>y?$:0,0))}e.continuous&&p.transitions&&(a(r(y-1),-$,0),a(r(y+1),$,0)),p.transitions||(_.style.left=y*-$+"px"),v.style.visibility="visible",e.slidesChanged&&e.slidesChanged()}}function n(t){e.continuous?o(y-1,t):y&&o(y-1,t)}function i(t){e.continuous?o(y+1,t):y<m.length-1&&o(y+1,t)}function r(e){return(m.length+e%m.length)%m.length}function o(t,n){if(y!=t){if(p.transitions){var i=Math.abs(y-t)/(y-t);if(e.continuous){var o=i;i=-g[r(t)]/$,i!==o&&(t=-i*m.length+t)}for(var s=Math.abs(y-t)-1;s--;)a(r((t>y?t:y)-s-1),$*i,0);t=r(t),a(y,$*i,n||b),a(t,0,n||b),e.continuous&&a(r(t-i),-($*i),0)}else t=r(t),c(y*-$,t*-$,n||b);y=t,h(e.callback&&e.callback(y,m[y]))}}function a(e,t,n){s(e,t,n),g[e]=t}function s(e,t,n){var i=m[e],r=i&&i.style;r&&(r.webkitTransitionDuration=r.MozTransitionDuration=r.msTransitionDuration=r.OTransitionDuration=r.transitionDuration=n+"ms",r.webkitTransform="translate("+t+"px,0)translateZ(0)",r.msTransform=r.MozTransform=r.OTransform="translateX("+t+"px)")}function c(t,n,i){if(!i)return void(_.style.left=n+"px");var r=+new Date,o=setInterval(function(){var a=+new Date-r;return a>i?(_.style.left=n+"px",x&&l(),e.transitionEnd&&e.transitionEnd.call(event,y,m[y]),void clearInterval(o)):void(_.style.left=(n-t)*(Math.floor(a/i*100)/100)+t+"px")},4)}function l(){S=setTimeout(i,x)}function u(){x=e.auto||0,clearTimeout(S)}var f=this,d=function(){},h=function(e){setTimeout(e||d,0)},p={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))},v=e.el;if(v){var m,g,$,w,_=v.children[0];e=e||{};var y=parseInt(e.startSlide,10)||0,b=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var S,T,x=e.auto||0,E={},C={},k={handleEvent:function(n){switch(("mousedown"==n.type||"mouseup"==n.type||"mousemove"==n.type)&&(n.touches=[{pageX:n.pageX,pageY:n.pageY}]),n.type){case"mousedown":this.start(n);break;case"touchstart":this.start(n);break;case"touchmove":this.touchmove(n);break;case"mousemove":this.touchmove(n);break;case"touchend":h(this.end(n));break;case"mouseup":h(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":h(this.transitionEnd(n));break;case"resize":h(t)}e.stopPropagation&&n.stopPropagation()},start:function(e){var t=e.touches[0];E={x:t.pageX,y:t.pageY,time:+new Date},T=void 0,C={},p.touch?(_.addEventListener("touchmove",this,!1),_.addEventListener("touchend",this,!1)):(_.addEventListener("mousemove",this,!1),_.addEventListener("mouseup",this,!1),document.addEventListener("mouseup",this,!1))},touchmove:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale||f.slideIsDisabled)){e.disableScroll&&t.preventDefault();var n=t.touches[0];C={x:n.pageX-E.x,y:n.pageY-E.y},"undefined"==typeof T&&(T=!!(T||Math.abs(C.x)<Math.abs(C.y))),T||(t.preventDefault(),u(),e.continuous?(s(r(y-1),C.x+g[r(y-1)],0),s(y,C.x+g[y],0),s(r(y+1),C.x+g[r(y+1)],0)):(C.x=C.x/(!y&&C.x>0||y==m.length-1&&C.x<0?Math.abs(C.x)/$+1:1),s(y-1,C.x+g[y-1],0),s(y,C.x+g[y],0),s(y+1,C.x+g[y+1],0)),e.onDrag&&e.onDrag())}},end:function(){var t=+new Date-E.time,n=Number(t)<250&&Math.abs(C.x)>20||Math.abs(C.x)>$/2,i=!y&&C.x>0||y==m.length-1&&C.x<0;e.continuous&&(i=!1);var o=C.x<0;T||(n&&!i?(o?(e.continuous?(a(r(y-1),-$,0),a(r(y+2),$,0)):a(y-1,-$,0),a(y,g[y]-$,b),a(r(y+1),g[r(y+1)]-$,b),y=r(y+1)):(e.continuous?(a(r(y+1),$,0),a(r(y-2),-$,0)):a(y+1,$,0),a(y,g[y]+$,b),a(r(y-1),g[r(y-1)]+$,b),y=r(y-1)),e.callback&&e.callback(y,m[y])):e.continuous?(a(r(y-1),-$,b),a(y,0,b),a(r(y+1),$,b)):(a(y-1,-$,b),a(y,0,b),a(y+1,$,b))),p.touch?(_.removeEventListener("touchmove",k,!1),_.removeEventListener("touchend",k,!1)):(_.removeEventListener("mousemove",k,!1),_.removeEventListener("mouseup",k,!1),document.removeEventListener("mouseup",k,!1)),e.onDragEnd&&e.onDragEnd()},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==y&&(x&&l(),e.transitionEnd&&e.transitionEnd.call(t,y,m[y]))}};this.update=function(){setTimeout(t)},this.setup=function(){t()},this.loop=function(t){return arguments.length&&(e.continuous=!!t),e.continuous},this.enableSlide=function(e){return arguments.length&&(this.slideIsDisabled=!e),!this.slideIsDisabled},this.slide=this.select=function(e,t){u(),o(e,t)},this.prev=this.previous=function(){u(),n()},this.next=function(){u(),i()},this.stop=function(){u()},this.start=function(){l()},this.autoPlay=function(e){!x||0>x?u():(x=e,l())},this.currentIndex=this.selected=function(){return y},this.slidesCount=this.count=function(){return w},this.kill=function(){u(),_.style.width="",_.style.left="",m&&(m=[]),p.addEventListener?(_.removeEventListener("touchstart",k,!1),_.removeEventListener("webkitTransitionEnd",k,!1),_.removeEventListener("msTransitionEnd",k,!1),_.removeEventListener("oTransitionEnd",k,!1),_.removeEventListener("otransitionend",k,!1),_.removeEventListener("transitionend",k,!1),window.removeEventListener("resize",k,!1)):window.onresize=null},this.load=function(){t(),x&&l(),p.addEventListener?(p.touch?_.addEventListener("touchstart",k,!1):_.addEventListener("mousedown",k,!1),p.transitions&&(_.addEventListener("webkitTransitionEnd",k,!1),_.addEventListener("msTransitionEnd",k,!1),_.addEventListener("oTransitionEnd",k,!1),_.addEventListener("otransitionend",k,!1),_.addEventListener("transitionend",k,!1)),window.addEventListener("resize",k,!1)):window.onresize=function(){t()}}}}})}(ionic),function(e){"use strict";e.views.Toggle=e.views.View.inherit({initialize:function(t){var n=this;this.el=t.el,this.checkbox=t.checkbox,this.track=t.track,this.handle=t.handle,this.openPercent=-1,this.onChange=t.onChange||function(){},this.triggerThreshold=t.triggerThreshold||20,this.dragStartHandler=function(e){n.dragStart(e)},this.dragHandler=function(e){n.drag(e)},this.holdHandler=function(e){n.hold(e)},this.releaseHandler=function(e){n.release(e)},this.dragStartGesture=e.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=e.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=e.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=e.onGesture("release",this.releaseHandler,this.el)},destroy:function(){e.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),e.offGesture(this.dragGesture,"drag",this.dragGesture),e.offGesture(this.dragHoldGesture,"hold",this.holdHandler),e.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(e){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},e.gesture.srcEvent.preventDefault(),this.hold(e))},drag:function(t){var n=this;this._dragInfo&&(t.gesture.srcEvent.preventDefault(),e.requestAnimationFrame(function(){if(n._dragInfo){var e=t.gesture.touches[0].pageX-n._dragInfo.left,i=n._dragInfo.width-n.triggerThreshold;n._dragInfo.initialState?e<n.triggerThreshold?n.setOpenPercent(0):e>n._dragInfo.triggerX&&n.setOpenPercent(100):e<n._dragInfo.triggerX?n.setOpenPercent(0):e>i&&n.setOpenPercent(100)}}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(e){this.el.classList.remove("dragging"),this.endDrag(e)},setOpenPercent:function(t){if(this.openPercent<0||t<this.openPercent-3||t>this.openPercent+3)if(this.openPercent=t,0===t)this.val(!1);else if(100===t)this.val(!0);else{var n=Math.round(t/100*this.track.offsetWidth-this.handle.offsetWidth);n=1>n?0:n,this.handle.style[e.CSS.TRANSFORM]="translate3d("+n+"px,0,0)"}},val:function(t){return(t===!0||t===!1)&&(""!==this.handle.style[e.CSS.TRANSFORM]&&(this.handle.style[e.CSS.TRANSFORM]=""),this.checkbox.checked=t,this.openPercent=t?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic)}(),function(e,t,n){"use strict";function i(e,t){return t=t||Error,function(){var n,i,r=arguments[0],o="["+(e?e+":":"")+r+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t+2<s.length?dt(s[t+2]):e}),n=n+"\nhttp://errors.angularjs.org/1.3.13/"+(e?e+"/":"")+r,i=2;i<arguments.length;i++)n=n+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(dt(arguments[i]));return tracelog(n),new t(n)}}function r(e){if(null==e||x(e))return!1;var t=e.length;return e.nodeType===gr&&t?!0:_(e)||ur(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i,a;if(e)if(S(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(ur(e)||r(e)){var s="object"!=typeof e;for(i=0,a=e.length;a>i;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);return e}function a(e){return Object.keys(e).sort()}function s(e,t,n){for(var i=a(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function c(e){return function(t,n){e(n,t)}}function l(){return++cr}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function f(e){for(var t=e.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),a=0,s=o.length;s>a;a++){var c=o[a];e[c]=r[c]}}return u(e,t),e}function d(e){return parseInt(e,10)}function h(e,t){return f(Object.create(e),t)}function p(){}function v(e){return e}function m(e){return function(){return e}}function g(e){return"undefined"==typeof e}function $(e){return"undefined"!=typeof e}function w(e){return null!==e&&"object"==typeof e}function _(e){return"string"==typeof e}function y(e){return"number"==typeof e}function b(e){return"[object Date]"===or.call(e)}function S(e){return"function"==typeof e}function T(e){return"[object RegExp]"===or.call(e)}function x(e){return e&&e.window===e}function E(e){return e&&e.$evalAsync&&e.$watch}function C(e){return"[object File]"===or.call(e)}function k(e){return"[object FormData]"===or.call(e)}function A(e){return"[object Blob]"===or.call(e)}function D(e){return"boolean"==typeof e}function I(e){return e&&S(e.then)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function O(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function P(e){return Wi(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),t}function V(e,t,n,i){if(x(e)||E(e))throw ar("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw ar("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],w(e)){var r=n.indexOf(e);if(-1!==r)return i[r];n.push(e),i.push(t)}var a;if(ur(e)){t.length=0;for(var s=0;s<e.length;s++)a=V(e[s],null,n,i),w(e[s])&&(n.push(e[s]),i.push(a)),t.push(a)}else{var c=t.$$hashKey;ur(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var l in e)e.hasOwnProperty(l)&&(a=V(e[l],null,n,i),w(e[l])&&(n.push(e[l]),i.push(a)),t[l]=a);u(t,c)}}else if(t=e,e)if(ur(e))t=V(e,[],n,i);else if(b(e))t=new Date(e.getTime());else if(T(e))t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex;else if(w(e)){var f=Object.create(Object.getPrototypeOf(e));t=V(e,f,n,i)}return t}function N(e,t){if(ur(e)){t=t||[];for(var n=0,i=e.length;i>n;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var r in e)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(t[r]=e[r])}return t||e}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!ur(e)){if(b(e))return b(t)?B(e.getTime(),t.getTime()):!1;if(T(e)&&T(t))return e.toString()==t.toString();if(E(e)||E(t)||x(e)||x(t)||ur(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!S(e[r])){if(!B(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!S(t[r]))return!1;return!0}if(!ur(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function R(e,t,n){return e.concat(nr.call(t,n))}function H(e,t){return nr.call(e,t||0)}function z(e,t){var n=arguments.length>2?H(arguments,2):[];return!S(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=n:x(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":E(i)&&(r="$SCOPE"),r}function q(e,t){return"undefined"==typeof e?n:(y(t)||(t=t?2:null),JSON.stringify(e,F,t))}function U(e){return _(e)?JSON.parse(e):e}function G(e){e=Qi(e).clone();try{e.empty()}catch(t){}var n=Qi("<div>").append(e).html();try{return e[0].nodeType===$r?Wi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Wi(t)})}catch(t){return Wi(n)}}function j(e){try{return decodeURIComponent(e)}catch(t){}}function W(e){var t,n,i={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=j(t[0]),$(n))){var r=$(t[1])?j(t[1]):!0;
Yi.call(i,n)?ur(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function Y(e){var t=[];return o(e,function(e,n){ur(e)?o(e,function(e){t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}):t.push(K(n,!0)+(e===!0?"":"="+K(e,!0)))}),t.length?t.join("&"):""}function X(e){return K(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function Z(e,t){var n,i,r=pr.length;for(e=Qi(e),i=0;r>i;++i)if(n=pr[i]+t,_(n=e.attr(n)))return n;return null}function J(e,t){var n,i,r={};o(pr,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),o(pr,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==Z(n,"strict-di"),t(n,i?[i]:[],r))}function Q(n,i,r){w(r)||(r={});var a={strictDi:!1};r=f(a,r);var s=function(){if(n=Qi(n),n.injector()){var e=n[0]===t?"document":G(n);throw ar("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var o=Ut(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),sr.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),s()},void(S(sr.resumeDeferredBootstrap)&&sr.resumeDeferredBootstrap()))}function et(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function tt(e){var t=sr.element(e).injector();if(!t)throw ar("test","no injector found for element argument to getTestability");return t.get("$$testability")}function nt(e,t){return t=t||"_",e.replace(vr,function(e,n){return(n?t:"")+e.toLowerCase()})}function it(){var t;mr||(er=e.jQuery,er&&er.fn.on?(Qi=er,f(er.fn,{scope:Vr.scope,isolateScope:Vr.isolateScope,controller:Vr.controller,injector:Vr.injector,inheritedData:Vr.inheritedData}),t=er.cleanData,er.cleanData=function(e){var n;if(lr)lr=!1;else for(var i,r=0;null!=(i=e[r]);r++)n=er._data(i,"events"),n&&n.$destroy&&er(i).triggerHandler("$destroy");t(e)}):Qi=_t,sr.element=Qi,mr=!0)}function rt(e,t,n){if(!e)throw ar("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ot(e,t,n){return n&&ur(e)&&(e=e[e.length-1]),rt(S(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function at(e,t){if("hasOwnProperty"===e)throw ar("badname","hasOwnProperty is not a valid {0} name",t)}function st(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&S(e)?z(o,e):e}function ct(e){var t=e[0],n=e[e.length-1],i=[t];do{if(t=t.nextSibling,!t)break;i.push(t)}while(t!==n);return Qi(i)}function lt(){return Object.create(null)}function ut(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||i,t(o,"module",function(){var e={};return function(i,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(i,"module"),o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i,r){return r||(r=t),function(){return r[i||"push"]([e,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],s=[],c=e("$injector","invoke","push",r),l={_invokeQueue:t,_configBlocks:r,_runBlocks:s,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(e){return s.push(e),this}};return a&&c(a),l})}})}function ft(e){var t=[];return JSON.stringify(e,function(e,n){if(n=F(e,n),w(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function dt(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?ft(e):e}function ht(t){f(t,{bootstrap:Q,copy:V,extend:f,equals:B,element:Qi,forEach:o,injector:Ut,noop:p,bind:z,toJson:q,fromJson:U,identity:v,isUndefined:g,isDefined:$,isString:_,isFunction:S,isObject:w,isNumber:y,isElement:M,isArray:ur,version:br,isDate:b,lowercase:Wi,uppercase:Xi,callbacks:{counter:0},getTestability:tt,$$minErr:i,$$csp:hr,reloadWithDebugInfo:et}),tr=ut(e);try{tr("ngLocale")}catch(n){tr("ngLocale",[]).provider("$locale",gn)}tr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Xn}),e.provider("$compile",Zt).directive({a:Ao,input:jo,textarea:jo,form:Po,script:La,select:Ba,style:Ha,option:Ra,ngBind:Xo,ngBindHtml:Zo,ngBindTemplate:Ko,ngClass:Qo,ngClassEven:ta,ngClassOdd:ea,ngCloak:na,ngController:ia,ngForm:Lo,ngHide:Aa,ngIf:aa,ngInclude:sa,ngInit:la,ngNonBindable:Sa,ngPluralize:Ta,ngRepeat:xa,ngShow:ka,ngStyle:Da,ngSwitch:Ia,ngSwitchWhen:Ma,ngSwitchDefault:Oa,ngOptions:Na,ngTransclude:Pa,ngModel:_a,ngList:ua,ngChange:Jo,pattern:Fa,ngPattern:Fa,required:za,ngRequired:za,minlength:Ua,ngMinlength:Ua,maxlength:qa,ngMaxlength:qa,ngValue:Yo,ngModelOptions:ba}).directive({ngInclude:ca}).directive(Do).directive(ra),e.provider({$anchorScroll:Gt,$animate:jr,$browser:Yt,$cacheFactory:Xt,$controller:tn,$document:nn,$exceptionHandler:rn,$filter:si,$interpolate:vn,$interval:mn,$http:fn,$httpBackend:hn,$location:In,$log:Mn,$parse:qn,$rootScope:Yn,$q:Un,$$q:Gn,$sce:Qn,$sceDelegate:Jn,$sniffer:ei,$templateCache:Kt,$templateRequest:ti,$$testability:ni,$timeout:ii,$window:ai,$$rAF:Wn,$$asyncCallback:jt,$$jqLite:Rt})}])}function pt(){return++Tr}function vt(e){return e.replace(Cr,function(e,t,n,i){return i?n.toUpperCase():n}).replace(kr,"Moz$1")}function mt(e){return!Mr.test(e)}function gt(e){var t=e.nodeType;return t===gr||!t||t===_r}function $t(e,t){var n,i,r,a,s=t.createDocumentFragment(),c=[];if(mt(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),i=(Or.exec(e)||["",""])[1].toLowerCase(),r=Lr[i]||Lr._default,n.innerHTML=r[1]+e.replace(Pr,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;c=R(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(c,function(e){s.appendChild(e)}),s}function wt(e,n){n=n||t;var i;return(i=Ir.exec(e))?[n.createElement(i[1])]:(i=$t(e,n))?i.childNodes:[]}function _t(e){if(e instanceof _t)return e;var t;if(_(e)&&(e=fr(e),t=!0),!(this instanceof _t)){if(t&&"<"!=e.charAt(0))throw Dr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new _t(e)}t?Dt(this,wt(e)):Dt(this,e)}function yt(e){return e.cloneNode(!0)}function bt(e,t){if(t||Tt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Tt(n[i])}function St(e,t,n,i){if($(i))throw Dr("offargs","jqLite#off() does not support the `selector` argument");var r=xt(e),a=r&&r.events,s=r&&r.handle;if(s)if(t)o(t.split(" "),function(t){if($(n)){var i=a[t];if(L(i||[],n),i&&i.length>0)return}Er(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&Er(e,t,s),delete a[t]}function Tt(e,t){var i=e.ng339,r=i&&Sr[i];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),St(e)),delete Sr[i],e.ng339=n}}function xt(e,t){var i=e.ng339,r=i&&Sr[i];return t&&!r&&(e.ng339=i=pt(),r=Sr[i]={events:{},data:{},handle:n}),r}function Et(e,t,n){if(gt(e)){var i=$(n),r=!i&&t&&!w(t),o=!t,a=xt(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];f(s,t)}}}function Ct(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function kt(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",fr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fr(t)+" "," ")))})}function At(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=fr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",fr(n))}}function Dt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;n>i;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function It(e,t){return Mt(e,"$"+(t||"ngController")+"Controller")}function Mt(e,t,i){e.nodeType==_r&&(e=e.documentElement);for(var r=ur(t)?t:[t];e;){for(var o=0,a=r.length;a>o;o++)if((i=Qi.data(e,r[o]))!==n)return i;e=e.parentNode||e.nodeType===yr&&e.host}}function Ot(e){for(bt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Pt(e,t){t||bt(e);var n=e.parentNode;n&&n.removeChild(e)}function Lt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Qi(n).on("load",t)}function Vt(e,t){var n=Nr[t.toLowerCase()];return n&&Br[P(e)]&&n}function Nt(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Rr[t]}function Bt(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(g(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(r=N(r));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||r[s].call(e,n)}};return n.elem=e,n}function Rt(){this.$get=function(){return f(_t,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ct(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),At(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),kt(e,t)}})}}function Ht(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e}function zt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Ft(e){var t=e.toString().replace(qr,""),n=t.match(Hr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function qt(e,t,n){var i,r,a,s;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw _(n)&&n||(n=e.name||Ft(e)),Ur("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=e.toString().replace(qr,""),a=r.match(Hr),o(a[1].split(zr),function(e){e.replace(Fr,function(e,t,n){i.push(n)})})}e.$inject=i}}else ur(e)?(s=e.length-1,ot(e[s],"fn"),i=e.slice(0,s)):ot(e,"fn",!0);return i}function Ut(e,t){function i(e){return function(t,n){return w(t)?void o(t,c(e)):e(t,n)}}function r(e,t){if(at(e,"service"),(S(t)||ur(t))&&(t=E.instantiate(t)),!t.$get)throw Ur("pget","Provider '{0}' must define $get factory method.",e);return x[e+y]=t}function a(e,t){return function(){var n=k.invoke(t,this);if(g(n))throw Ur("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,m(t),!1)}function f(e,t){at(e,"constant"),x[e]=t,C[e]=t}function d(e,t){var n=E.get(e+y),i=n.$get;n.$get=function(){var e=k.invoke(i,n);return k.invoke(t,null,{$delegate:e})}}function h(e){var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;n>t;t++){var i=e[t],r=E.get(i[0]);r[i[1]].apply(r,i[2])}}if(!T.get(e)){T.put(e,!0);try{_(e)?(t=tr(e),n=n.concat(h(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):S(e)?n.push(E.invoke(e)):ur(e)?n.push(E.invoke(e)):ot(e,"module")}catch(r){throw ur(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ur("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function v(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===$)throw Ur("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=$,e[t]=n(t,i)}catch(r){throw e[t]===$&&delete e[t],r}finally{b.shift()}}function r(e,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,c,l=[],u=Ut.$$annotate(e,t,o);for(s=0,a=u.length;a>s;s++){if(c=u[s],"string"!=typeof c)throw Ur("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(r&&r.hasOwnProperty(c)?r[c]:i(c,o))}return ur(e)&&(e=e[a]),e.apply(n,l)}function o(e,t,n){var i=Object.create((ur(e)?e[e.length-1]:e).prototype||null),o=r(e,i,t,n);return w(o)||S(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:Ut.$$annotate,has:function(t){return x.hasOwnProperty(t+y)||e.hasOwnProperty(t)}}}t=t===!0;var $={},y="Provider",b=[],T=new zt([],!0),x={$provide:{provider:i(r),factory:i(s),service:i(l),value:i(u),constant:i(f),decorator:d}},E=x.$injector=v(x,function(e,t){throw sr.isString(t)&&b.push(t),Ur("unpr","Unknown provider: {0}",b.join(" <- "))}),C={},k=C.$injector=v(C,function(e,t){var i=E.get(e+y,t);return k.invoke(i.$get,i,n,e)});return o(h(e),function(e){k.invoke(e||p)}),k}function Gt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===P(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(S(e))e=e();else if(M(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else y(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(){var e,t=n.hash();t?(e=c.getElementById(t))?a(e):(e=r(c.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var c=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Lt(function(){i.$evalAsync(s)})}),s}]}function jt(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Wt(e,t,i,r){function a(e){try{e.apply(null,H(arguments,1))}finally{if(S--,0===S)for(;T.length;)try{T.pop()()}catch(t){i.error(t)}}}function s(e){var t=e.indexOf("#");return-1===t?"":e.substr(t+1)}function c(e,t){!function n(){o(E,function(e){e()}),x=t(n,e)}()}function l(){u(),f()}function u(){C=e.history.state,C=g(C)?null:C,B(C,P)&&(C=P),P=C}function f(){(A!==h.url()||k!==C)&&(A=h.url(),k=C,o(M,function(e){e(h.url(),C)}))}function d(e){try{return decodeURIComponent(e)}catch(t){return e}}var h=this,v=t[0],m=e.location,$=e.history,w=e.setTimeout,y=e.clearTimeout,b={};h.isMock=!1;var S=0,T=[];h.$$completeOutstandingRequest=a,h.$$incOutstandingRequestCount=function(){S++},h.notifyWhenNoOutstandingRequests=function(e){o(E,function(e){e()}),0===S?e():T.push(e)};var x,E=[];h.addPollFn=function(e){return g(x)&&c(100,w),E.push(e),e};var C,k,A=m.href,D=t.find("base"),I=null;u(),k=C,h.url=function(t,n,i){if(g(i)&&(i=null),m!==e.location&&(m=e.location),$!==e.history&&($=e.history),t){var o=k===i;if(A===t&&(!r.history||o))return h;var a=A&&bn(A)===bn(t);return A=t,k=i,!r.history||a&&o?(a||(I=t),n?m.replace(t):a?m.hash=s(t):m.href=t):($[n?"replaceState":"pushState"](i,"",t),u(),k=C),h}return I||m.href.replace(/%27/g,"'")},h.state=function(){return C};var M=[],O=!1,P=null;h.onUrlChange=function(t){return O||(r.history&&Qi(e).on("popstate",l),Qi(e).on("hashchange",l),O=!0),M.push(t),t},h.$$checkUrlChange=f,h.baseHref=function(){var e=D.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var L={},V="",N=h.baseHref();h.cookies=function(e,t){var r,o,a,s,c;if(!e){if(v.cookie!==V)for(V=v.cookie,o=V.split("; "),L={},s=0;s<o.length;s++)a=o[s],c=a.indexOf("="),c>0&&(e=d(a.substring(0,c)),L[e]===n&&(L[e]=d(a.substring(c+1))));return L}t===n?v.cookie=encodeURIComponent(e)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":_(t)&&(r=(v.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path="+N).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},h.defer=function(e,t){var n;return S++,n=w(function(){delete b[n],a(e)},t||0),b[n]=!0,n},h.defer.cancel=function(e){return b[e]?(delete b[e],y(e),a(p),!0):!1}}function Yt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Wt(e,i,t,n)}]}function Xt(){this.$get=function(){function e(e,n){function r(e){e!=d&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,d),d=e,d.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=f({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},d=null,h=null;return t[e]={put:function(e,t){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});r(n)}if(!g(t))return e in c||a++,c[e]=t,a>l&&this.remove(h.key),t},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==d&&(d=t.p),t==h&&(h=t.n),o(t.n,t.p),delete u[e]}delete c[e],a--},removeAll:function(){c={},a=0,u={},d=h=null},destroy:function(){c=null,s=null,u=null,delete t[e]},info:function(){return f({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Kt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Zt(e,i){function r(e,t){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,r){var o=e.match(n);if(!o)throw Wr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}var a={},s="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=O("ngSrc,ngSrcset,src,srcset"),g=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function T(t,n){return at(t,"directive"),_(t)?(rt(n,"directiveFactory"),a.hasOwnProperty(t)||(a[t]=[],e.factory(t+s,["$injector","$exceptionHandler",function(e,n){var i=[];return o(a[t],function(o,a){try{var s=e.invoke(o);S(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",w(s.scope)&&(s.$$isolateBindings=r(s.scope,s.name)),i.push(s)}catch(c){n(c)}}),i}])),a[t].push(n)):o(t,c(T)),this},this.aHrefSanitizationWhitelist=function(e){return $(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var b=!0;this.debugInfoEnabled=function(e){return $(e)?(b=e,this):b},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,r,c,m,$,T,x,C,k,A){function D(e,t){try{e.addClass(t)}catch(n){}}function I(e,t,n,i,r){e instanceof Qi||(e=Qi(e)),o(e,function(t,n){t.nodeType==$r&&t.nodeValue.match(/\S+/)&&(e[n]=Qi(t).wrap("<span></span>").parent()[0])});var a=O(e,t,e,n,i,r);I.$$addScopeClass(e);var s=null;return function(t,n,i){rt(t,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers,c=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=M(c));var l;if(l="html"!==s?Qi(J(s,Qi("<div>").append(e).html())):n?Vr.clone.call(e):e,o)for(var u in o)l.data("$"+u+"Controller",o[u].instance);return I.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,r),l}}function M(e){var t=e&&e[0];return t&&"foreignobject"!==P(t)&&t.toString().match(/SVG/)?"svg":"html"}function O(e,t,i,r,o,a){function s(e,i,r,o){var a,s,c,l,u,f,d,h,m;if(p){var g=i.length;for(m=new Array(g),u=0;u<v.length;u+=3)d=v[u],m[d]=i[d]}else m=i;for(u=0,f=v.length;f>u;)c=m[v[u++]],a=v[u++],s=v[u++],a?(a.scope?(l=e.$new(),I.$$addScopeInfo(Qi(c),l)):l=e,h=a.transcludeOnThisElement?V(e,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&t?V(e,t):null,a(s,l,c,r,h)):s&&s(e,c.childNodes,n,o)}for(var c,l,u,f,d,h,p,v=[],m=0;m<e.length;m++)c=new at,l=N(e[m],[],c,0===m?r:n,o),u=l.length?F(l,e[m],c,t,i,null,[],[],a):null,u&&u.scope&&I.$$addScopeClass(c.$$element),d=u&&u.terminal||!(f=e[m].childNodes)||!f.length?null:O(f,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(v.push(m,u,d),h=!0,p=p||u),a=null;return h?s:null}function V(e,t,n){var i=function(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function N(e,t,n,i,r){var o,a,s=e.nodeType,c=n.$attr;switch(s){case gr:U(t,Jt(P(e)),"E",i,r);for(var f,d,h,p,v,m,g=e.attributes,$=0,y=g&&g.length;y>$;$++){var b=!1,S=!1;f=g[$],d=f.name,v=fr(f.value),p=Jt(d),(m=ft.test(p))&&(d=d.replace(Yr,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var T=p.replace(/(Start|End)$/,"");j(T)&&p===T+"Start"&&(b=d,S=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=Jt(d.toLowerCase()),c[h]=d,(m||!n.hasOwnProperty(h))&&(n[h]=v,Vt(e,h)&&(n[h]=!0)),et(e,t,v,h,m),U(t,h,"A",i,r,b,S)}if(a=e.className,w(a)&&(a=a.animVal),_(a)&&""!==a)for(;o=u.exec(a);)h=Jt(o[2]),U(t,h,"C",i,r)&&(n[h]=fr(o[3])),a=a.substr(o.index+o[0].length);break;case $r:Z(t,e.nodeValue);break;case wr:try{o=l.exec(e.nodeValue),o&&(h=Jt(o[1]),U(t,h,"M",i,r)&&(n[h]=fr(o[2])))}catch(x){}}return t.sort(X),t}function R(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Wr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==gr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Qi(i)}function z(e,t,n){return function(i,r,o,a,s){return r=R(r[0],t,n),e(i,r,o,a,s)}}function F(e,a,s,c,l,u,f,d,h){function p(e,t,n,i){e&&(n&&(e=z(e,n,i)),e.require=x.require,e.directiveName=C,(P===x||x.$$isolateScope)&&(e=it(e,{isolateScope:!0})),f.push(e)),t&&(n&&(t=z(t,n,i)),t.require=x.require,t.directiveName=C,(P===x||x.$$isolateScope)&&(t=it(t,{isolateScope:!0})),d.push(t))}function v(e,t,n,i){var r,a,s="data",c=!1,l=n;if(_(t)){if(a=t.match(g),t=t.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(c=!0),r=null,i&&"data"===s&&(r=i[t])&&(r=r.instance),r=r||l[s]("$"+t+"Controller"),!r&&!c)throw Wr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r||null}return ur(t)&&(r=[],o(t,function(t){r.push(v(e,t,n,i))})),r}function y(e,t,r,c,l){function u(e,t,i){var r;return E(e)||(i=t,t=e,e=n),j&&(r=y),i||(i=j?S.parent():S),l(e,t,r,i,A)}var h,p,g,w,_,y,b,S,x;if(a===r?(x=s,S=s.$$element):(S=Qi(r),x=new at(S,s)),P&&(_=t.$new(!0)),l&&(b=u,b.$$boundTransclude=l),O&&(T={},y={},o(O,function(e){var n,i={$scope:e===P||e.$$isolateScope?_:t,$element:S,$attrs:x,$transclude:b};w=e.controller,"@"==w&&(w=x[e.name]),n=$(w,i,!0,e.controllerAs),y[e.name]=n,j||S.data("$"+e.name+"Controller",n.instance),T[e.name]=n})),P){I.$$addScopeInfo(S,_,!0,!(L&&(L===P||L===P.$$originalDirective))),I.$$addScopeClass(S,!0);var C=T&&T[P.name],k=_;C&&C.identifier&&P.bindToController===!0&&(k=C.instance),o(_.$$isolateBindings=P.$$isolateBindings,function(e,n){var r,o,a,s,c=e.attrName,l=e.optional,u=e.mode;switch(u){case"@":x.$observe(c,function(e){k[n]=e}),x.$$observers[c].$$scope=t,x[c]&&(k[n]=i(x[c])(t));break;case"=":if(l&&!x[c])return;o=m(x[c]),s=o.literal?B:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw r=k[n]=o(t),Wr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",x[c],P.name)},r=k[n]=o(t);var f=function(e){return s(e,k[n])||(s(e,r)?a(t,e=k[n]):k[n]=e),r=e};f.$stateful=!0;var d;d=e.collection?t.$watchCollection(x[c],f):t.$watch(m(x[c],f),null,o.literal),_.$on("$destroy",d);break;case"&":o=m(x[c]),k[n]=function(e){return o(t,e)}}})}for(T&&(o(T,function(e){e()}),T=null),h=0,p=f.length;p>h;h++)g=f[h],ot(g,g.isolateScope?_:t,S,x,g.require&&v(g.directiveName,g.require,S,y),b);var A=t;for(P&&(P.template||null===P.templateUrl)&&(A=_),e&&e(A,r.childNodes,n,l),h=d.length-1;h>=0;h--)g=d[h],ot(g,g.isolateScope?_:t,S,x,g.require&&v(g.directiveName,g.require,S,y),b)}h=h||{};for(var b,T,x,C,k,A,D,M=-Number.MAX_VALUE,O=h.controllerDirectives,P=h.newIsolateScopeDirective,L=h.templateDirective,V=h.nonTlbTranscludeDirective,F=!1,U=!1,j=h.hasElementTranscludeDirective,X=s.$$element=Qi(a),Z=u,Q=c,et=0,nt=e.length;nt>et;et++){x=e[et];var rt=x.$$start,st=x.$$end;if(rt&&(X=R(a,rt,st)),k=n,M>x.priority)break;if((D=x.scope)&&(x.templateUrl||(w(D)?(K("new/isolated scope",P||b,x,X),P=x):K("new/isolated scope",P,x,X)),b=b||x),C=x.name,!x.templateUrl&&x.controller&&(D=x.controller,O=O||{},K("'"+C+"' controller",O[C],x,X),O[C]=x),(D=x.transclude)&&(F=!0,x.$$tlb||(K("transclusion",V,x,X),V=x),"element"==D?(j=!0,M=x.priority,k=X,X=s.$$element=Qi(t.createComment(" "+C+": "+s[C]+" ")),a=X[0],tt(l,H(k),a),Q=I(k,c,M,Z&&Z.name,{nonTlbTranscludeDirective:V})):(k=Qi(yt(a)).contents(),X.empty(),Q=I(k,c))),x.template)if(U=!0,K("template",L,x,X),L=x,D=S(x.template)?x.template(X,s):x.template,D=ut(D),x.replace){if(Z=x,k=mt(D)?[]:en(J(x.templateNamespace,fr(D))),a=k[0],1!=k.length||a.nodeType!==gr)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",C,"");tt(l,X,a);var ct={$attr:{}},lt=N(a,[],ct),ft=e.splice(et+1,e.length-(et+1));P&&q(lt),e=e.concat(lt).concat(ft),W(s,ct),nt=e.length}else X.html(D);if(x.templateUrl)U=!0,K("template",L,x,X),L=x,x.replace&&(Z=x),y=Y(e.splice(et,e.length-et),X,s,l,F&&Q,f,d,{controllerDirectives:O,newIsolateScopeDirective:P,templateDirective:L,nonTlbTranscludeDirective:V}),nt=e.length;else if(x.compile)try{A=x.compile(X,s,Q),S(A)?p(null,A,rt,st):A&&p(A.pre,A.post,rt,st)}catch(dt){r(dt,G(X))}x.terminal&&(y.terminal=!0,M=Math.max(M,x.priority))}return y.scope=b&&b.scope===!0,y.transcludeOnThisElement=F,y.elementTranscludeOnThisElement=j,y.templateOnThisElement=U,y.transclude=Q,h.hasElementTranscludeDirective=j,y}function q(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function U(t,i,o,c,l,u,f){if(i===l)return null;var d=null;if(a.hasOwnProperty(i))for(var p,v=e.get(i+s),m=0,g=v.length;g>m;m++)try{p=v[m],(c===n||c>p.priority)&&-1!=p.restrict.indexOf(o)&&(u&&(p=h(p,{$$start:u,$$end:f})),t.push(p),d=p)}catch($){r($)}return d}function j(t){if(a.hasOwnProperty(t))for(var n,i=e.get(t+s),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function W(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(D(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function Y(e,t,n,i,r,a,s,l){var u,f,d=[],p=t[0],v=e.shift(),m=h(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=S(v.templateUrl)?v.templateUrl(t,n):v.templateUrl,$=v.templateNamespace;return t.empty(),c(C.getTrustedResourceUrl(g)).then(function(c){var h,_,y,b;if(c=ut(c),v.replace){if(y=mt(c)?[]:en(J($,fr(c))),h=y[0],1!=y.length||h.nodeType!==gr)throw Wr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);_={$attr:{}},tt(i,t,h);var S=N(h,[],_);w(v.scope)&&q(S),e=S.concat(e),W(n,_)}else h=p,t.html(c);for(e.unshift(m),u=F(e,h,n,r,t,v,a,s,l),o(i,function(e,n){e==h&&(i[n]=t[0])}),f=O(t[0].childNodes,r);d.length;){var T=d.shift(),x=d.shift(),E=d.shift(),C=d.shift(),k=t[0];if(!T.$$destroyed){if(x!==p){var A=x.className;l.hasElementTranscludeDirective&&v.replace||(k=yt(h)),tt(E,Qi(x),k),D(Qi(k),A)}b=u.transcludeOnThisElement?V(T,u.transclude,C):C,u(f,T,k,i,b)}}d=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(u.transcludeOnThisElement&&(o=V(t,u.transclude,r)),u(f,t,n,i,o)))}}function X(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,i){if(t)throw Wr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,G(i))}function Z(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&I.$$addBindingClass(t),function(e,t){var r=t.parent();i||I.$$addBindingClass(r),I.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function J(e,n){switch(e=Wi(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return C.HTML;var n=P(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function et(e,t,n,r,o){var a=Q(e,r);o=d[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===P(e))throw Wr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",G(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers={});if(y.test(r))throw Wr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[r];u!==n&&(s=u&&i(u,!0,a,o),n=u),s&&(c[r]=s(e),(l[r]||(l[r]=[])).$$inter=!0,(c.$$observers&&c.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!=t?c.$updateClass(e,t):c.$set(r,e)}))}}}})}}function tt(e,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==a){e[r++]=i;for(var l=r,u=l+s-1,f=e.length;f>l;l++,u++)f>u?e[l]=e[u]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var d=t.createDocumentFragment();d.appendChild(a),Qi(i).data(Qi(a).data()),er?(lr=!0,er.cleanData([a])):delete Qi.cache[a[Qi.expando]];for(var h=1,p=n.length;p>h;h++){var v=n[h];Qi(v).remove(),d.appendChild(v),delete n[h]}n[0]=i,n.length=1}function it(e,t){return f(function(){return e.apply(null,arguments)},e,t)}function ot(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,G(n))}}var at=function(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e};at.prototype={$normalize:Jt,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Qt(e,t);n&&n.length&&k.addClass(this.$$element,n);var i=Qt(t,e);i&&i.length&&k.removeClass(this.$$element,i)},$set:function(e,t,i,a){var s,c=this.$$element[0],l=Vt(c,e),u=Nt(c,e),f=e;if(l?(this.$$element.prop(e,t),a=l):u&&(this[u]=t,f=u),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=nt(e,"-"))),s=P(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===s&&"srcset"===e){for(var d="",h=fr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,v=/\s/.test(h)?p:/(,)/,m=h.split(v),g=Math.floor(m.length/2),$=0;g>$;$++){var w=2*$;d+=A(fr(m[w]),!0),d+=" "+fr(m[w+1])}var _=fr(m[2*$]).split(/\s/);d+=A(fr(_[0]),!0),2===_.length&&(d+=" "+fr(_[1])),this[e]=t=d}i!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var y=this.$$observers;y&&o(y[f],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=lt()),r=i[e]||(i[e]=[]);return r.push(t),T.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(e)&&t(n[e])
}),function(){L(r,t)}}};var st=i.startSymbol(),ct=i.endSymbol(),ut="{{"==st||"}}"==ct?v:function(e){return e.replace(/\{\{/g,st).replace(/}}/g,ct)},ft=/^ngAttr[A-Z]/;return I.$$addBindingInfo=b?function(e,t){var n=e.data("$binding")||[];ur(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,I.$$addBindingClass=b?function(e){D(e,"ng-binding")}:p,I.$$addScopeInfo=b?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:p,I.$$addScopeClass=b?function(e,t){D(e,t?"ng-isolate-scope":"ng-scope")}:p,I}]}function Jt(e){return vt(e.replace(Yr,""))}function Qt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function en(e){e=Qi(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===wr&&ir.call(e,t,1)}return e}function tn(){var e={},t=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){at(t,"controller"),w(t)?f(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,a){function s(e,t,n,r){if(!e||!w(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,c,l,u){var d,h,p,v;if(l=l===!0,u&&_(u)&&(v=u),_(i)){if(h=i.match(r),!h)throw Xr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);p=h[1],v=v||h[3],i=e.hasOwnProperty(p)?e[p]:st(c.$scope,p,!0)||(t?st(a,p,!0):n),ot(i,p,!0)}if(l){var m=(ur(i)?i[i.length-1]:i).prototype;return d=Object.create(m||null),v&&s(c,v,d,p||i.name),f(function(){return o.invoke(i,d,c,p),d},{instance:d,identifier:v})}return d=o.instantiate(i,c,p),v&&s(c,v,d,p||i.name),d}}]}function nn(){this.$get=["$window",function(e){return Qi(e.document)}]}function rn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function on(e,t){if(_(e)){var n=e.replace(eo,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(Kr)||an(n))&&(e=U(n))}}return e}function an(e){var t=e.match(Jr);return t&&Qr[t[0]].test(e)}function sn(e){var t,n,i,r=lt();return e?(o(e.split("\n"),function(e){i=e.indexOf(":"),t=Wi(fr(e.substr(0,i))),n=fr(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function cn(e){var t=w(e)?e:n;return function(n){if(t||(t=sn(e)),n){var i=t[Wi(n)];return void 0===i&&(i=null),i}return t}}function ln(e,t,n,i){return S(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function un(e){return e>=200&&300>e}function fn(){var e=this.defaults={transformResponse:[on],transformRequest:[function(e){return!w(e)||C(e)||A(e)||k(e)?e:q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(Zr),put:N(Zr),patch:N(Zr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},t=!1;this.useApplyAsync=function(e){return $(e)?(t=!!e,this):t};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,c,l,u,d,h){function p(t){function r(e){var t=f({},e);return t.data=e.data?ln(e.data,e.headers,e.status,c.transformResponse):e.data,un(e.status)?t:d.reject(t)}function a(e){var t,n={};return o(e,function(e,i){S(e)?(t=e(),null!=t&&(n[i]=t)):n[i]=e}),n}function s(t){var n,i,r,o=e.headers,s=f({},t.headers);o=f({},o.common,o[Wi(t.method)]);e:for(n in o){i=Wi(n);for(r in s)if(Wi(r)===i)continue e;s[n]=o[n]}return a(s)}if(!sr.isObject(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var c=f({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse},t);c.headers=s(t),c.method=Xi(c.method);var l=function(t){var i=t.headers,a=ln(t.data,cn(i),n,t.transformRequest);return g(a)&&o(i,function(e,t){"content-type"===Wi(t)&&delete i[t]}),g(t.withCredentials)&&!g(e.withCredentials)&&(t.withCredentials=e.withCredentials),y(t,a).then(r,r)},u=[l,n],h=d.when(c);for(o(E,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)});u.length;){var p=u.shift(),v=u.shift();h=h.then(p,v)}return h.success=function(e){return h.then(function(t){e(t.data,t.status,t.headers,c)}),h},h.error=function(e){return h.then(null,function(t){e(t.data,t.status,t.headers,c)}),h},h}function v(){o(arguments,function(e){p[e]=function(t,n){return p(f(n||{},{method:e,url:t}))}})}function m(){o(arguments,function(e){p[e]=function(t,n,i){return p(f(i||{},{method:e,url:t,data:n}))}})}function y(i,r){function o(e,n,i,r){function o(){s(n,e,i,r)}h&&(un(e)?h.put(b,[e,n,sn(i),r]):h.remove(b)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,n,r){t=Math.max(t,0),(un(t)?m.resolve:m.reject)({data:e,status:t,headers:cn(n),config:i,statusText:r})}function l(e){s(e.data,e.status,N(e.headers()),e.statusText)}function f(){var e=p.pendingRequests.indexOf(i);-1!==e&&p.pendingRequests.splice(e,1)}var h,v,m=d.defer(),_=m.promise,y=i.headers,b=T(i.url,i.params);if(p.pendingRequests.push(i),_.then(f,f),!i.cache&&!e.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(h=w(i.cache)?i.cache:w(e.cache)?e.cache:x),h&&(v=h.get(b),$(v)?I(v)?v.then(l,l):ur(v)?s(v[1],v[0],N(v[2]),v[3]):s(v,200,{},"OK"):h.put(b,_)),g(v)){var S=oi(i.url)?c.cookies()[i.xsrfCookieName||e.xsrfCookieName]:n;S&&(y[i.xsrfHeaderName||e.xsrfHeaderName]=S),a(i.method,b,r,o,y,i.timeout,i.withCredentials,i.responseType)}return _}function T(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||g(e)||(ur(e)||(e=[e]),o(e,function(e){w(e)&&(e=b(e)?e.toISOString():q(e)),n.push(K(t)+"="+K(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var x=l("$http"),E=[];return o(r,function(e){E.unshift(_(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],v("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=e,p}]}function dn(){return new e.XMLHttpRequest}function hn(){this.$get=["$browser","$window","$document",function(e,t,n){return pn(e,dn,e.defer,t.angular.callbacks,n[0])}]}function pn(e,t,i,r,a){function s(e,t,n){var i=a.createElement("script"),o=null;return i.type="text/javascript",i.src=e,i.async=!0,o=function(e){Er(i,"load",o),Er(i,"error",o),a.body.removeChild(i),i=null;var s=-1,c="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},xr(i,"load",o),xr(i,"error",o),a.body.appendChild(i),o}return function(a,c,l,u,f,d,h,v){function m(){_&&_(),y&&y.abort()}function g(t,r,o,a,s){T!==n&&i.cancel(T),_=y=null,t(r,o,a,s),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==Wi(a)){var w="_"+(r.counter++).toString(36);r[w]=function(e){r[w].data=e,r[w].called=!0};var _=s(c.replace("JSON_CALLBACK","angular.callbacks."+w),w,function(e,t){g(u,e,r[w].data,"",t),r[w]=p})}else{var y=t();y.open(a,c,!0),o(f,function(e,t){$(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"==ri(c).protocol?404:0),g(u,n,t,y.getAllResponseHeaders(),e)};var b=function(){g(u,-1,null,null,"")};if(y.onerror=b,y.onabort=b,h&&(y.withCredentials=!0),v)try{y.responseType=v}catch(S){if("json"!==v)throw S}y.send(l||null)}if(d>0)var T=i(m,d);else I(d)&&d.then(m)}}function vn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(o,a,d,h){function p(n){return n.replace(l,e).replace(u,t)}function v(e){try{return e=A(e),h&&!$(e)?e:D(e)}catch(t){var n=to("interr","Can't interpolate: {0}\n{1}",o,t.toString());i(n)}}h=!!h;for(var m,w,_,y=0,b=[],T=[],x=o.length,E=[],C=[];x>y;){if(-1==(m=o.indexOf(e,y))||-1==(w=o.indexOf(t,m+s))){y!==x&&E.push(p(o.substring(y)));break}y!==m&&E.push(p(o.substring(y,m))),_=o.substring(m+s,w),b.push(_),T.push(n(_,v)),y=w+c,C.push(E.length),E.push("")}if(d&&E.length>1)throw to("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||b.length){var k=function(e){for(var t=0,n=b.length;n>t;t++){if(h&&g(e[t]))return;E[C[t]]=e[t]}return E.join("")},A=function(e){return d?r.getTrusted(d,e):r.valueOf(e)},D=function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}return e};return f(function(e){var t=0,n=b.length,r=new Array(n);try{for(;n>t;t++)r[t]=T[t](e);return k(r)}catch(a){var s=to("interr","Can't interpolate: {0}\n{1}",o,a.toString());i(s)}},{exp:o,expressions:b,$$watchDelegate:function(e,t,n){var i;return e.$watchGroup(T,function(n,r){var o=k(n);S(t)&&t.call(this,o,n!==r?i:o,e),i=o},n)}})}}var s=e.length,c=t.length,l=new RegExp(e.replace(/./g,o),"g"),u=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function mn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){function r(r,a,s,c){var l=t.setInterval,u=t.clearInterval,f=0,d=$(c)&&!c,h=(d?i:n).defer(),p=h.promise;return s=$(s)?s:0,p.then(null,null,r),p.$$intervalId=l(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),u(p.$$intervalId),delete o[p.$$intervalId]),d||e.$apply()},a),o[p.$$intervalId]=h,p}var o={};return r.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},r}]}function gn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function $n(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=X(t[n]);return t.join("/")}function wn(e,t){var n=ri(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||io[n.protocol]||null}function _n(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=ri(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=W(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function yn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function bn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Sn(e){return e.replace(/(#.+)|#$/,"$1")}function Tn(e){return e.substr(0,bn(e).lastIndexOf("/")+1)}function xn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function En(e,t){this.$$html5=!0,t=t||"";var i=Tn(e);wn(e,this),this.$$parse=function(e){var t=yn(i,e);if(!_(t))throw ro("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,i);_n(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),t=this.$$hash?"#"+X(this.$$hash):"";this.$$url=$n(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,c;return(a=yn(e,r))!==n?(s=a,c=(a=yn(t,a))!==n?i+(yn("/",a)||a):e+s):(a=yn(i,r))!==n?c=i+a:i==r+"/"&&(c=i),c&&this.$$parse(c),!!c}}function Cn(e,t){var n=Tn(e);wn(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=yn(e,i)||yn(n,i);"#"===a.charAt(0)?(o=yn(t,a),g(o)&&(o=a)):o=this.$$html5?a:"",_n(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var n=Y(this.$$search),i=this.$$hash?"#"+X(this.$$hash):"";this.$$url=$n(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t){return bn(e)==bn(t)?(this.$$parse(t),!0):!1}}function kn(e,t){this.$$html5=!0,Cn.apply(this,arguments);var n=Tn(e);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e==bn(i)?o=i:(a=yn(n,i))?o=e+t+a:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=Y(this.$$search),i=this.$$hash?"#"+X(this.$$hash):"";this.$$url=$n(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function An(e){return function(){return this[e]}}function Dn(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function In(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):w(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u,f,d=i.baseHref(),h=i.url();if(t.enabled){if(!d&&t.requireBase)throw ro("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=xn(h)+(d||"/"),u=r.history?En:kn}else f=bn(h),u=Cn;l=new u(f,"#"+e),l.$$parseLinkUrl(h,h),l.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var r=Qi(e.target);"a"!==P(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ri(s.animVal).href),p.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(e.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Sn(l.absUrl())!=Sn(h)&&i.url(l.absUrl(),!0);var v=!0;return i.onUrlChange(function(e,t){n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(v=!1,c(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=Sn(i.url()),t=Sn(l.absUrl()),o=i.state(),a=l.$$replace,u=e!==t||l.$$html5&&r.history&&o!==l.$$state;(v||u)&&(v=!1,n.$evalAsync(function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(u&&s(t,a,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function Mn(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||p,a=!1;try{a=!!r.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function On(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ao("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Pn(e,t){if(e){if(e.constructor===e)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw ao("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ao("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ao("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Ln(e,t){if(e){if(e.constructor===e)throw ao("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===so||e===co||e===lo)throw ao("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Vn(e){return e.constant}function Nn(e,t,n,i,r){Pn(e,r),Pn(t,r);for(var o,a=n.split("."),s=0;a.length>1;s++){o=On(a.shift(),r);var c=0===s&&t&&t[o]||e[o];c||(c={},e[o]=c),e=Pn(c,r)}return o=On(a.shift(),r),Pn(e[o],r),e[o]=i,i}function Bn(e){return"constructor"==e}function Rn(e,t,i,r,o,a,s){On(e,a),On(t,a),On(i,a),On(r,a),On(o,a);var c=function(e){return Pn(e,a)},l=s||Bn(e)?c:v,u=s||Bn(t)?c:v,f=s||Bn(i)?c:v,d=s||Bn(r)?c:v,h=s||Bn(o)?c:v;return function(a,s){var c=s&&s.hasOwnProperty(e)?s:a;return null==c?c:(c=l(c[e]),t?null==c?n:(c=u(c[t]),i?null==c?n:(c=f(c[i]),r?null==c?n:(c=d(c[r]),o?null==c?n:c=h(c[o]):c):c):c):c)}}function Hn(e,t){return function(n,i){return e(n,i,Pn,t)}}function zn(e,t,i){var r=t.expensiveChecks,a=r?go:mo,s=a[e];if(s)return s;var c=e.split("."),l=c.length;if(t.csp)s=6>l?Rn(c[0],c[1],c[2],c[3],c[4],i,r):function(e,t){var o,a=0;do o=Rn(c[a++],c[a++],c[a++],c[a++],c[a++],i,r)(e,t),t=n,e=o;while(l>a);return o};else{var u="";r&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=r;o(c,function(e,t){On(e,i);var n=(t?"s":'((l&&l.hasOwnProperty("'+e+'"))?l:s)')+"."+e;(r||Bn(e))&&(n="eso("+n+", fe)",f=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;";var d=new Function("s","l","eso","fe",u);d.toString=m(u),f&&(d=Hn(d,i)),s=d}return s.sharedGetter=!0,s.assign=function(t,n,i){return Nn(t,i,e,n,e)},a[e]=s,s}function Fn(e){return S(e.valueOf)?e.valueOf():$o.call(e)}function qn(){var e=lt(),t=lt();this.$get=["$filter","$sniffer",function(n,i){function r(e){var t=e;return e.sharedGetter&&(t=function(t,n){return e(t,n)},t.literal=e.literal,t.constant=e.constant,t.assign=e.assign),t}function a(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];r.constant||(r.inputs?a(r.inputs,t):-1===t.indexOf(r)&&t.push(r))}return t}function s(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Fn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,i){var r,o=i.$$inputs||(i.$$inputs=a(i.inputs,[]));if(1===o.length){var c=s;return o=o[0],e.$watch(function(e){var t=o(e);return s(t,c)||(r=i(e),c=t&&Fn(t)),r},t,n)}for(var l=[],u=0,f=o.length;f>u;u++)l[u]=s;return e.$watch(function(e){for(var t=!1,n=0,a=o.length;a>n;n++){var c=o[n](e);(t||(t=!s(c,l[n])))&&(l[n]=c&&Fn(c))}return t&&(r=i(e)),r},t,n)}function l(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,S(t)&&t.apply(this,arguments),$(e)&&i.$$postDigest(function(){$(o)&&r()})},n)}function u(e,t,n,i){function r(e){var t=!0;return o(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,i){s=e,S(t)&&t.call(this,e,n,i),r(e)&&i.$$postDigest(function(){r(s)&&a()})},n)}function f(e,t,n,i){var r;return r=e.$watch(function(e){return i(e)},function(){S(t)&&t.apply(this,arguments),r()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,i=n!==u&&n!==l,r=i?function(n,i){var r=e(n,i);return t(r,n,i)}:function(n,i){var r=e(n,i),o=t(r,n,i);return $(r)?o:r};return e.$$watchDelegate&&e.$$watchDelegate!==c?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=c,r.inputs=[e]),r}var h={csp:i.csp,expensiveChecks:!1},v={csp:i.csp,expensiveChecks:!0};return function(i,o,a){var s,m,g;switch(typeof i){case"string":g=i=i.trim();var $=a?t:e;if(s=$[g],!s){":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2));var w=a?v:h,_=new po(w),y=new vo(_,n,w);s=y.parse(i),s.constant?s.$$watchDelegate=f:m?(s=r(s),s.$$watchDelegate=s.literal?u:l):s.inputs&&(s.$$watchDelegate=c),$[g]=s}return d(s,o);case"function":return d(i,o);default:return d(p,o)}}}]}function Un(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return jn(function(t){e.$evalAsync(t)},t)}]}function Gn(){this.$get=["$browser","$exceptionHandler",function(e,t){return jn(function(t){e.defer(t)},t)}]}function jn(e,t){function r(e,t,n){function i(t){return function(n){r||(r=!0,t.call(e,n))}}var r=!1;return[i(t),i(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var i,r,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){r=o[a][0],i=o[a][e.status];try{S(i)?r.resolve(i(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(c){r.reject(c),t(c)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function u(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(e){var t=new u,n=0,i=ur(e)?[]:{};return o(e,function(e,r){n++,g(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var d=i("$q",TypeError),h=function(){return new u};a.prototype={then:function(e,t,n){var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(w(e)||S(e))&&(n=e&&e.then),S(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;a>o;o++){r=i[o][0],e=i[o][3];try{r.notify(S(e)?e(n):n)}catch(s){t(s)}}})}};var p=function(e){var t=new u;return t.reject(e),t.promise},v=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var i=null;try{S(n)&&(i=n())}catch(r){return v(r,!1)}return I(i)?i.then(function(){return v(e,t)},function(e){return v(e,!1)}):v(e,t)},g=function(e,t,n,i){var r=new u;return r.resolve(e),r.promise.then(t,n,i)},$=function _(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!S(e))throw d("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof _))return new _(e);var i=new u;return e(t,n),i.promise};return $.defer=h,$.reject=p,$.when=g,$.all=f,$}function Wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Yn(){var e=10,t=i("$rootScope"),n=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,s,c,u){function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function d(e){if(y.$$phase)throw t("inprog","{0} already in progress",y.$$phase);y.$$phase=e}function h(){y.$$phase=null}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function m(){}function $(){for(;x.length;)try{x.shift()()}catch(e){s(e)}a=null}function _(){null===a&&(a=u.defer(function(){y.$apply($)}))}f.prototype={constructor:f,$new:function(e,t){function n(){i.$$destroyed=!0}var i;return t=t||this,e?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(e||t!=this)&&i.$on("$destroy",n),i},$watch:function(e,t,i){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,i,r);var o=this,a=o.$$watchers,s={fn:t,last:m,get:r,exp:e,eq:!!i};return n=null,S(t)||(s.fn=p),a||(a=o.$$watchers=[]),a.unshift(s),function(){L(a,s),n=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(r,r,s)):t(r,i,s)}var i=new Array(e.length),r=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){r[t]=e,i[t]=o,c||(c=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,i,s,c;if(!g(o)){if(w(o))if(r(o)){a!==h&&(a=h,m=a.length=0,f++),t=o.length,m!==t&&(f++,a.length=m=t);for(var l=0;t>l;l++)c=a[l],s=o[l],i=c!==c&&s!==s,i||c===s||(f++,a[l]=s)}else{a!==p&&(a=p={},m=0,f++),t=0;for(n in o)o.hasOwnProperty(n)&&(t++,s=o[n],c=a[n],n in a?(i=c!==c&&s!==s,i||c===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>t){f++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function i(){if(v?(v=!1,t(o,o,l)):t(o,s,l),u)if(w(o))if(r(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Yi.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=t.length>1,f=0,d=c(e,n),h=[],p={},v=!0,m=0;return this.$watch(d,i)},$digest:function(){var i,r,o,c,l,f,p,v,g,w,_=e,x=this,E=[];d("$digest"),u.$$checkUrlChange(),this===y&&null!==a&&(u.defer.cancel(a),$()),n=null;do{for(f=!1,v=x;b.length;){try{w=b.shift(),w.scope.$eval(w.expression,w.locals)}catch(C){s(C)}n=null}e:do{if(c=v.$$watchers)for(l=c.length;l--;)try{if(i=c[l])if((r=i.get(v))===(o=i.last)||(i.eq?B(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){f=!1;break e}}else f=!0,n=i,i.last=i.eq?V(r,null):r,i.fn(r,o===m?r:o,v),5>_&&(g=4-_,E[g]||(E[g]=[]),E[g].push({msg:S(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:r,oldVal:o}))}catch(C){s(C)}if(!(p=v.$$childHead||v!==x&&v.$$nextSibling))for(;v!==x&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((f||b.length)&&!_--)throw h(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,E)}while(f||b.length);for(h();T.length;)try{T.shift()()}catch(C){s(C)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var t in this.$$listenerCount)v(this,this.$$listenerCount[t],t);e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){y.$$phase||b.length||u.defer(function(){b.length&&y.$digest()}),b.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){s(t)}finally{h();try{y.$digest()}catch(t){throw s(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&x.push(t),_()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,v(r,1,e))}},$emit:function(e){var t,n,i,r=[],o=this,a=!1,c={name:e,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=R([c],arguments,1);do{for(t=o.$$listeners[e]||r,c.currentScope=o,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,l)}catch(u){s(u)}else t.splice(n,1),n--,i--;if(a)return c.currentScope=null,c;o=o.$parent}while(o);return c.currentScope=null,c},$broadcast:function(e){var t=this,n=t,i=t,r={name:e,targetScope:t,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return r;for(var o,a,c,l=R([r],arguments,1);n=i;){for(r.currentScope=n,o=n.$$listeners[e]||[],a=0,c=o.length;c>a;a++)if(o[a])try{o[a].apply(null,l)}catch(u){s(u)}else o.splice(a,1),a--,c--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var y=new f,b=y.$$asyncQueue=[],T=y.$$postDigestQueue=[],x=y.$$applyAsyncQueue=[];return y}]}function Xn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=ri(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Kn(e){if("self"===e)return e;if(_(e)){if(e.indexOf("***")>-1)throw wo("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=dr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw wo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zn(e){var t=[];return $(e)&&o(e,function(e){t.push(Kn(e))}),t}function Jn(){this.SCE_CONTEXTS=_o;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Zn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Zn(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?oi(t):!!e.exec(t.href)}function o(n){var i,o,a=ri(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var i=d.hasOwnProperty(e)?d[e]:null;if(!i)throw wo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw wo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function c(e){return e instanceof f?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var i=d.hasOwnProperty(e)?d[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===_o.RESOURCE_URL){if(o(t))return t;
throw wo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===_o.HTML)return u(t);throw wo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(){throw wo("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(u=i.get("$sanitize"));var f=a(),d={};return d[_o.HTML]=a(f),d[_o.CSS]=a(f),d[_o.URL]=a(f),d[_o.JS]=a(f),d[_o.RESOURCE_URL]=a(d[_o.URL]),{trustAs:s,getTrusted:l,valueOf:c}}]}function Qn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ji)throw wo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=N(_o);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=v),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(_o,function(e,t){var n=Wi(t);i[vt("parse_as_"+n)]=function(t){return r(e,t)},i[vt("get_trusted_"+n)]=function(t){return a(e,t)},i[vt("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function ei(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=d((/android (\d+)/.exec(Wi((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,f=!1;if(l){for(var h in l)if(i=c.exec(h)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||u&&f||(u=_(s.body.style.webkitTransition),f=_(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hasEvent:function(e){if("input"===e&&11>=Ji)return!1;if(g(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:hr(),vendorPrefix:n,transitions:u,animations:f,android:o}}]}function ti(){this.$get=["$templateCache","$http","$q",function(e,t,n){function i(r,o){function a(e){if(!o)throw Wr("tpload","Failed to load template: {0}",r);return n.reject(e)}i.totalPendingRequests++;var s=t.defaults&&t.defaults.transformResponse;ur(s)?s=s.filter(function(e){return e!==on}):s===on&&(s=null);var c={cache:e,transformResponse:s};return t.get(r,c)["finally"](function(){i.totalPendingRequests--}).then(function(e){return e.data},a)}return i.totalPendingRequests=0,i}]}function ni(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return o(i,function(e){var i=sr.element(e).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+dr(t)+"(\\s|\\||$)");o.test(i)&&r.push(e)}else-1!=i.indexOf(t)&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function ii(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,c){var l,u=$(c)&&!c,f=(u?i:n).defer(),d=f.promise;return l=t.defer(function(){try{f.resolve(o())}catch(t){f.reject(t),r(t)}finally{delete a[d.$$timeoutId]}u||e.$apply()},s),d.$$timeoutId=l,a[l]=f,d}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function ri(e){var t=e;return Ji&&(yo.setAttribute("href",t),t=yo.href),yo.setAttribute("href",t),{href:yo.href,protocol:yo.protocol?yo.protocol.replace(/:$/,""):"",host:yo.host,search:yo.search?yo.search.replace(/^\?/,""):"",hash:yo.hash?yo.hash.replace(/^#/,""):"",hostname:yo.hostname,port:yo.port,pathname:"/"===yo.pathname.charAt(0)?yo.pathname:"/"+yo.pathname}}function oi(e){var t=_(e)?ri(e):e;return t.protocol===bo.protocol&&t.host===bo.host}function ai(){this.$get=m(e)}function si(e){function t(i,r){if(w(i)){var a={};return o(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",fi),t("date",bi),t("filter",ci),t("json",Si),t("limitTo",Ti),t("lowercase",Co),t("number",di),t("orderBy",xi),t("uppercase",ko)}function ci(){return function(e,t,n){if(!ur(e))return e;var i,r;switch(typeof t){case"function":i=t;break;case"boolean":case"number":case"string":r=!0;case"object":i=li(t,n,r);break;default:return e}return e.filter(i)}}function li(e,t,n){var i,r=w(e)&&"$"in e;return t===!0?t=B:S(t)||(t=function(e,t){return w(e)||w(t)?!1:(e=Wi(""+e),t=Wi(""+t),-1!==e.indexOf(t))}),i=function(i){return r&&!w(i)?ui(i,e.$,t,!1):ui(i,e,t,n)}}function ui(e,t,n,i,r){var o=typeof e,a=typeof t;if("string"===a&&"!"===t.charAt(0))return!ui(e,t.substring(1),n,i);if(ur(e))return e.some(function(e){return ui(e,t,n,i)});switch(o){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&ui(e[s],t,n,!0))return!0;return r?!1:ui(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!S(c)){var l="$"===s,u=l?e:e[s];if(!ui(u,c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function fi(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return g(n)&&(n=t.CURRENCY_SYM),g(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:hi(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function di(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hi(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hi(e,t,n,i,r){if(!isFinite(e)||w(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",c=[],l=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?e=0:(s=a,l=!0)}if(l)r>0&&1>e&&(s=e.toFixed(r),e=parseFloat(s));else{var f=(a.split(So)[1]||"").length;g(r)&&(r=Math.min(Math.max(t.minFrac,f),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r);var d=(""+e).split(So),h=d[0];d=d[1]||"";var p,v=0,m=t.lgSize,$=t.gSize;if(h.length>=m+$)for(v=h.length-m,p=0;v>p;p++)(v-p)%$===0&&0!==p&&(s+=n),s+=h.charAt(p);for(p=v;p<h.length;p++)(h.length-p)%m===0&&0!==p&&(s+=n),s+=h.charAt(p);for(;d.length<r;)d+="0";r&&"0"!==r&&(s+=i+d.substr(0,r))}return 0===e&&(o=!1),c.push(o?t.negPre:t.posPre,s,o?t.negSuf:t.posSuf),c.join("")}function pi(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function vi(e,t,n,i){return n=n||0,function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),pi(o,t,i)}}function mi(e,t){return function(n,i){var r=n["get"+e](),o=Xi(t?"SHORT"+e:e);return i[o][r]}}function gi(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=pi(Math[t>0?"floor":"ceil"](t/60),2)+pi(Math.abs(t%60),2)}function $i(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function wi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function _i(e){return function(t){var n=$i(t.getFullYear()),i=wi(t),r=+i-+n,o=1+Math.round(r/6048e5);return pi(o,e)}}function yi(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function bi(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(i,d(t[1]),d(t[2])-1,d(t[3]));var c=d(t[4]||0)-r,l=d(t[5]||0)-o,u=d(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,c,l,u,f),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,c="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,_(n)&&(n=Eo.test(n)?d(n):t(n)),y(n)&&(n=new Date(n)),!b(n))return n;for(;i;)s=xo.exec(i),s?(l=R(l,s,1),i=l.pop()):(l.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(t){a=To[t],c+=a?a(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Si(){return function(e,t){return g(t)&&(t=2),q(e,t)}}function Ti(){return function(e,t){return y(e)&&(e=e.toString()),ur(e)||_(e)?(t=1/0===Math.abs(Number(t))?Number(t):d(t),t?t>0?e.slice(0,t):e.slice(t):_(e)?"":[]):e}}function xi(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function s(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function c(e){return null===e?"null":"function"==typeof e.valueOf&&(e=e.valueOf(),s(e))?e:"function"==typeof e.toString&&(e=e.toString(),s(e))?e:""}function l(e,t){var n=typeof e,i=typeof t;return n===i&&"object"===n&&(e=c(e),t=c(t)),n===i?("string"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}return r(t)?(n=ur(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(t){var n=!1,i=t||v;if(_(t)){if(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),""===t)return a(l,n);if(i=e(t),i.constant){var r=i();return a(function(e,t){return l(e[r],t[r])},n)}}return a(function(e,t){return l(i(e),i(t))},n)}),nr.call(t).sort(a(o,i))):t}}function Ei(e){return S(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function Ci(e,t){e.$name=t}function ki(e,t,i,r,a){var s=this,c=[],l=s.$$parentForm=e.parent().controller("form")||Io;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){at(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),L(c,e)},qi({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(L(i,n),0===i.length&&delete e[t])},parentForm:l,$animate:r}),s.$setDirty=function(){r.removeClass(e,ha),r.addClass(e,pa),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){r.setClass(e,ha,pa+" "+Mo),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(c,function(e){e.$setPristine()})},s.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){r.addClass(e,Mo),s.$submitted=!0,l.$setSubmitted()}}function Ai(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Di(e,t,n,i,r,o){Ii(e,t,n,i,r,o),Ai(i)}function Ii(e,t,n,i,r,o){var a=Wi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=fr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function Mi(e,t){if(b(e))return e;if(_(e)){Fo.lastIndex=0;var n=Fo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,c=0,l=$i(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(i,0,l.getDate()+u,o,a,s,c)}}return 0/0}function Oi(e,t){return function(n,i){var r,a;if(b(n))return n;if(_(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Vo.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function Pi(e,t,i,r){return function(o,a,s,c,l,u,f){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return $(e)?b(e)?e:i(e):n}Li(o,a,s,c),Ii(o,a,s,c,l,u);var p,v=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var r=i(e,p);return"UTC"===v&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return n}),c.$formatters.push(function(e){if(e&&!b(e))throw $a("datefmt","Expected `{0}` to be a date",e);if(d(e)){if(p=e,p&&"UTC"===v){var t=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+t)}return f("date")(e,r,v)}return p=null,""}),$(s.min)||s.ngMin){var m;c.$validators.min=function(e){return!d(e)||g(m)||i(e)>=m},s.$observe("min",function(e){m=h(e),c.$validate()})}if($(s.max)||s.ngMax){var w;c.$validators.max=function(e){return!d(e)||g(w)||i(e)<=w},s.$observe("max",function(e){w=h(e),c.$validate()})}}}function Li(e,t,i,r){var o=t[0],a=r.$$hasNativeValidators=w(o.validity);a&&r.$parsers.push(function(e){var i=t.prop(ji)||{};return i.badInput&&!i.typeMismatch?n:e})}function Vi(e,t,i,r,o,a){if(Li(e,t,i,r),Ii(e,t,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:Ro.test(e)?parseFloat(e):n}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!y(e))throw $a("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),i.min||i.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||g(s)||e>=s},i.$observe("min",function(e){$(e)&&!y(e)&&(e=parseFloat(e,10)),s=y(e)&&!isNaN(e)?e:n,r.$validate()})}if(i.max||i.ngMax){var c;r.$validators.max=function(e){return r.$isEmpty(e)||g(c)||c>=e},i.$observe("max",function(e){$(e)&&!y(e)&&(e=parseFloat(e,10)),c=y(e)&&!isNaN(e)?e:n,r.$validate()})}}function Ni(e,t,n,i,r,o){Ii(e,t,n,i,r,o),Ai(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||No.test(n)}}function Bi(e,t,n,i,r,o){Ii(e,t,n,i,r,o),Ai(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Bo.test(n)}}function Ri(e,t,n,i){g(n.name)&&t.attr("name",l());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Hi(e,t,n,r,o){var a;if($(r)){if(a=e(r),!a.constant)throw i("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return a(t)}return o}function zi(e,t,n,i,r,o,a,s){var c=Hi(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Hi(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return B(e,c)}),i.$parsers.push(function(e){return e?c:l})}function Fi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){if(ur(e))return e;if(_(e))return e.split(" ");if(w(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,c){function l(e){var t=f(e,1);c.$addClass(t)}function u(e){var t=f(e,-1);c.$removeClass(t)}function f(e,t){var n=s.data("$classCounts")||{},i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function d(e,t){var r=i(t,e),o=i(e,t);r=f(r,1),o=f(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function h(e){if(t===!0||a.$index%2===t){var n=r(e||[]);if(p){if(!B(e,p)){var i=r(p);d(i,n)}}else l(n)}p=N(e)}var p;a.$watch(c[e],h,!0),c.$observe("class",function(){h(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(c[e]));o===t?l(s):u(s)}})}}}]}function qi(e){function t(e,t,c){t===n?i("$pending",e,c):r("$pending",e,c),D(t)?t?(f(s.$error,e,c),u(s.$$success,e,c)):(u(s.$error,e,c),f(s.$$success,e,c)):(f(s.$error,e,c),f(s.$$success,e,c)),s.$pending?(o(ga,!0),s.$valid=s.$invalid=n,a("",null)):(o(ga,!1),s.$valid=Ui(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),d.$setValidity(e,l,s)}function i(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function r(e,t,i){s[e]&&f(s[e],t,i),Ui(s[e])&&(s[e]=n)}function o(e,t){t&&!l[e]?(h.addClass(c,e),l[e]=!0):!t&&l[e]&&(h.removeClass(c,e),l[e]=!1)}function a(e,t){e=e?"-"+nt(e,"-"):"",o(fa+e,t===!0),o(da+e,t===!1)}var s=e.ctrl,c=e.$element,l={},u=e.set,f=e.unset,d=e.parentForm,h=e.$animate;l[da]=!(l[fa]=c.hasClass(fa)),s.$setValidity=t}function Ui(e){if(e)for(var t in e)return!1;return!0}var Gi=/^\/(.+)\/([a-z]*)$/,ji="validity",Wi=function(e){return _(e)?e.toLowerCase():e},Yi=Object.prototype.hasOwnProperty,Xi=function(e){return _(e)?e.toUpperCase():e},Ki=function(e){return _(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Zi=function(e){return _(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Wi=Ki,Xi=Zi);var Ji,Qi,er,tr,nr=[].slice,ir=[].splice,rr=[].push,or=Object.prototype.toString,ar=i("ng"),sr=e.angular||(e.angular={}),cr=0;Ji=t.documentMode,p.$inject=[],v.$inject=[];var lr,ur=Array.isArray,fr=function(e){return _(e)?e.trim():e},dr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},hr=function(){if($(hr.isActive_))return hr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return hr.isActive_=e},pr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,mr=!1,gr=1,$r=3,wr=8,_r=9,yr=11,br={full:"1.3.13",major:1,minor:3,dot:13,codeName:"meticulous-riffleshuffle"};_t.expando="ng339";var Sr=_t.cache={},Tr=1,xr=function(e,t,n){e.addEventListener(t,n,!1)},Er=function(e,t,n){e.removeEventListener(t,n,!1)};_t._data=function(e){return this.cache[e[this.expando]]||{}};var Cr=/([\:\-\_]+(.))/g,kr=/^moz([A-Z])/,Ar={mouseleave:"mouseout",mouseenter:"mouseover"},Dr=i("jqLite"),Ir=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Mr=/<|&#?\w+;/,Or=/<([\w:]+)/,Pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lr.optgroup=Lr.option,Lr.tbody=Lr.tfoot=Lr.colgroup=Lr.caption=Lr.thead,Lr.th=Lr.td;var Vr=_t.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),_t(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Qi(e>=0?this[e]:this[this.length+e])},length:0,push:rr,sort:[].sort,splice:[].splice},Nr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Nr[Wi(e)]=e});var Br={};o("input,select,option,textarea,button,form,details".split(","),function(e){Br[e]=!0});var Rr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Et,removeData:Tt},function(e,t){_t[t]=e}),o({data:Et,inheritedData:Mt,scope:function(e){return Qi.data(e,"$scope")||Mt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Qi.data(e,"$isolateScope")||Qi.data(e,"$isolateScopeNoTemplate")},controller:It,injector:function(e){return Mt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ct,css:function(e,t,n){return t=vt(t),$(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,i){var r=Wi(t);if(Nr[r]){if(!$(i))return e[t]||(e.attributes.getNamedItem(t)||p).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if($(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){return $(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(g(t)){var n=e.nodeType;return n===gr||n===$r?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(g(t)){if(e.multiple&&"select"===P(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return g(t)?e.innerHTML:(bt(e,!0),void(e.innerHTML=t))},empty:Ot},function(e,t){_t.prototype[t]=function(t,i){var r,o,a=this.length;if(e!==Ot&&(2==e.length&&e!==Ct&&e!==It?t:i)===n){if(w(t)){for(r=0;a>r;r++)if(e===Et)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var s=e.$dv,c=s===n?Math.min(a,1):a,l=0;c>l;l++){var u=e(this[l],t,i);s=s?s+u:u}return s}for(r=0;a>r;r++)e(this[r],t,i);return this}}),o({removeData:Tt,on:function Ga(e,t,n,i){if($(i))throw Dr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(gt(e)){var r=xt(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Bt(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length;c--;){t=s[c];var l=o[t];l||(o[t]=[],"mouseenter"===t||"mouseleave"===t?Ga(e,Ar[t],function(e){var n=this,i=e.relatedTarget;(!i||i!==n&&!n.contains(i))&&a(e,t)}):"$destroy"!==t&&xr(e,t,a),l=o[t]),l.push(n)}}},off:St,one:function(e,t,n){e=Qi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;bt(e),o(new _t(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===gr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===gr||n===yr){t=new _t(t);for(var i=0,r=t.length;r>i;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===gr){var n=e.firstChild;o(new _t(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Qi(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Pt,detach:function(e){Pt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new _t(t);for(var r=0,o=t.length;o>r;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:At,removeClass:kt,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;g(i)&&(i=!Ct(e,t)),(i?At:kt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==yr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:yt,triggerHandler:function(e,t,n){var i,r,a,s=t.type||t,c=xt(e),l=c&&c.events,u=l&&l[s];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(i=f(i,t)),r=N(u),a=n?[i].concat(n):[i],o(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){_t.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;a>o;o++)g(r)?(r=e(this[o],t,n,i),$(r)&&(r=Qi(r))):Dt(r,e(this[o],t,n,i));return $(r)?r:this},_t.prototype.bind=_t.prototype.on,_t.prototype.unbind=_t.prototype.off}),zt.prototype={put:function(e,t){this[Ht(e,this.nextUid)]=t},get:function(e){return this[Ht(e,this.nextUid)]},remove:function(e){var t=this[e=Ht(e,this.nextUid)];return delete this[e],t}};var Hr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,zr=/,/,Fr=/^\s*(_?)(\S+?)\1\s*$/,qr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ur=i("$injector");Ut.$$annotate=qt;var Gr=i("$animate"),jr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw Gr("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(e,t,n){function i(t){var i,r=e.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=t(function(){r.resolve()})}),r.promise}function r(e,t){var n=[],i=[],r=lt();return o((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0}),o(t,function(e,t){var o=r[t];e===!1&&o?i.push(t):e!==!0||o||n.push(t)}),n.length+i.length>0&&[n.length?n:null,i.length?i:null]}function a(e,t,n){for(var i=0,r=t.length;r>i;++i){var o=t[i];e[o]=n}}function s(){return l||(l=e.defer(),t(function(){l.resolve(),l=null})),l.promise}function c(e,t){if(sr.isObject(t)){var n=f(t.from||{},t.to||{});e.css(n)}}var l;return{animate:function(e,t,n){return c(e,{from:t,to:n}),s()},enter:function(e,t,n,i){return c(e,i),n?n.after(e):t.prepend(e),s()},leave:function(e){return e.remove(),s()},move:function(e,t,n,i){return this.enter(e,t,n,i)},addClass:function(e,t,n){return this.setClass(e,t,[],n)},$$addClassImmediately:function(e,t,n){return e=Qi(e),t=_(t)?t:ur(t)?t.join(" "):"",o(e,function(e){At(e,t)}),c(e,n),s()},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},$$removeClassImmediately:function(e,t,n){return e=Qi(e),t=_(t)?t:ur(t)?t.join(" "):"",o(e,function(e){kt(e,t)}),c(e,n),s()},setClass:function(e,t,n,o){var s=this,c="$$animateClasses",l=!1;e=Qi(e);var u=e.data(c);u?o&&u.options&&(u.options=sr.extend(u.options||{},o)):(u={classes:{},options:o},l=!0);var f=u.classes;return t=ur(t)?t:t.split(" "),n=ur(n)?n:n.split(" "),a(f,t,!0),a(f,n,!1),l&&(u.promise=i(function(t){var n=e.data(c);if(e.removeData(c),n){var i=r(e,n.classes);i&&s.$$setClassImmediately(e,i[0],i[1],n.options)}t()}),e.data(c,u)),u.promise},$$setClassImmediately:function(e,t,n,i){return t&&this.$$addClassImmediately(e,t),n&&this.$$removeClassImmediately(e,n),c(e,i),s()},enabled:p,cancel:p}}]}],Wr=i("$compile");Zt.$inject=["$provide","$$sanitizeUriProvider"];var Yr=/^((?:x|data)[\:\-_])/i,Xr=i("$controller"),Kr="application/json",Zr={"Content-Type":Kr+";charset=utf-8"},Jr=/^\[|^\{(?!\{)/,Qr={"[":/]$/,"{":/}$/},eo=/^\)\]\}',?\n/,to=i("$interpolate"),no=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,io={http:80,https:443,ftp:21},ro=i("$location"),oo={$$html5:!1,$$replace:!1,absUrl:An("$$absUrl"),url:function(e){if(g(e))return this.$$url;var t=no.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:An("$$protocol"),host:An("$$host"),port:An("$$port"),path:Dn("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(_(e)||y(e))e=e.toString(),this.$$search=W(e);else{if(!w(e))throw ro("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=V(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Dn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([kn,Cn,En],function(e){e.prototype=Object.create(oo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==En||!this.$$html5)throw ro("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=g(t)?null:t,this}});var ao=i("$parse"),so=Function.prototype.call,co=Function.prototype.apply,lo=Function.prototype.bind,uo=lt();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(e,t){e.constant=e.literal=e.sharedGetter=!0,uo[t]=e}),uo["this"]=function(e){return e},uo["this"].sharedGetter=!0;var fo=f(lt(),{"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),$(i)?$(r)?i+r:i:$(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),($(n)?n:0)-($(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"!":function(e,t,n){return!n(e,t)},"=":!0,"|":!0}),ho={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},po=function(e){this.options=e};po.prototype={constructor:po,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=fo[t],o=fo[n],a=fo[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ao("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Wi(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=ho[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});
n+=o}this.index++}this.throwError("Unterminated quote",t)}};var vo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};vo.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),vo.prototype={constructor:vo,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.peek().identifier&&this.peek().text in uo?e=uo[this.consume().text]:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t,n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ao("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},consume:function(e){if(0===this.tokens.length)throw ao("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},unaryFn:function(e,t){var n=fo[e];return f(function(e,i){return n(e,i,t)},{constant:t.constant,inputs:[t]})},binaryFn:function(e,t,n,i){var r=fo[t];return f(function(t,i){return r(t,i,e,n)},{constant:e.constant&&n.constant,inputs:!i&&[e,n]})},identifier:function(){for(var e=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)e+=this.consume().text+this.consume().text;return zn(e,this.options,this.text)},constant:function(){var e=this.consume().value;return f(function(){return e},{constant:!0,literal:!0})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0,o=e.length;o>r;r++)i=e[r](t,n);return i}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},filter:function(e){var t,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(t=[],i=[];this.expect(":");)t.push(this.expression());var o=[e].concat(t||[]);return f(function(o,a){var s=e(o,a);if(i){i[0]=s;for(var c=t.length;c--;)i[c+1]=t[c](o,a);return r.apply(n,i)}return r(s)},{constant:!r.$stateful&&o.every(Vn),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),f(function(t,i){return n.assign(t,e(t,i),i)},{inputs:[n,e]})):n},ternary:function(){var e,t,n=this.logicalOR();if((t=this.expect("?"))&&(e=this.assignment(),this.consume(":"))){var i=this.assignment();return f(function(t,r){return n(t,r)?e(t,r):i(t,r)},{constant:n.constant&&e.constant&&i.constant})}return n},logicalOR:function(){for(var e,t=this.logicalAND();e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var e,t=this.equality();e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(vo.ZERO,e.text,this.unary()):(e=this.expect("!"))?this.unaryFn(e.text,this.unary()):this.primary()},fieldAccess:function(e){var t=this.identifier();return f(function(i,r,o){var a=o||e(i,r);return null==a?n:t(a)},{assign:function(n,i,r){var o=e(n,r);return o||e.assign(n,o={},r),t.assign(o,i)}})},objectIndex:function(e){var t=this.text,i=this.expression();return this.consume("]"),f(function(r,o){var a,s=e(r,o),c=i(r,o);return On(c,t),s?a=Pn(s[c],t):n},{assign:function(n,r,o){var a=On(i(n,o),t),s=Pn(e(n,o),t);return s||e.assign(n,s={},o),s[a]=r}})},functionCall:function(e,t){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(a,s){var c=t?t(a,s):$(t)?n:a,l=e(a,s,c)||p;if(o)for(var u=i.length;u--;)o[u]=Pn(i[u](a,s),r);Pn(c,r),Ln(l,r);var f=l.apply?l.apply(c,o):l(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Pn(f,r)}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(t,n){for(var i=[],r=0,o=e.length;o>r;r++)i.push(e[r](t,n));return i},{literal:!0,constant:e.every(Vn),inputs:e})},object:function(){var e=[],t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?e.push(n.value):n.identifier?e.push(n.text):this.throwError("invalid key",n),this.consume(":"),t.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,i){for(var r={},o=0,a=t.length;a>o;o++)r[e[o]]=t[o](n,i);return r},{literal:!0,constant:t.every(Vn),inputs:t})}};var mo=lt(),go=lt(),$o=Object.prototype.valueOf,wo=i("$sce"),_o={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wr=i("$compile"),yo=t.createElement("a"),bo=ri(e.location.href);si.$inject=["$provide"],fi.$inject=["$locale"],di.$inject=["$locale"];var So=".",To={yyyy:vi("FullYear",4),yy:vi("FullYear",2,0,!0),y:vi("FullYear",1),MMMM:mi("Month"),MMM:mi("Month",!0),MM:vi("Month",2,1),M:vi("Month",1,1),dd:vi("Date",2),d:vi("Date",1),HH:vi("Hours",2),H:vi("Hours",1),hh:vi("Hours",2,-12),h:vi("Hours",1,-12),mm:vi("Minutes",2),m:vi("Minutes",1),ss:vi("Seconds",2),s:vi("Seconds",1),sss:vi("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:yi,Z:gi,ww:_i(2),w:_i(1)},xo=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Eo=/^\-?\d+$/;bi.$inject=["$locale"];var Co=m(Wi),ko=m(Xi);xi.$inject=["$parse"];var Ao=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref||t.name?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===or.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Do={};o(Nr,function(e,t){if("multiple"!=e){var n=Jt("ng-"+t);Do[n]=function(){return{restrict:"A",priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),o(Rr,function(e,t){Do[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Gi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Jt("ng-"+e);Do[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===or.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Ji&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Io={$addControl:p,$$renameControl:Ci,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Mo="ng-submitted";ki.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Oo=function(e){return["$timeout",function(t){var i={name:"form",restrict:e?"EAC":"E",controller:ki,compile:function(e){return e.addClass(ha).addClass(fa),{pre:function(e,i,r,o){if(!("action"in r)){var a=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()};xr(i[0],"submit",a),i.on("$destroy",function(){t(function(){Er(i[0],"submit",a)},0,!1)})}var s=o.$$parentForm,c=o.$name;c&&(Nn(e,null,c,o,c),r.$observe(r.name?"name":"ngForm",function(t){c!==t&&(Nn(e,null,c,n,c),c=t,Nn(e,null,c,o,c),s.$$renameControl(o,c))})),i.on("$destroy",function(){s.$removeControl(o),c&&Nn(e,null,c,n,c),f(o,Io)})}}}};return i}]},Po=Oo(),Lo=Oo(!0),Vo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,No=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Bo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ro=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ho=/^(\d{4})-(\d{2})-(\d{2})$/,zo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Fo=/^(\d{4})-W(\d\d)$/,qo=/^(\d{4})-(\d\d)$/,Uo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go={text:Di,date:Pi("date",Ho,Oi(Ho,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Pi("datetimelocal",zo,Oi(zo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Pi("time",Uo,Oi(Uo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Pi("week",Fo,Mi,"yyyy-Www"),month:Pi("month",qo,Oi(qo,["yyyy","MM"]),"yyyy-MM"),number:Vi,url:Ni,email:Bi,radio:Ri,checkbox:zi,hidden:p,button:p,submit:p,reset:p,file:p},jo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Go[Wi(a.type)]||Go.text)(r,o,a,s[0],t,e,n,i)}}}}],Wo=/^(true|false|\d+)$/,Yo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Wo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Xo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,r){e.$$addBindingInfo(i,r.ngBind),i=i[0],t.$watch(r.ngBind,function(e){i.textContent=e===n?"":e})}}}}],Ko=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,o){var a=e(r.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(r,a.expressions),r=r[0],o.$observe("ngBindTemplate",function(e){r.textContent=e===n?"":e})}}}}],Zo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){i.html(e.getTrustedHtml(o(t))||"")})}}}}],Jo=m({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Qo=Fi("",!0),ea=Fi("Odd",0),ta=Fi("Even",1),na=Ei({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ia=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ra={},oa={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Jt("ng-"+e);ra[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};oa[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var aa=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=ct(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],sa=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:sr.noop,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",c=o.autoscroll;return function(r,o,l,u,f){var d,h,p,v=0,m=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};r.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!$(c)||c&&!r.$eval(c)||t()},l=++v;i?(e(i,!0).then(function(e){if(l===v){var t=r.$new();u.template=e;var c=f(t,function(e){m(),n.enter(e,null,o).then(a)});d=t,p=c,d.$emit("$includeContentLoaded",i),r.$eval(s)}},function(){l===v&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),u.template=null)})}}}}],ca=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),void e($t(o.template,t).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],la=Ei({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ua=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,r){var a=t.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,c=s?fr(a):a,l=function(e){if(!g(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(s?fr(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){return ur(e)?e.join(a):n}),r.$isEmpty=function(e){return!e||!e.length}}}},fa="ng-valid",da="ng-invalid",ha="ng-pristine",pa="ng-dirty",va="ng-untouched",ma="ng-touched",ga="ng-pending",$a=new i("ngModel"),wa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,r,a,s,c,l,u,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(i.name||"",!1)(e);var d=a(i.ngModel),h=d.assign,v=d,m=h,w=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");v=function(e){var n=d(e);return S(n)&&(n=t(e)),n},m=function(e){S(d(e))?n(e,{$$$p:_.$modelValue}):h(e,_.$modelValue)}}else if(!d.assign)throw $a("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,G(r))},this.$render=p,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!==e};var b=r.inheritedData("$formController")||Io,T=0;qi({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:b,$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(r,pa),s.addClass(r,ha)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(r,ha),s.addClass(r,pa),b.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(r,va,ma)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(r,ma,va)},this.$rollbackViewValue=function(){c.cancel(w),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!y(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,i=_.$$parserName||"parse",r=_.$error[i]?!1:n,o=_.$valid,a=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$runValidators(r,t,e,function(e){s||o===e||(_.$modelValue=e?t:n,_.$modelValue!==a&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i,r){function a(e){var t=_.$$parserName||"parse";if(e===n)l(t,null);else if(l(t,e),!e)return o(_.$validators,function(e,t){l(t,null)}),o(_.$asyncValidators,function(e,t){l(t,null)}),!1;return!0}function s(){var e=!0;return o(_.$validators,function(n,r){var o=n(t,i);e=e&&o,l(r,o)}),e?!0:(o(_.$asyncValidators,function(e,t){l(t,null)}),!1)}function c(){var e=[],r=!0;o(_.$asyncValidators,function(o,a){var s=o(t,i);if(!I(s))throw $a("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),e.push(s.then(function(){l(a,!0)},function(){r=!1,l(a,!1)}))}),e.length?u.all(e).then(function(){f(r)},p):f(!0)}function l(e,t){d===T&&_.$setValidity(e,t)}function f(e){d===T&&r(e)}T++;var d=T;return a(e)&&s()?void c():void f(!1)},this.$commitViewValue=function(){var e=_.$viewValue;c.cancel(w),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==s&&_.$$writeModelToScope()}var i=_.$$lastCommittedViewValue,r=i,o=g(r)?n:!0;if(o)for(var a=0;a<_.$parsers.length;a++)if(r=_.$parsers[a](r),g(r)){o=!1;break}y(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=v(e));var s=_.$modelValue,c=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=r,c&&(_.$modelValue=r,t()),_.$$runValidators(o,r,_.$$lastCommittedViewValue,function(e){c||(_.$modelValue=e?r:n,t())})},this.$$writeModelToScope=function(){m(e,_.$modelValue),o(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,(!_.$options||_.$options.updateOnDefault)&&_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=_.$options;r&&$(r.debounce)&&(n=r.debounce,y(n)?i=n:y(n[t])?i=n[t]:y(n["default"])&&(i=n["default"])),c.cancel(w),i?w=c(function(){_.$commitViewValue()},i):l.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=v(e);if(t!==_.$modelValue){_.$modelValue=_.$$rawModelValue=t;for(var i=_.$formatters,r=i.length,o=t;r--;)o=i[r](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(n,t,o,p))}return t})}],_a=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:wa,priority:1,compile:function(t){return t.addClass(ha).addClass(va).addClass(fa),{pre:function(e,t,n,i){var r=i[0],o=i[1]||Io;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&o.$$renameControl(r,e)}),e.$on("$destroy",function(){o.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],ya=/(\s+|^)default(\s+|$)/,ba=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=e.$eval(t.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=fr(this.$options.updateOn.replace(ya,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Sa=Ei({terminal:!0,priority:1e3}),Ta=["$locale","$interpolate",function(e,t){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,a,s){function c(e){a.text(e||"")}var l,u=s.count,f=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,h=r.$eval(f)||{},p={},v=t.startSymbol(),m=t.endSymbol(),g=v+u+"-"+d+m,$=sr.noop;o(s,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Wi(n[2]);h[r]=a.attr(s.$attr[t])}}),o(h,function(e,i){p[i]=t(e.replace(n,g))}),r.$watch(u,function(t){var n=parseFloat(t),i=isNaN(n);i||n in h||(n=e.pluralCat(n-d)),n===l||i&&isNaN(l)||($(),$=r.$watch(p[n],c),l=n)})}}}],xa=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",c=i("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},f=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var h=d.ngRepeat,p=t.createComment(" end ngRepeat: "+h+" "),v=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!v)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=v[1],g=v[2],$=v[3],w=v[4];if(v=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!v)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=v[3]||v[1],y=v[2];if($&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test($)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test($)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",$);var b,S,T,x,E={$id:Ht};return w?b=e(w):(T=function(e,t){return Ht(t)},x=function(e){return e}),function(e,t,i,d,v){b&&(S=function(t,n,i){return y&&(E[y]=t),E[_]=n,E.$index=i,b(e,E)});var m=lt();e.$watchCollection(g,function(i){var d,g,w,b,E,C,k,A,D,I,M,O,P=t[0],L=lt();if($&&(e[$]=i),r(i))D=i,A=S||T;else{A=S||x,D=[];for(var V in i)i.hasOwnProperty(V)&&"$"!=V.charAt(0)&&D.push(V);D.sort()}for(b=D.length,M=new Array(b),d=0;b>d;d++)if(E=i===D?d:D[d],C=i[E],k=A(E,C,d),m[k])I=m[k],delete m[k],L[k]=I,M[d]=I;else{if(L[k])throw o(M,function(e){e&&e.scope&&(m[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,k,C);M[d]={id:k,scope:n,clone:n},L[k]=!0}for(var N in m){if(I=m[N],O=ct(I.clone),a.leave(O),O[0].parentNode)for(d=0,g=O.length;g>d;d++)O[d][s]=!0;I.scope.$destroy()}for(d=0;b>d;d++)if(E=i===D?d:D[d],C=i[E],I=M[d],I.scope){w=P;do w=w.nextSibling;while(w&&w[s]);u(I)!=w&&a.move(ct(I.clone),null,Qi(P)),P=f(I),l(I.scope,d,_,C,y,E,b)}else v(function(e,t){I.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,Qi(P)),P=n,I.clone=e,L[I.id]=I,l(I.scope,d,_,C,y,E,b)});m=L})}}}}],Ea="ng-hide",Ca="ng-hide-animate",ka=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ea,{tempClasses:Ca})})}}}],Aa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ea,{tempClasses:Ca})})}}}],Da=Ei(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)})}),Ia=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=r.ngSwitch||r.on,c=[],l=[],u=[],f=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,r;for(i=0,r=u.length;r>i;++i)e.cancel(u[i]);for(u.length=0,i=0,r=f.length;r>i;++i){var s=ct(l[i].clone);f[i].$destroy();var h=u[i]=e.leave(s);h.then(d(u,i))}l.length=0,f.length=0,(c=a.cases["!"+n]||a.cases["?"])&&o(c,function(n){n.transclude(function(i,r){f.push(r);var o=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)})})})}}}],Ma=Ei({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),Oa=Ei({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),Pa=Ei({restrict:"EAC",link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",G(t));o(function(e){t.empty(),t.append(e)})}}),La=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Va=i("ngOptions"),Na=m({restrict:"A",terminal:!0}),Ba=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,a={},c=s;o.databound=n.ngModel,o.init=function(e,t,n){c=e,i=t,r=n},o.addOption=function(t,n){at(t,'"option value"'),a[t]=!0,c.$viewValue==t&&(e.val(t),r.parent()&&r.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],c.$viewValue===e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Ht(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,c,l,u){function f(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(x.parent()&&x.remove(),t.val(e),""===e&&p.prop("selected",!0)):g(e)&&p?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){x.parent()&&x.remove(),n.$setViewValue(t.val())})})}function d(e,t,n){var i;n.$render=function(){var e=new zt(n.$viewValue);o(t.find("option"),function(t){t.selected=$(e.get(t.value))})},e.$watch(function(){B(i,n.$viewValue)||(i=N(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function h(t,s,c){function l(e,n,i){return B[C]=i,D&&(B[D]=n),e(t,B)}function u(){t.$apply(function(){var e,n=O(t)||[];if(w)e=[],o(s.val(),function(t){t=L?V[t]:t,e.push(f(t,n[t]))});else{var i=L?V[s.val()]:s.val();e=f(i,n[i])}c.$setViewValue(e),g()})}function f(e,t){if("?"===e)return n;if(""===e)return null;var i=A?A:M;return l(i,e,t)}function d(){var e,n=O(t);if(n&&ur(n)){e=new Array(n.length);for(var i=0,r=n.length;r>i;i++)e[i]=l(E,i,n[i]);return e}if(n){e={};for(var o in n)n.hasOwnProperty(o)&&(e[o]=l(E,o,n[o]))}return e}function h(e){var t;if(w)if(L&&ur(e)){t=new zt([]);for(var n=0;n<e.length;n++)t.put(l(L,null,e[n]),!0)}else t=new zt(e);else L&&(e=l(L,null,e));return function(n,i){var r;return r=L?L:A?A:M,w?$(t.remove(l(r,n,i))):e===l(r,n,i)}}function p(){b||(t.$$postDigest(g),b=!0)}function m(e,t,n){e[t]=e[t]||0,e[t]+=n?1:-1}function g(){b=!1;var e,n,i,r,u,f,d,p,g,_,x,C,k,A,M,P,R,H={"":[]},z=[""],F=c.$viewValue,q=O(t)||[],U=D?a(q):q,G={},j=h(F),W=!1;for(V={},C=0;_=U.length,_>C;C++)d=C,D&&(d=U[C],"$"===d.charAt(0))||(p=q[d],e=l(I,d,p)||"",(n=H[e])||(n=H[e]=[],z.push(e)),k=j(d,p),W=W||k,P=l(E,d,p),P=$(P)?P:"",R=L?L(t,B):D?U[C]:C,L&&(V[R]=d),n.push({id:R,label:P,selected:k}));for(w||(y||null===F?H[""].unshift({id:"",label:"",selected:!W}):W||H[""].unshift({id:"?",label:"",selected:!0})),x=0,g=z.length;g>x;x++){for(e=z[x],n=H[e],N.length<=x?(r={element:T.clone().attr("label",e),label:n.label},u=[r],N.push(u),s.append(r.element)):(u=N[x],r=u[0],r.label!=e&&r.element.attr("label",r.label=e)),A=null,C=0,_=n.length;_>C;C++)i=n[C],(f=u[C+1])?(A=f.element,f.label!==i.label&&(m(G,f.label,!1),m(G,i.label,!0),A.text(f.label=i.label),A.prop("label",f.label)),f.id!==i.id&&A.val(f.id=i.id),A[0].selected!==i.selected&&(A.prop("selected",f.selected=i.selected),Ji&&A.prop("selected",f.selected))):(""===i.id&&y?M=y:(M=S.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),u.push(f={element:M,label:i.label,id:i.id,selected:i.selected}),m(G,i.label,!0),A?A.after(M):r.element.append(M),A=M);for(C++;u.length>C;)i=u.pop(),m(G,i.label,!1),i.element.remove()}for(;N.length>x;){for(n=N.pop(),C=1;C<n.length;++C)m(G,n[C].label,!1);n[0].element.remove()}o(G,function(e,t){e>0?v.addOption(t):0>e&&v.removeOption(t)})}var x;if(!(x=_.match(r)))throw Va("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",_,G(s));var E=i(x[2]||x[1]),C=x[4]||x[6],k=/ as /.test(x[0])&&x[1],A=k?i(k):null,D=x[5],I=i(x[3]||""),M=i(x[2]?x[1]:C),O=i(x[7]),P=x[8],L=P?i(x[8]):null,V={},N=[[{element:s,label:""}]],B={};y&&(e(y)(t),y.removeClass("ng-scope"),y.remove()),s.empty(),s.on("change",u),c.$render=g,t.$watchCollection(O,p),t.$watchCollection(d,p),w&&t.$watchCollection(function(){return c.$modelValue},p)}if(u[1]){for(var p,v=u[0],m=u[1],w=l.multiple,_=l.ngOptions,y=!1,b=!1,S=Qi(t.createElement("option")),T=Qi(t.createElement("optgroup")),x=S.clone(),E=0,C=c.children(),k=C.length;k>E;E++)if(""===C[E].value){p=y=C.eq(E);break}v.init(m,y,x),w&&(m.$isEmpty=function(e){return!e||0===e.length}),_?h(s,c,m):w?d(s,c,m):f(s,c,m,v)}}}}],Ra=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,i){if(g(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=t),r?e.$watch(r,function(e,t){i.$set("value",e),t!==e&&s.removeOption(t),s.addOption(e,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],Ha=m({restrict:"E",terminal:!1}),za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Fa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(_(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,G(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||g(a)||a.test(e)}}}}},qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=d(e);r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>r||i.$isEmpty(t)||t.length<=r}}}}},Ua=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};e.angular.bootstrap||(it(),ht(sr),Qi(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var e="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;t.isString(o)&&0===o.length?i.data(e,!0):n.$watch(o,function(t){i.data(e,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth+1;t()})}}]).config(["$provide","$animateProvider",function(i,r){function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==m)return n}}function a(e){return e&&t.element(e)}function s(e){return t.element(o(e))}function c(e,t){return o(e)==o(t)}var l,u=t.noop,f=t.forEach,d=r.$$selectors,h=t.isArray,p=t.isString,v=t.isObject,m=1,g="$$ngAnimateState",$="$$ngAnimateChildren",w="ng-animate",_={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,m,y,b,S,T,x,E){function C(e,t){var n=e.data(g)||{};
return t&&(n.running=!0,n.structural=!0,e.data(g,n)),n.disabled||n.running&&n.structural}function k(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},S.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function A(e){return v(e)?(e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function D(e,t,n){n=n||{};var i={};f(n,function(e,t){f(t.split(" "),function(t){i[t]=e})});var r=Object.create(null);f((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0});var o=[],a=[];return f(t&&t.classes||[],function(e,t){var n=r[t],s=i[t]||{};e===!1?(n||"addClass"==s.event)&&a.push(t):e===!0&&(n&&"removeClass"!=s.event||o.push(t))}),o.length+a.length>0&&[o.join(" "),a.join(" ")]}function I(e){if(e){var t=[],n={},r=e.substr(1).split(".");(m.transitions||m.animations)&&t.push(i.get(d[""]));for(var o=0;o<r.length;o++){var a=r[o],s=d[a];s&&!n[a]&&(t.push(i.get(s)),n[a]=!0)}return t}}function M(e,n,i,r){function o(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),b.push({event:t,fn:n}),w.push({event:t,fn:i}),!0):void 0}function a(t,n,o){function a(e){if(n){if((n[e]||u)(),++d<s.length)return;n=null}o()}var s=[];f(t,function(e){e.fn&&s.push(e)});var d=0;f(s,function(t,o){var s=function(){a(o)};switch(t.event){case"setClass":n.push(t.fn(e,c,l,s,r));break;case"animate":n.push(t.fn(e,i,r.from,r.to,s));break;case"addClass":n.push(t.fn(e,c||i,s,r));break;case"removeClass":n.push(t.fn(e,l||i,s,r));break;default:n.push(t.fn(e,s,r))}}),n&&0===n.length&&o()}var s=e[0];if(s){r&&(r.to=r.to||{},r.from=r.from||{});var c,l;h(i)&&(c=i[0],l=i[1],c?l?i=c+" "+l:(i=c,n="addClass"):(i=l,n="removeClass"));var d="setClass"==n,p=d||"addClass"==n||"removeClass"==n||"animate"==n,v=e.attr("class"),m=v+" "+i;if(H(m)){var g=u,$=[],w=[],_=u,y=[],b=[],S=(" "+m).replace(/\s+/g,".");return f(I(S),function(e){var t=o(e,n);!t&&d&&(o(e,"addClass"),o(e,"removeClass"))}),{node:s,event:n,className:i,isClassBased:p,isSetClassOperation:d,applyStyles:function(){r&&e.css(t.extend(r.from||{},r.to||{}))},before:function(e){g=e,a(w,$,function(){g=u,e()})},after:function(e){_=e,a(b,y,function(){_=u,e()})},cancel:function(){$&&(f($,function(e){(e||u)(!0)}),g(!0)),y&&(f(y,function(e){(e||u)(!0)}),_(!0))}}}}}function O(e,n,i,r,o,a,s,c){function d(t){var r="$animate:"+t;S&&S[r]&&S[r].length>0&&b(function(){i.triggerHandler(r,{event:e,className:n})})}function h(){d("before")}function p(){d("after")}function v(){d("close"),c()}function m(){m.hasBeenRun||(m.hasBeenRun=!0,a())}function $(){if(!$.hasBeenRun){y&&y.applyStyles(),$.hasBeenRun=!0,s&&s.tempClasses&&f(s.tempClasses,function(e){l.removeClass(i,e)});var t=i.data(g);t&&(y&&y.isClassBased?L(i,n):(b(function(){var t=i.data(g)||{};O==t.index&&L(i,n,e)}),i.data(g,t))),v()}}var _=u,y=M(i,e,n,s);if(!y)return m(),h(),p(),$(),_;e=y.event,n=y.className;var S=t.element._data(y.node);if(S=S&&S.events,r||(r=o?o.parent():i.parent()),V(i,r))return m(),h(),p(),$(),_;var T=i.data(g)||{},x=T.active||{},E=T.totalActive||0,C=T.last,k=!1;if(E>0){var A=[];if(y.isClassBased){if("setClass"==C.event)A.push(C),L(i,n);else if(x[n]){var D=x[n];D.event==e?k=!0:(A.push(D),L(i,n))}}else if("leave"==e&&x["ng-leave"])k=!0;else{for(var I in x)A.push(x[I]);T={},L(i,!0)}A.length>0&&f(A,function(e){e.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==e||k||(k="addClass"==e==i.hasClass(n)),k)return m(),h(),p(),v(),_;x=T.active||{},E=T.totalActive||0,"leave"==e&&i.one("$destroy",function(){var e=t.element(this),n=e.data(g);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),L(e,"ng-leave"))}}),l.addClass(i,w),s&&s.tempClasses&&f(s.tempClasses,function(e){l.addClass(i,e)});var O=B++;return E++,x[n]=y,i.data(g,{last:y,active:x,index:O,totalActive:E}),h(),y.before(function(t){var r=i.data(g);t=t||!r||!r.active[n]||y.isClassBased&&r.active[n].event!=e,m(),t===!0?$():(p(),y.after($))}),y.cancel}function P(e){var n=o(e);if(n){var i=t.isFunction(n.getElementsByClassName)?n.getElementsByClassName(w):n.querySelectorAll("."+w);f(i,function(e){e=t.element(e);var n=e.data(g);n&&n.active&&f(n.active,function(e){e.cancel()})})}}function L(e,t){if(c(e,y))_.disabled||(_.running=!1,_.structural=!1);else if(t){var n=e.data(g)||{},i=t===!0;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(l.removeClass(e,w),e.removeData(g))}}function V(e,n){if(_.disabled)return!0;if(c(e,y))return _.running;var i,r,o;do{if(0===n.length)break;var a=c(n,y),s=a?_:n.data(g)||{};if(s.disabled)return!0;if(a&&(o=!0),i!==!1){var l=n.data($);t.isDefined(l)&&(i=l)}r=r||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!o||!i&&r}l=E,y.data(g,_);var N=S.$watch(function(){return x.totalPendingRequests},function(e){0===e&&(N(),S.$$postDigest(function(){S.$$postDigest(function(){_.running=!1})}))}),B=0,R=r.classNameFilter(),H=R?function(e){return R.test(e)}:function(){return!0};return{animate:function(e,t,n,i,r){return i=i||"ng-inline-animate",r=A(r)||{},r.from=n?t:null,r.to=n?n:t,k(function(t){return O("animate",i,s(e),null,null,u,r,t)})},enter:function(n,i,r,o){return o=A(o),n=t.element(n),i=a(i),r=a(r),C(n,!0),e.enter(n,i,r),k(function(e){return O("enter","ng-enter",s(n),i,r,u,o,e)})},leave:function(n,i){return i=A(i),n=t.element(n),P(n),C(n,!0),k(function(t){return O("leave","ng-leave",s(n),null,null,function(){e.leave(n)},i,t)})},move:function(n,i,r,o){return o=A(o),n=t.element(n),i=a(i),r=a(r),P(n),C(n,!0),e.move(n,i,r),k(function(e){return O("move","ng-move",s(n),i,r,u,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,r,a){a=A(a);var c="$$animateClasses";if(n=t.element(n),n=s(n),C(n))return e.$$setClassImmediately(n,i,r,a);var l,u=n.data(c),d=!!u;return u||(u={},u.classes={}),l=u.classes,i=h(i)?i:i.split(" "),f(i,function(e){e&&e.length&&(l[e]=!0)}),r=h(r)?r:r.split(" "),f(r,function(e){e&&e.length&&(l[e]=!1)}),d?(a&&u.options&&(u.options=t.extend(u.options||{},a)),u.promise):(n.data(c,u={classes:l,options:a}),u.promise=k(function(t){var i=n.parent(),r=o(n),a=r.parentNode;if(!a||a.$$NG_REMOVED||r.$$NG_REMOVED)return void t();var s=n.data(c);n.removeData(c);var l=n.data(g)||{},u=D(n,s,l.active);return u?O("setClass",u,n,i,null,function(){u[0]&&e.$$addClassImmediately(n,u[0]),u[1]&&e.$$removeClassImmediately(n,u[1])},s.options,t):t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)L(t);else{var n=t.data(g)||{};n.disabled=!0,t.data(g,n)}break;case 1:_.disabled=!e;break;default:e=!_.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,a,s){function c(){L||(L=s(function(){Y=[],L=null,j={}}))}function d(e,t){L&&L(),Y.push(t),L=s(function(){f(Y,function(e){e()}),Y=[],L=null,j={}})}function v(e,n){var i=o(e);e=t.element(i),Z.push(e);var r=Date.now()+n;K>=r||(a.cancel(X),K=r,X=a(function(){g(Z),Z=[]},n,!1))}function g(e){f(e,function(e){var t=e.data(F);t&&f(t.closeAnimationFns,function(e){e()})})}function $(e,t){var n=t?j[t]:null;if(!n){var r=0,o=0,a=0,s=0;f(e,function(e){if(e.nodeType==m){var t=i.getComputedStyle(e)||{},n=t[D+V];r=Math.max(w(n),r);var c=t[D+B];o=Math.max(w(c),o);{t[M+B]}s=Math.max(w(t[M+B]),s);var l=w(t[M+V]);l>0&&(l*=parseInt(t[M+R],10)||1),a=Math.max(l,a)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:s,animationDuration:a},t&&(j[t]=n)}return n}function w(e){var t=0,n=p(e)?e.split(/\s*,\s*/):[];return f(n,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function _(e){var t=e.parent(),n=t.data(z);return n||(t.data(z,++W),n=W),n+"-"+o(e).getAttribute("class")}function y(e,t,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,a=_(t),s=a+" "+n,c=j[s]?++j[s].total:0,u={};if(c>0){var f=n+"-stagger",d=a+" "+f,h=!j[d];h&&l.addClass(t,f),u=$(t,d),h&&l.removeClass(t,f)}l.addClass(t,n);var p=t.data(F)||{},v=$(t,s),m=v.transitionDuration,g=v.animationDuration;if(r&&0===m&&0===g)return l.removeClass(t,n),!1;var w=i||r&&m>0,y=g>0&&u.animationDelay>0&&0===u.animationDuration,b=p.closeAnimationFns||[];t.data(F,{stagger:u,cacheKey:s,running:p.running||0,itemIndex:c,blockTransition:w,closeAnimationFns:b});var x=o(t);return w&&(S(x,!0),i&&t.css(i)),y&&T(x,!0),!0}function b(e,t,n,i,r){function s(){t.off(B,c),l.removeClass(t,h),l.removeClass(t,p),V&&a.cancel(V),k(t,n);var e=o(t);for(var i in g)e.style.removeProperty(g[i])}function c(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(q));Math.max(n-N,0)>=M&&r>=A&&i()}var u=o(t),d=t.data(F);if(-1==u.getAttribute("class").indexOf(n)||!d)return void i();var h="",p="";f(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;h+=n+"-active",p+=n+"-pending"});var m="",g=[],w=d.itemIndex,_=d.stagger,y=0;if(w>0){var b=0;_.transitionDelay>0&&0===_.transitionDuration&&(b=_.transitionDelay*w);var x=0;_.animationDelay>0&&0===_.animationDuration&&(x=_.animationDelay*w,g.push(P+"animation-play-state")),y=Math.round(100*Math.max(b,x))/100}y||(l.addClass(t,h),d.blockTransition&&S(u,!1));var E=d.cacheKey+" "+h,C=$(t,E),A=Math.max(C.transitionDuration,C.animationDuration);if(0===A)return l.removeClass(t,h),k(t,n),void i();!y&&r&&Object.keys(r).length>0&&(C.transitionDuration||(t.css("transition",C.animationDuration+"s linear all"),g.push("transition")),t.css(r));var D=Math.max(C.transitionDelay,C.animationDelay),M=D*G;if(g.length>0){var L=u.getAttribute("style")||"";";"!==L.charAt(L.length-1)&&(L+=";"),u.setAttribute("style",L+" "+m)}var V,N=Date.now(),B=O+" "+I,R=(D+A)*U,H=(y+R)*G;return y>0&&(l.addClass(t,p),V=a(function(){V=null,C.transitionDuration>0&&S(u,!1),C.animationDuration>0&&T(u,!1),l.addClass(t,h),l.removeClass(t,p),r&&(0===C.transitionDuration&&t.css("transition",C.animationDuration+"s linear all"),t.css(r),g.push("transition"))},y*G,!1)),t.on(B,c),d.closeAnimationFns.push(function(){s(),i()}),d.running++,v(t,H),s}function S(e,t){e.style[D+N]=t?"none":""}function T(e,t){e.style[M+H]=t?"paused":""}function x(e,t,n,i){return y(e,t,n,i)?function(e){e&&k(t,n)}:void 0}function E(e,t,n,i,r){return t.data(F)?b(e,t,n,i,r):(k(t,n),void i())}function C(e,t,n,i,r){var o=x(e,t,n,r.from);if(!o)return c(),void i();var a=o;return d(t,function(){a=E(e,t,n,i,r.to)}),function(e){(a||u)(e)}}function k(e,t){l.removeClass(e,t);var n=e.data(F);n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData(F))}function A(e,t){var n="";return e=h(e)?e:e.split(/\s+/),f(e,function(e,i){e&&e.length>0&&(n+=(i>0?" ":"")+e+t)}),n}var D,I,M,O,P="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(P="-webkit-",D="WebkitTransition",I="webkitTransitionEnd transitionend"):(D="transition",I="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(P="-webkit-",M="WebkitAnimation",O="webkitAnimationEnd animationend"):(M="animation",O="animationend");var L,V="Duration",N="Property",B="Delay",R="IterationCount",H="PlayState",z="$$ngAnimateKey",F="$$ngAnimateCSS3Data",q=3,U=1.5,G=1e3,j={},W=0,Y=[],X=null,K=0,Z=[];return{animate:function(e,t,n,i,r,o){return o=o||{},o.from=n,o.to=i,C("animate",e,t,r,o)},enter:function(e,t,n){return n=n||{},C("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},C("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},C("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,r){r=r||{};var o=A(n,"-remove")+" "+A(t,"-add"),a=x("setClass",e,o,r.from);return a?(d(e,i),a):(c(),void i())},beforeAddClass:function(e,t,n,i){i=i||{};var r=x("addClass",e,A(t,"-add"),i.from);return r?(d(e,n),r):(c(),void n())},beforeRemoveClass:function(e,t,n,i){i=i||{};var r=x("removeClass",e,A(t,"-remove"),i.from);return r?(d(e,n),r):(c(),void n())},setClass:function(e,t,n,i,r){r=r||{},n=A(n,"-remove"),t=A(t,"-add");var o=n+" "+t;return E("setClass",e,o,i,r.to)},addClass:function(e,t,n,i){return i=i||{},E("addClass",e,A(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},E("removeClass",e,A(t,"-remove"),n,i.to)}}}])}])}(window,window.angular),function(e,t){"use strict";function n(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function i(e){var n=[],i=c(n,t.noop);return i.chars(e),n.join("")}function r(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function o(e,n){function i(e,i,o,s){if(i=t.lowercase(i),T[i])for(;w.last()&&x[w.last()];)r("",w.last());S[i]&&w.last()==i&&r("",i),s=_[i]||!!s,s||w.push(i);var c={};o.replace(d,function(e,t,n,i,r){var o=n||i||r||"";c[t]=a(o)}),n.start&&n.start(i,c,s)}function r(e,i){var r,o=0;if(i=t.lowercase(i))for(o=w.length-1;o>=0&&w[o]!=i;o--);if(o>=0){for(r=w.length-1;r>=o;r--)n.end&&n.end(w[r]);w.length=o}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var o,s,c,$,w=[],y=e;for(w.last=function(){return w[w.length-1]};e;){if($="",s=!0,w.last()&&C[w.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(e,t){return t=t.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(a(t)),""}),r("",w.last())):(0===e.indexOf("<!--")?(o=e.indexOf("--",4),o>=0&&e.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(e.substring(4,o)),e=e.substring(o+3),s=!1)):m.test(e)?(c=e.match(m),c&&(e=e.replace(c[0],""),s=!1)):p.test(e)?(c=e.match(f),c&&(e=e.substring(c[0].length),c[0].replace(f,r),s=!1)):h.test(e)&&(c=e.match(u),c?(c[4]&&(e=e.substring(c[0].length),c[0].replace(u,i)),s=!1):($+="<",e=e.substring(1))),s&&(o=e.indexOf("<"),$+=0>o?e:e.substring(0,o),e=0>o?"":e.substring(o),n.chars&&n.chars(a($)))),e==y)throw l("badparse","The sanitizer was unable to parse the following block of html: {0}",e);y=e}r()}function a(e){if(!e)return"";var t=P.exec(e),n=t[1],i=t[3],r=t[2];return r&&(O.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in O?O.textContent:O.innerText),n+r+i}function s(e){return e.replace(/&/g,"&amp;").replace($,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(w,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!i&&C[e]&&(i=e),i||k[e]!==!0||(r("<"),r(e),t.forEach(o,function(i,o){var a=t.lowercase(o),c="img"===e&&"src"===a||"background"===a;M[a]!==!0||A[a]===!0&&!n(i,c)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||k[e]!==!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}var l=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,p=/^<\//,v=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]>/g,$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,_=r("area,br,col,hr,img,wbr"),y=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=r("rp,rt"),S=t.extend({},b,y),T=t.extend({},y,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},b,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),C=r("script,style"),k=t.extend({},_,T,x,S,E),A=r("background,cite,href,longdesc,src,usemap,xlink:href"),D=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),I=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),M=t.extend({},A,I,D),O=document.createElement("pre"),P=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(o,a){function s(e){e&&h.push(i(e))}function c(e,n){h.push("<a "),t.isDefined(a)&&h.push('target="',a,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}if(!o)return o;for(var l,u,f,d=o,h=[];l=d.match(n);)u=l[0],l[2]||l[4]||(u=(l[3]?"http://":"mailto:")+u),f=l.index,s(d.substr(0,f)),c(u,l[0].replace(r,"")),d=d.substring(f+l[0].length);return s(d),e(h.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return B(new(B(function(){},{prototype:e})),t)}function r(e){return N(arguments,function(t){t!==e&&N(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function c(e,t,n,i){var r,c=o(n,i),l={},u=[];for(var f in c)if(c[f].params&&(r=a(c[f].params),r.length))for(var d in r)s(u,r[d])>=0||(u.push(r[d]),l[r[d]]=e[r[d]]);return B({},l,t)}function l(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return N(e,function(e){n[e]=t[e]}),n}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function d(e,t){var n=V(e),i=n?[]:{};return N(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function h(e,t){var n=V(e)?[]:{};return N(e,function(e,i){n[i]=t(e,i)}),n}function p(e,t){var i=1,o=2,c={},l=[],u=c,d=B(e.when(c),{$$promises:c,$$values:c});this.study=function(c){function h(e,n){if($[n]!==o){if(g.push(n),$[n]===i)throw g.splice(0,s(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if($[n]=i,P(e))m.push(n,[function(){return t.get(e)}],l);else{var r=t.annotate(e);N(r,function(e){e!==n&&c.hasOwnProperty(e)&&h(c[e],e)}),m.push(n,e,r)}g.pop(),$[n]=o}}function p(e){return L(e)&&e.then&&e.$$promises}if(!L(c))throw new Error("'invocables' must be an object");var v=a(c||{}),m=[],g=[],$={};return N(c,h),c=g=$=null,function(i,o,a){function s(){--_||(y||r(w,o.$$values),g.$$values=w,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,h.resolve(w))}function c(e){g.$$failure=e,h.reject(e)}function l(n,r,o){function l(e){f.reject(e),c(e)}function u(){if(!M(g.$$failure))try{f.resolve(t.invoke(r,a,w)),f.promise.then(function(e){w[n]=e,s()},l)}catch(e){l(e)}}var f=e.defer(),d=0;N(o,function(e){$.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(d++,$[e].then(function(t){w[e]=t,--d||u()},l))}),d||u(),$[n]=f.promise}if(p(i)&&a===n&&(a=o,o=i,i=null),i){if(!L(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var h=e.defer(),g=h.promise,$=g.$$promises={},w=B({},i),_=1+m.length/3,y=!1;if(M(o.$$failure))return c(o.$$failure),g;o.$$inheritedValues&&r(w,f(o.$$inheritedValues,v)),B($,o.$$promises),o.$$values?(y=r(w,f(o.$$values,v)),g.$$inheritedValues=f(o.$$values,v),s()):(o.$$inheritedValues&&(g.$$inheritedValues=f(o.$$inheritedValues,v)),o.then(s,c));for(var b=0,S=m.length;S>b;b+=3)i.hasOwnProperty(m[b])?s():l(m[b],m[b+1],m[b+2]);return g}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(e,t,n){this.fromConfig=function(e,t,n){return M(e.template)?this.fromString(e.template,t):M(e.templateUrl)?this.fromUrl(e.templateUrl,t):M(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return O(e)?e(t):e},this.fromUrl=function(n,i){return O(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function m(e,t,r){function o(t,n,i,r){if(m.push(t),p[t])return p[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new H.Param(t,n,i,r),v[t]}function a(e,t,n){var i=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(n){case!1:i=["(",")"];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return r+i[0]+t+i[1]}function s(n,r){var o,a,s,c,l;return o=n[2]||n[3],l=t.params[o],s=e.substring(d,n.index),a=r?n[4]:n[4]||("*"==n[1]?".*":null),c=H.type(a||"string")||i(H.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:c,cfg:l}}t=B({params:{}},L(t)?t:{});var c,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",d=0,h=this.segments=[],p=r?r.params:{},v=this.params=r?r.params.$$new():new H.ParamSet,m=[];this.source=e;for(var g,$,w;(c=l.exec(e))&&(g=s(c,!1),!(g.segment.indexOf("?")>=0));)$=o(g.id,g.type,g.cfg,"path"),f+=a(g.segment,$.type.pattern.source,$.squash),h.push(g.segment),d=l.lastIndex;w=e.substring(d);var _=w.indexOf("?");if(_>=0){var y=this.sourceSearch=w.substring(_);if(w=w.substring(0,_),this.sourcePath=e.substring(0,d+_),y.length>0)for(d=0;c=u.exec(y);)g=s(c,!0),$=o(g.id,g.type,g.cfg,"search"),d=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";f+=a(w)+(t.strict===!1?"/?":"")+"$",h.push(w),this.regexp=new RegExp(f,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function g(e){B(this,e)}function $(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(e){return this.pattern.test(e)}function c(){return{strict:w,caseInsensitive:v}}function l(e){return O(e)||V(e)&&O(e[e.length-1])}function u(){for(;S.length;){var e=S.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(y[e.name],p.invoke(e.def))}}function f(e){B(this,e||{})}H=this;var p,v=!1,w=!0,_=!1,y={},b=!0,S=[],T={string:{encode:e,decode:r,is:o,pattern:/[^/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return M(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^/]*/},any:{encode:t.identity,decode:t.identity,is:t.identity,equals:t.equals,pattern:/.*/}};$.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(e.value)},this.caseInsensitive=function(e){return M(e)&&(v=e),v},this.strictMode=function(e){return M(e)&&(w=e),w},this.defaultSquashPolicy=function(e){if(!M(e))return _;if(e!==!0&&e!==!1&&!P(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return _=e,e},this.compile=function(e,t){return new m(e,B(c(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return N(m.prototype,function(n,i){O(n)&&(t=t&&M(e[i])&&O(e[i]))}),t},this.type=function(e,t,n){if(!M(t))return y[e];if(y.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return y[e]=new g(B({name:e},t)),n&&(S.push({name:e,def:n}),b||u()),this},N(T,function(e,t){y[t]=new g(B({name:t},e))}),y=i(y,{}),this.$get=["$injector",function(e){return p=e,b=!1,u(),N(T,function(e,t){y[t]||(y[t]=new g(e))}),this}],this.Param=function(e,t,i,r){function o(e){var t=L(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof g?t.type:new g(t.type):"config"===i?y.any:y.string}function u(){var t={array:"search"===r?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return B(t,n,i).array}function f(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!M(n)||null==n)return _;if(n===!0||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,i,r){var o,a,c=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=V(e.replace)?e.replace:[],P(r)&&o.push({from:r,to:n}),a=h(o,function(e){return e.from}),d(c,function(e){return-1===s(a,e.from)}).concat(o)}function m(){if(!p)throw new Error("Injectable functions cannot be called at configuration time");return p.invoke(i.$$fn)}function $(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(d(b.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),M(e)?b.type.decode(e):m()}function w(){return"{Param:"+e+" "+t+" squash: '"+x+"' optional: "+T+"}"}var b=this;i=o(i),t=c(i,t,r);var S=u();t=S?t.$asArray(S,"search"===r):t,"string"!==t.name||S||"path"!==r||i.value!==n||(i.value="");var T=i.value!==n,x=f(i,T),E=v(i,S,T,x);B(this,{id:e,type:t,location:r,array:S,squash:x,replace:E,isOptional:T,value:$,dynamic:n,config:i,toString:w})},f.prototype={$$new:function(){return i(this,B(new f,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(f.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),N(t,function(t){N(a(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return N(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return N(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var t,n,i,r=!0,o=this;return N(this.$$keys(),function(a){i=o[a],n=e[a],t=!n&&i.isOptional,r=r&&(t||!!i.type.is(n))}),r},$$parent:n},this.ParamSet=f}function w(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return M(i)?i:!0}function s(i,r,o,a){function s(e,t,n){return"/"===v?e:t?v.slice(0,-1)+e:n?v.slice(1)+e:e}function d(e){function t(e){var t=e(o,i);return t?(P(t)&&i.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){var r=p&&i.url()===p;if(p=n,r)return!0;var a,s=l.length;for(a=0;s>a;a++)if(t(l[a]))return;u&&t(u)}}function h(){return c=c||r.$on("$locationChangeSuccess",d)}var p,v=a.baseHref(),m=i.url();return f||h(),{sync:function(){d()},listen:function(){return h()},update:function(e){return e?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(e,t,r){i.url(e.format(t||{})),p=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var c=n.format(r);if(o=o||{},a||null===c||(c="#"+e.hashPrefix()+c),c=s(c,a,o.absolute),!o.absolute||!c)return c;var l=!a&&c?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,l,c].join("")}}}var c,l=[],u=null,f=!1;this.rule=function(e){if(!O(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(P(e)){var t=e;e=function(){return t}}else if(!O(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=P(t);if(P(e)&&(e=i.compile(e)),!s&&!O(t)&&!V(t))throw new Error("invalid 'handler' in when()");var c={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),B(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:P(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),B(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},l={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in l)if(l[u])return this.rule(c[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function _(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function f(e,t){if(!e)return n;var i=P(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=f(t);for(var s=r.split("."),c=0,l=s.length,u=t;l>c;c++)if(""!==s[c]||0!==c){if("^"!==s[c])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(c).join("."),r=u.name+(u.name&&s?".":"")+s}var d=T[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function d(e,t){x[e]||(x[e]=[]),x[e].push(t)}function p(e){for(var t=x[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!P(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(t.parent)?t.parent:L(t.parent)&&P(t.parent.name)?t.parent.name:"";if(r&&!T[r])return d(r,t.self);for(var o in C)O(C[o])&&(t[o]=C[o](t,C.$delegates[o]));return T[n]=t,!t[E]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&l(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),p(n),t}function m(e){return e.indexOf("*")>-1}function g(e){var t=e.split("."),n=S.$current.name.split(".");
if("**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return n.join("")===t.join("")}function $(e,t){return P(e)&&!M(t)?C[e]:O(t)&&P(e)?(C[e]&&!C.$delegates[e]&&(C.$delegates[e]=C[e]),C[e]=t,this):this}function w(e,t){return L(e)?t=e:t.name=e,v(t),this}function _(e,r,o,s,d,p,v){function $(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return v.update(),C;if(!a.retry)return null;if(o.$retry)return v.update(),k;var s=S.transition=r.when(a.retry);return s.then(function(){return s!==S.transition?_:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return C}),v.update(),s}function w(e,n,i,a,c,l){var f=i?n:u(e.params.$$keys(),n),h={$stateParams:f};c.resolve=d.resolve(e.resolve,h,c.resolve,e);var p=[c.resolve.then(function(e){c.globals=e})];return a&&p.push(a),N(e.views,function(n,i){var r=n.resolve&&n.resolve!==e.resolve?n.resolve:{};r.$template=[function(){return o.load(i,{view:n,locals:h,params:f,notify:l.notify})||""}],p.push(d.resolve(r,h,c.resolve,e).then(function(o){if(O(n.controllerProvider)||V(n.controllerProvider)){var a=t.extend({},r,h);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=e,o.$$controllerAs=n.controllerAs,c[i]=o}))}),r.all(p).then(function(){return c})}var _=r.reject(new Error("transition superseded")),x=r.reject(new Error("transition prevented")),C=r.reject(new Error("transition aborted")),k=r.reject(new Error("transition failed"));return b.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:b.self,$current:b,transition:null},S.reload=function(){return S.transitionTo(S.current,p,{reload:!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,B({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,o){n=n||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=S.$current,d=S.params,h=l.path,m=f(t,o.relative);if(!M(m)){var g={to:t,toParams:n,options:o},T=$(g,l.self,d,o);if(T)return T;if(t=g.to,n=g.toParams,o=g.options,m=f(t,o.relative),!M(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[E])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=c(p,n||{},S.$current,m)),!m.params.$$validates(n))return k;n=m.params.$$values(n),t=m;var C=t.path,A=0,D=C[A],I=b.locals,O=[];if(!o.reload)for(;D&&D===h[A]&&D.ownParams.$$equals(n,d);)I=O[A]=D.locals,A++,D=C[A];if(y(t,l,I,o))return t.self.reloadOnSearch!==!1&&v.update(),S.transition=null,r.when(S.current);if(n=u(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,d).defaultPrevented)return v.update(),x;for(var P=r.when(I),L=A;L<C.length;L++,D=C[L])I=O[L]=i(I),P=w(D,n,D===t,P,I,o);var V=S.transition=P.then(function(){var i,r,a;if(S.transition!==V)return _;for(i=h.length-1;i>=A;i--)a=h[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=A;i<C.length;i++)r=C[i],r.locals=O[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==V?_:(S.$current=t,S.current=t.self,S.params=n,R(S.params,p),S.transition=null,o.location&&t.navigable&&v.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,d),v.update(!0),S.current)},function(i){return S.transition!==V?_:(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,l.self,d,i),a.defaultPrevented||v.update(),r.reject(i))});return V},S.is=function(e,t,i){i=B({relative:S.$current},i||{});var r=f(e,i.relative);return M(r)?S.$current!==r?!1:t?l(r.params.$$values(t),p):!0:n},S.includes=function(e,t,i){if(i=B({relative:S.$current},i||{}),P(e)&&m(e)){if(!g(e))return!1;e=S.$current.name}var r=f(e,i.relative);return M(r)?M(S.$current.includes[r.name])?t?l(r.params.$$values(t),p,a(t)):!0:!1:n},S.href=function(e,t,i){i=B({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=f(e,i.relative);if(!M(r))return null;i.inherit&&(t=c(p,t||{},S.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?v.href(o.url,u(r.params.$$keys(),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return h(a(T),function(e){return T[e].self});var n=f(e,t||S.$current);return n&&n.self?n.self:null},S}function y(e,t,n,i){return e!==t||(n!==t.locals||i.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var b,S,T={},x={},E="abstract",C={parent:function(e){if(M(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):b},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=B({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(P(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||b).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new H.ParamSet;return N(e.params||{},function(e,n){t[n]||(t[n]=new H.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?B(e.parent.params.$$new(),e.ownParams):new H.ParamSet},views:function(e){var t={};return N(M(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?B({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};b=v({name:"",url:"^",views:null,"abstract":!0}),b.navigable=null,this.decorator=$,this.state=w,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function y(){function e(e,t){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=B(o,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function b(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){var i=l.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=l.leave(e,t);n&&n.then&&n.then(t)}};if(c){var i=c&&c(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var s=o(),c=s("$animator"),l=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,c){function l(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),d&&(g.leave(d,function(){f=null}),f=d,d=null)}function u(a){var u,f=x(n,c,o,r),$=f&&e.$current&&e.$current.locals[f];if(a||$!==p){u=n.$new(),p=e.$current.locals[f];var w=s(u,function(e){g.enter(e,o,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),l()});d=w,h=u,h.$emit("$viewContentLoaded"),h.$eval(v)}}var f,d,h,p,v=c.onload||"",m=c.autoscroll,g=a(c,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function T(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var c=n.$current,l=x(r,s,a,i),u=c&&c.locals[l];if(u){a.data("$uiView",{name:l,state:u.$$state}),a.html(u.$template?u.$template:o);var f=e(a.contents());if(u.$$controller){u.$scope=r;var d=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}f(r)}}}}}function x(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function E(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function C(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function k(e,n){var i=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){var c=E(a.uiSref,e.current.name),l=null,u=C(o)||e.$current,f=null,d="A"===o.prop("tagName"),h="FORM"===o[0].nodeName,p=h?"action":"href",v=!0,m={relative:u,inherit:!0},g=r.$eval(a.uiSrefOpts)||{};t.forEach(i,function(e){e in g&&(m[e]=g[e])});var $=function(n){if(n&&(l=t.copy(n)),v){f=e.href(c.state,l,m);var i=s[1]||s[0];return i&&i.$$setStateInfo(c.state,l),null===f?(v=!1,!1):void a.$set(p,f)}};c.paramExpr&&(r.$watch(c.paramExpr,function(e){e!==l&&$(e)},!0),l=t.copy(r.$eval(c.paramExpr))),$(),h||o.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var r=n(function(){e.go(c.state,l,m)});t.preventDefault();var a=d&&!f?1:0;t.preventDefault=function(){a--<=0&&n.cancel(r)}}})}}}function A(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function o(){a()?i.addClass(l):i.removeClass(l)}function a(){return"undefined"!=typeof r.uiSrefActiveEq?s&&e.is(s.name,c):s&&e.includes(s.name,c)}var s,c,l;l=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$setStateInfo=function(t,n){s=e.get(t,C(i)),c=n,o()},t.$on("$stateChangeSuccess",o)}]}}function D(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function I(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var M=t.isDefined,O=t.isFunction,P=t.isString,L=t.isObject,V=t.isArray,N=t.forEach,B=t.extend,R=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",p),v.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",v);var H;m.prototype.concat=function(e,t){var n={caseInsensitive:H.caseInsensitive(),strict:H.strictMode(),squash:H.defaultSquashPolicy()};return new m(this.sourcePath+e+this.sourceSearch,B(n,t),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/,"-")}var i=t(e).split(/-(?!\\)/),r=h(i,t);return h(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,s=this.parameters(),c=s.length,l=this.segments.length-1,u={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;l>r;r++){a=s[r];var f=this.params[a],d=i[r+1];for(o=0;o<f.replace;o++)f.replace[o].from===d&&(d=f.replace[o].to);d&&f.array===!0&&(d=n(d)),u[a]=f.value(d)}for(;c>r;r++)a=s[r],u[a]=this.params[a].value(t[a]);return u},m.prototype.parameters=function(e){return M(e)?this.params[e]||null:this.$$paramNames},m.prototype.validates=function(e){return this.params.$$validates(e)},m.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,c=i.length,l=n[0];for(o=0;c>o;o++){var u=s>o,f=i[o],d=r[f],p=d.value(e[f]),v=d.isOptional&&d.type.equals(d.value(),p),m=v?d.squash:!1,g=d.type.encode(p);if(u){var $=n[o+1];if(m===!1)null!=g&&(l+=V(g)?h(g,t).join("-"):encodeURIComponent(g)),l+=$;else if(m===!0){var w=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=$.match(w)[1]}else P(m)&&(l+=m+$)}else{if(null==g||v&&m!==!1)continue;V(g)||(g=[g]),g=h(g,encodeURIComponent).join("&"+f+"="),l+=(a?"&":"?")+(f+"="+g),a=!0}}return l},g.prototype.is=function(){return!0},g.prototype.encode=function(e){return e},g.prototype.decode=function(e){return e},g.prototype.equals=function(e,t){return e==t},g.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},g.prototype.pattern=/.*/,g.prototype.toString=function(){return"{Type:"+this.name+"}"},g.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return V(e)?e:M(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){n=r(n);var i=h(n,e);return t===!0?0===d(i,a).length:o(i)}}function c(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=c(i(e,"equals")),this.pattern=e.pattern,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$),t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",_),y.$inject=[],t.module("ui.router.state").provider("$view",y),t.module("ui.router.state").provider("$uiViewScroll",b),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],T.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",T),k.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),D.$inject=["$state"],I.$inject=["$state"],t.module("ui.router.state").filter("isState",D).filter("includedByState",I)}(window,window.angular),function(){function e(e,t,n,i,r,o){function a(i,a,s,c,l){function f(){B.resizeRequiresRefresh(w.__clientWidth,w.__clientHeight)&&m()}function d(){var e;return e={dataLength:0,width:0,height:0,resizeRequiresRefresh:function(t,n){var i=e.dataLength&&t&&n&&(t!==e.width||n!==e.height);return e.width=t,e.height=n,!!i},dataChangeRequiresRefresh:function(t){var n=t.length>0||t.length<e.dataLength;return e.dataLength=t.length,!!n}}}function h(){return x||(x=new e({afterItemsNode:N[0],containerNode:y,heightData:A,widthData:D,forceRefreshImages:!(!u(s.forceRefreshImages)||"false"===s.forceRefreshImages),keyExpression:E,renderBuffer:P,scope:i,scrollView:c.scrollView,transclude:l}))}function p(){var e=angular.element(w.__content.querySelector(".collection-repeat-after-container"));if(!e.length){var t=!1,n=[].filter.call(w.__content.childNodes,function(e){return ionic.DomUtil.contains(e,y)?(t=!0,!1):t});e=angular.element('<span class="collection-repeat-after-container">'),w.options.scrollingX&&e.addClass("horizontal"),e.append(n),w.__content.appendChild(e[0])}return e}function v(){L?g(L,A):A.computed=!0,V?g(V,D):D.computed=!0}function m(){var e=M.length>0;if(e&&(A.computed||D.computed)&&$(),e&&A.computed){if(A.value=I.height,!A.value)throw new Error('collection-repeat tried to compute the height of repeated elements "'+S+'", but was unable to. Please provide the "item-height" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!A.dynamic&&A.getValue&&(A.value=A.getValue());if(e&&D.computed){if(D.value=I.width,!D.value)throw new Error('collection-repeat tried to compute the width of repeated elements "'+S+'", but was unable to. Please provide the "item-width" attribute. http://ionicframework.com/docs/api/directive/collectionRepeat/')}else!D.dynamic&&D.getValue&&(D.value=D.getValue());h().refreshLayout()}function g(e,n){if(e){var i;try{i=t(e)}catch(r){e.trim().match(/\d+(px|%)$/)&&(e='"'+e+'"'),i=t(e)}var o=e.replace(/(\'|\"|px|%)/g,"").trim(),a=o.length&&!/([a-zA-Z]|\$|:|\?)/.test(o);if(n.attrValue=e,a){var s=parseInt(i());if(e.indexOf("%")>-1){var c=s/100;n.getValue=n===A?function(){return Math.floor(c*w.__clientHeight)}:function(){return Math.floor(c*w.__clientWidth)}}else n.value=s}else n.dynamic=!0,n.getValue=n===A?function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*w.__clientHeight):parseInt(n)}:function(e,t){var n=i(e,t);return n.charAt&&"%"===n.charAt(n.length-1)?Math.floor(parseInt(n)/100*w.__clientWidth):parseInt(n)}}}function $(){H||l(z=i.$new(),function(e){e[0].removeAttribute("collection-repeat"),H=e[0]}),z[E]=(k(i)||[])[0],r.$$phase||z.$digest(),y.appendChild(H);var e=n.getComputedStyle(H);I.width=parseInt(e.width),I.height=parseInt(e.height),y.removeChild(H)}var w=c.scrollView,_=a[0],y=angular.element('<div class="collection-repeat-container">')[0];if(_.parentNode.replaceChild(y,_),w.options.scrollingX&&w.options.scrollingY)throw new Error("collection-repeat expected a parent x or y scrollView, not an xy scrollView.");var S=s.collectionRepeat,T=S.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!T)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+s.collectionRepeat+"'.");var x,E=T[1],C=T[2],k=t(C),A={},D={},I={},M=[],O=s.itemRenderBuffer||s.collectionBufferSize,P=angular.isDefined(O)?parseInt(O):b,L=s.itemHeight||s.collectionItemHeight,V=s.itemWidth||s.collectionItemWidth,N=p(),B=d();v(),c.$element.on("scroll-resize",m),angular.element(n).on("resize",f);var R=r.$on("$ionicExposeAside",ionic.animationFrameThrottle(function(){c.scrollView.resize(),f()}));o(m,0,!1),i.$watchCollection(k,function(e){if(M=e||(e=[]),!angular.isArray(e))throw new Error("collection-repeat expected an array for '"+C+"', but got a "+typeof value);i.$$postDigest(function(){h().setData(M),B.dataChangeRequiresRefresh(M)&&m()})}),i.$on("$destroy",function(){angular.element(n).off("resize",f),R(),c.$element&&c.$element.off("scroll-resize",m),H&&H.parentNode&&H.parentNode.removeChild(H),z&&z.$destroy(),z=H=null,x&&x.destroy(),x=null});var H,z}return{restrict:"A",priority:1e3,transclude:"element",$$tlb:!0,require:"^^$ionicScroll",link:a}}function t(e,t,n){var i={primaryPos:0,secondaryPos:0,primarySize:0,secondarySize:0,rowPrimarySize:0};return function(r){function o(){return a(!0)}function a(t){if(!a.destroyed){var n,r,o,l,u,f=et.getScrollValue(),d=f+et.scrollPrimarySize;et.updateRenderRange(f,d),U=Math.max(0,U-x),G=Math.min(A.length-1,G+x);for(n in Z)(U>n||n>G)&&(o=Z[n],delete Z[n],X.push(o),o.isShown=!1);for(n=U;G>=n;n++)n>=A.length||Z[n]&&!t||(o=Z[n]||(Z[n]=X.length?X.pop():Y.length?Y.shift():new c),K.push(o),o.isShown=!0,u=o.scope,u.$index=n,u[T]=A[n],u.$first=0===n,u.$last=n===A.length-1,u.$middle=!(u.$first||u.$last),u.$odd=!(u.$even=0===(1&n)),u.$$disconnected&&ionic.Utils.reconnectScope(o.scope),l=et.getDimensions(n),(o.secondaryPos!==l.secondaryPos||o.primaryPos!==l.primaryPos)&&(o.node.style[ionic.CSS.TRANSFORM]=H.replace(B,o.primaryPos=l.primaryPos).replace(R,o.secondaryPos=l.secondaryPos)),(o.secondarySize!==l.secondarySize||o.primarySize!==l.primarySize)&&(o.node.style.cssText=o.node.style.cssText.replace(y,z.replace(B,(o.primarySize=l.primarySize)+1).replace(R,o.secondarySize=l.secondarySize))));for(G===A.length-1&&(l=et.getDimensions(A.length-1)||i,g.style[ionic.CSS.TRANSFORM]=H.replace(B,l.primaryPos+l.primarySize).replace(R,0));X.length;)o=X.pop(),o.scope.$broadcast("$collectionRepeatLeave"),ionic.Utils.disconnectScope(o.scope),Y.push(o),o.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",o.primaryPos=o.secondaryPos=null;if(w)for(n=0,r=K.length;r>n&&(o=K[n]);n++)if(o.images)for(var h,p=0,v=o.images.length;v>p&&(h=o.images[p]);p++){var m=h.src;h.src=_,h.src=m}if(t)for(var $=e.$$phase;K.length;)o=K.pop(),$||o.scope.$digest();else s()}}function s(){var t;s.running||(s.running=!0,n(function(){for(var n=e.$$phase;K.length;)t=K.pop(),t.isShown&&(n||t.scope.$digest());s.running=!1}))}function c(){var e=this;this.scope=E.$new(),this.id="item"+J++,k(this.scope,function(t){e.element=t,e.element.data("$$collectionRepeatItem",e),e.node=t[0],e.node.style[ionic.CSS.TRANSFORM]="translate3d(-9999px,-9999px,0)",e.node.style.cssText+=" height: 0px; width: 0px;",ionic.Utils.disconnectScope(e.scope),$.appendChild(e.node),e.images=t[0].getElementsByTagName("img")})}function l(){this.getItemPrimarySize=M,this.getItemSecondarySize=P,this.getScrollValue=function(){return Math.max(0,Math.min(C.__scrollTop-F,C.__maxScrollTop-F-q))},this.refreshDirection=function(){this.scrollPrimarySize=C.__clientHeight,this.scrollSecondarySize=C.__clientWidth,this.estimatedPrimarySize=v,this.estimatedSecondarySize=m,this.estimatedItemsAcross=V&&Math.floor(C.__clientWidth/m)||1}}function u(){this.getItemPrimarySize=P,this.getItemSecondarySize=M,this.getScrollValue=function(){return Math.max(0,Math.min(C.__scrollLeft-F,C.__maxScrollLeft-F-q))},this.refreshDirection=function(){this.scrollPrimarySize=C.__clientWidth,this.scrollSecondarySize=C.__clientHeight,this.estimatedPrimarySize=m,this.estimatedSecondarySize=v,this.estimatedItemsAcross=V&&Math.floor(C.__clientHeight/v)||1}}function f(){this.getEstimatedSecondaryPos=function(e){return e%this.estimatedItemsAcross*this.estimatedSecondarySize},this.getEstimatedPrimaryPos=function(e){return Math.floor(e/this.estimatedItemsAcross)*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)*this.estimatedItemsAcross}}function d(){this.getEstimatedSecondaryPos=function(){return 0},this.getEstimatedPrimaryPos=function(e){return e*this.estimatedPrimarySize},this.getEstimatedIndex=function(e){return Math.floor(e/this.estimatedPrimarySize)}}function h(){this.getContentSize=function(){return this.getEstimatedPrimaryPos(A.length-1)+this.estimatedPrimarySize+F+q};var e={};this.getDimensions=function(t){return e.primaryPos=this.getEstimatedPrimaryPos(t),e.secondaryPos=this.getEstimatedSecondaryPos(t),e.primarySize=this.estimatedPrimarySize,e.secondarySize=this.estimatedSecondarySize,e},this.updateRenderRange=function(e,t){U=Math.max(0,this.getEstimatedIndex(e)),G=Math.min(A.length-1,this.getEstimatedIndex(t)+this.estimatedItemsAcross-1),W=Math.max(0,this.getEstimatedPrimaryPos(U)),j=this.getEstimatedPrimaryPos(G)+this.estimatedPrimarySize}}function p(){function e(e){var t,o,a;for(t=Math.max(0,n);e>=t&&(a=s[t]);t++)o=s[t-1]||i,a.primarySize=r.getItemPrimarySize(t,A[t]),a.secondarySize=r.scrollSecondarySize,a.primaryPos=o.primaryPos+o.primarySize,a.secondaryPos=0}function t(e){var t,o,a;for(t=Math.max(n,0);e>=t&&(a=s[t]);t++)o=s[t-1]||i,a.secondarySize=Math.min(r.getItemSecondarySize(t,A[t]),r.scrollSecondarySize),a.secondaryPos=o.secondaryPos+o.secondarySize,0===t||a.secondaryPos+a.secondarySize>r.scrollSecondarySize?(a.secondaryPos=0,a.primarySize=r.getItemPrimarySize(t,A[t]),a.primaryPos=o.primaryPos+o.rowPrimarySize,a.rowStartIndex=t,a.rowPrimarySize=a.primarySize):(a.primarySize=r.getItemPrimarySize(t,A[t]),a.primaryPos=o.primaryPos,a.rowStartIndex=o.rowStartIndex,s[a.rowStartIndex].rowPrimarySize=a.rowPrimarySize=Math.max(s[a.rowStartIndex].rowPrimarySize,a.primarySize),a.rowPrimarySize=Math.max(a.primarySize,a.rowPrimarySize))}var n,r=this,o=ionic.debounce(Q,25,!0),a=V?t:e,s=[];this.getContentSize=function(){var e=s[n]||i;return(e.primaryPos+e.primarySize||0)+this.getEstimatedPrimaryPos(A.length-n-1)+F+q},this.onDestroy=function(){s.length=0},this.onRefreshData=function(){var e,t;for(e=s.length,t=A.length;t>e;e++)s.push({});n=-1},this.onRefreshLayout=function(){n=-1},this.getDimensions=function(e){return e=Math.min(e,A.length-1),e>n&&(e>.9*A.length?(a(A.length-1),n=A.length-1,Q()):(a(e),n=e,o())),s[e]};var c=-1,l=-1;this.updateRenderRange=function(e,t){var n,i,r;if(this.getDimensions(2*this.getEstimatedIndex(t)),-1===c||0===e)n=0;else if(e>=l)for(n=c,i=A.length;i>n&&!((r=this.getDimensions(n))&&r.primaryPos+r.rowPrimarySize>=e);n++);else for(n=c;n>=0;n--)if((r=this.getDimensions(n))&&r.primaryPos<=e){n=V?r.rowStartIndex:n;break}U=Math.min(Math.max(0,n),A.length-1),W=-1!==U?this.getDimensions(U).primaryPos:-1;var o;for(n=U+1,i=A.length;i>n;n++)if((r=this.getDimensions(n))&&r.primaryPos+r.rowPrimarySize>t){if(V)for(o=r;i-1>n&&(r=this.getDimensions(n+1)).primaryPos===o.primaryPos;)n++;break}G=Math.min(n,A.length-1),j=-1!==G?(r=this.getDimensions(G)).primaryPos+(r.rowPrimarySize||r.primarySize):-1,l=e,c=U}}var v,m,g=r.afterItemsNode,$=r.containerNode,w=r.forceRefreshImages,b=r.heightData,S=r.widthData,T=r.keyExpression,x=r.renderBuffer,E=r.scope,C=r.scrollView,k=r.transclude,A=[],D={},I=b.getValue||function(){return b.value},M=function(e,t){return D[T]=t,D.$index=e,I(E,D)},O=S.getValue||function(){return S.value},P=function(e,t){return D[T]=t,D.$index=e,O(E,D)},L=!!C.options.scrollingY,V=L?S.dynamic||S.value!==C.__clientWidth:b.dynamic||b.value!==C.__clientHeight,N=!b.dynamic&&!S.dynamic,B="PRIMARY",R="SECONDARY",H=L?"translate3d(SECONDARYpx,PRIMARYpx,0)":"translate3d(PRIMARYpx,SECONDARYpx,0)",z=L?"height: PRIMARYpx; width: SECONDARYpx;":"height: SECONDARYpx; width: PRIMARYpx;",F=0,q=0,U=-1,G=-1,j=-1,W=-1,Y=[],X=[],K=[],Z={},J=0,Q=L?function(){C.setDimensions(null,null,null,et.getContentSize(),!0)}:function(){C.setDimensions(null,null,et.getContentSize(),null,!0)},et=L?new l:new u;(V?f:d).call(et),(N?h:p).call(et);var tt=L?"getContentHeight":"getContentWidth",nt=C.options[tt];C.options[tt]=angular.bind(et,et.getContentSize),C.__$callback=C.__callback,C.__callback=function(e,t,n,i){var r=et.getScrollValue();(-1===U||r+et.scrollPrimarySize>j||W>r)&&a(),C.__$callback(e,t,n,i)};var it=!1,rt=!1;this.refreshLayout=function(){A.length?(v=M(0,A[0]),m=P(0,A[0])):(v=100,m=100);var e=getComputedStyle(g)||{},n=g.firstElementChild&&getComputedStyle(g.firstElementChild)||{},i=g.lastElementChild&&getComputedStyle(g.lastElementChild)||{};q=(parseInt(e[L?"height":"width"])||0)+(n&&parseInt(n[L?"marginTop":"marginLeft"])||0)+(i&&parseInt(i[L?"marginBottom":"marginRight"])||0),F=0;var r=$;do F+=r[L?"offsetTop":"offsetLeft"];while(ionic.DomUtil.contains(C.__content,r=r.offsetParent));var a=$.previousElementSibling,s=a?t.getComputedStyle(a):{},l=parseInt(s[L?"marginBottom":"marginRight"]||0);if($.style[ionic.CSS.TRANSFORM]=H.replace(B,-l).replace(R,0),F-=l,C.__clientHeight&&C.__clientWidth||(C.__clientWidth=C.__container.clientWidth,C.__clientHeight=C.__container.clientHeight),(et.onRefreshLayout||angular.noop)(),et.refreshDirection(),Q(),!it)for(var u=Math.max(20,3*x),f=0;u>f;f++)Y.push(new c);it=!0,it&&rt&&((C.__scrollLeft>C.__maxScrollLeft||C.__scrollTop>C.__maxScrollTop)&&C.resize(),o(!0))},this.setData=function(e){A=e,(et.onRefreshData||angular.noop)(),rt=!0},this.destroy=function(){a.destroyed=!0,Y.forEach(function(e){e.scope.$destroy(),e.scope=e.element=e.node=e.images=null}),Y.length=K.length=X.length=0,Z={},C.options[tt]=nt,C.__callback=C.__$callback,C.resize(),(et.onDestroy||angular.noop)()}}}function n(e){return["$ionicGesture","$parse",function(t,n){var i=e.substr(2).toLowerCase();return function(r,o,a){var s=n(a[e]),c=function(e){r.$apply(function(){s(r,{$event:e})})},l=t.on(i,c,o);r.$on("$destroy",function(){t.off(l,i,c)})}}]}function i(){return["$ionicScrollDelegate",function(e){return{restrict:"E",link:function(t,n,i){function r(t){for(var i=3,r=t.target;i--&&r;){if(r.classList.contains("button")||r.tagName.match(/input|textarea|select/i)||r.isContentEditable)return;r=r.parentNode}var o=t.gesture&&t.gesture.touches[0]||t.detail.touches[0],a=n[0].getBoundingClientRect();ionic.DomUtil.rectContains(o.pageX,o.pageY,a.left,a.top-20,a.left+a.width,a.top+a.height)&&e.scrollTop(!0)}"true"!=i.noTapScroll&&(ionic.on("tap",r,n[0]),t.$on("$destroy",function(){ionic.off("tap",r,n[0])}))}}}]}function r(e){return["$document","$timeout",function(t,n){return{restrict:"E",controller:"$ionicHeaderBar",compile:function(i){function r(t,n,i,r){e?(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subheader");t.$hasHeader=n&&!i,t.$hasSubheader=n&&i,t.$emit("$ionicSubheader",t.$hasSubheader)}),t.$on("$destroy",function(){delete t.$hasHeader,delete t.$hasSubheader}),r.align(),t.$on("$ionicHeader.align",function(){ionic.requestAnimationFrame(function(){r.align()})})):(t.$watch(function(){return n[0].className},function(e){var n=-1===e.indexOf("ng-hide"),i=-1!==e.indexOf("bar-subfooter");t.$hasFooter=n&&!i,t.$hasSubfooter=n&&i}),t.$on("$destroy",function(){delete t.$hasFooter,delete t.$hasSubfooter}),t.$watch("$hasTabs",function(e){n.toggleClass("has-tabs",!!e)}))}return i.addClass(e?"bar bar-header":"bar bar-footer"),n(function(){e&&t[0].getElementsByClassName("tabs-top").length&&i.addClass("has-tabs-top")}),{pre:r}}}}]}function o(e){return e.clientHeight}function a(e){e.stopPropagation()}var s=angular.module("ionic",["ngAnimate","ngSanitize","ui.router"]),c=angular.extend,l=angular.forEach,u=angular.isDefined,f=angular.isNumber,d=angular.isString,h=angular.element,p=angular.noop;s.factory("$ionicActionSheet",["$rootScope","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform","$ionicBody","IONIC_BACK_PRIORITY",function(e,t,n,i,r,o,a,s){function l(r){function l(e){e&&/icon/.test(e)&&(u.$actionSheetHasIcon=!0)}var u=e.$new(!0);c(u,{cancel:p,destructiveButtonClicked:p,buttonClicked:p,$deregisterBackButton:p,buttons:[],cancelOnStateChange:!0},r||{});for(var f=0;f<u.buttons.length;f++)l(u.buttons[f].text);l(u.cancelText),l(u.destructiveText);var d=u.element=t('<ion-action-sheet ng-class="cssClass" buttons="buttons"></ion-action-sheet>')(u),v=h(d[0].querySelector(".action-sheet-wrapper")),m=u.cancelOnStateChange?e.$on("$stateChangeSuccess",function(){u.cancel()}):p;return u.removeSheet=function(e){u.removed||(u.removed=!0,v.removeClass("action-sheet-up"),i(function(){a.removeClass("action-sheet-open")},400),u.$deregisterBackButton(),m(),n.removeClass(d,"active").then(function(){u.$destroy(),d.remove(),u.cancel.$scope=v=null,(e||p)()}))},u.showSheet=function(e){u.removed||(a.append(d).addClass("action-sheet-open"),n.addClass(d,"active").then(function(){u.removed||(e||p)()}),i(function(){u.removed||v.addClass("action-sheet-up")},20,!1))},u.$deregisterBackButton=o.registerBackButtonAction(function(){i(u.cancel)},s.actionSheet),u.cancel=function(){u.removeSheet(r.cancel)},u.buttonClicked=function(e){r.buttonClicked(e,r.buttons[e])===!0&&u.removeSheet()},u.destructiveButtonClicked=function(){r.destructiveButtonClicked()===!0&&u.removeSheet()},u.showSheet(),u.cancel.$scope=u,u.cancel}return{show:l}}]),h.prototype.addClass=function(e){var t,n,i,r,o,a;if(e&&"ng-scope"!=e&&"ng-isolate-scope"!=e)for(t=0;t<this.length;t++)if(r=this[t],r.setAttribute)if(e.indexOf(" ")<0&&r.classList.add)r.classList.add(e);else{for(a=(" "+(r.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),o=e.split(" "),n=0;n<o.length;n++)i=o[n].trim(),-1===a.indexOf(" "+i+" ")&&(a+=i+" ");r.setAttribute("class",a.trim())}return this},h.prototype.removeClass=function(e){var t,n,i,r,o;if(e)for(t=0;t<this.length;t++)if(o=this[t],o.getAttribute)if(e.indexOf(" ")<0&&o.classList.remove)o.classList.remove(e);else for(i=e.split(" "),n=0;n<i.length;n++)r=i[n],o.setAttribute("class",(" "+(o.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+r.trim()+" "," ").trim());
return this},s.factory("$ionicBackdrop",["$document","$timeout","$$rAF",function(e,t,n){function i(){s++,1===s&&(a.addClass("visible"),n(function(){s>=1&&a.addClass("active")}))}function r(){1===s&&(a.removeClass("active"),t(function(){0===s&&a.removeClass("visible")},400,!1)),s=Math.max(0,s-1)}function o(){return a}var a=h('<div class="backdrop">'),s=0;return e[0].body.appendChild(a[0]),{retain:i,release:r,getElement:o,_element:a}}]),s.factory("$ionicBind",["$parse","$interpolate",function(e,t){var n=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(i,r,o){l(o||{},function(o,a){var s,c,l=o.match(n)||[],u=l[3]||a,f=l[1];switch(f){case"@":if(!r[u])return;r.$observe(u,function(e){i[a]=e}),r[u]&&(i[a]=t(r[u])(i));break;case"=":if(!r[u])return;c=i.$watch(r[u],function(e){i[a]=e}),i.$on("$destroy",c);break;case"&":if(r[u]&&r[u].match(RegExp(a+"(.*?)")))throw new Error('& expression binding "'+a+'" looks like it will recursively call "'+r[u]+'" and cause a stack overflow! Please choose a different scopeName.');s=e(r[u]),i[a]=function(e){return s(i,e)}}})}}]),s.factory("$ionicBody",["$document",function(e){return{addClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.add(arguments[t]);return this},removeClass:function(){for(var t=0;t<arguments.length;t++)e[0].body.classList.remove(arguments[t]);return this},enableClass:function(e){var t=Array.prototype.slice.call(arguments).slice(1);return e?this.addClass.apply(this,t):this.removeClass.apply(this,t),this},append:function(t){return e[0].body.appendChild(t.length?t[0]:t),this},get:function(){return e[0].body}}}]),s.factory("$ionicClickBlock",["$document","$ionicBody","$timeout",function(e,t,n){function i(e){e.preventDefault(),e.stopPropagation()}function r(){c&&(a?a.classList.remove(l):(a=e[0].createElement("div"),a.className="click-block",t.append(a),a.addEventListener("touchstart",i),a.addEventListener("mousedown",i)),c=!1)}function o(){a&&a.classList.add(l)}var a,s,c,l="click-block-hide";return{show:function(e){c=!0,n.cancel(s),s=n(this.hide,e||310,!1),r()},hide:function(){c=!1,n.cancel(s),o()}}}]),s.factory("$ionicGesture",[function(){return{on:function(e,t,n,i){return window.ionic.onGesture(e,t,n[0],i)},off:function(e,t,n){return window.ionic.offGesture(e,t,n)}}}]),s.factory("$ionicHistory",["$rootScope","$state","$location","$window","$timeout","$ionicViewSwitcher","$ionicNavViewDelegate",function(e,t,n,i,r,o,a){function s(e){return e?V.views[e]:null}function l(e){return e?s(e.backViewId):null}function f(e){return e?s(e.forwardViewId):null}function d(e){return e?V.histories[e]:null}function h(e){var t=p(e);return V.histories[t.historyId]||(V.histories[t.historyId]={historyId:t.historyId,parentHistoryId:p(t.scope.$parent).historyId,stack:[],cursor:-1}),d(t.historyId)}function p(t){for(var n=t;n;){if(n.hasOwnProperty("$historyId"))return{historyId:n.$historyId,scope:n};n=n.$parent}return{historyId:"root",scope:e}}function v(e){V.currentView=s(e),V.backView=l(V.currentView),V.forwardView=f(V.currentView)}function m(){var e;if(t&&t.current&&t.current.name){if(e=t.current.name,t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&t.params[n]&&(e+="_"+n+"="+t.params[n]);return e}return ionic.Utils.nextUid()}function g(){var e;if(t&&t.params)for(var n in t.params)t.params.hasOwnProperty(n)&&(e=e||{},e[n]=t.params[n]);return e}function $(e){return e&&e.length&&/ion-side-menus|ion-tabs/i.test(e[0].tagName)}function w(e,t){return t&&t.$$state&&t.$$state.self.canSwipeBack===!1?!1:e&&"false"===e.attr("can-swipe-back")?!1:!0}var _,y,b,S,T,x="initialView",E="newView",C="moveBack",k="moveForward",A="back",D="forward",I="enter",M="exit",O="swap",P="none",L=0,V={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null},N=function(){};return N.prototype.initialize=function(e){if(e){for(var t in e)this[t]=e[t];return this}return null},N.prototype.go=function(){if(this.stateName)return t.go(this.stateName,this.stateParams);if(this.url&&this.url!==n.url()){if(V.backView===this)return i.history.go(-1);if(V.forwardView===this)return i.history.go(1);n.url(this.url)}return null},N.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(e,t){var i,a,c,u=m(),f=h(e),$=V.currentView,N=V.backView,B=V.forwardView,R=null,H=null,z=P,F=f.historyId,q=n.url();if(_!==u&&(_=u,L++),T)R=T.viewId,H=T.action,z=T.direction,T=null;else if(N&&N.stateId===u)R=N.viewId,F=N.historyId,H=C,N.historyId===$.historyId?z=A:$&&(z=M,i=d(N.historyId),i&&i.parentHistoryId===$.historyId?z=I:(i=d($.historyId),i&&i.parentHistoryId===f.parentHistoryId&&(z=O)));else if(B&&B.stateId===u)R=B.viewId,F=B.historyId,H=k,B.historyId===$.historyId?z=D:$&&(z=M,$.historyId===f.parentHistoryId?z=I:(i=d($.historyId),i&&i.parentHistoryId===f.parentHistoryId&&(z=O))),i=p(e),B.historyId&&i.scope&&(i.scope.$historyId=B.historyId,F=B.historyId);else if($&&$.historyId!==F&&f.cursor>-1&&f.stack.length>0&&f.cursor<f.stack.length&&f.stack[f.cursor].stateId===u){var U=f.stack[f.cursor];R=U.viewId,F=U.historyId,H=C,z=O,i=d($.historyId),i&&i.parentHistoryId===F?z=M:(i=d(F),i&&i.parentHistoryId===$.historyId&&(z=I)),i=s(U.backViewId),i&&U.historyId!==i.historyId&&(f.stack[f.cursor].backViewId=$.viewId)}else{if(c=o.createViewEle(t),this.isAbstractEle(c,t))return{action:"abstractView",direction:P,ele:c};if(R=ionic.Utils.nextUid(),$){if($.forwardViewId=R,H=E,B&&$.stateId!==B.stateId&&$.historyId===B.historyId&&(i=d(B.historyId))){for(a=i.stack.length-1;a>=B.index;a--){var G=i.stack[a];G&&G.destroy&&G.destroy(),i.stack.splice(a)}F=B.historyId}f.historyId===$.historyId?z=D:$.historyId!==f.historyId&&(z=I,i=d($.historyId),i&&i.parentHistoryId===f.parentHistoryId?z=O:(i=d(i.parentHistoryId),i&&i.historyId===f.historyId&&(z=M)))}else H=x;2>L&&(z=P),V.views[R]=this.createView({viewId:R,index:f.stack.length,historyId:f.historyId,backViewId:$&&$.viewId?$.viewId:null,forwardViewId:null,stateId:u,stateName:this.currentStateName(),stateParams:g(),url:q,canSwipeBack:w(c,t)}),f.stack.push(V.views[R])}if(b&&b(),r.cancel(S),y){if(y.disableAnimate&&(z=P),y.disableBack&&(V.views[R].backViewId=null),y.historyRoot){for(a=0;a<f.stack.length;a++)f.stack[a].viewId===R?(f.stack[a].index=0,f.stack[a].backViewId=f.stack[a].forwardViewId=null):delete V.views[f.stack[a].viewId];f.stack=[V.views[R]]}y=null}if(v(R),V.backView&&F==V.backView.historyId&&u==V.backView.stateId&&q==V.backView.url)for(a=0;a<f.stack.length;a++)if(f.stack[a].viewId==R){H="dupNav",z=P,a>0&&(f.stack[a-1].forwardViewId=null),V.forwardView=null,V.currentView.index=V.backView.index,V.currentView.backViewId=V.backView.backViewId,V.backView=l(V.backView),f.stack.splice(a,1);break}return f.cursor=V.currentView.index,{viewId:R,action:H,direction:z,historyId:F,enableBack:this.enabledBack(V.currentView),isHistoryRoot:0===V.currentView.index,ele:c}},registerHistory:function(e){e.$historyId=ionic.Utils.nextUid()},createView:function(e){var t=new N;return t.initialize(e)},getViewById:s,viewHistory:function(){return V},currentView:function(e){return arguments.length&&(V.currentView=e),V.currentView},currentHistoryId:function(){return V.currentView?V.currentView.historyId:null},currentTitle:function(e){return V.currentView?(arguments.length&&(V.currentView.title=e),V.currentView.title):void 0},backView:function(e){return arguments.length&&(V.backView=e),V.backView},backTitle:function(e){var t=e&&s(e.backViewId)||V.backView;return t&&t.title},forwardView:function(e){return arguments.length&&(V.forwardView=e),V.forwardView},currentStateName:function(){return t&&t.current?t.current.name:null},isCurrentStateNavView:function(e){return!!(t&&t.current&&t.current.views&&t.current.views[e])},goToHistoryRoot:function(e){if(e){var t=d(e);if(t&&t.stack.length){if(V.currentView&&V.currentView.viewId===t.stack[0].viewId)return;T={viewId:t.stack[0].viewId,action:C,direction:A},t.stack[0].go()}}},goBack:function(e){if(u(e)&&-1!==e){if(e>-1)return;var t=V.histories[this.currentHistoryId()],n=t.cursor+e+1;1>n&&(n=1),t.cursor=n,v(t.stack[n].viewId);for(var i=n-1,o=[],a=s(t.stack[i].forwardViewId);a&&(o.push(a.stateId||a.viewId),i++,!(i>=t.stack.length));)a=s(t.stack[i].forwardViewId);var c=this;o.length&&r(function(){c.clearCache(o)},600)}V.backView&&V.backView.go()},enabledBack:function(e){var t=l(e);return!(!t||t.historyId!==e.historyId)},clearHistory:function(){var e=V.histories,t=V.currentView;if(e)for(var n in e)e[n].stack&&(e[n].stack=[],e[n].cursor=-1),t&&t.historyId===n?(t.backViewId=t.forwardViewId=null,e[n].stack.push(t)):e[n].destroy&&e[n].destroy();for(var i in V.views)i!==t.viewId&&delete V.views[i];t&&v(t.viewId)},clearCache:function(e){r(function(){a._instances.forEach(function(t){t.clearCache(e)})})},nextViewOptions:function(t){return b&&b(),arguments.length&&(r.cancel(S),null===t?y=t:(y=y||{},c(y,t),y.expire&&(b=e.$on("$stateChangeSuccess",function(){S=r(function(){y=null},y.expire)})))),y},isAbstractEle:function(e,t){return t&&t.$$state&&t.$$state.self["abstract"]?!0:!(!e||!$(e)&&!$(e.children()))},isActiveScope:function(e){if(!e)return!1;for(var t,n=e,i=this.currentHistoryId();n;){if(n.$$disconnected)return!1;if(!t&&n.hasOwnProperty("$historyId")&&(t=!0),i){if(n.hasOwnProperty("$historyId")&&i==n.$historyId)return!0;if(n.hasOwnProperty("$activeHistoryId")&&i==n.$activeHistoryId){if(n.hasOwnProperty("$historyId"))return!0;if(!t)return!0}}t&&n.hasOwnProperty("$activeHistoryId")&&(t=!1),n=n.$parent}return i?"root"==i:!0}}}]).run(["$rootScope","$state","$location","$document","$ionicPlatform","$ionicHistory","IONIC_BACK_PRIORITY",function(e,t,n,i,r,o,a){function s(e){var t=o.backView();return t?t.go():ionic.Platform.exitApp(),e.preventDefault(),!1}e.$on("$ionicView.beforeEnter",function(){ionic.keyboard&&ionic.keyboard.hide&&ionic.keyboard.hide()}),e.$on("$ionicHistory.change",function(e,i){if(!i)return null;var r=o.viewHistory(),a=i.historyId?r.histories[i.historyId]:null;if(a&&a.cursor>-1&&a.cursor<a.stack.length){var s=a.stack[a.cursor];return s.go(i)}!i.url&&i.uiSref&&(i.url=t.href(i.uiSref)),i.url&&(0===i.url.indexOf("#")&&(i.url=i.url.replace("#","")),i.url!==n.url()&&n.url(i.url))}),e.$ionicGoBack=function(e){o.goBack(e)},e.$on("$ionicView.afterEnter",function(e,t){t&&t.title&&(i[0].title=t.title)}),r.registerBackButtonAction(s,a.view)}]),s.provider("$ionicConfig",function(){function e(e,i){a.platform[e]=i,r.platform[e]={},t(a,a.platform[e]),n(a.platform[e],r.platform[e],"")}function t(e,n){for(var i in e)i!=o&&e.hasOwnProperty(i)&&(angular.isObject(e[i])?(u(n[i])||(n[i]={}),t(e[i],n[i])):u(n[i])||(n[i]=null))}function n(e,t,r){l(e,function(s,c){angular.isObject(e[c])?(t[c]={},n(e[c],t[c],r+"."+c)):t[c]=function(n){if(arguments.length)return e[c]=n,t;if(e[c]==o){var s=i(a.platform,ionic.Platform.platform()+r+"."+c);return s||s===!1?s:i(a.platform,"default"+r+"."+c)}return e[c]}})}function i(e,t){t=t.split(".");for(var n=0;n<t.length;n++){if(!e||!u(e[t[n]]))return null;e=e[t[n]]}return e}var r=this;r.platform={};var o="platform",a={views:{maxCache:o,forwardCache:o,transition:o,swipeBackEnabled:o,swipeBackHitWidth:o},navBar:{alignTitle:o,positionPrimaryButtons:o,positionSecondaryButtons:o,transition:o},backButton:{icon:o,text:o,previousTitleText:o},form:{checkbox:o,toggle:o},scrolling:{jsScrolling:o},spinner:{icon:o},tabs:{style:o,position:o},templates:{maxPrefetch:o},platform:{}};n(a,r,""),e("default",{views:{maxCache:10,forwardCache:!1,transition:"ios",swipeBackEnabled:!0,swipeBackHitWidth:45},navBar:{alignTitle:"center",positionPrimaryButtons:"left",positionSecondaryButtons:"right",transition:"view"},backButton:{icon:"ion-ios-arrow-back",text:"Back",previousTitleText:!0},form:{checkbox:"circle",toggle:"large"},scrolling:{jsScrolling:!0},spinner:{icon:"ios"},tabs:{style:"standard",position:"bottom"},templates:{maxPrefetch:30}}),e("ios",{}),e("android",{views:{transition:"android",swipeBackEnabled:!1},navBar:{alignTitle:"left",positionPrimaryButtons:"right",positionSecondaryButtons:"right"},backButton:{icon:"ion-android-arrow-back",text:!1,previousTitleText:!1},form:{checkbox:"square",toggle:"small"},spinner:{icon:"android"},tabs:{style:"striped",position:"top"}}),e("windowsphone",{spinner:{icon:"android"}}),r.transitions={views:{},navBar:{}},r.transitions.views.ios=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,r.opacity=t,i>-1&&(r.boxShadow="0 0 10px rgba(0,0,0,"+(o.shouldAnimate?.45*i:.3)+")"),r[ionic.CSS.TRANSFORM]="translate3d("+n+"%,0,0)",ionic.DomUtil.cachedStyles(e,r)}var o={run:function(i){"forward"==n?(r(e,1,99*(1-i),1-i),r(t,1-.1*i,-33*i,-1)):"back"==n?(r(e,1-.1*(1-i),-33*(1-i),-1),r(t,1,100*i,1-i)):(r(e,1,0,-1),r(t,0,0,-1))},shouldAnimate:i&&("forward"==n||"back"==n)};return o},r.transitions.navBar.ios=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=s.shouldAnimate?"":"0ms",r.opacity=1===t?"":t,e.setCss("buttons-left",r),e.setCss("buttons-right",r),e.setCss("back-button",r),r[ionic.CSS.TRANSFORM]="translate3d("+i+"px,0,0)",e.setCss("back-text",r),r[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e.setCss("title",r)}function o(e,t,n){if(e&&t){var i=(e.titleTextX()+e.titleWidth())*(1-n),o=t&&(t.titleTextX()-e.backButtonTextLeft())*(1-n)||0;r(e,n,i,o)}}function a(e,t,n){if(e&&t){var i=(-(e.titleTextX()-t.backButtonTextLeft())-e.titleLeftRight())*n;r(e,1-n,i,0)}}var s={run:function(n){var i=e.controller(),r=t&&t.controller();"back"==s.direction?(a(i,r,1-n),o(r,i,1-n)):(o(i,r,n),a(r,i,n))},direction:n,shouldAnimate:i&&("forward"==n||"back"==n)};return s},r.transitions.views.android=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=o.shouldAnimate?"":0,r.opacity=t,i>-1&&(r.boxShadow="0 0 10px rgba(0,0,0,"+(o.shouldAnimate?.45*i:.3)+")"),r[ionic.CSS.TRANSFORM]="translate3d("+n+"%,0,0)",ionic.DomUtil.cachedStyles(e,r)}var o={run:function(i){"forward"==n?(r(e,1,99*(1-i),1-i),r(t,1-.1*i,-33*i,-1)):"back"==n?(r(e,1-.1*(1-i),-33*(1-i),-1),r(t,1,100*i,1-i)):(r(e,1,0,-1),r(t,0,0,-1))},shouldAnimate:i&&("forward"==n||"back"==n)};return o},r.transitions.navBar.android=function(e,t,n,i){function r(e,t,n,i){var r={};r[ionic.CSS.TRANSITION_DURATION]=s.shouldAnimate?"":"0ms",r.opacity=1===t?"":t,e.setCss("buttons-left",r),e.setCss("buttons-right",r),e.setCss("back-button",r),r[ionic.CSS.TRANSFORM]="translate3d("+i+"px,0,0)",e.setCss("back-text",r),r[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e.setCss("title",r)}function o(e,t,n){if(e&&t){var i=(e.titleTextX()+e.titleWidth())*(1-n),o=t&&(t.titleTextX()-e.backButtonTextLeft())*(1-n)||0;r(e,n,i,o)}}function a(e,t,n){if(e&&t){var i=(-(e.titleTextX()-t.backButtonTextLeft())-e.titleLeftRight())*n;r(e,1-n,i,0)}}var s={run:function(n){var i=e.controller(),r=t&&t.controller();"back"==s.direction?(a(i,r,1-n),o(r,i,1-n)):(o(i,r,n),a(r,i,n))},direction:n,shouldAnimate:i&&("forward"==n||"back"==n)};return s},r.transitions.views.none=function(e,t){return{run:function(n){r.transitions.views.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},r.transitions.navBar.none=function(e,t){return{run:function(n){r.transitions.navBar.ios(e,t,!1,!1).run(n),r.transitions.navBar.android(e,t,!1,!1).run(n)},shouldAnimate:!1}},r.setPlatformConfig=e,r.$get=function(){return r}}).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|tel|ftp|mailto|file|ghttps?|ms-appx|x-wmapp0):/),e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|content|blob|ms-appx|x-wmapp0):|data:image\//)}]);var v='<div class="loading-container"><div class="loading"></div></div>',m="$ionicLoading instance.hide() has been deprecated. Use $ionicLoading.hide().",g="$ionicLoading instance.show() has been deprecated. Use $ionicLoading.show().",$="$ionicLoading instance.setContent() has been deprecated. Use $ionicLoading.show({ template: 'my content' }).";s.constant("$ionicLoadingConfig",{template:"<ion-spinner></ion-spinner>"}).factory("$ionicLoading",["$ionicLoadingConfig","$ionicBody","$ionicTemplateLoader","$ionicBackdrop","$timeout","$q","$log","$compile","$ionicPlatform","$rootScope","IONIC_BACK_PRIORITY",function(e,t,n,i,r,o,a,s,l,u,f){function d(){return _||(_=n.compile({template:v,appendTo:t.get()}).then(function(e){return e.show=function(a){var c=a.templateUrl?n.load(a.templateUrl):o.when(a.template||a.content||"");e.scope=a.scope||e.scope,e.isShown||(e.hasBackdrop=!a.noBackdrop&&a.showBackdrop!==!1,e.hasBackdrop&&(i.retain(),i.getElement().addClass("backdrop-loading"))),a.duration&&(r.cancel(e.durationTimeout),e.durationTimeout=r(angular.bind(e,e.hide),+a.duration)),y(),y=l.registerBackButtonAction(p,f.loading),c.then(function(n){if(n){var i=e.element.children();i.html(n),s(i.contents())(e.scope)}e.isShown&&(e.element.addClass("visible"),ionic.requestAnimationFrame(function(){e.isShown&&(e.element.addClass("active"),t.addClass("loading-active"))}))}),e.isShown=!0},e.hide=function(){y(),e.isShown&&(e.hasBackdrop&&(i.release(),i.getElement().removeClass("backdrop-loading")),e.element.removeClass("active"),t.removeClass("loading-active"),setTimeout(function(){!e.isShown&&e.element.removeClass("visible")},200)),r.cancel(e.durationTimeout),e.isShown=!1},e})),_}function h(t){t=c({},e||{},t||{});var n=t.delay||t.showDelay||0;return b(),S(),t.hideOnStateChange&&(b=u.$on("$stateChangeSuccess",w),S=u.$on("$stateChangeError",w)),r.cancel(T),T=r(p,n),T.then(d).then(function(e){return e.show(t)}),{hide:function(){return a.error(m),w.apply(this,arguments)},show:function(){return a.error(g),h.apply(this,arguments)},setContent:function(e){return a.error($),d().then(function(t){t.show({template:e})})}}}function w(){b(),S(),r.cancel(T),d().then(function(e){e.hide()})}var _,y=p,b=p,S=p,T=o.when();return{show:h,hide:w,_getLoader:d}}]),s.factory("$ionicModal",["$rootScope","$ionicBody","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader","$$q","$log","$ionicClickBlock","$window","IONIC_BACK_PRIORITY",function(e,t,n,i,r,o,a,s,l,u,f){var d=ionic.views.Modal.inherit({initialize:function(e){ionic.views.Modal.prototype.initialize.call(this,e),this.animation=e.animation||"slide-in-up"},show:function(e){var n=this;if(n.scope.$$destroyed)return s.error("Cannot call "+n.viewType+".show() after remove(). Please create a new "+n.viewType+" instance."),a.when();l.show(600),g.add(n);var o=h(n.modalEl);n.el.classList.remove("hide"),i(function(){n._isShown&&t.addClass(n.viewType+"-open")},400,!1),n.el.parentElement||(o.addClass(n.animation),t.append(n.el));var c=o.data("$$ionicScrollController");return c&&c.resize(),e&&n.positionView&&(n.positionView(e,o),n._onWindowResize=function(){n._isShown&&n.positionView(e,o)},ionic.on("resize",n._onWindowResize,window)),o.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),n._isShown=!0,n._deregisterBackButton=r.registerBackButtonAction(n.hardwareBackButtonClose?angular.bind(n,n.hide):p,f.modal),ionic.views.Modal.prototype.show.call(n),i(function(){n._isShown&&(o.addClass("ng-enter-active"),ionic.trigger("resize"),n.scope.$parent&&n.scope.$parent.$broadcast(n.viewType+".shown",n),n.el.classList.add("active"),n.scope.$broadcast("$ionicHeader.align"))},20),i(function(){n._isShown&&n.$el.on("click",function(e){n.backdropClickToClose&&e.target===n.el&&g.isHighest(n)&&n.hide()})},400)},hide:function(){var e=this,n=h(e.modalEl);return l.show(600),g.remove(e),e.el.classList.remove("active"),n.addClass("ng-leave"),i(function(){e._isShown||n.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20,!1),e.$el.off("click"),e._isShown=!1,e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".hidden",e),e._deregisterBackButton&&e._deregisterBackButton(),ionic.views.Modal.prototype.hide.call(e),e.positionView&&ionic.off("resize",e._onWindowResize,window),i(function(){t.removeClass(e.viewType+"-open"),e.el.classList.add("hide")},e.hideDelay||320)},remove:function(){var e=this;return e.scope.$parent&&e.scope.$parent.$broadcast(e.viewType+".removed",e),e.hide().then(function(){e.scope.$destroy(),e.$el.remove()})},isShown:function(){return!!this._isShown}}),v=function(t,i){var r=i.scope&&i.scope.$new()||e.$new(!0);i.viewType=i.viewType||"modal",c(r,{$hasHeader:!1,$hasSubheader:!1,$hasFooter:!1,$hasSubfooter:!1,$hasTabs:!1,$hasTabsTop:!1});var o=n("<ion-"+i.viewType+">"+t+"</ion-"+i.viewType+">")(r);i.$el=o,i.el=o[0],i.modalEl=i.el.querySelector("."+i.viewType);var a=new d(i);return a.scope=r,i.scope||(r[i.viewType]=a),a},m=[],g={add:function(e){m.push(e)},remove:function(e){var t=m.indexOf(e);t>-1&&t<m.length&&m.splice(t,1)},isHighest:function(e){var t=m.indexOf(e);return t>-1&&t===m.length-1}};return{fromTemplate:function(e,t){var n=v(e,t||{});return n},fromTemplateUrl:function(e,t,n){var i;return angular.isFunction(t)&&(i=t,t=n),o.load(e).then(function(e){var n=v(e,t||{});return i&&i(n),n})},stack:g}}]),s.service("$ionicNavBarDelegate",ionic.DelegateService(["align","showBackButton","showBar","title","changeTitle","setTitle","getTitle","back","getPreviousTitle"])),s.service("$ionicNavViewDelegate",ionic.DelegateService(["clearCache"])),s.constant("IONIC_BACK_PRIORITY",{view:100,sideMenu:150,modal:200,actionSheet:300,popup:400,loading:500}).provider("$ionicPlatform",function(){return{$get:["$q",function(e){var t={onHardwareBackButton:function(e){ionic.Platform.ready(function(){document.addEventListener("backbutton",e,!1)})},offHardwareBackButton:function(e){ionic.Platform.ready(function(){document.removeEventListener("backbutton",e)})},$backButtonActions:{},registerBackButtonAction:function(e,n,i){t._hasBackButtonHandler||(t.$backButtonActions={},t.onHardwareBackButton(t.hardwareBackButtonClick),t._hasBackButtonHandler=!0);var r={id:i?i:ionic.Utils.nextUid(),priority:n?n:0,fn:e};return t.$backButtonActions[r.id]=r,function(){delete t.$backButtonActions[r.id]}},hardwareBackButtonClick:function(e){var n,i;for(i in t.$backButtonActions)(!n||t.$backButtonActions[i].priority>=n.priority)&&(n=t.$backButtonActions[i]);return n?(n.fn(e),n):void 0},is:function(e){return ionic.Platform.is(e)},on:function(e,t){return ionic.Platform.ready(function(){document.addEventListener(e,t,!1)}),function(){ionic.Platform.ready(function(){document.removeEventListener(e,t)})}},ready:function(t){var n=e.defer();return ionic.Platform.ready(function(){n.resolve(),t&&t()}),n.promise}};return t}]}}),s.factory("$ionicPopover",["$ionicModal","$ionicPosition","$document","$window",function(e,t,n,i){function r(e,n){var r=h(e.target||e),a=t.offset(r),s=n.prop("offsetWidth"),c=n.prop("offsetHeight"),l=i.innerWidth,u=i.innerHeight,f={left:a.left+a.width/2-s/2},d=h(n[0].querySelector(".popover-arrow"));f.left<o?f.left=o:f.left+s+o>l&&(f.left=l-s-o),a.top+a.height+c>u&&a.top-c>0?(f.top=a.top-c,n.addClass("popover-bottom")):(f.top=a.top+a.height,n.removeClass("popover-bottom")),d.css({left:a.left+a.width/2-d.prop("offsetWidth")/2-f.left+"px"}),n.css({top:f.top+"px",left:f.left+"px",marginLeft:"0",opacity:"1"})}var o=6,a={viewType:"popover",hideDelay:1,animation:"none",positionView:r};return{fromTemplate:function(t,n){return e.fromTemplate(t,ionic.Utils.extend(a,n||{}))},fromTemplateUrl:function(t,n){return e.fromTemplateUrl(t,ionic.Utils.extend(a,n||{}))}}}]);var w='<div class="popup-container" ng-class="cssClass"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body"></div><div class="popup-buttons" ng-show="buttons.length"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>';s.factory("$ionicPopup",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$ionicBody","$compile","$ionicPlatform","$ionicModal","IONIC_BACK_PRIORITY",function(e,t,n,i,r,o,a,s,l,u){function f(t){t=c({scope:null,title:"",buttons:[]},t||{});var s={};return s.scope=(t.scope||r).$new(),s.element=h(w),s.responseDeferred=n.defer(),o.get().appendChild(s.element[0]),a(s.element)(s.scope),c(s.scope,{title:t.title,buttons:t.buttons,subTitle:t.subTitle,cssClass:t.cssClass,$buttonTapped:function(e,t){var n=(e.onTap||p)(t);t=t.originalEvent||t,t.defaultPrevented||s.responseDeferred.resolve(n)}}),n.when(t.templateUrl?e.load(t.templateUrl):t.template||t.content||"").then(function(e){var t=h(s.element[0].querySelector(".popup-body"));e?(t.html(e),a(t.contents())(s.scope)):t.remove()}),s.show=function(){s.isShown||s.removed||(l.stack.add(s),s.isShown=!0,ionic.requestAnimationFrame(function(){s.isShown&&(s.element.removeClass("popup-hidden"),s.element.addClass("popup-showing active"),m(s.element))}))},s.hide=function(e){return e=e||p,s.isShown?(l.stack.remove(s),s.isShown=!1,s.element.removeClass("active"),s.element.addClass("popup-hidden"),void i(e,250,!1)):e()},s.remove=function(){!s.removed&&l.stack.isHighest(s)&&(s.hide(function(){s.element.remove(),s.scope.$destroy()}),s.removed=!0)},s}function d(){var e=b[b.length-1];e&&e.responseDeferred.resolve()}function v(e){function n(){b.push(r),i(r.show,a,!1),r.responseDeferred.promise.then(function(e){var n=b.indexOf(r);return-1!==n&&b.splice(n,1),b.length>0?b[b.length-1].show():(t.release(),i(function(){b.length||o.removeClass("popup-open")},400,!1),(S._backButtonActionDone||p)()),r.remove(),e})}var r=S._createPopup(e),a=0;return b.length>0?(b[b.length-1].hide(),a=y.stackPushDelay):(o.addClass("popup-open"),t.retain(),S._backButtonActionDone=s.registerBackButtonAction(d,u.popup)),r.responseDeferred.promise.close=function(e){r.removed||r.responseDeferred.resolve(e)},r.responseDeferred.notify({close:r.responseDeferred.close}),n(),r.responseDeferred.promise}function m(e){var t=e[0].querySelector("[autofocus]");t&&t.focus()}function g(e){return v(c({buttons:[{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function $(e){return v(c({buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){return!1}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return!0}}]},e||{}))}function _(e){var t=r.$new(!0);t.data={};var n="";return e.template&&/<[a-z][\s\S]*>/i.test(e.template)===!1&&(n="<span>"+e.template+"</span>",delete e.template),v(c({template:n+'<input ng-model="data.response" type="'+(e.inputType||"text")+'" placeholder="'+(e.inputPlaceholder||"")+'">',scope:t,buttons:[{text:e.cancelText||"Cancel",type:e.cancelType||"button-default",onTap:function(){}},{text:e.okText||"OK",type:e.okType||"button-positive",onTap:function(){return t.data.response||""}}]},e||{}))}var y={stackPushDelay:75},b=[],S={show:v,alert:g,confirm:$,prompt:_,_createPopup:f,_popupStack:b};return S}]),s.factory("$ionicPosition",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);o!=e[0]&&(i=this.offset(h(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=t[0].getBoundingClientRect();return{width:a.width||t.prop("offsetWidth"),height:a.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}}]),s.service("$ionicScrollDelegate",ionic.DelegateService(["resize","scrollTop","scrollBottom","scrollTo","scrollBy","zoomTo","zoomBy","getScrollPosition","anchorScroll","freezeScroll","freezeAllScrolls","getScrollView"])),s.service("$ionicSideMenuDelegate",ionic.DelegateService(["toggleLeft","toggleRight","getOpenRatio","isOpen","isOpenLeft","isOpenRight","canDragContent","edgeDragThreshold"])),s.service("$ionicSlideBoxDelegate",ionic.DelegateService(["update","slide","select","enableSlide","previous","next","stop","autoPlay","start","currentIndex","selected","slidesCount","count","loop"])),s.service("$ionicTabsDelegate",ionic.DelegateService(["select","selectedIndex"])),function(){var e=[];s.factory("$ionicTemplateCache",["$http","$templateCache","$timeout",function(t,n,i){function r(e){return"undefined"==typeof e?o():(d(e)&&(e=[e]),l(e,function(e){s.push(e)}),void(a&&o()))}function o(){var e;if(r._runCount++,a=!0,0!==s.length){for(var c=0;4>c&&(e=s.pop());)d(e)&&t.get(e,{cache:n}),c++;s.length&&i(o,1e3)}}var a,s=e;return r._runCount=0,r}]).config(["$stateProvider","$ionicConfigProvider",function(t,n){var i=t.state;t.state=function(r,o){if("object"==typeof o){var a=o.prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch();if(a&&d(o.templateUrl)&&e.push(o.templateUrl),angular.isObject(o.views))for(var s in o.views)a=o.views[s].prefetchTemplate!==!1&&e.length<n.templates.maxPrefetch(),a&&d(o.views[s].templateUrl)&&e.push(o.views[s].templateUrl)}return i.call(t,r,o)}}]).run(["$ionicTemplateCache",function(e){e()}])}(),s.factory("$ionicTemplateLoader",["$compile","$controller","$http","$q","$rootScope","$templateCache",function(e,t,n,i,r,o){function a(e){return n.get(e,{cache:o}).then(function(e){return e.data&&e.data.trim()})}function s(n){n=c({template:"",templateUrl:"",scope:null,controller:null,locals:{},appendTo:null},n||{});var o=n.templateUrl?this.load(n.templateUrl):i.when(n.template);return o.then(function(i){var o,a=n.scope||r.$new(),s=h("<div>").html(i).contents();return n.controller&&(o=t(n.controller,c(n.locals,{$scope:a})),s.children().data("$ngControllerController",o)),n.appendTo&&h(n.appendTo).append(s),e(s)(a),{element:s,scope:a}})}return{load:a,compile:s}}]),s.factory("$ionicViewService",["$ionicHistory","$log",function(e,t){function n(e,n){t.warn("$ionicViewService"+e+" is deprecated, please use $ionicHistory"+n+" instead: http://ionicframework.com/docs/nightly/api/service/$ionicHistory/")}n("","");var i={getCurrentView:"currentView",getBackView:"backView",getForwardView:"forwardView",getCurrentStateName:"currentStateName",nextViewOptions:"nextViewOptions",clearHistory:"clearHistory"};return l(i,function(t,r){i[r]=function(){return n("."+r,"."+t),e[t].apply(this,arguments)}}),i}]),s.factory("$ionicViewSwitcher",["$timeout","$document","$q","$ionicClickBlock","$ionicConfig","$ionicNavBarDelegate",function(e,t,n,i,r,o){function a(e,t){return s(e)["abstract"]?s(e).name:t?t.stateId||t.viewId:ionic.Utils.nextUid()}function s(e){return e&&e.$$state&&e.$$state.self||{}}function f(e,t,n,i){var o=s(e),a=m||I(t,"view-transition")||o.viewTransition||r.views.transition()||"ios",l=r.navBar.transition();return n=g||I(t,"view-direction")||o.viewDirection||n||"none",c(d(i),{transition:a,navBarTransition:"view"===l?a:l,direction:n,shouldAnimate:"none"!==a&&"none"!==n})}function d(e){return e=e||{},{viewId:e.viewId,historyId:e.historyId,stateId:e.stateId,stateName:e.stateName,stateParams:e.stateParams}}function p(e,t){return arguments.length>1?void I(e,x,t):I(e,x)}function v(e){if(e&&e.length){var t=e.scope();t&&(t.$emit("$ionicView.unloaded",e.data(T)),t.$destroy()),e.remove()}}var m,g,$="webkitTransitionEnd transitionend",w="$noCache",_="$destroyEle",y="$eleId",b="$accessed",S="$fallbackTimer",T="$viewData",x="nav-view",E="active",C="cached",k="stage",A=0;ionic.transition=ionic.transition||{},ionic.transition.isActive=!1;var D,I=ionic.DomUtil.cachedAttr,M=[],O=1100,P={create:function(t,l,h,x,D,L){var V,N,B,R=++A,H={init:function(e,t){P.isTransitioning(!0),H.loadViewElements(e),H.render(e,function(){t&&t()})},loadViewElements:function(e){var n,i,r,o=t.getViewElements(),s=a(l,h),c=t.activeEleId();for(n=0,i=o.length;i>n&&(r=o.eq(n),r.data(y)===s?r.data(w)?(r.data(y,s+ionic.Utils.nextUid()),r.data(_,!0)):V=r:u(c)&&r.data(y)===c&&(N=r),!V||!N);n++);B=!!V,B||(V=e.ele||P.createViewEle(l),V.data(y,s)),L&&t.activeEleId(s),e.ele=null
},render:function(e,n){if(B)ionic.Utils.reconnectScope(V.scope());else{p(V,k);var i=f(l,V,e.direction,h),o=r.transitions.views[i.transition]||r.transitions.views.none;o(V,null,i.direction,!0).run(0),V.data(T,{viewId:i.viewId,historyId:i.historyId,stateName:i.stateName,stateParams:i.stateParams}),(s(l).cache===!1||"false"===s(l).cache||"false"==V.attr("cache-view")||0===r.views.maxCache())&&V.data(w,!0);var a=t.appendViewElement(V,l);delete i.direction,delete i.transition,a.$emit("$ionicView.loaded",i)}V.data(b,Date.now()),n&&n()},transition:function(a,s,u){function v(){p(V,U.shouldAnimate?"entering":E),p(N,U.shouldAnimate?"leaving":C),U.run(1),o._instances.forEach(function(e){e.triggerTransitionStart(R)}),U.shouldAnimate||_()}function w(e){e.target===this&&_()}function _(){_.x||(_.x=!0,V.off($,w),e.cancel(V.data(S)),N&&e.cancel(N.data(S)),H.emit("after",z,F),T&&T.resolve(t),R===A&&(n.all(M).then(P.transitionEnd),H.cleanup(z)),o._instances.forEach(function(e){e.triggerTransitionEnd()}),m=g=h=x=V=N=null)}function y(e){e.target===this&&b()}function b(){p(V,C),p(N,E),V.off($,y),e.cancel(V.data(S)),P.transitionEnd([t])}var T,z=f(l,V,a,h),F=c(c({},z),d(x));z.transitionId=F.transitionId=R,z.fromCache=!!B,z.enableBack=!!s,z.renderStart=D,z.renderEnd=L,I(V.parent(),"nav-view-transition",z.transition),I(V.parent(),"nav-view-direction",z.direction),e.cancel(V.data(S));var q=r.transitions.views[z.transition]||r.transitions.views.none,U=q(V,N,z.direction,z.shouldAnimate&&u&&L);if(U.shouldAnimate&&(V.on($,w),V.data(S,e(_,O)),i.show(O)),D&&(H.emit("before",z,F),p(V,k),U.run(0)),L&&(T=n.defer(),M.push(T.promise)),D&&L)e(v,16);else{if(!L)return p(V,"entering"),p(N,"leaving"),{run:U.run,cancel:function(t){t?(V.on($,y),V.data(S,e(b,O)),i.show(O)):b(),U.shouldAnimate=t,U.run(0),U=null}};L&&v()}},emit:function(e,t,n){var i=V.scope(),r=N&&N.scope();"after"==e&&(i&&i.$emit("$ionicView.enter",t),r?r.$emit("$ionicView.leave",n):i&&n&&n.viewId&&i.$emit("$ionicNavView.leave",n)),i&&i.$emit("$ionicView."+e+"Enter",t),r?r.$emit("$ionicView."+e+"Leave",n):i&&n&&n.viewId&&i.$emit("$ionicNavView."+e+"Leave",n)},cleanup:function(e){N&&"back"==e.direction&&!r.views.forwardCache()&&v(N);var n,i,o,a=t.getViewElements(),s=a.length,c=s-1>r.views.maxCache(),l=Date.now();for(n=0;s>n;n++)i=a.eq(n),c&&i.data(b)<l?(l=i.data(b),o=a.eq(n)):i.data(_)&&p(i)!=E&&v(i);v(o),V.data(w)&&V.data(_,!0)},enteringEle:function(){return V},leavingEle:function(){return N}};return H},transitionEnd:function(e){l(e,function(e){e.transitionEnd()}),P.isTransitioning(!1),i.hide(),M=[]},nextTransition:function(e){m=e},nextDirection:function(e){g=e},isTransitioning:function(t){return arguments.length&&(ionic.transition.isActive=!!t,e.cancel(D),t&&(D=e(function(){P.isTransitioning(!1)},999))),ionic.transition.isActive},createViewEle:function(e){var n=t[0].createElement("div");return e&&e.$template&&(n.innerHTML=e.$template,1===n.children.length)?(n.children[0].classList.add("pane"),h(n.children[0])):(n.className="pane",h(n))},viewEleIsActive:function(e,t){p(e,t?E:C)},getTransitionData:f,navViewAttr:p,destroyViewEle:v};return P}]),s.config(["$provide",function(e){e.decorator("$compile",["$delegate",function(e){return e.$$addScopeInfo=function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)},e}])}]),s.config(["$provide",function(e){function t(e,t){return e.__hash=e.hash,e.hash=function(n){return u(n)&&t(function(){var e=document.querySelector(".scroll-content");e&&(e.scrollTop=0)},0,!1),e.__hash(n)},e}e.decorator("$location",["$delegate","$timeout",t])}]),s.controller("$ionicHeaderBar",["$scope","$element","$attrs","$q","$ionicConfig","$ionicHistory",function(e,t,n,i,r,o){function a(e){return T[e]||(T[e]=t[0].querySelector("."+e)),T[e]}var s="title",c="back-text",l="back-button",u="default-title",f="previous-title",d="hide",h=this,p="",v="",m=0,g=0,$="",w=!1,_=!0,y=!0,b=!1,S=0;h.beforeEnter=function(t){e.$broadcast("$ionicView.beforeEnter",t)},h.title=function(e){return arguments.length&&e!==p&&(a(s).innerHTML=e,p=e,S=0),p},h.enableBack=function(e,t){return arguments.length&&(w=e,t||h.updateBackButton()),w},h.showBack=function(e,t){return arguments.length&&(_=e,t||h.updateBackButton()),_},h.showNavBack=function(e){y=e,h.updateBackButton()},h.updateBackButton=function(){var e;(_&&y&&w)!==b&&(b=_&&y&&w,e=a(l),e&&e.classList[b?"remove":"add"](d)),w&&(e=e||a(l),e&&(h.backButtonIcon!==r.backButton.icon()&&(e=a(l+" .icon"),e&&(h.backButtonIcon=r.backButton.icon(),e.className="icon "+h.backButtonIcon)),h.backButtonText!==r.backButton.text()&&(e=a(l+" .back-text"),e&&(e.textContent=h.backButtonText=r.backButton.text()))))},h.titleTextWidth=function(){if(!S){var e=ionic.DomUtil.getTextBounds(a(s));S=Math.min(e&&e.width||30)}return S},h.titleWidth=function(){var e=h.titleTextWidth(),t=a(s).offsetWidth;return e>t&&(e=t+(m-g-5)),e},h.titleTextX=function(){return t[0].offsetWidth/2-h.titleWidth()/2},h.titleLeftRight=function(){return m-g},h.backButtonTextLeft=function(){for(var e=0,t=a(c);t;)e+=t.offsetLeft,t=t.parentElement;return e},h.resetBackButton=function(e){if(r.backButton.previousTitleText()){var t=a(f);if(t){t.classList.remove(d);var n=e&&o.getViewById(e.viewId),i=o.backTitle(n);i!==v&&(v=t.innerHTML=i)}var s=a(u);s&&s.classList.remove(d)}},h.align=function(e){var i=a(s);e=e||n.alignTitle||r.navBar.alignTitle();var o=h.calcWidths(e,!1);if(_&&v&&r.backButton.previousTitleText()){var c=h.calcWidths(e,!0),l=t[0].offsetWidth-c.titleLeft-c.titleRight;h.titleTextWidth()<=l&&(o=c)}return h.updatePositions(i,o.titleLeft,o.titleRight,o.buttonsLeft,o.buttonsRight,o.css,o.showPrevTitle)},h.calcWidths=function(e,n){var i,r,o,h,p,v,m,g,$,w=a(s),y=a(l),b=t[0].childNodes,S=0,T=0,x=0,E=0,C="",k=0;for(i=0;i<b.length;i++){if(p=b[i],m=0,1==p.nodeType){if(p===w){$=!0;continue}if(p.classList.contains(d))continue;if(_&&p===y){for(r=0;r<p.childNodes.length;r++)if(h=p.childNodes[r],1==h.nodeType)if(h.classList.contains(c))for(o=0;o<h.children.length;o++)if(v=h.children[o],n){if(v.classList.contains(u))continue;k+=v.offsetWidth}else{if(v.classList.contains(f))continue;k+=v.offsetWidth}else k+=h.offsetWidth;else 3==h.nodeType&&h.nodeValue.trim()&&(g=ionic.DomUtil.getTextBounds(h),k+=g&&g.width||0);m=k||p.offsetWidth}else m=p.offsetWidth}else 3==p.nodeType&&p.nodeValue.trim()&&(g=ionic.DomUtil.getTextBounds(p),m=g&&g.width||0);$?T+=m:S+=m}if("left"==e)C="title-left",S&&(x=S+15),T&&(E=T+15);else if("right"==e)C="title-right",S&&(x=S+15),T&&(E=T+15);else{var A=Math.max(S,T)+10;A>10&&(x=E=A)}return{backButtonWidth:k,buttonsLeft:S,buttonsRight:T,titleLeft:x,titleRight:E,showPrevTitle:n,css:C}},h.updatePositions=function(e,n,o,s,c,l,p){var v=i.defer();if(e&&(n!==m&&(e.style.left=n?n+"px":"",m=n),o!==g&&(e.style.right=o?o+"px":"",g=o),l!==$&&(l&&e.classList.add(l),$&&e.classList.remove($),$=l)),r.backButton.previousTitleText()){var w=a(f),_=a(u);w&&w.classList[p?"remove":"add"](d),_&&_.classList[p?"add":"remove"](d)}return ionic.requestAnimationFrame(function(){if(e&&e.offsetWidth+10<e.scrollWidth){var n=c+5,i=t[0].offsetWidth-m-h.titleTextWidth()-20;o=n>i?n:i,o!==g&&(e.style.right=o+"px",g=o)}v.resolve()}),v.promise},h.setCss=function(e,t){ionic.DomUtil.cachedStyles(a(e),t)};var T={};e.$on("$destroy",function(){for(var e in T)T[e]=null})}]),s.controller("$ionInfiniteScroll",["$scope","$attrs","$element","$timeout",function(e,t,n,i){function r(){ionic.requestAnimationFrame(function(){n[0].classList.add("active")}),c.isLoading=!0,e.$parent&&e.$parent.$apply(t.onInfinite||"")}function o(){ionic.requestAnimationFrame(function(){n[0].classList.remove("active")}),i(function(){c.jsScrolling&&c.scrollView.resize(),(c.jsScrolling&&c.scrollView.__container&&c.scrollView.__container.offsetHeight>0||!c.jsScrolling)&&c.checkBounds()},30,!1),c.isLoading=!1}function a(){if(!c.isLoading){var e={};if(c.jsScrolling){e=c.getJSMaxScroll();var t=c.scrollView.getValues();(-1!==e.left&&t.left>=e.left||-1!==e.top&&t.top>=e.top)&&r()}else e=c.getNativeMaxScroll(),(-1!==e.left&&c.scrollEl.scrollLeft>=e.left-c.scrollEl.clientWidth||-1!==e.top&&c.scrollEl.scrollTop>=e.top-c.scrollEl.clientHeight)&&r()}}function s(e){var n=(t.distance||"2.5%").trim(),i=-1!==n.indexOf("%");return i?e*(1-parseFloat(n)/100):e-parseFloat(n)}var c=this;c.isLoading=!1,e.icon=function(){return u(t.icon)?t.icon:"ion-load-d"},e.spinner=function(){return u(t.spinner)?t.spinner:""},e.$on("scroll.infiniteScrollComplete",function(){o()}),e.$on("$destroy",function(){c.scrollCtrl&&c.scrollCtrl.$element&&c.scrollCtrl.$element.off("scroll",c.checkBounds),c.scrollEl&&c.scrollEl.removeEventListener&&c.scrollEl.removeEventListener("scroll",c.checkBounds)}),c.checkBounds=ionic.Utils.throttle(a,300),c.getJSMaxScroll=function(){var e=c.scrollView.getScrollMax();return{left:c.scrollView.options.scrollingX?s(e.left):-1,top:c.scrollView.options.scrollingY?s(e.top):-1}},c.getNativeMaxScroll=function(){var e={left:c.scrollEl.scrollWidth,top:c.scrollEl.scrollHeight},t=window.getComputedStyle(c.scrollEl)||{};return{left:"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===c.scrollEl.style["overflow-x"]?s(e.left):-1,top:"scroll"===t.overflowY||"auto"===t.overflowY||"scroll"===c.scrollEl.style["overflow-y"]?s(e.top):-1}},c.__finishInfiniteScroll=o}]),s.service("$ionicListDelegate",ionic.DelegateService(["showReorder","showDelete","canSwipeItems","closeOptionButtons"])).controller("$ionicList",["$scope","$attrs","$ionicListDelegate","$ionicHistory",function(e,t,n,i){var r=this,o=!0,a=!1,s=!1,c=n._registerInstance(r,t.delegateHandle,function(){return i.isActiveScope(e)});e.$on("$destroy",c),r.showReorder=function(e){return arguments.length&&(a=!!e),a},r.showDelete=function(e){return arguments.length&&(s=!!e),s},r.canSwipeItems=function(e){return arguments.length&&(o=!!e),o},r.closeOptionButtons=function(){r.listView&&r.listView.clearDragEffects()}}]),s.controller("$ionicNavBar",["$scope","$element","$attrs","$compile","$timeout","$ionicNavBarDelegate","$ionicConfig","$ionicHistory",function(e,t,n,i,r,o,a,s){function c(e,t){var n=console.warn||console.log;n&&n.call(console,"navBarController."+e+" is deprecated, please use "+t+" instead")}function f(e){return k[e]?h(k[e]):void 0}function d(){for(var e=0;e<C.length;e++)if(C[e].isActive)return C[e]}function p(){for(var e=0;e<C.length;e++)if(!C[e].isActive)return C[e]}function v(e,t){e&&ionic.DomUtil.cachedAttr(e.containerEle(),"nav-bar",t)}function m(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)}var g,$,w,_="hide",y="$ionNavBarController",b="primaryButtons",S="secondaryButtons",T="backButton",x="primaryButtons secondaryButtons leftButtons rightButtons title".split(" "),E=this,C=[],k={},A=!0;t.parent().data(y,E);var D=n.delegateHandle||"navBar"+ionic.Utils.nextUid(),I=o._registerInstance(E,D);E.init=function(){t.addClass("nav-bar-container"),ionic.DomUtil.cachedAttr(t,"nav-bar-transition",a.views.transition()),E.createHeaderBar(!1),E.createHeaderBar(!0),e.$emit("ionNavBar.init",D)},E.createHeaderBar=function(r){function o(e,t){e&&("title"===t?m.append(e):"rightButtons"==t||t==S&&"left"!=a.navBar.positionSecondaryButtons()||t==b&&"right"==a.navBar.positionPrimaryButtons()?(v||(v=h('<div class="buttons buttons-right">'),d.append(v)),t==S?v.append(e):v.prepend(e)):(p||(p=h('<div class="buttons buttons-left">'),g[T]?g[T].after(p):d.prepend(p)),t==S?p.append(e):p.prepend(e)))}var s=h('<div class="nav-bar-block">');ionic.DomUtil.cachedAttr(s,"nav-bar",r?"active":"cached");var c=n.alignTitle||a.navBar.alignTitle(),d=h("<ion-header-bar>").addClass(n["class"]).attr("align-title",c);u(n.noTapScroll)&&d.attr("no-tap-scroll",n.noTapScroll);var p,v,m=h('<div class="title title-'+c+'">'),g={},$={};g[T]=f(T),g[T]&&d.append(g[T]),d.append(m),l(x,function(e){g[e]=f(e),o(g[e],e)});for(var w=0;w<d[0].children.length;w++)d[0].children[w].classList.add("header-item");s.append(d),t.append(i(s)(e.$new()));var y=d.data("$ionHeaderBarController");y.backButtonIcon=a.backButton.icon(),y.backButtonText=a.backButton.text();var E={isActive:r,title:function(e){y.title(e)},setItem:function(e,t){E.removeItem(t),e?("title"===t&&E.title(""),o(e,t),g[t]&&g[t].addClass(_),$[t]=e):g[t]&&g[t].removeClass(_)},removeItem:function(e){$[e]&&($[e].scope().$destroy(),$[e].remove(),$[e]=null)},containerEle:function(){return s},headerBarEle:function(){return d},afterLeave:function(){l(x,function(e){E.removeItem(e)}),y.resetBackButton()},controller:function(){return y},destroy:function(){l(x,function(e){E.removeItem(e)}),s.scope().$destroy();for(var e in g)g[e]&&(g[e].removeData(),g[e]=null);p&&p.removeData(),v&&v.removeData(),m.removeData(),d.removeData(),s.remove(),s=d=m=p=v=null}};return C.push(E),E},E.navElement=function(e,t){return u(t)&&(k[e]=t),k[e]},E.update=function(e){var t=!e.hasHeaderBar&&e.showNavBar;e.transition=a.views.transition(),t||(e.direction="none"),E.enable(t);var n=E.isInitialized?p():d(),i=E.isInitialized?d():null,r=n.controller();r.enableBack(e.enableBack,!0),r.showBack(e.showBack,!0),r.updateBackButton(),E.title(e.title,n),E.showBar(t),e.navBarItems&&l(x,function(t){n.setItem(e.navBarItems[t],t)}),E.transition(n,i,e),E.isInitialized=!0,m("")},E.transition=function(n,i,o){function s(){for(var e=0;e<C.length;e++)C[e].isActive=!1;n.isActive=!0,v(n,"active"),v(i,"cached"),E.activeTransition=f=$=null}var c=n.controller(),l=a.transitions.navBar[o.navBarTransition]||a.transitions.navBar.none,u=o.transitionId;c.beforeEnter(o);var f=l(n,i,o.direction,o.shouldAnimate&&E.isInitialized);ionic.DomUtil.cachedAttr(t,"nav-bar-transition",o.navBarTransition),ionic.DomUtil.cachedAttr(t,"nav-bar-direction",o.direction),f.shouldAnimate&&o.renderEnd?v(n,"stage"):(v(n,"entering"),v(i,"leaving")),c.resetBackButton(o),f.run(0),E.activeTransition={run:function(e){f.shouldAnimate=!1,f.direction="back",f.run(e)},cancel:function(t,r,o){m(r),v(i,"active"),v(n,"cached"),f.shouldAnimate=t,f.run(0),E.activeTransition=f=null;var a;o.showBar!==E.showBar()&&E.showBar(o.showBar),o.showBackButton!==E.showBackButton()&&E.showBackButton(o.showBackButton),a&&e.$apply()},complete:function(e,t){m(t),f.shouldAnimate=e,f.run(1),$=s}},r(c.align,16),(g=function(){w===u&&(v(n,"entering"),v(i,"leaving"),f.run(1),$=function(){w!=u&&f.shouldAnimate||s()},g=null)})()},E.triggerTransitionStart=function(e){w=e,g&&g()},E.triggerTransitionEnd=function(){$&&$()},E.showBar=function(t){return arguments.length&&(E.visibleBar(t),e.$parent.$hasHeader=!!t),!!e.$parent.$hasHeader},E.visibleBar=function(e){e&&!A?(t.removeClass(_),E.align()):!e&&A&&t.addClass(_),A=e},E.enable=function(e){E.visibleBar(e);for(var t=0;t<o._instances.length;t++)o._instances[t]!==E&&o._instances[t].visibleBar(!1)},E.showBackButton=function(t){if(arguments.length){for(var n=0;n<C.length;n++)C[n].controller().showNavBack(!!t);e.$isBackButtonShown=!!t}return e.$isBackButtonShown},E.showActiveBackButton=function(e){var t=d();return t?arguments.length?t.controller().showBack(e):t.controller().showBack():void 0},E.title=function(t,n){return u(t)&&(t=t||"",n=n||d(),n&&n.title(t),e.$title=t,s.currentTitle(t)),e.$title},E.align=function(e,t){t=t||d(),t&&t.controller().align(e)},E.hasTabsTop=function(e){t[e?"addClass":"removeClass"]("nav-bar-tabs-top")},E.hasBarSubheader=function(e){t[e?"addClass":"removeClass"]("nav-bar-has-subheader")},E.changeTitle=function(e){c("changeTitle(val)","title(val)"),E.title(e)},E.setTitle=function(e){c("setTitle(val)","title(val)"),E.title(e)},E.getTitle=function(){return c("getTitle()","title()"),E.title()},E.back=function(){c("back()","$ionicHistory.goBack()"),s.goBack()},E.getPreviousTitle=function(){c("getPreviousTitle()","$ionicHistory.backTitle()"),s.goBack()},e.$on("$destroy",function(){e.$parent.$hasHeader=!1,t.parent().removeData(y);for(var n=0;n<C.length;n++)C[n].destroy();t.remove(),t=C=null,I()})}]),s.controller("$ionicNavView",["$scope","$element","$attrs","$compile","$controller","$ionicNavBarDelegate","$ionicNavViewDelegate","$ionicHistory","$ionicViewSwitcher","$ionicConfig","$ionicScrollDelegate",function(e,t,n,i,r,o,a,s,l,u,f){function d(e,n){for(var i,r,o=t.children(),a=0,s=o.length;s>a;a++)if(i=o.eq(a),A(i)==x){r=i.scope(),r&&r.$emit(e.name.replace("Tabs","View"),n);break}}function h(e){ionic.DomUtil.cachedAttr(t,"nav-swipe",e)}function p(e,t){var n=m();n&&n.hasTabsTop(t)}function v(e,t){var n=m();n&&n.hasBarSubheader(t)}function m(){if($)for(var e=0;e<o._instances.length;e++)if(o._instances[e].$$delegateHandle==$)return o._instances[e];return t.inheritedData("$ionNavBarController")}var g,$,w,_,y,b="$eleId",S="$destroyEle",T="$noCache",x="active",E="cached",C=this,k=!1,A=l.navViewAttr;C.scope=e,C.element=t,C.init=function(){var i=n.name||"",r=t.parent().inheritedData("$uiView"),o=r&&r.state?r.state.name:"";i.indexOf("@")<0&&(i=i+"@"+o);var s={name:i,state:null};t.data("$uiView",s);var c=a._registerInstance(C,n.delegateHandle);return e.$on("$destroy",function(){c(),C.isSwipeFreeze&&f.freezeAllScrolls(!1)}),e.$on("$ionicHistory.deselect",C.cacheCleanup),e.$on("$ionicTabs.top",p),e.$on("$ionicSubheader",v),e.$on("$ionicTabs.beforeLeave",d),e.$on("$ionicTabs.afterLeave",d),e.$on("$ionicTabs.leave",d),ionic.Platform.ready(function(){ionic.Platform.isWebView()&&u.views.swipeBackEnabled()&&C.initSwipeBack()}),s},C.register=function(t){var n=c({},s.currentView()),i=s.register(e,t);C.update(i);var r=s.getViewById(i.viewId)||{},o=_!==i.viewId;C.render(i,t,r,n,o,!0)},C.update=function(e){k=!0,g=e.direction;var n=t.parent().inheritedData("$ionNavViewController");n&&(n.isPrimary(!1),("enter"===g||"exit"===g)&&(n.direction(g),"enter"===g&&(g="none")))},C.render=function(e,t,n,i,r,o){var a=l.create(C,t,n,i,r,o);a.init(e,function(){a.transition(C.direction(),e.enableBack,!y),_=y=null})},C.beforeEnter=function(e){if(k){$=e.navBarDelegate;var t=m();t&&t.update(e),h("")}},C.activeEleId=function(e){return arguments.length&&(w=e),w},C.transitionEnd=function(){var e,n,i,r=t.children();for(e=0,n=r.length;n>e;e++)i=r.eq(e),i.data(b)===w?A(i,x):("leaving"===A(i)||A(i)===x||A(i)===E)&&(i.data(S)||i.data(T)?l.destroyViewEle(i):(A(i,E),ionic.Utils.disconnectScope(i.scope())));h(""),C.isSwipeFreeze&&f.freezeAllScrolls(!1)},C.cacheCleanup=function(){for(var e=t.children(),n=0,i=e.length;i>n;n++)e.eq(n).data(S)&&l.destroyViewEle(e.eq(n))},C.clearCache=function(e){var n,i,r,o,a,s,c=t.children();for(r=0,o=c.length;o>r;r++)if(n=c.eq(r),e)for(s=n.data(b),a=0;a<e.length;a++)s===e[a]&&l.destroyViewEle(n);else A(n)==E?l.destroyViewEle(n):A(n)==x&&(i=n.scope(),i&&i.$broadcast("$ionicView.clearCache"))},C.getViewElements=function(){return t.children()},C.appendViewElement=function(n,o){var a=i(n);t.append(n);var s=e.$new();if(o&&o.$$controller){o.$scope=s;var c=r(o.$$controller,o);t.children().data("$ngControllerController",c)}return a(s),s},C.title=function(e){var t=m();t&&t.title(e)},C.enableBackButton=function(e){var t=m();t&&t.enableBackButton(e)},C.showBackButton=function(e){var t=m();return t?arguments.length?t.showActiveBackButton(e):t.showActiveBackButton():!0},C.showBar=function(e){var t=m();return t?arguments.length?t.showBar(e):t.showBar():!0},C.isPrimary=function(e){return arguments.length&&(k=e),k},C.direction=function(e){return arguments.length&&(g=e),g},C.initSwipeBack=function(){function n(e){if(k&&(b=o(e),!(b>T))){p=s.backView();var n=s.currentView();if(p&&p.historyId===n.historyId&&n.canSwipeBack!==!1){w||(w=window.innerWidth),C.isSwipeFreeze=f.freezeAllScrolls(!0);var a={direction:"back"};S=[],x={showBar:C.showBar(),showBackButton:C.showBackButton()};var u=l.create(C,a,p,n,!0,!1);u.loadViewElements(a),u.render(a),c=u.transition("back",s.enabledBack(p),!0),d=m(),g=ionic.onGesture("drag",i,t[0]),$=ionic.onGesture("release",r,t[0])}}}function i(e){if(k&&c){var t=o(e);if(S.push({t:Date.now(),x:t}),t>=w-15)r(e);else{var n=Math.min(Math.max(a(t),0),1);c.run(n),d&&d.activeTransition&&d.activeTransition.run(n)}}}function r(e){if(k&&c&&S&&S.length>1){for(var t=Date.now(),n=o(e),s=S[S.length-1],l=S.length-2;l>=0&&!(t-s.t>200);l--)s=S[l];var u=n>=S[S.length-2].x,v=a(n),m=Math.abs(s.x-n)/(t-s.t);if(_=p.viewId,y=.03>v||v>.97,u&&(v>.5||m>.1)){var b=m>.5||.05>m||n>w-45?"fast":"slow";h(y?"":b),p.go(),d&&d.activeTransition&&d.activeTransition.complete(!y,b)}else h(y?"":"fast"),_=null,c.cancel(!y),d&&d.activeTransition&&d.activeTransition.cancel(!y,"fast",x),y=null}ionic.offGesture(g,"drag",i),ionic.offGesture($,"release",r),w=c=S=null,C.isSwipeFreeze=f.freezeAllScrolls(!1)}function o(e){return ionic.tap.pointerCoord(e.gesture.srcEvent).x}function a(e){return(e-b)/w}var c,d,p,v,g,$,w,b,S,T=u.views.swipeBackHitWidth(),x={};v=ionic.onGesture("dragstart",n,t[0]),e.$on("$destroy",function(){ionic.offGesture(v,"dragstart",n),ionic.offGesture(g,"drag",i),ionic.offGesture($,"release",r),C.element=c=d=null})}}]),s.controller("$ionicRefresher",["$scope","$attrs","$element","$ionicBind","$timeout",function(e,t,n,i,r){function o(){(M||S)&&(D=null,S?(S=!1,x=0,E>C?(m(),d(C,A)):(d(0,A,v),T=!1)):(x=0,T=!1,f(!1)))}function a(e){if(M&&!(e.touches.length>1)){if(null===D&&(D=parseInt(e.touches[0].screenY,10)),ionic.Platform.isAndroid()&&4.4===ionic.Platform.version()&&0===_.scrollTop&&(S=!0,e.preventDefault()),I=parseInt(e.touches[0].screenY,10)-D,0>=I-x||0!==_.scrollTop)return T&&(T=!1,f(!1)),S&&l(_,-1*parseInt(I-x,10)),void(0!==E&&c(0));I>0&&0===_.scrollTop&&!T&&(x=I),e.preventDefault(),T||(T=!0,f(!0)),S=!0,c(parseInt((I-x)/3,10)),!k&&E>C?(k=!0,ionic.requestAnimationFrame(p)):k&&C>E&&(k=!1,ionic.requestAnimationFrame(v))}}function s(e){M=0===e.target.scrollTop||S}function c(e){y.style[ionic.CSS.TRANSFORM]="translateY("+e+"px)",E=e}function l(e,t){e.scrollTop=t;var n=document.createEvent("UIEvents");n.initUIEvent("scroll",!0,!0,window,1),e.dispatchEvent(n)}function f(e){ionic.requestAnimationFrame(e?function(){y.classList.add("overscroll"),g()}:function(){y.classList.remove("overscroll"),$(),v()})}function d(e,t,n){function i(e){return--e*e*e+1}function r(){var s=Date.now(),l=Math.min(1,(s-o)/t),u=i(l);c(parseInt(u*(e-a)+a,10)),1>l?ionic.requestAnimationFrame(r):(5>e&&e>-5&&(T=!1,f(!1)),n&&n())}var o=Date.now(),a=E;return a===e?void n():void ionic.requestAnimationFrame(r)}function h(){ionic.off("touchmove",a,y),ionic.off("touchend",o,y),ionic.off("scroll",s,_),_=null,y=null}function p(){n[0].classList.add("active"),e.$onPulling()}function v(){r(function(){n.removeClass("active refreshing refreshing-tail"),k&&(k=!1)},150)}function m(){n[0].classList.add("refreshing"),e.$onRefresh()}function g(){n[0].classList.remove("invisible")}function $(){n[0].classList.add("invisible")}function w(){n[0].classList.add("refreshing-tail")}var _,y,b=this,S=!1,T=!1,x=0,E=0,C=60,k=!1,A=500,D=null,I=null,M=!0;u(t.pullingIcon)||t.$set("pullingIcon","ion-android-arrow-down"),e.showSpinner=!u(t.refreshingIcon)&&"none"!=t.spinner,e.showIcon=u(t.refreshingIcon),i(e,t,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",spinner:"@",disablePullingRotation:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),e.$on("scroll.refreshComplete",function(){r(function(){ionic.requestAnimationFrame(w),d(0,A,v),r(function(){T&&(T=!1,f(!1))},A)},A)}),b.init=function(){if(_=n.parent().parent()[0],y=n.parent()[0],!(_&&_.classList.contains("ionic-scroll")&&y&&y.classList.contains("scroll")))throw new Error("Refresher must be immediate child of ion-content or ion-scroll");ionic.on("touchmove",a,y),ionic.on("touchend",o,y),ionic.on("scroll",s,_),e.$on("$destroy",h)},b.getRefresherDomMethods=function(){return{activate:p,deactivate:v,start:m,show:g,hide:$,tail:w}},b.__handleTouchmove=a,b.__getScrollChild=function(){return y},b.__getScrollParent=function(){return _}}]),s.controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$window","$location","$document","$ionicScrollDelegate","$ionicHistory",function(e,t,n,i,r,o,a,s){var c=this;c.__timeout=n,c._scrollViewOptions=t,c.isNative=function(){return!!t.nativeScrolling};var l,f=c.element=t.el,d=c.$element=h(f);l=c.scrollView=c.isNative()?new ionic.views.ScrollNative(t):new ionic.views.Scroll(t),(d.parent().length?d.parent():d).data("$$ionicScrollController",c);var p=a._registerInstance(c,t.delegateHandle,function(){return s.isActiveScope(e)});u(t.bouncing)||ionic.Platform.ready(function(){l.options&&(l.options.bouncing=!0,ionic.Platform.isAndroid()&&(l.options.bouncing=!1,l.options.deceleration=.95))});var v=angular.bind(l,l.resize);angular.element(i).on("resize",v);var m=function(t){var n=(t.originalEvent||t).detail||{};e.$onScroll&&e.$onScroll({event:t,scrollTop:n.scrollTop||0,scrollLeft:n.scrollLeft||0})};d.on("scroll",m),e.$on("$destroy",function(){p(),l&&l.__cleanup&&l.__cleanup(),angular.element(i).off("resize",v),d.off("scroll",m),l=c.scrollView=t=c._scrollViewOptions=t.el=c._scrollViewOptions.el=d=c.$element=f=null}),n(function(){l&&l.run&&l.run()}),c.getScrollView=function(){return l},c.getScrollPosition=function(){return l.getValues()},c.resize=function(){return n(v,0,!1).then(function(){d&&d.triggerHandler("scroll-resize")})},c.scrollTop=function(e){c.resize().then(function(){l.scrollTo(0,0,!!e)})},c.scrollBottom=function(e){c.resize().then(function(){var t=l.getScrollMax();l.scrollTo(t.left,t.top,!!e)})},c.scrollTo=function(e,t,n){c.resize().then(function(){l.scrollTo(e,t,!!n)})},c.zoomTo=function(e,t,n,i){c.resize().then(function(){l.zoomTo(e,!!t,n,i)})},c.zoomBy=function(e,t,n,i){c.resize().then(function(){l.zoomBy(e,!!t,n,i)})},c.scrollBy=function(e,t,n){c.resize().then(function(){l.scrollBy(e,t,!!n)})},c.anchorScroll=function(e){c.resize().then(function(){var t=r.hash(),n=t&&o[0].getElementById(t);if(!t||!n)return void l.scrollTo(0,0,!!e);var i=n,a=0,s=0;do null!==i&&(a+=i.offsetLeft),null!==i&&(s+=i.offsetTop),i=i.offsetParent;while(i.attributes!=c.element.attributes&&i.offsetParent);l.scrollTo(a,s,!!e)})},c.freezeScroll=l.freeze,c.freezeAllScrolls=function(e){for(var t=0;t<a._instances.length;t++)a._instances[t].freezeScroll(e)},c._setRefresher=function(e,t,n){c.refresher=t;var i=c.refresher.clientHeight||60;l.activatePullToRefresh(i,n)}}]),s.controller("$ionicSideMenus",["$scope","$attrs","$ionicSideMenuDelegate","$ionicPlatform","$ionicBody","$ionicHistory","$ionicScrollDelegate","IONIC_BACK_PRIORITY","$rootScope",function(e,t,n,i,r,o,a,s,c){function l(e){e&&!w.isScrollFreeze?a.freezeAllScrolls(e):!e&&w.isScrollFreeze&&a.freezeAllScrolls(!1),w.isScrollFreeze=e}var u,d,h,v,m,g,$,w=this,_=!0;w.$scope=e,w.initialize=function(e){w.left=e.left,w.right=e.right,w.setContent(e.content),w.dragThresholdX=e.dragThresholdX||10,o.registerHistory(w.$scope)},w.setContent=function(e){e&&(w.content=e,w.content.onDrag=function(e){w._handleDrag(e)},w.content.endDrag=function(e){w._endDrag(e)})},w.isOpenLeft=function(){return w.getOpenAmount()>0},w.isOpenRight=function(){return w.getOpenAmount()<0},w.toggleLeft=function(e){if(!$&&w.left.isEnabled){var t=w.getOpenAmount();0===arguments.length&&(e=0>=t),w.content.enableAnimation(),e?(w.openPercentage(100),c.$emit("$ionicSideMenuOpen","left")):(w.openPercentage(0),c.$emit("$ionicSideMenuClose","left"))}},w.toggleRight=function(e){if(!$&&w.right.isEnabled){var t=w.getOpenAmount();0===arguments.length&&(e=t>=0),w.content.enableAnimation(),e?(w.openPercentage(-100),c.$emit("$ionicSideMenuOpen","right")):(w.openPercentage(0),c.$emit("$ionicSideMenuClose","right"))}},w.toggle=function(e){"right"==e?w.toggleRight():w.toggleLeft()},w.close=function(){w.openPercentage(0),c.$emit("$ionicSideMenuClose","left"),c.$emit("$ionicSideMenuClose","right")},w.getOpenAmount=function(){return w.content&&w.content.getTranslateX()||0},w.getOpenRatio=function(){var e=w.getOpenAmount();return e>=0?e/w.left.width:e/w.right.width},w.isOpen=function(){return 0!==w.getOpenAmount()},w.getOpenPercentage=function(){return 100*w.getOpenRatio()},w.openPercentage=function(e){var t=e/100;w.left&&e>=0?w.openAmount(w.left.width*t):w.right&&0>e&&w.openAmount(w.right.width*t),r.enableClass(0!==e,"menu-open"),l(!1)},w.openAmount=function(e){var t=w.left&&w.left.width||0,n=w.right&&w.right.width||0;return(w.left&&w.left.isEnabled||!(e>0))&&(w.right&&w.right.isEnabled||!(0>e))?d&&e>t?void w.content.setTranslateX(t):u&&-n>e?void w.content.setTranslateX(-n):(w.content.setTranslateX(e),void(e>=0?(d=!0,u=!1,e>0&&(w.right&&w.right.pushDown&&w.right.pushDown(),w.left&&w.left.bringUp&&w.left.bringUp())):(u=!0,d=!1,w.right&&w.right.bringUp&&w.right.bringUp(),w.left&&w.left.pushDown&&w.left.pushDown()))):void w.content.setTranslateX(0)},w.snapToRest=function(e){w.content.enableAnimation(),h=!1;var t=w.getOpenRatio();if(0===t)return void w.openPercentage(0);var n=.3,i=e.gesture.velocityX,r=e.gesture.direction;w.openPercentage(t>0&&.5>t&&"right"==r&&n>i?0:t>.5&&"left"==r&&n>i?100:0>t&&t>-.5&&"left"==r&&n>i?0:.5>t&&"right"==r&&n>i?-100:"right"==r&&t>=0&&(t>=.5||i>n)?100:"left"==r&&0>=t&&(-.5>=t||i>n)?-100:0)},w.enableMenuWithBackViews=function(e){return arguments.length&&(_=!!e),_},w.isAsideExposed=function(){return!!$},w.exposeAside=function(e){(w.left&&w.left.isEnabled||w.right&&w.right.isEnabled)&&(w.close(),$=e,w.left&&w.left.isEnabled?w.content.setMarginLeft($?w.left.width:0):w.right&&w.right.isEnabled&&w.content.setMarginRight($?w.right.width:0),w.$scope.$emit("$ionicExposeAside",$))},w.activeAsideResizing=function(e){r.enableClass(e,"aside-resizing")},w._endDrag=function(e){l(!1),$||(h&&w.snapToRest(e),v=null,m=null,g=null)},w._handleDrag=function(t){!$&&e.dragContent&&(v?m=t.gesture.touches[0].pageX:(v=t.gesture.touches[0].pageX,m=v),!h&&Math.abs(m-v)>w.dragThresholdX&&(v=m,h=!0,w.content.disableAnimation(),g=w.getOpenAmount()),h&&(w.openAmount(g+(m-v)),l(!0)))},w.canDragContent=function(t){return arguments.length&&(e.dragContent=!!t),e.dragContent},w.edgeThreshold=25,w.edgeThresholdEnabled=!1,w.edgeDragThreshold=function(e){return arguments.length&&(f(e)&&e>0?(w.edgeThreshold=e,w.edgeThresholdEnabled=!0):w.edgeThresholdEnabled=!!e),w.edgeThresholdEnabled},w.isDraggableTarget=function(t){var n=w.edgeThresholdEnabled&&!w.isOpen(),i=t.gesture.startEvent&&t.gesture.startEvent.center&&t.gesture.startEvent.center.pageX,r=!n||i<=w.edgeThreshold||i>=w.content.element.offsetWidth-w.edgeThreshold,a=o.backView(),s=_?!0:!a;if(!s){var c=o.currentView()||{};return a.historyId!==c.historyId}return(e.dragContent||w.isOpen())&&r&&!t.gesture.srcEvent.defaultPrevented&&s&&!t.target.tagName.match(/input|textarea|select|object|embed/i)&&!t.target.isContentEditable&&!(t.target.dataset?t.target.dataset.preventScroll:"true"==t.target.getAttribute("data-prevent-scroll"))},e.sideMenuContentTranslateX=0;var y=p,b=angular.bind(w,w.close);e.$watch(function(){return 0!==w.getOpenAmount()},function(e){y(),e&&(y=i.registerBackButtonAction(b,s.sideMenu))});var S=n._registerInstance(w,t.delegateHandle,function(){return o.isActiveScope(e)});e.$on("$destroy",function(){S(),y(),w.$scope=null,w.content&&(w.content.element=null,w.content=null),l(!1)}),w.initialize({left:{width:275},right:{width:275}})}]),function(e){function t(e,i,r,o){var a,s,c,l=document.createElement(d[e]||e);for(a in i)if(angular.isArray(i[a]))for(s=0;s<i[a].length;s++)if(i[a][s].fn)for(c=0;c<i[a][s].t;c++)t(a,i[a][s].fn(c,o),l,o);else t(a,i[a][s],l,o);else n(l,a,i[a]);r.appendChild(l)}function n(e,t,n){e.setAttribute(d[t]||t,n)}function i(e,t){var n=e.split(";"),i=n.slice(t),r=n.slice(0,n.length-i.length);return n=i.concat(r).reverse(),n.join(";")+";"+n[0]}function r(e,t){return e/=t/2,1>e?.5*e*e*e:(e-=2,.5*(e*e*e+2))}var o="translate(32,32)",a="stroke-opacity",c="round",l="indefinite",u="750ms",f="none",d={a:"animate",an:"attributeName",at:"animateTransform",c:"circle",da:"stroke-dasharray",os:"stroke-dashoffset",f:"fill",lc:"stroke-linecap",rc:"repeatCount",sw:"stroke-width",t:"transform",v:"values"},h={v:"0,32,32;360,32,32",an:"transform",type:"rotate",rc:l,dur:u},p={sw:4,lc:c,line:[{fn:function(e,t){return{y1:"ios"==t?17:12,y2:"ios"==t?29:20,t:o+" rotate("+(30*e+(6>e?180:-180))+")",a:[{fn:function(){return{an:a,dur:u,v:i("0;.1;.15;.25;.35;.45;.55;.65;.7;.85;1",e),rc:l}
},t:1}]}},t:12}]},v={android:{c:[{sw:6,da:128,os:82,r:26,cx:32,cy:32,f:f}]},ios:p,"ios-small":p,bubbles:{sw:0,c:[{fn:function(e){return{cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:o,a:[{fn:function(){return{an:"r",dur:u,v:i("1;2;3;4;5;6;7;8",e),rc:l}},t:1}]}},t:8}]},circles:{c:[{fn:function(e){return{r:5,cx:24*Math.cos(2*Math.PI*e/8),cy:24*Math.sin(2*Math.PI*e/8),t:o,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:u,v:i(".3;.3;.3;.4;.7;.85;.9;1",e),rc:l}},t:1}]}},t:8}]},crescent:{c:[{sw:4,da:128,os:82,r:26,cx:32,cy:32,f:f,at:[h]}]},dots:{c:[{fn:function(e){return{cx:16+16*e,cy:32,sw:0,a:[{fn:function(){return{an:"fill-opacity",dur:u,v:i(".5;.6;.8;1;.8;.6;.5",e),rc:l}},t:1},{fn:function(){return{an:"r",dur:u,v:i("4;5;6;5;4;3;3",e),rc:l}},t:1}]}},t:3}]},lines:{sw:7,lc:c,line:[{fn:function(e){return{x1:10+14*e,x2:10+14*e,a:[{fn:function(){return{an:"y1",dur:u,v:i("16;18;28;18;16",e),rc:l}},t:1},{fn:function(){return{an:"y2",dur:u,v:i("48;44;36;46;48",e),rc:l}},t:1},{fn:function(){return{an:a,dur:u,v:i("1;.8;.5;.4;1",e),rc:l}},t:1}]}},t:4}]},ripple:{f:f,"fill-rule":"evenodd",sw:3,circle:[{fn:function(e){return{cx:32,cy:32,a:[{fn:function(){return{an:"r",begin:-1*e+"s",dur:"2s",v:"0;24",keyTimes:"0;1",keySplines:"0.1,0.2,0.3,1",calcMode:"spline",rc:l}},t:1},{fn:function(){return{an:a,begin:-1*e+"s",dur:"2s",v:".2;1;.2;0",rc:l}},t:1}]}},t:2}]},spiral:{defs:[{linearGradient:[{id:"sGD",gradientUnits:"userSpaceOnUse",x1:55,y1:46,x2:2,y2:46,stop:[{offset:.1,"class":"stop1"},{offset:1,"class":"stop2"}]}]}],g:[{sw:4,lc:c,f:f,path:[{stroke:"url(#sGD)",d:"M4,32 c0,15,12,28,28,28c8,0,16-4,21-9"},{d:"M60,32 C60,16,47.464,4,32,4S4,16,4,32"}],at:[h]}]}},m={android:function(t){function i(){var t=r(Date.now()-o,650),u=1,f=0,d=188-58*t,h=182-182*t;a%2&&(u=-1,f=-64,d=128- -58*t,h=182*t);var p=[0,-101,-90,-11,-180,79,-270,-191][a];n(l,"da",Math.max(Math.min(d,188),128)),n(l,"os",Math.max(Math.min(h,182),0)),n(l,"t","scale("+u+",1) translate("+f+",0) rotate("+p+",32,32)"),s+=4.1,s>359&&(s=0),n(c,"t","rotate("+s+",32,32)"),t>=1&&(a++,a>7&&(a=0),o=Date.now()),e.requestAnimationFrame(i)}var o,a=0,s=0,c=t.querySelector("g"),l=t.querySelector("circle");return function(){o=Date.now(),i()}}};s.controller("$ionicSpinner",["$element","$attrs","$ionicConfig",function(e,n,i){var r;this.init=function(){r=n.icon||i.spinner.icon();var o=document.createElement("div");return t("svg",{viewBox:"0 0 64 64",g:[v[r]]},o,r),e.html(o.innerHTML),this.start(),r},this.start=function(){m[r]&&m[r](e[0])()}}])}(ionic),s.controller("$ionicTab",["$scope","$ionicHistory","$attrs","$location","$state",function(e,t,n,i,r){this.$scope=e,this.hrefMatchesState=function(){return n.href&&0===i.path().indexOf(n.href.replace(/^#/,"").replace(/\/$/,""))},this.srefMatchesState=function(){return n.uiSref&&r.includes(n.uiSref.split("(")[0])},this.navNameMatchesState=function(){return this.navViewName&&t.isCurrentStateNavView(this.navViewName)},this.tabMatchesState=function(){return this.hrefMatchesState()||this.srefMatchesState()||this.navNameMatchesState()}}]),s.controller("$ionicTabs",["$scope","$element","$ionicHistory",function(e,t,n){var i,r=this,o=null,a=null;r.tabs=[],r.selectedIndex=function(){return r.tabs.indexOf(o)},r.selectedTab=function(){return o},r.previousSelectedTab=function(){return a},r.add=function(e){n.registerHistory(e),r.tabs.push(e)},r.remove=function(e){var t=r.tabs.indexOf(e);if(-1!==t){if(e.$tabSelected)if(r.deselect(e),1===r.tabs.length);else{var n=t===r.tabs.length-1?t-1:t+1;r.select(r.tabs[n])}r.tabs.splice(t,1)}},r.deselect=function(e){e.$tabSelected&&(a=o,o=i=null,e.$tabSelected=!1,(e.onDeselect||p)(),e.$broadcast&&e.$broadcast("$ionicHistory.deselect"))},r.select=function(t,a){var s;if(f(t)){if(s=t,s>=r.tabs.length)return;t=r.tabs[s]}else s=r.tabs.indexOf(t);1===arguments.length&&(a=!(!t.navViewName&&!t.uiSref)),o&&o.$historyId==t.$historyId?a&&n.goToHistoryRoot(t.$historyId):i!==s&&(l(r.tabs,function(e){r.deselect(e)}),o=t,i=s,r.$scope&&r.$scope.$parent&&(r.$scope.$parent.$activeHistoryId=t.$historyId),t.$tabSelected=!0,(t.onSelect||p)(),a&&e.$emit("$ionicHistory.change",{type:"tab",tabIndex:s,historyId:t.$historyId,navViewName:t.navViewName,hasNavView:!!t.navViewName,title:t.title,url:t.href,uiSref:t.uiSref}))},r.hasActiveScope=function(){for(var e=0;e<r.tabs.length;e++)if(n.isActiveScope(r.tabs[e]))return!0;return!1}}]),s.controller("$ionicView",["$scope","$element","$attrs","$compile","$rootScope",function(e,t,n,i,r){function o(){var t=u(n.viewTitle)&&"viewTitle"||u(n.title)&&"title";t&&(a(n[t]),$.push(n.$observe(t,a))),u(n.hideBackButton)&&$.push(e.$watch(n.hideBackButton,function(e){d.showBackButton(!e)})),u(n.hideNavBar)&&$.push(e.$watch(n.hideNavBar,function(e){d.showBar(!e)}))}function a(e){u(e)&&e!==v&&(v=e,d.title(v))}function s(){for(var e=0;e<$.length;e++)$[e]();$=[]}function l(t){return t?i(t)(e.$new()):void 0}function f(t){return!!e.$eval(n[t])}var d,h,p,v,m=this,g={},$=[],w=e.$on("ionNavBar.init",function(e,t){e.stopPropagation(),h=t});m.init=function(){w();var n=t.inheritedData("$ionModalController");d=t.inheritedData("$ionNavViewController"),d&&!n&&(e.$on("$ionicView.beforeEnter",m.beforeEnter),e.$on("$ionicView.afterEnter",o),e.$on("$ionicView.beforeLeave",s))},m.beforeEnter=function(t,i){if(i&&!i.viewNotified){i.viewNotified=!0,r.$$phase||e.$digest(),v=u(n.viewTitle)?n.viewTitle:n.title;var o={};for(var a in g)o[a]=l(g[a]);d.beforeEnter(c(i,{title:v,showBack:!f("hideBackButton"),navBarItems:o,navBarDelegate:h||null,showNavBar:!f("hideNavBar"),hasHeaderBar:!!p})),s()}},m.navElement=function(e,t){g[e]=t}}]),s.directive("ionActionSheet",["$document",function(e){return{restrict:"E",scope:!0,replace:!0,link:function(t,n){var i=function(e){27==e.which&&(t.cancel(),t.$apply())},r=function(e){e.target==n[0]&&(t.cancel(),t.$apply())};t.$on("$destroy",function(){n.remove(),e.unbind("keyup",i)}),e.bind("keyup",i),n.bind("click",r)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet" ng-class="{\'action-sheet-has-icons\': $actionSheetHasIcon}"><div class="action-sheet-group action-sheet-options"><div class="action-sheet-title" ng-if="titleText" ng-bind-html="titleText"></div><button class="button action-sheet-option" ng-click="buttonClicked($index)" ng-repeat="b in buttons" ng-bind-html="b.text"></button><button class="button destructive action-sheet-destructive" ng-if="destructiveText" ng-click="destructiveButtonClicked()" ng-bind-html="destructiveText"></button></div><div class="action-sheet-group action-sheet-cancel" ng-if="cancelText"><button class="button" ng-click="cancel()" ng-bind-html="cancelText"></button></div></div></div></div>'}}]),s.directive("ionCheckbox",["$ionicConfig",function(e){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-checkbox"><div class="checkbox checkbox-input-hidden disable-pointer-events"><input type="checkbox"><i class="checkbox-icon"></i></div><div class="item-content disable-pointer-events" ng-transclude></div></label>',compile:function(t,n){var i=t.find("input");l({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange,"ng-required":n.ngRequired,required:n.required},function(e,t){u(e)&&i.attr(t,e)});var r=t[0].querySelector(".checkbox");r.classList.add("checkbox-"+e.form.checkbox())}}}]),s.directive("collectionRepeat",e).factory("$ionicCollectionManager",t);var _="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y=/height:.*?px;\s*width:.*?px/,b=3;e.$inject=["$ionicCollectionManager","$parse","$window","$$rAF","$rootScope","$timeout"],t.$inject=["$rootScope","$window","$$rAF"],s.directive("ionContent",["$timeout","$controller","$ionicBind","$ionicConfig",function(e,t,n,i){return{restrict:"E",require:"^?ionNavView",scope:!0,priority:800,compile:function(e,r){function o(e,i,o){function l(){e.$onScrollComplete({scrollTop:s.scrollView.__scrollTop,scrollLeft:s.scrollView.__scrollLeft})}var f=e.$parent;if(e.$watch(function(){return(f.$hasHeader?" has-header":"")+(f.$hasSubheader?" has-subheader":"")+(f.$hasFooter?" has-footer":"")+(f.$hasSubfooter?" has-subfooter":"")+(f.$hasTabs?" has-tabs":"")+(f.$hasTabsTop?" has-tabs-top":"")},function(e,t){i.removeClass(t),i.addClass(e)}),e.$hasHeader=e.$hasSubheader=e.$hasFooter=e.$hasSubfooter=e.$hasTabs=e.$hasTabsTop=!1,n(e,o,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",padding:"@",direction:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),e.direction=e.direction||"y",u(o.padding)&&e.$watch(o.padding,function(e){(a||i).toggleClass("padding",!!e)}),"false"===o.scroll);else{var d={};c?(i.addClass("overflow-scroll"),d={el:i[0],delegateHandle:r.delegateHandle,startX:e.$eval(e.startX)||0,startY:e.$eval(e.startY)||0,nativeScrolling:!0}):d={el:i[0],delegateHandle:r.delegateHandle,locking:"true"===(r.locking||"true"),bouncing:e.$eval(e.hasBouncing),startX:e.$eval(e.startX)||0,startY:e.$eval(e.startY)||0,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,scrollEventInterval:parseInt(e.scrollEventInterval,10)||10,scrollingComplete:l},s=t("$ionicScroll",{$scope:e,scrollViewOptions:d}),e.$on("$destroy",function(){d&&(d.scrollingComplete=p,delete d.el),a=null,i=null,r.$$element=null})}}var a,s;e.addClass("scroll-content ionic-scroll"),"false"!=r.scroll?(a=h('<div class="scroll"></div>'),a.append(e.contents()),e.append(a)):e.addClass("scroll-content-false");var c="true"===r.overflowScroll||!i.scrolling.jsScrolling();return c&&(c=!e[0].querySelector("[collection-repeat]")),{pre:o}}}}]),s.directive("exposeAsideWhen",["$window",function(e){return{restrict:"A",require:"^ionSideMenus",link:function(t,n,i,r){function o(){var t="large"==i.exposeAsideWhen?"(min-width:768px)":i.exposeAsideWhen;r.exposeAside(e.matchMedia(t).matches),r.activeAsideResizing(!1)}function a(){r.activeAsideResizing(!0),s()}var s=ionic.debounce(function(){t.$apply(o)},300,!1);t.$evalAsync(o),ionic.on("resize",a,e),t.$on("$destroy",function(){ionic.off("resize",a,e)})}}}]);var S="onHold onTap onDoubleTap onTouch onRelease onDragStart onDrag onDragEnd onDragUp onDragRight onDragDown onDragLeft onSwipe onSwipeUp onSwipeRight onSwipeDown onSwipeLeft".split(" ");S.forEach(function(e){s.directive(e,n(e))}),s.directive("ionHeaderBar",i()).directive("ionHeaderBar",r(!0)).directive("ionFooterBar",r(!1)),s.directive("ionInfiniteScroll",["$timeout",function(e){return{restrict:"E",require:["?^$ionicScroll","ionInfiniteScroll"],template:function(e,t){return t.icon?'<i class="icon {{icon()}} icon-refreshing {{scrollingType}}"></i>':'<ion-spinner icon="{{spinner()}}"></ion-spinner>'},scope:!0,controller:"$ionInfiniteScroll",link:function(t,n,i,r){var o=r[1],a=o.scrollCtrl=r[0],s=o.jsScrolling=!a.isNative();if(s)o.scrollView=a.scrollView,t.scrollingType="js-scrolling",a.$element.on("scroll",o.checkBounds);else{var c=ionic.DomUtil.getParentOrSelfWithClass(n[0].parentNode,"overflow-scroll");if(o.scrollEl=c,!c)throw"Infinite scroll must be used inside a scrollable div";o.scrollEl.addEventListener("scroll",o.checkBounds)}var l=u(i.immediateCheck)?t.$eval(i.immediateCheck):!0;l&&e(function(){o.checkBounds()})}}}]),s.directive("ionItem",["$$rAF",function(e){return{restrict:"E",controller:["$scope","$element",function(e,t){this.$scope=e,this.$element=t}],scope:!0,compile:function(t,n){var i=u(n.href)||u(n.ngHref)||u(n.uiSref),r=i||/ion-(delete|option|reorder)-button/i.test(t.html());if(r){var o=h(i?"<a></a>":"<div></div>");o.addClass("item-content"),(u(n.href)||u(n.ngHref))&&(o.attr("ng-href","{{$href()}}"),u(n.target)&&o.attr("target","{{$target()}}")),o.append(t.contents()),t.addClass("item item-complex").append(o)}else t.addClass("item");return function(t,n,i){t.$href=function(){return i.href||i.ngHref},t.$target=function(){return i.target};var r=n[0].querySelector(".item-content");r&&t.$on("$collectionRepeatLeave",function(){r&&r.$$ionicOptionsOpen&&(r.style[ionic.CSS.TRANSFORM]="",r.style[ionic.CSS.TRANSITION]="none",e(function(){r.style[ionic.CSS.TRANSITION]=""}),r.$$ionicOptionsOpen=!1)})}}}}]);var T='<div class="item-left-edit item-delete enable-pointer-events"></div>';s.directive("ionDeleteButton",function(){function e(e){e.stopPropagation()}return{restrict:"E",require:["^^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),function(t,n,i,r){function o(){s=s||n.controller("ionList"),s&&s.showDelete()&&c.addClass("visible active")}var a=r[0],s=r[1],c=h(T);c.append(n),a.$element.append(c).addClass("item-left-editable"),n.on("click",e),o(),t.$on("$ionic.reconnectScope",o)}}}}),s.directive("itemFloatingLabel",function(){return{restrict:"C",link:function(e,t){var n=t[0],i=n.querySelector("input, textarea"),r=n.querySelector(".input-label");if(i&&r){var o=function(){i.value?r.classList.add("has-input"):r.classList.remove("has-input")};i.addEventListener("input",o);var a=h(i).controller("ngModel");a&&(a.$render=function(){i.value=a.$viewValue||"",o()}),e.$on("$destroy",function(){i.removeEventListener("input",o)})}}}});var x='<div class="item-options invisible"></div>';s.directive("ionOptionButton",[function(){function e(e){e.stopPropagation()}return{restrict:"E",require:"^ionItem",priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button",!0),function(t,n,i,r){r.optionsContainer||(r.optionsContainer=h(x),r.$element.append(r.optionsContainer)),r.optionsContainer.append(n),r.$element.addClass("item-right-editable"),n.on("click",e)}}}}]);var E='<div data-prevent-scroll="true" class="item-right-edit item-reorder enable-pointer-events"></div>';s.directive("ionReorderButton",["$parse",function(e){return{restrict:"E",require:["^ionItem","^?ionList"],priority:Number.MAX_VALUE,compile:function(t,n){return n.$set("class",(n["class"]||"")+" button icon button-icon",!0),t[0].setAttribute("data-prevent-scroll",!0),function(t,n,i,r){var o=r[0],a=r[1],s=e(i.onReorder);t.$onReorder=function(e,n){s(t,{$fromIndex:e,$toIndex:n})},i.ngClick||i.onClick||i.onclick||(n[0].onclick=function(e){return e.stopPropagation(),!1});var c=h(E);c.append(n),o.$element.append(c).addClass("item-right-editable"),a&&a.showReorder()&&c.addClass("visible active")}}}}]),s.directive("keyboardAttach",function(){return function(e,t){function n(e){if(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen){var n=e.keyboardHeight||e.detail.keyboardHeight;t.css("bottom",n+"px"),r=t.controller("$ionicScroll"),r&&(r.scrollView.__container.style.bottom=n+o(t[0])+"px")}}function i(){(!ionic.Platform.isAndroid()||ionic.Platform.isFullScreen)&&(t.css("bottom",""),r&&(r.scrollView.__container.style.bottom=""))}ionic.on("native.keyboardshow",n,window),ionic.on("native.keyboardhide",i,window),ionic.on("native.showkeyboard",n,window),ionic.on("native.hidekeyboard",i,window);var r;e.$on("$destroy",function(){ionic.off("native.keyboardshow",n,window),ionic.off("native.keyboardhide",i,window),ionic.off("native.showkeyboard",n,window),ionic.off("native.hidekeyboard",i,window)})}}),s.directive("ionList",["$timeout",function(e){return{restrict:"E",require:["ionList","^?$ionicScroll"],controller:"$ionicList",compile:function(t,n){var i=h('<div class="list">').append(t.contents()).addClass(n.type);return t.append(i),function(t,i,r,o){function a(){function r(e,t){t()&&e.addClass("visible")||e.removeClass("active"),ionic.requestAnimationFrame(function(){t()&&e.addClass("active")||e.removeClass("visible")})}var o=s.listView=new ionic.views.ListView({el:i[0],listEl:i.children()[0],scrollEl:c&&c.element,scrollView:c&&c.scrollView,onReorder:function(t,n,i){var r=h(t).scope();r&&r.$onReorder&&e(function(){r.$onReorder(n,i)})},canSwipe:function(){return s.canSwipeItems()}});t.$on("$destroy",function(){o&&(o.deregister&&o.deregister(),o=null)}),u(n.canSwipe)&&t.$watch("!!("+n.canSwipe+")",function(e){s.canSwipeItems(e)}),u(n.showDelete)&&t.$watch("!!("+n.showDelete+")",function(e){s.showDelete(e)}),u(n.showReorder)&&t.$watch("!!("+n.showReorder+")",function(e){s.showReorder(e)}),t.$watch(function(){return s.showDelete()},function(e,t){if(e||t){e&&s.closeOptionButtons(),s.canSwipeItems(!e),i.children().toggleClass("list-left-editing",e),i.toggleClass("disable-pointer-events",e);var n=h(i[0].getElementsByClassName("item-delete"));r(n,s.showDelete)}}),t.$watch(function(){return s.showReorder()},function(e,t){if(e||t){e&&s.closeOptionButtons(),s.canSwipeItems(!e),i.children().toggleClass("list-right-editing",e),i.toggleClass("disable-pointer-events",e);var n=h(i[0].getElementsByClassName("item-reorder"));r(n,s.showReorder)}})}var s=o[0],c=o[1];e(a)}}}}]),s.directive("menuClose",["$ionicHistory",function(e){return{restrict:"AC",link:function(t,n){n.bind("click",function(){var t=n.inheritedData("$ionSideMenusController");t&&(e.nextViewOptions({historyRoot:!0,disableAnimate:!0,expire:300}),t.close())})}}}]),s.directive("menuToggle",function(){return{restrict:"AC",link:function(e,t,n){e.$on("$ionicView.beforeEnter",function(e,n){if(n.enableBack){var i=t.inheritedData("$ionSideMenusController");i.enableMenuWithBackViews()||t.addClass("hide")}else t.removeClass("hide")}),t.bind("click",function(){var e=t.inheritedData("$ionSideMenusController");e&&e.toggle(n.menuToggle)})}}}),s.directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="modal-backdrop"><div class="modal-backdrop-bg"></div><div class="modal-wrapper" ng-transclude></div></div>'}}]),s.directive("ionModalView",function(){return{restrict:"E",compile:function(e){e.addClass("modal")}}}),s.directive("ionNavBackButton",["$ionicConfig","$document",function(e,t){return{restrict:"E",require:"^ionNavBar",compile:function(n,i){function r(e){return/ion-|icon/.test(e.className)}var o=t[0].createElement("button");for(var a in i.$attr)o.setAttribute(i.$attr[a],i[a]);i.ngClick||o.setAttribute("ng-click","$ionicGoBack()"),o.className="button back-button hide buttons "+(n.attr("class")||""),o.innerHTML=n.html()||"";for(var s,c,l,u,f=r(n[0]),d=0;d<n[0].childNodes.length;d++)s=n[0].childNodes[d],1===s.nodeType?r(s)?f=!0:s.classList.contains("default-title")?l=!0:s.classList.contains("previous-title")&&(u=!0):c||3!==s.nodeType||(c=!!s.nodeValue.trim());var h=e.backButton.icon();if(!f&&h&&"none"!==h&&(o.innerHTML='<i class="icon '+h+'"></i> '+o.innerHTML,o.className+=" button-clear"),!c){var p=t[0].createElement("span");p.className="back-text",!l&&e.backButton.text()&&(p.innerHTML+='<span class="default-title">'+e.backButton.text()+"</span>"),!u&&e.backButton.previousTitleText()&&(p.innerHTML+='<span class="previous-title"></span>'),o.appendChild(p)}return n.attr("class","hide"),n.empty(),{pre:function(e,t,n,i){i.navElement("backButton",o.outerHTML),o=null}}}}}]),s.directive("ionNavBar",function(){return{restrict:"E",controller:"$ionicNavBar",scope:!0,link:function(e,t,n,i){i.init()}}}),s.directive("ionNavButtons",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="left";/^primary|secondary|right$/i.test(n.side||"")&&(i=n.side.toLowerCase());var r=e[0].createElement("span");r.className=i+"-buttons",r.innerHTML=t.html();var o=i+"Buttons";return t.attr("class","hide"),t.empty(),{pre:function(e,t,n,i){var a=t.parent().data("$ionViewController");a?a.navElement(o,r.outerHTML):i.navElement(o,r.outerHTML),r=null}}}}}]),s.directive("navDirection",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextDirection(i.navDirection)})}}}]),s.directive("ionNavTitle",["$document",function(e){return{require:"^ionNavBar",restrict:"E",compile:function(t,n){var i="title",r=e[0].createElement("span");for(var o in n.$attr)r.setAttribute(n.$attr[o],n[o]);return r.classList.add("nav-bar-title"),r.innerHTML=t.html(),t.attr("class","hide"),t.empty(),{pre:function(e,t,n,o){var a=t.parent().data("$ionViewController");a?a.navElement(i,r.outerHTML):o.navElement(i,r.outerHTML),r=null}}}}}]),s.directive("navTransition",["$ionicViewSwitcher",function(e){return{restrict:"A",priority:1e3,link:function(t,n,i){n.bind("click",function(){e.nextTransition(i.navTransition)})}}}]),s.directive("ionNavView",["$state","$ionicConfig",function(e,t){return{restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:"$ionicNavView",compile:function(n,i,r){return n.addClass("view-container"),ionic.DomUtil.cachedAttr(n,"nav-view-transition",t.views.transition()),function(t,n,i,o){function a(t){var n=e.$current&&e.$current.locals[c.name];n&&(t||n!==s)&&(s=n,c.state=n.$$state,o.register(n))}var s;r(t,function(e){n.append(e)});var c=o.init();t.$on("$stateChangeSuccess",function(){a(!1)}),t.$on("$viewContentLoading",function(){a(!1)}),a(!0)}}}}]),s.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]).factory("$ionicNgClick",["$parse",function(e){return function(t,n,i){var r=angular.isFunction(i)?i:e(i);n.on("click",function(e){t.$apply(function(){r(t,{$event:e})})}),n.onclick=p}}]).directive("ngClick",["$ionicNgClick",function(e){return function(t,n,i){e(t,n,i.ngClick)}}]).directive("ionStopEvent",function(){return{restrict:"A",link:function(e,t,n){t.bind(n.ionStopEvent,a)}}}),s.directive("ionPane",function(){return{restrict:"E",link:function(e,t){t.addClass("pane")}}}),s.directive("ionPopover",[function(){return{restrict:"E",transclude:!0,replace:!0,controller:[function(){}],template:'<div class="popover-backdrop"><div class="popover-wrapper" ng-transclude></div></div>'}}]),s.directive("ionPopoverView",function(){return{restrict:"E",compile:function(e){e.append(h('<div class="popover-arrow">')),e.addClass("popover")}}}),s.directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></label>',compile:function(e,t){t.icon&&e.children().eq(2).removeClass("ion-checkmark").addClass(t.icon);var n=e.find("input");return l({name:t.name,value:t.value,disabled:t.disabled,"ng-value":t.ngValue,"ng-model":t.ngModel,"ng-disabled":t.ngDisabled,"ng-change":t.ngChange,"ng-required":t.ngRequired,required:t.required},function(e,t){u(e)&&n.attr(t,e)}),function(e,t,n){e.getValue=function(){return e.ngValue||n.value}}}}}),s.directive("ionRefresher",[function(){return{restrict:"E",replace:!0,require:["?^$ionicScroll","ionRefresher"],controller:"$ionicRefresher",template:'<div class="scroll-refresher invisible" collection-repeat-ignore><div class="ionic-refresher-content" ng-class="{\'ionic-refresher-with-text\': pullingText || refreshingText}"><div class="icon-pulling" ng-class="{\'pulling-rotation-disabled\':disablePullingRotation}"><i class="icon {{pullingIcon}}"></i></div><div class="text-pulling" ng-bind-html="pullingText"></div><div class="icon-refreshing"><ion-spinner ng-if="showSpinner" icon="{{spinner}}"></ion-spinner><i ng-if="showIcon" class="icon {{refreshingIcon}}"></i></div><div class="text-refreshing" ng-bind-html="refreshingText"></div></div></div>',link:function(e,t,n,i){var r=i[0],o=i[1];!r||r.isNative()?o.init():(t[0].classList.add("js-scrolling"),r._setRefresher(e,t[0],o.getRefresherDomMethods()),e.$on("scroll.refreshComplete",function(){e.$evalAsync(function(){r.scrollView.finishPullToRefresh()})}))}}}]),s.directive("ionScroll",["$timeout","$controller","$ionicBind",function(e,t,n){return{restrict:"E",scope:!0,controller:function(){},compile:function(e){function i(e,i,o){n(e,o,{direction:"@",paging:"@",$onScroll:"&onScroll",scroll:"@",scrollbarX:"@",scrollbarY:"@",zooming:"@",minZoom:"@",maxZoom:"@"}),e.direction=e.direction||"y",u(o.padding)&&e.$watch(o.padding,function(e){r.toggleClass("padding",!!e)}),e.$eval(e.paging)===!0&&r.addClass("scroll-paging"),e.direction||(e.direction="y");var a=e.$eval(e.paging)===!0,s={el:i[0],delegateHandle:o.delegateHandle,locking:"true"===(o.locking||"true"),bouncing:e.$eval(o.hasBouncing),paging:a,scrollbarX:e.$eval(e.scrollbarX)!==!1,scrollbarY:e.$eval(e.scrollbarY)!==!1,scrollingX:e.direction.indexOf("x")>=0,scrollingY:e.direction.indexOf("y")>=0,zooming:e.$eval(e.zooming)===!0,maxZoom:e.$eval(e.maxZoom)||3,minZoom:e.$eval(e.minZoom)||.5,preventDefault:!0};a&&(s.speedMultiplier=.8,s.bouncing=!1),t("$ionicScroll",{$scope:e,scrollViewOptions:s})}e.addClass("scroll-view ionic-scroll");var r=h('<div class="scroll"></div>');return r.append(e.contents()),e.append(r),{pre:i}}}}]),s.directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",scope:!0,compile:function(e,t){return angular.isUndefined(t.isEnabled)&&t.$set("isEnabled","true"),angular.isUndefined(t.width)&&t.$set("width","275"),e.addClass("menu menu-"+t.side),function(e,n,i,r){e.side=i.side||"left";var o=r[e.side]=new ionic.views.SideMenu({width:t.width,el:n[0],isEnabled:!0});e.$watch(i.width,function(e){var t=+e;t&&t==e&&o.setWidth(+e)}),e.$watch(i.isEnabled,function(e){o.setIsEnabled(!!e)})}}}}),s.directive("ionSideMenuContent",["$timeout","$ionicGesture","$window",function(e,t,n){return{restrict:"EA",require:"^ionSideMenus",scope:!0,compile:function(i,r){function o(o,a,s,c){function l(e){0!==c.getOpenAmount()?(c.close(),e.gesture.srcEvent.preventDefault(),v=null,m=null):v||(v=ionic.tap.pointerCoord(e.gesture.srcEvent))}function f(e){c.isDraggableTarget(e)&&"x"==p(e)&&(c._handleDrag(e),e.gesture.srcEvent.preventDefault())}function d(e){"x"==p(e)&&e.gesture.srcEvent.preventDefault()}function h(e){c._endDrag(e),v=null,m=null}function p(e){if(m)return m;if(e&&e.gesture){if(v){var t=ionic.tap.pointerCoord(e.gesture.srcEvent),n=Math.abs(t.x-v.x),i=Math.abs(t.y-v.y),r=i>n?"y":"x";return Math.max(n,i)>30&&(m=r),r}v=ionic.tap.pointerCoord(e.gesture.srcEvent)}return"y"}var v=null,m=null;u(r.dragContent)?o.$watch(r.dragContent,function(e){c.canDragContent(e)}):c.canDragContent(!0),u(r.edgeDragThreshold)&&o.$watch(r.edgeDragThreshold,function(e){c.edgeDragThreshold(e)});var g={element:i[0],onDrag:function(){},endDrag:function(){},getTranslateX:function(){return o.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(t){var n=g.offsetX+t;a[0].style[ionic.CSS.TRANSFORM]="translate3d("+n+"px,0,0)",e(function(){o.sideMenuContentTranslateX=t})}),setMarginLeft:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),a[0].style[ionic.CSS.TRANSFORM]="translate3d("+e+"px,0,0)",a[0].style.width=n.innerWidth-e+"px",g.offsetX=e):(a[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)",a[0].style.width="",g.offsetX=0)}),setMarginRight:ionic.animationFrameThrottle(function(e){e?(e=parseInt(e,10),a[0].style.width=n.innerWidth-e+"px",g.offsetX=e):(a[0].style.width="",g.offsetX=0),a[0].style[ionic.CSS.TRANSFORM]="translate3d(0,0,0)"}),enableAnimation:function(){o.animationEnabled=!0,a[0].classList.add("menu-animated")},disableAnimation:function(){o.animationEnabled=!1,a[0].classList.remove("menu-animated")},offsetX:0};c.setContent(g);var $={stop_browser_behavior:!1};ionic.DomUtil.getParentOrSelfWithClass(a[0],"overflow-scroll")&&($.prevent_default_directions=["left","right"]);var w=t.on("tap",l,a,$),_=t.on("dragright",f,a,$),y=t.on("dragleft",f,a,$),b=t.on("dragup",d,a,$),S=t.on("dragdown",d,a,$),T=t.on("release",h,a,$);o.$on("$destroy",function(){g&&(g.element=null,g=null),t.off(y,"dragleft",f),t.off(_,"dragright",f),t.off(b,"dragup",d),t.off(S,"dragdown",d),t.off(T,"release",h),t.off(w,"tap",l)})}return i.addClass("menu-content pane"),{pre:o}}}}]),s.directive("ionSideMenus",["$ionicBody",function(e){return{restrict:"ECA",controller:"$ionicSideMenus",compile:function(t,n){function i(t,n,i,r){r.enableMenuWithBackViews(t.$eval(i.enableMenuWithBackViews)),t.$on("$ionicExposeAside",function(n,i){t.$exposeAside||(t.$exposeAside={}),t.$exposeAside.active=i,e.enableClass(i,"aside-open")}),t.$on("$ionicView.beforeEnter",function(e,n){n.historyId&&(t.$activeHistoryId=n.historyId)}),t.$on("$destroy",function(){e.removeClass("menu-open","aside-open")})}return n.$set("class",(n["class"]||"")+" view"),{pre:i}}}}]),s.directive("ionSlideBox",["$timeout","$compile","$ionicSlideBoxDelegate","$ionicHistory","$ionicScrollDelegate",function(e,t,n,i,r){return{restrict:"E",replace:!0,transclude:!0,scope:{autoPlay:"=",doesContinue:"@",slideInterval:"@",showPager:"@",pagerClick:"&",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?"},controller:["$scope","$element","$attrs",function(t,o,a){function s(e){e&&!c.isScrollFreeze?r.freezeAllScrolls(e):!e&&c.isScrollFreeze&&r.freezeAllScrolls(!1),c.isScrollFreeze=e}var c=this,l=t.$eval(t.doesContinue)===!0,f=u(a.autoPlay)?!!t.autoPlay:!1,d=f?t.$eval(t.slideInterval)||4e3:0,h=new ionic.views.Slider({el:o[0],auto:d,continuous:l,startSlide:t.activeSlide,slidesChanged:function(){t.currentSlide=h.currentIndex(),e(function(){})},callback:function(n){t.currentSlide=n,t.onSlideChanged({index:t.currentSlide,$index:t.currentSlide}),t.$parent.$broadcast("slideBox.slideChanged",n),t.activeSlide=n,e(function(){})},onDrag:function(){s(!0)},onDragEnd:function(){s(!1)}});h.enableSlide(t.$eval(a.disableScroll)!==!0),t.$watch("activeSlide",function(e){u(e)&&h.slide(e)}),t.$on("slideBox.nextSlide",function(){h.next()}),t.$on("slideBox.prevSlide",function(){h.prev()}),t.$on("slideBox.setSlide",function(e,t){h.slide(t)}),this.__slider=h;var p=n._registerInstance(h,a.delegateHandle,function(){return i.isActiveScope(t)});t.$on("$destroy",function(){p(),h.kill()}),this.slidesCount=function(){return h.slidesCount()},this.onPagerClick=function(e){t.pagerClick({index:e})},e(function(){h.load()})}],template:'<div class="slider"><div class="slider-slides" ng-transclude></div></div>',link:function(e,n,i){function r(){if(!o){var i=e.$new();o=h("<ion-pager></ion-pager>"),n.append(o),o=t(o)(i)}return o}u(i.showPager)||(e.showPager=!0,r().toggleClass("hide",!1)),i.$observe("showPager",function(t){t=e.$eval(t),r().toggleClass("hide",!t)});var o}}}]).directive("ionSlide",function(){return{restrict:"E",require:"^ionSlideBox",compile:function(e){e.addClass("slider-slide")}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}" ng-click="pagerClick($index)"><i class="icon ion-record"></i></span></div>',link:function(e,t,n,i){var r=function(e){for(var n=t[0].children,i=n.length,r=0;i>r;r++)r==e?n[r].classList.add("active"):n[r].classList.remove("active")};e.pagerClick=function(e){i.onPagerClick(e)},e.numSlides=function(){return new Array(i.slidesCount())},e.$watch("currentSlide",function(e){r(e)})}}}),s.directive("ionSpinner",function(){return{restrict:"E",controller:"$ionicSpinner",link:function(e,t,n,i){var r=i.init();t.addClass("spinner spinner-"+r)}}}),s.directive("ionTab",["$compile","$ionicConfig","$ionicBind","$ionicViewSwitcher",function(e,t,n,i){function r(e,t){return u(t)?" "+e+'="'+t+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],controller:"$ionicTab",scope:!0,compile:function(o,a){for(var s="<ion-tab-nav"+r("ng-click",a.ngClick)+r("title",a.title)+r("icon",a.icon)+r("icon-on",a.iconOn)+r("icon-off",a.iconOff)+r("badge",a.badge)+r("badge-style",a.badgeStyle)+r("hidden",a.hidden)+r("disabled",a.disabled)+r("class",a["class"])+"></ion-tab-nav>",c=document.createElement("div"),l=0;l<o[0].children.length;l++)c.appendChild(o[0].children[l].cloneNode(!0));var u=c.childElementCount;o.empty();var f,d;return u&&("ION-NAV-VIEW"===c.children[0].tagName&&(f=c.children[0].getAttribute("name"),c.children[0].classList.add("view-container"),d=!0),1===u&&(c=c.children[0]),d||c.classList.add("pane"),c.classList.add("tab-content")),function(r,o,a,l){function d(){w.tabMatchesState()&&$.select(r,!1)
}function p(n){n&&u?(_||(m=r.$new(),g=h(c),i.viewEleIsActive(g,!0),$.$element.append(g),e(g)(m),_=!0),i.viewEleIsActive(g,!0)):_&&g&&(t.views.maxCache()>0?i.viewEleIsActive(g,!1):v())}function v(){m&&m.$destroy(),_&&g&&g.remove(),c.innerHTML="",_=m=g=null}var m,g,$=l[0],w=l[1],_=!1;r.$tabSelected=!1,n(r,a,{onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),$.add(r),r.$on("$destroy",function(){r.$tabsDestroy||$.remove(r),y.isolateScope().$destroy(),y.remove(),y=c=g=null}),o[0].removeAttribute("title"),f&&(w.navViewName=r.navViewName=f),r.$on("$stateChangeSuccess",d),d();var y=h(s);y.data("$ionTabsController",$),y.data("$ionTabController",w),$.$tabsElement.append(e(y)(r)),r.$watch("$tabSelected",p),r.$on("$ionicView.afterEnter",function(){i.viewEleIsActive(g,r.$tabSelected)}),r.$on("$ionicView.clearCache",function(){r.$tabSelected||v()})}}}}]),s.directive("ionTabNav",[function(){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:"<a ng-class=\"{'tab-item-active': isTabActive(), 'has-badge':badge, 'tab-hidden':isHidden()}\" "+' ng-disabled="disabled()" class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",hidden:"@",disabled:"&",badgeStyle:"@","class":"@"},link:function(e,t,n,i){var r=i[0],o=i[1];t[0].removeAttribute("title"),e.selectTab=function(e){e.preventDefault(),r.select(o.$scope,!0)},n.ngClick||t.on("click",function(t){e.$apply(function(){e.selectTab(t)})}),e.isHidden=function(){return"true"===n.hidden||n.hidden===!0?!0:!1},e.getIconOn=function(){return e.iconOn||e.icon},e.getIconOff=function(){return e.iconOff||e.icon},e.isTabActive=function(){return r.selectedTab()===o.$scope}}}}]),s.directive("ionTabs",["$ionicTabsDelegate","$ionicConfig",function(e,t){return{restrict:"E",scope:!0,controller:"$ionicTabs",compile:function(n){function i(t,n,i,r){function a(e,t){e.stopPropagation();var n=r.previousSelectedTab();n&&n.$broadcast(e.name.replace("NavView","Tabs"),t)}var s=e._registerInstance(r,i.delegateHandle,r.hasActiveScope);r.$scope=t,r.$element=n,r.$tabsElement=h(n[0].querySelector(".tabs")),t.$watch(function(){return n[0].className},function(e){var n=-1!==e.indexOf("tabs-top"),i=-1!==e.indexOf("tabs-item-hide");t.$hasTabs=!n&&!i,t.$hasTabsTop=n&&!i,t.$emit("$ionicTabs.top",t.$hasTabsTop)}),t.$on("$ionicNavView.beforeLeave",a),t.$on("$ionicNavView.afterLeave",a),t.$on("$ionicNavView.leave",a),t.$on("$destroy",function(){t.$tabsDestroy=!0,s(),r.$tabsElement=r.$element=r.$scope=o=null,delete t.$hasTabs,delete t.$hasTabsTop})}function r(e,t,n,i){i.selectedTab()||i.select(0)}var o=h('<div class="tab-nav tabs">');return o.append(n.contents()),n.append(o).addClass("tabs-"+t.tabs.position()+" tabs-"+t.tabs.style()),{pre:i,post:r}}}}]),s.directive("ionToggle",["$timeout","$ionicConfig",function(e,t){return{restrict:"E",replace:!0,require:"?ngModel",transclude:!0,template:'<div class="item item-toggle"><div ng-transclude></div><label class="toggle"><input type="checkbox"><div class="track"><div class="handle"></div></div></label></div>',compile:function(e,n){var i=e.find("input");return l({name:n.name,"ng-value":n.ngValue,"ng-model":n.ngModel,"ng-checked":n.ngChecked,"ng-disabled":n.ngDisabled,"ng-true-value":n.ngTrueValue,"ng-false-value":n.ngFalseValue,"ng-change":n.ngChange,"ng-required":n.ngRequired,required:n.required},function(e,t){u(e)&&i.attr(t,e)}),n.toggleClass&&e[0].getElementsByTagName("label")[0].classList.add(n.toggleClass),e.addClass("toggle-"+t.form.toggle()),function(e,t){var n=t[0].getElementsByTagName("label")[0],i=n.children[0],r=n.children[1],o=r.children[0],a=h(i).controller("ngModel");e.toggle=new ionic.views.Toggle({el:n,track:r,checkbox:i,handle:o,onChange:function(){a&&(a.$setViewValue(i.checked),e.$apply())}}),e.$on("$destroy",function(){e.toggle.destroy()})}}}}]),s.directive("ionView",function(){return{restrict:"EA",priority:1e3,controller:"$ionicView",compile:function(e){return e.addClass("pane"),e[0].removeAttribute("title"),function(e,t,n,i){i.init()}}}})}();"use strict";angular.module("ngLocale",[],["$provide",function(e){var E={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",pluralCat:function(){return E.OTHER}})}]);!function(o,n,e){"use strict";n.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(o,i){function r(){var o,r,t,u;for(o in f)a(c[o])&&i.cookies(o,e);for(o in c)r=c[o],n.isString(r)||(r=""+r,c[o]=r),r!==f[o]&&(i.cookies(o,r),u=!0);if(u){u=!1,t=i.cookies();for(o in c)c[o]!==t[o]&&(a(t[o])?delete c[o]:c[o]=t[o],u=!0)}}var t,c={},f={},u=!1,s=n.copy,a=n.isUndefined;return i.addPollFn(function(){var n=i.cookies();t!=n&&(t=n,s(n,f),s(n,c),u&&o.$apply())})(),u=!0,o.$watch(r),c}]).factory("$cookieStore",["$cookies",function(o){return{get:function(e){var i=o[e];return i?n.fromJson(i):i},put:function(e,i){o[e]=n.toJson(i)},remove:function(n){delete o[n]}}}])}(window,window.angular);!function(e,t,n){"use strict";function r(e){var t;if(t=e.match(u)){var n=new Date(0),r=0,i=0;return t[9]&&(r=o(t[9]+t[10]),i=o(t[9]+t[11])),n.setUTCFullYear(o(t[1]),o(t[2])-1,o(t[3])),n.setUTCHours(o(t[4]||0)-r,o(t[5]||0)-i,o(t[6]||0),o(t[7]||0)),n}return e}function o(e){return parseInt(e,10)}function i(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function s(e,r,o,i){function s(e,n,r,o){return t.isFunction(e)?e:function(){return t.isNumber(e)?[e,n,r,o]:[200,e,n,r]}}function u(e,s,c,u,f,m,p){function v(e){return t.isString(e)||t.isFunction(e)||e instanceof RegExp?e:t.toJson(e)}function k(t){function o(){var n=t.response(e,s,c,f);w.$$respHeaders=n[2],u($(n[0]),$(n[1]),w.getAllResponseHeaders(),$(n[3]||""))}function a(){for(var e=0,t=h.length;t>e;e++)if(h[e]===o){h.splice(e,1),u(-1,n,"");break}}return!i&&m&&(m.then?m.then(a):r(a,m)),o}var w=new a,E=d[0],D=!1;if(E&&E.match(e,s)){if(!E.matchData(c))throw new Error("Expected "+E+" with different data\nEXPECTED: "+v(E.data)+"\nGOT:      "+c);if(!E.matchHeaders(f))throw new Error("Expected "+E+" with different headers\nEXPECTED: "+v(E.headers)+"\nGOT:      "+v(f));if(d.shift(),E.response)return void h.push(k(E));D=!0}for(var T,y=-1;T=l[++y];)if(T.match(e,s,c,f||{})){if(T.response)(i?i.defer:g)(k(T));else{if(!T.passThrough)throw new Error("No response defined !");o(e,s,c,u,f,m,p)}return}throw new Error(D?"No response defined !":"Unexpected request: "+e+" "+s+"\n"+(E?"Expected "+E:"No more request expected"))}function f(e){t.forEach(["GET","DELETE","JSONP","HEAD"],function(t){u[e+t]=function(r,o){return u[e](t,r,n,o)}}),t.forEach(["PUT","POST","PATCH"],function(t){u[e+t]=function(n,r,o){return u[e](t,n,r,o)}})}var l=[],d=[],h=[],g=t.bind(h,h.push),$=t.copy;return u.when=function(e,t,r,o){var a=new c(e,t,r,o),u={respond:function(e,t,r,o){return a.passThrough=n,a.response=s(e,t,r,o),u}};return i&&(u.passThrough=function(){return a.response=n,a.passThrough=!0,u}),l.push(a),u},f("when"),u.expect=function(e,t,n,r){var o=new c(e,t,n,r),i={respond:function(e,t,n,r){return o.response=s(e,t,n,r),i}};return d.push(o),i},f("expect"),u.flush=function(n,r){if(r!==!1&&e.$digest(),!h.length)throw new Error("No pending request to flush !");if(t.isDefined(n)&&null!==n)for(;n--;){if(!h.length)throw new Error("No more pending request to flush !");h.shift()()}else for(;h.length;)h.shift()();u.verifyNoOutstandingExpectation(r)},u.verifyNoOutstandingExpectation=function(t){if(t!==!1&&e.$digest(),d.length)throw new Error("Unsatisfied requests: "+d.join(", "))},u.verifyNoOutstandingRequest=function(){if(h.length)throw new Error("Unflushed requests: "+h.length)},u.resetExpectations=function(){d.length=0,h.length=0},u}function c(e,n,r,o){this.data=r,this.headers=o,this.match=function(n,r,o,i){return e!=n?!1:this.matchUrl(r)?t.isDefined(o)&&!this.matchData(o)?!1:t.isDefined(i)&&!this.matchHeaders(i)?!1:!0:!1},this.matchUrl=function(e){return n?t.isFunction(n.test)?n.test(e):t.isFunction(n)?n(e):n==e:!0},this.matchHeaders=function(e){return t.isUndefined(o)?!0:t.isFunction(o)?o(e):t.equals(o,e)},this.matchData=function(e){return t.isUndefined(r)?!0:r&&t.isFunction(r.test)?r.test(e):r&&t.isFunction(r)?r(e):r&&!t.isString(r)?t.equals(t.fromJson(t.toJson(r)),t.fromJson(e)):r==e},this.toString=function(){return e+" "+n}}function a(){a.$$lastInstance=this,this.open=function(e,t,n){this.$$method=e,this.$$url=t,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(e){this.$$data=e},this.setRequestHeader=function(e,t){this.$$reqHeaders[e]=t},this.getResponseHeader=function(e){var r=this.$$respHeaders[e];return r?r:(e=t.lowercase(e),(r=this.$$respHeaders[e])?r:(r=n,t.forEach(this.$$respHeaders,function(n,o){r||t.lowercase(o)!=e||(r=n)}),r))},this.getAllResponseHeaders=function(){var e=[];return t.forEach(this.$$respHeaders,function(t,n){e.push(n+": "+t)}),e.join("\n")},this.abort=t.noop}t.mock={},t.mock.$BrowserProvider=function(){this.$get=function(){return new t.mock.$Browser}},t.mock.$Browser=function(){var e=this;this.isMock=!0,e.$$url="http://server/",e.$$lastUrl=e.$$url,e.pollFns=[],e.$$completeOutstandingRequest=t.noop,e.$$incOutstandingRequestCount=t.noop,e.onUrlChange=function(t){return e.pollFns.push(function(){(e.$$lastUrl!==e.$$url||e.$$state!==e.$$lastState)&&(e.$$lastUrl=e.$$url,e.$$lastState=e.$$state,t(e.$$url,e.$$state))}),t},e.$$checkUrlChange=t.noop,e.cookieHash={},e.lastCookieHash={},e.deferredFns=[],e.deferredNextId=0,e.defer=function(t,n){return n=n||0,e.deferredFns.push({time:e.defer.now+n,fn:t,id:e.deferredNextId}),e.deferredFns.sort(function(e,t){return e.time-t.time}),e.deferredNextId++},e.defer.now=0,e.defer.cancel=function(r){var o;return t.forEach(e.deferredFns,function(e,t){e.id===r&&(o=t)}),o!==n?(e.deferredFns.splice(o,1),!0):!1},e.defer.flush=function(n){if(t.isDefined(n))e.defer.now+=n;else{if(!e.deferredFns.length)throw new Error("No deferred tasks to be flushed");e.defer.now=e.deferredFns[e.deferredFns.length-1].time}for(;e.deferredFns.length&&e.deferredFns[0].time<=e.defer.now;)e.deferredFns.shift().fn()},e.$$baseHref="/",e.baseHref=function(){return this.$$baseHref}},t.mock.$Browser.prototype={poll:function(){t.forEach(this.pollFns,function(e){e()})},addPollFn:function(e){return this.pollFns.push(e),e},url:function(e,n,r){return t.isUndefined(r)&&(r=null),e?(this.$$url=e,this.$$state=t.copy(r),this):this.$$url},state:function(){return this.$$state},cookies:function(e,n){return e?void(t.isUndefined(n)?delete this.cookieHash[e]:t.isString(n)&&n.length<=4096&&(this.cookieHash[e]=n)):(t.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=t.copy(this.cookieHash),this.cookieHash=t.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(e){e()}},t.mock.$ExceptionHandlerProvider=function(){var e;this.mode=function(t){switch(t){case"log":case"rethrow":var n=[];e=function(e){if(n.push(1==arguments.length?e:[].slice.call(arguments,0)),"rethrow"===t)throw e},e.errors=n;break;default:throw new Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return e},this.mode("rethrow")},t.mock.$LogProvider=function(){function e(e,t,n){return e.concat(Array.prototype.slice.call(t,n))}var n=!0;this.debugEnabled=function(e){return t.isDefined(e)?(n=e,this):n},this.$get=function(){var r={log:function(){r.log.logs.push(e([],arguments,0))},warn:function(){r.warn.logs.push(e([],arguments,0))},info:function(){r.info.logs.push(e([],arguments,0))},error:function(){r.error.logs.push(e([],arguments,0))},debug:function(){n&&r.debug.logs.push(e([],arguments,0))}};return r.reset=function(){r.log.logs=[],r.info.logs=[],r.warn.logs=[],r.error.logs=[],r.debug.logs=[]},r.assertEmpty=function(){var e=[];if(t.forEach(["error","warn","info","log","debug"],function(n){t.forEach(r[n].logs,function(r){t.forEach(r,function(t){e.push("MOCK $log ("+n+"): "+String(t)+"\n"+(t.stack||""))})})}),e.length)throw e.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),e.push(""),new Error(e.join("\n---------\n"))},r.reset(),r}},t.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(e,r,o,i){var s=[],c=0,a=0,u=function(u,f,l,d){function h(){if(m.notify(g++),l>0&&g>=l){var o;m.resolve(g),t.forEach(s,function(e,t){e.id===p.$$intervalId&&(o=t)}),o!==n&&s.splice(o,1)}$?e.defer.flush():r.$apply()}var g=0,$=t.isDefined(d)&&!d,m=($?i:o).defer(),p=m.promise;return l=t.isDefined(l)?l:0,p.then(null,null,u),p.$$intervalId=c,s.push({nextTime:a+f,delay:f,fn:h,id:c,deferred:m}),s.sort(function(e,t){return e.nextTime-t.nextTime}),c++,p};return u.cancel=function(e){if(!e)return!1;var r;return t.forEach(s,function(t,n){t.id===e.$$intervalId&&(r=n)}),r!==n?(s[r].deferred.reject("canceled"),s.splice(r,1),!0):!1},u.flush=function(e){for(a+=e;s.length&&s[0].nextTime<=a;){var t=s[0];t.fn(),t.nextTime+=t.delay,s.sort(function(e,t){return e.nextTime-t.nextTime})}return e},u}]};var u=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(t.mock.TzDate=function(e,n){var o=new Date(0);if(t.isString(n)){var s=n;if(o.origDate=r(n),n=o.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+s+"' passed into TzDate constructor is not a valid date string"}}else o.origDate=new Date(n);var c=new Date(n).getTimezoneOffset();o.offsetDiff=60*c*1e3-1e3*e*60*60,o.date=new Date(n+o.offsetDiff),o.getTime=function(){return o.date.getTime()-o.offsetDiff},o.toLocaleDateString=function(){return o.date.toLocaleDateString()},o.getFullYear=function(){return o.date.getFullYear()},o.getMonth=function(){return o.date.getMonth()},o.getDate=function(){return o.date.getDate()},o.getHours=function(){return o.date.getHours()},o.getMinutes=function(){return o.date.getMinutes()},o.getSeconds=function(){return o.date.getSeconds()},o.getMilliseconds=function(){return o.date.getMilliseconds()},o.getTimezoneOffset=function(){return 60*e},o.getUTCFullYear=function(){return o.origDate.getUTCFullYear()},o.getUTCMonth=function(){return o.origDate.getUTCMonth()},o.getUTCDate=function(){return o.origDate.getUTCDate()},o.getUTCHours=function(){return o.origDate.getUTCHours()},o.getUTCMinutes=function(){return o.origDate.getUTCMinutes()},o.getUTCSeconds=function(){return o.origDate.getUTCSeconds()},o.getUTCMilliseconds=function(){return o.origDate.getUTCMilliseconds()},o.getDay=function(){return o.date.getDay()},o.toISOString&&(o.toISOString=function(){return i(o.origDate.getUTCFullYear(),4)+"-"+i(o.origDate.getUTCMonth()+1,2)+"-"+i(o.origDate.getUTCDate(),2)+"T"+i(o.origDate.getUTCHours(),2)+":"+i(o.origDate.getUTCMinutes(),2)+":"+i(o.origDate.getUTCSeconds(),2)+"."+i(o.origDate.getUTCMilliseconds(),3)+"Z"});var a=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return t.forEach(a,function(e){o[e]=function(){throw new Error("Method '"+e+"' is not implemented in the TzDate mock")}}),o},t.mock.TzDate.prototype=Date.prototype,t.mock.animate=t.module("ngAnimateMock",["ng"]).config(["$provide",function(e){var n=[];e.value("$$animateReflow",function(e){var t=n.length;return n.push(e),function(){n.splice(t,1)}}),e.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser",function(e,r,o){var i={queue:[],cancel:e.cancel,enabled:e.enabled,triggerCallbackEvents:function(){r.flush()},triggerCallbackPromise:function(){o.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){t.forEach(n,function(e){e()}),n=[]}};return t.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(t){i[t]=function(){return i.queue.push({event:t,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),e[t].apply(e,arguments)}}),i}])}]),t.mock.dump=function(e){function n(e){var o;return t.isElement(e)?(e=t.element(e),o=t.element("<div></div>"),t.forEach(e,function(e){o.append(t.element(e).clone())}),o=o.html()):t.isArray(e)?(o=[],t.forEach(e,function(e){o.push(n(e))}),o="[ "+o.join(", ")+" ]"):o=t.isObject(e)?t.isFunction(e.$eval)&&t.isFunction(e.$apply)?r(e):e instanceof Error?e.stack||""+e.name+": "+e.message:t.toJson(e,!0):String(e),o}function r(e,n){n=n||"  ";var o=[n+"Scope("+e.$id+"): {"];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&!i.match(/^(\$|this)/)&&o.push("  "+i+": "+t.toJson(e[i]));for(var s=e.$$childHead;s;)o.push(r(s,n+"  ")),s=s.$$nextSibling;return o.push("}"),o.join("\n"+n)}return n(e)},t.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",s]},t.mock.$TimeoutDecorator=["$delegate","$browser",function(e,n){function r(e){var n=[];return t.forEach(e,function(e){n.push("{id: "+e.id+", time: "+e.time+"}")}),n.join(", ")}return e.flush=function(e){n.defer.flush(e)},e.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+r(n.deferredFns))},e}],t.mock.$RAFDecorator=["$delegate",function(e){var t=[],n=function(e){var n=t.length;return t.push(e),function(){t.splice(n,1)}};return n.supported=e.supported,n.flush=function(){if(0===t.length)throw new Error("No rAF callbacks present");for(var e=t.length,n=0;e>n;n++)t[n]();t=[]},n}],t.mock.$AsyncCallbackDecorator=["$delegate",function(){var e=[],n=function(t){e.push(t)};return n.flush=function(){t.forEach(e,function(e){e()}),e=[]},n}],t.mock.$RootElementProvider=function(){this.$get=function(){return t.element("<div ng-app></div>")}},t.mock.$ControllerDecorator=["$delegate",function(e){return function(n,r,o,i){if(o&&"object"==typeof o){var s=e(n,r,!0,i);return t.extend(s.instance,o),s()}return e(n,r,o,i)}}],t.module("ngMock",["ng"]).provider({$browser:t.mock.$BrowserProvider,$exceptionHandler:t.mock.$ExceptionHandlerProvider,$log:t.mock.$LogProvider,$interval:t.mock.$IntervalProvider,$httpBackend:t.mock.$HttpBackendProvider,$rootElement:t.mock.$RootElementProvider}).config(["$provide",function(e){e.decorator("$timeout",t.mock.$TimeoutDecorator),e.decorator("$$rAF",t.mock.$RAFDecorator),e.decorator("$$asyncCallback",t.mock.$AsyncCallbackDecorator),e.decorator("$rootScope",t.mock.$RootScopeDecorator),e.decorator("$controller",t.mock.$ControllerDecorator)}]),t.module("ngMockE2E",["ng"]).config(["$provide",function(e){e.decorator("$httpBackend",t.mock.e2e.$httpBackendDecorator)}]),t.mock.e2e={},t.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",s],t.mock.$RootScopeDecorator=["$delegate",function(e){function t(){for(var e,t=0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=1,n.push(e.$$childHead),e=e.$$nextSibling;return t}function n(){for(var e,t=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(e=n.shift();e;)t+=e.$$watchers?e.$$watchers.length:0,n.push(e.$$childHead),e=e.$$nextSibling;return t}var r=Object.getPrototypeOf(e);return r.$countChildScopes=t,r.$countWatchers=n,e}],e.jasmine||e.mocha){var f=null,l=[],d=function(){return!!f};t.mock.$$annotate=t.injector.$$annotate,t.injector.$$annotate=function(e){return"function"!=typeof e||e.$inject||l.push(e),t.mock.$$annotate.apply(this,arguments)},(e.beforeEach||e.setup)(function(){l=[],f=this}),(e.afterEach||e.teardown)(function(){var e=f.$injector;l.forEach(function(e){delete e.$inject}),t.forEach(f.$modules,function(e){e&&e.$$hashKey&&(e.$$hashKey=n)}),f.$injector=null,f.$modules=null,f=null,e&&(e.get("$rootElement").off(),e.get("$browser").pollFns.length=0),t.forEach(t.element.fragments,function(e,n){delete t.element.fragments[n]}),a.$$lastInstance=null,t.forEach(t.callbacks,function(e,n){delete t.callbacks[n]}),t.callbacks.counter=0}),e.module=t.mock.module=function(){function e(){if(f.$injector)throw new Error("Injector already created, can not register a module!");var e=f.$modules||(f.$modules=[]);t.forEach(n,function(n){e.push(t.isObject(n)&&!t.isArray(n)?function(e){t.forEach(n,function(t,n){e.value(n,t)})}:n)})}var n=Array.prototype.slice.call(arguments,0);return d()?e():e};var h=function(e,t){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&t&&(this.stack=e.stack+"\n"+t.stack),e.stackArray&&(this.stackArray=e.stackArray)};h.prototype.toString=Error.prototype.toString,e.inject=t.mock.inject=function(){function e(){var e=f.$modules||[],o=!!f.$injectorStrict;e.unshift("ngMock"),e.unshift("ng");var i=f.$injector;i||(o&&t.forEach(e,function(e){"function"==typeof e&&t.injector.$$annotate(e)}),i=f.$injector=t.injector(e,o),f.$injectorStrict=o);for(var s=0,c=n.length;c>s;s++){f.$injectorStrict&&i.annotate(n[s]);try{i.invoke(n[s]||t.noop,this)}catch(a){if(a.stack&&r)throw new h(a,r);throw a}finally{r=null}}}var n=Array.prototype.slice.call(arguments,0),r=new Error("Declaration Location");return d()?e.call(f):e},t.mock.inject.strictDi=function(e){function t(){if(e!==f.$injectorStrict){if(f.$injector)throw new Error("Injector already created, can not modify strict annotations");f.$injectorStrict=e}}return e=arguments.length?!!e:!0,d()?t():t}}}(window,window.angular);!function(e,t){"use strict";var o=t.isDefined,r=t.isUndefined,i=t.isNumber,n=t.isObject,a=t.isArray,c=t.extend,s=t.toJson,u=t.module("LocalStorageModule",[]);u.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,u,l){var g,f=this,d=f.prefix,h=f.cookie,m=f.notify,p=f.storageType;u?u[0]&&(u=u[0]):u=document,"."!==d.substr(-1)&&(d=d?d+".":"");var S=function(e){return d+e},T=function(){try{var o=p in t&&null!==t[p],r=S("__"+Math.round(1e7*Math.random()));return o&&(g=t[p],g.setItem(r,""),g.removeItem(r)),o}catch(i){return p="cookie",e.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),y=function(t,o){if(o=r(o)?null:s(o),!T||"cookie"===f.storageType)return T||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:o,storageType:"cookie"}),M(t,o);try{g&&g.setItem(S(t),o),m.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:o,storageType:f.storageType})}catch(i){return e.$broadcast("LocalStorageModule.notification.error",i.message),M(t,o)}return!0},v=function(t){if(!T||"cookie"===f.storageType)return T||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),$(t);var o=g?g.getItem(S(t)):null;if(!o||"null"===o)return null;try{return JSON.parse(o)}catch(r){return o}},O=function(){var t,o;for(t=0;t<arguments.length;t++)if(o=arguments[t],T&&"cookie"!==f.storageType)try{g.removeItem(S(o)),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:o,storageType:f.storageType})}catch(r){e.$broadcast("LocalStorageModule.notification.error",r.message),_(o)}else T||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),m.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:o,storageType:"cookie"}),_(o)},b=function(){if(!T)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=d.length,o=[];for(var r in g)if(r.substr(0,t)===d)try{o.push(r.substr(t))}catch(i){return e.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return o},k=function(t){var o=d?new RegExp("^"+d):new RegExp,r=t?new RegExp(t):new RegExp;if(!T||"cookie"===f.storageType)return T||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),x();var i=d.length;for(var n in g)if(o.test(n)&&r.test(n.substr(i)))try{O(n.substr(i))}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),x()}return!0},L=function(){try{return t.navigator.cookieEnabled||"cookie"in u&&(u.cookie.length>0||(u.cookie="test").indexOf.call(u.cookie,"test")>-1)}catch(o){return e.$broadcast("LocalStorageModule.notification.error",o.message),!1}}(),M=function(t,o,c){if(r(o))return!1;if((a(o)||n(o))&&(o=s(o)),!L)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var l="",g=new Date,f="";if(null===o?(g.setTime(g.getTime()+-864e5),l="; expires="+g.toGMTString(),o=""):i(c)&&0!==c?(g.setTime(g.getTime()+24*c*60*60*1e3),l="; expires="+g.toGMTString()):0!==h.expiry&&(g.setTime(g.getTime()+24*h.expiry*60*60*1e3),l="; expires="+g.toGMTString()),t){var d="; path="+h.path;h.domain&&(f="; domain="+h.domain),u.cookie=S(t)+"="+encodeURIComponent(o)+l+d+f}}catch(m){return e.$broadcast("LocalStorageModule.notification.error",m.message),!1}return!0},$=function(t){if(!L)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var o=u.cookie&&u.cookie.split(";")||[],r=0;r<o.length;r++){for(var i=o[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(S(t)+"=")){var n=decodeURIComponent(i.substring(d.length+t.length+1,i.length));try{return JSON.parse(n)}catch(a){return n}}}return null},_=function(e){M(e,null)},x=function(){for(var e=null,t=d.length,o=u.cookie.split(";"),r=0;r<o.length;r++){for(e=o[r];" "===e.charAt(0);)e=e.substring(1,e.length);var i=e.substring(t,e.indexOf("="));_(i)}},w=function(){return p},E=function(e,t,r,i){i=i||t;var a=v(i);return null===a&&o(r)?a=r:n(a)&&n(r)&&(a=c(r,a)),l(t).assign(e,a),e.$watch(t,function(e){y(i,e)},n(e[t]))},R=function(){for(var e=0,o=t[p],r=0;r<o.length;r++)0===o.key(r).indexOf(d)&&e++;return e};return{isSupported:T,getStorageType:w,set:y,add:y,get:v,keys:b,remove:O,clearAll:k,bind:E,deriveKey:S,length:R,cookie:{isSupported:L,set:M,add:M,get:$,remove:_,clearAll:x}}}]})}(window,window.angular);var app=angular.module("myApp",["ngCookies","ngAnimate","LocalStorageModule","ngSanitize","ionic"]);app.config(["$provide",function(a){a.decorator("$exceptionHandler",["$delegate","$injector",function(a,e){return function(a){var n=e.get("$location"),o={};o.callStack=a.stack,n.path("/error").search(o)}}])}]);app.constant("GLOBAL_CONSTANT",{ENVIROMENT:{ENV_NAME:{SIT:"SIT",L:"L",PROD:"PROD",M:"M",U:"U",I:"I"},QQ_APPID:{SIT:"1104566348",L:"1104566348",PROD:"1104566348",M:"1104566348",U:"1104566348",I:"1104566348"},WX_APPID:{SIT:"wx00dc2e2a59bc3a1f",L:"wx00dc2e2a59bc3a1f",PROD:"wx00dc2e2a59bc3a1f",M:"wx00dc2e2a59bc3a1f",U:"wx00dc2e2a59bc3a1f",I:"wx00dc2e2a59bc3a1f"},CGI_PREFIX:{SIT:"https://sit-personal.webank.com/k/hj/",L:"https://sit-personal.webank.com/l/hj/",PROD:"https://personal.webank.com/hj/",M:"https://L-personal.webank.com/m/hj/",U:"https://uat-personal.webank.com/u/hj/",I:"https://sit-personal.webank.com/i/hj/"},TENCENT_CGI_PREFIX:{SIT:"http://sit-hjdata.webank.com/k/hj/",PROD:"http://gzhjdata.webank.com/hj/",L:"http://sit-hjdata.webank.com/l/hj/",M:"http://sit-hjdata.webank.com/m/hj/",U:"http://sit-hjdata.webank.com/u/hj/",I:"http://sit-hjdata.webank.com/i/hj/"},SDK_PREFIX:{SIT:"https://sit-personal.webank.com/k/",L:"https://sit-personal.webank.com/l/",PROD:"https://personal.webank.com/",M:"https://uat-personal.webank.com/m/",U:"https://uat-personal.webank.com/u/",I:"https://sit-personal.webank.com/i/"},DATA_CGI_PREFIX:{SIT:"http://sit-hjdata.webank.com/k/querydata/",L:"http://sit-hjdata.webank.com/l/querydata/",PROD:"http://hjdata.webank.com/querydata/",M:"http://hjdata.webank.com/querydata/",U:"http://sit-hjdata.webank.com/u/querydata/",I:"http://sit-hjdata.webank.com/i/querydata/"},DATA_NOTICE:{SIT:"http://sit-hjdata.webank.com/k/querydata/bulletin/",L:"http://sit-hjdata.webank.com/k/querydata/bulletin/",PROD:"http://hjdata.webank.com/querydata/bulletin/",M:"http://sit-hjdata.webank.com/k/querydata/bulletin/",U:"http://sit-hjdata.webank.com/k/querydata/bulletin/",I:"http://sit-hjdata.webank.com/k/querydata/bulletin/"},BBS_URL_PREFIX:{PROD:"http://bbs.webank.com",SIT:"http://119.29.85.90",L:"http://119.29.85.90",M:"http://119.29.85.90",U:"http://119.29.85.90",I:"http://119.29.85.90"}},LOGIN_PLAT:{QQ:"qq",WX:"weixin",PHONE:"phone"},CGI_RET:{CGI_SUCCESS:"20270000",CGI_SUCCESS_2:"20350000",CGI_PROCESSING:"20271000",CGI_PROCESSING_2:"20351000",CGI_WEBANK_TOKEN_EXPIRED:"20275055",CGI_WEBANK_TOKEN_EXPIRED_2:"20355055",CGI_WEBANK_TOKEN_EXPIRED_3:"20350055",CGI_WEBANK_TOKEN_EXPIRED_4:"20270055",CGI_UNKNOW_ERROR:"-1",CGI_UNUSED_CARD:"20350006",CGI_UNUSED_CARD_2:"20270006",CGI_PWD_ERR_1:"20270021",CGI_PWD_ERR_2:"20270022",CGI_PWD_ERR_3:"20270023",CGI_PWD_ERR_4:"20270024",CGI_PWD_ERR_5:"20270025",CGI_PWD_ERR_6:"20270026",CGI_PWD_ERR_1_2:"20350021",CGI_PWD_ERR_2_2:"20350022",CGI_PWD_ERR_3_2:"20350023",CGI_PWD_ERR_4_2:"20350024",CGI_PWD_ERR_5_2:"20350025",CGI_PWD_ERR_6_2:"20350026",CGI_COMBINED_BUY:"20275072",CGI_REG_ALREADY_BIND_1:"20350015",CGI_REG_ALREADY_BIND_2:"20350016",CGI_REG_ALREADY_BIND_3:"20350017",CGI_REG_ALREADY_BIND_4:"20350018"},ACCOUNT_STATE:{USER_STATE_GUEST:1,USER_STATE_LOGIN:2,USER_STATE_HAS_ACCOUNT:3},PROD_TYPE:{GJ:"0",HJ:"2",BX:"3"},DOC_TYPE:{ID_CARD:"01"},ACCOUNT_TYPE:{INVALID_TYPE:"0",OTHER_BANK_CARD:"1",CURRENT_PLUS:"2",WEBANK_CARD:"3"},TRANS_PLAN_JOB_TYPE:{TRANS_OUT:"2",TRANS_IN:"1"},BANK_CARD_TYPE:{DEBIT_CARD:"10"},ORDER_QUERY_TYPE:{PURCHASE:0,REDEEM:1,TRANSIN:2,TRANSOUT:3,CANCEL_INSURANCE:4,PURCHASE_INSURANCE:5,PURCHASE_STOCK:60,CANCEL_STOCK:61,REDEEM_STOCK:62},ORDER_QUERY_RET_VAL:{UNKNOW:0,APPLY_SUCCESS:1,APPLY_FAILED:2,CONFIRM_SUCCESS:3,CONFIRM_FAILED:4,CANCELD:5,TIMEOUT:6},TRANS_LOG_TYPE:{PURCHASE:0,REDEEM:1,TRANS_IN:10001,TRANS_OUT:10002,CANCEL:4,INSURANCE:5,STOCK_PURCHASE:60,STOCK_CANCEL:61,STOCK_REDEEM:62},APP_ERROR_CODE:{ERROR_HOME_BASE_DATA:1001,ERROR_EXCHANGE_WEBANK_TOKEN:1002,ERROR_WEALTH_ALL:1003,ERROR_STOCK_CFG:1004,ERROR_INSURANCE_CFG:1005,ERROR_MONETARY:1006,ERROR_BANK_LIMIT:1007,ERROR_HOLIDAY_CFG:1008,ERROR_APPDATA_CFG:1009},WELCOME_VERSION:0,TRANS_STATE:{SUCCESS:1,FAILURE:2,PROCESS:3},PLAN_CATAGRY:{NONE:0,SALARY:1,MORTGAGE:2},TRANS_TYPE:{NONE:0,ALL:1,WEBANK_CARD:2,CURRENT_PLUS:3},OPT_TYPE:{OPEN_ACCOUNT:"100",BIND_CARD:"101",BIND_NEW_PHONE:"102",RESET_PASS:"103"}});var gBankLimitList=[],gBankLimit={},getBankLimit=function(){for(var i=0;i<gBankLimitList.length;++i){var t={};t.perOne=gBankLimitList[i].perOne,t.perDay=gBankLimitList[i].perDay,gBankLimit[gBankLimitList[i].cardBin]=t}};var STRING_TABLE={NOT_IMPL_YET:"功能尚未实现，敬请期待",CANCEL_TRANS_IN_PLAN_FAILED:"对不起，取消转入计划失败。",CANCEL_TRANS_OUT_PLAN_FAILED:"对不起，取消转出计划失败。",REMAINS_THIS_PERIOD:"本期剩余",DAY_OF_AMOUNT:"天",BEGIN_TO_BENEFIT:"开始获得收益",BEGIN_TO_LOGIN:"坐好，开始登录，一起发财一起飞!",BEGIN_TO_OPENACCOUNT:"想要赚钱，先来开户!",GO:"走起",DAY:"日",MONTH:"月",YEAR:"年",PLEASE_CHECK_AGREE_USER_PROTOCOL:"乖，记得勾选用户协议",INVALID_PHONE_NO:"请使用真实电话，方便接收正确验证码",INVALID_CARD_NO:"请输入正确的银行卡号",INVALID_USER_NAME:"请输入正确的姓名",INVALID_OTP:"验证码不正确",NAME_CANNOT_EMPTY:"姓名不能为空",PASSWORD_TOO_WEAK:"密码强度太弱",PASSWORD_NOT_AVAILABLE:"请设置6位数字密码",PASSWORD_NOT_MATCH_TWO_TIMES:"两次密码输入不一致。",PASSWORD_SAME_OLD:"与原交易密码一样，请重新输入",REQUEST_OTP_FAILED:"请求短信验证码失败，请重试。",INVALID_TRANS_AMOUNT:"请输入有效金额",PLEASE_SELECT_TRANS_WAY:"请选择转账方式。",PLEASE_SELECT_REDEEM_WAY:"请选择赎回到您的哪个账户",PLEASE_INPUT_TRANS_DETAILS:"请输入转账备注。",BIND_CARD_SUCCESS:"绑定银行卡成功。",DEFAULT_ERR_DESC:"网络不给力，请稍后再试。",NO_RECOM_PRODUCT:"很遗憾，当前无可购理财产品",INCORRECT_BANK_CARD_NO:"银行卡号不正确",CREDIT_CARD_NOT_SUPPORT:"暂时不支持信用卡",TOO_MACH_MONEY:"土豪，钱太多了，你是在跟我开玩笑吧",INVALID_PLAN_DATE:"定期计划请选择每月1～28日",INVALIDE_PLAN_DATE:"请选择日期",INVALID_SELECT:"请选择一个选项",WEBANK_CARD:"微众银行卡",INSUFF_ACCOUNT_BALANCE:"余额不足",CHOOSE_REDEEM_DEST:"请选择取出至",CHOOSE_REDEEM_DEST2:"请选择赎回至",CHOOSE_PAY_WAY:"请选择支付方式",INVALID_FREQUENCY:"请选择计划频率",INVALID_DATE:"请选择日期",WEBANK_CARD_NOT_ENOUGH_BALANCE:"微众银行卡余额不足，请使用其它银行卡支付",HJ_MIN_REDEEM_PROMOPT:"最少取出0.01元",PLAN_NOT_MODIFIED:"计划没有修改",WEBANK_CARD_DESC:"微众卡",WELCOME_VERSION:0,NETWORK_ERROR:"网络不给力，请稍后重试",PLEASE_SELECT_PURCHASE_FREQUENCY:"请先选择频率",INVALID_RECV_ACCOUNT:"请选择收款账户",INVALID_PAY_ACCOUNT:"请选择付款账户",PLEASE_INPUT_PLAN_NAME:"请输入计划名称",PLEASE_COMMIT_AFTER_MODIFY:"请修改后再保存"},gProductArr=["低","较低","中等","较高","高"],gRiskArr=["保守型","谨慎型","稳健型","进取型","激进型"];var gOnSaleInfo,gProdCodeToProdDetailInfo={},getFinancialProduct=function(){gProdCodeToProdDetailInfo={};for(var o=0;o<gOnSaleInfo.length;o++)for(var e=0;e<gOnSaleInfo[o].products.length;e++){var n={};n.onSaleCode=gOnSaleInfo[o].on_sale_code,n.onSaleDesc=gOnSaleInfo[o].on_sale_desc,n.prodCode=gOnSaleInfo[o].products[e].prod_code,n.prodName=gOnSaleInfo[o].products[e].prod_name,n.startBuyDate=gOnSaleInfo[o].products[e].start_buy_date,n.startBuyTime=gOnSaleInfo[o].products[e].start_buy_time,n.endBuyDate=gOnSaleInfo[o].products[e].end_buy_date,n.endBuyTime=gOnSaleInfo[o].products[e].end_buy_time,n.startBuyWeekday=gOnSaleInfo[o].products[e].start_buy_weekday,n.endBuyWeekday=gOnSaleInfo[o].products[e].end_buy_weekday,n.valueDate=gOnSaleInfo[o].products[e].value_date,n.totalAmount=gOnSaleInfo[o].products[e].total_amount,n.restAmount=gOnSaleInfo[o].products[e].quota_total,n.nextPeriodTotalAmount=gOnSaleInfo[o].products[e].next_period_total_amount,n.canBuyNextPeriod=gOnSaleInfo[o].products[e].can_buy_next_period,n.shortDesc=gOnSaleInfo[o].short_desc,n.incomeRate=gOnSaleInfo[o].products[e].income_rate,n.lifeTime=gOnSaleInfo[o].products[e].life_time,n.minAmount=gOnSaleInfo[o].min_amount,n.increaseAmount=gOnSaleInfo[o].increase_amount,n.detailURL=gOnSaleInfo[o].detail_url,n.advDesc=gOnSaleInfo[o].adv_desc,n.advURL=gOnSaleInfo[o].adv_url,n.tags=gOnSaleInfo[o].products[e].tags,n.recomReason=gOnSaleInfo[o].recom_reason,n.valueDateDesc=gOnSaleInfo[o].products[e].value_date_desc,n.promopt=gOnSaleInfo[o].promopt,n.productCompare=gOnSaleInfo[o].product_compare,n.risk_level=gOnSaleInfo[o].products[e].risk_level,n.status=gOnSaleInfo[o].products[e].trans_status,gInsuranceOnSaleCodeToProdConfig[n.onSaleCode]&&(gProdCodeToProdDetailInfo[n.prodCode]=n)}},gInsuranceConfigInfo,gInsuranceOnSaleCodeToProdConfig={},getInsuranceProdConfig=function(o){gInsuranceOnSaleCodeToProdConfig={};for(var e in gInsuranceConfigInfo){var n={};n.onSaleCode=gInsuranceConfigInfo[e].prod_code,n.prodName=gInsuranceConfigInfo[e].prod_name,n.grayOpen=gInsuranceConfigInfo[e].gray_open,o?gInsuranceOnSaleCodeToProdConfig[n.onSaleCode]=n:1!=n.grayOpen&&(gInsuranceOnSaleCodeToProdConfig[n.onSaleCode]=n)}},gMonetaryOnSaleInfo={},gMonetrayProdCodeToProdDetailInfo={},getMonetaryProductDetail=function(){for(var o in gMonetaryOnSaleInfo){var e={};e.shortDesc=gMonetaryOnSaleInfo[o].short_desc,e.riskDesc=gMonetaryOnSaleInfo[o].risk_desc,e.investCycle=gMonetaryOnSaleInfo[o].invest_cycle,e.incomeRate=gMonetaryOnSaleInfo[o].income_rate,e.incomeTenThousand=gMonetaryOnSaleInfo[o].income_per_ten_thouthand,e.detailURL=gMonetaryOnSaleInfo[o].detail_url,e.advDesc=gMonetaryOnSaleInfo[o].adv_desc,e.advURL=gMonetaryOnSaleInfo[o].adv_url,e.riskDesc=gMonetaryOnSaleInfo[o].risk_desc,e.recomReason=gMonetaryOnSaleInfo[o].recom_reason,e.promopt=gMonetaryOnSaleInfo[o].promopt,e.productCompare=gMonetaryOnSaleInfo[o].product_compare,e.prodCode=gMonetaryOnSaleInfo[o].prod_code,e.prodName=gMonetaryOnSaleInfo[o].prod_name,e.totalAmount=gMonetaryOnSaleInfo[o].total_amount,e.tags=gMonetaryOnSaleInfo[o].tags,e.tradingRules=gMonetaryOnSaleInfo[o].trading_rules,e.tradingRulesV2=gMonetaryOnSaleInfo[o].trading_rules_v2,gMonetrayProdCodeToProdDetailInfo[e.prodCode]=e}},gStockOnSaleInfo,gStockProdCodeToProdDetailInfo={},getStockProdDetail=function(){gStockProdCodeToProdDetailInfo={};for(var o in gStockOnSaleInfo){var e={};e.onSaleCode=gStockOnSaleInfo[o].on_sale_code,e.onSaleDesc=gStockOnSaleInfo[o].on_sale_desc,e.incomeUpdateDate=gStockOnSaleInfo[o].income_update_date,e.incomeUpdateTime=gStockOnSaleInfo[o].income_update_time,e.realValue=gStockOnSaleInfo[o].real_value,e.risk_level=gStockOnSaleInfo[o].risk_level,e.bonusTypeModify=gStockOnSaleInfo[o].can_dividend_method_modify,e.defaultBonusType=gStockOnSaleInfo[o].default_dividend_method,e.redeemMinVol=gStockOnSaleInfo[o].p_redeem_min_vol,e.holdMinVol=gStockOnSaleInfo[o].p_min_hold_vol,e.status=gStockOnSaleInfo[o].trans_status,gStockProdCodeToProdConfig[e.onSaleCode]?gStockProdCodeToProdDetailInfo[e.onSaleCode]=e:gStockProdCodeToProdConfig["default"]&&(gStockProdCodeToProdDetailInfo[e.onSaleCode]=e)}},gStockConfigInfo,gStockProdCodeToProdConfig={},getStockProdConfig=function(o){gStockProdCodeToProdConfig={};for(var e in gStockConfigInfo){var n={};n.onSaleCode=gStockConfigInfo[e].fund_code,n.onSaleDesc=gStockConfigInfo[e].fund_name,n.managerName=gStockConfigInfo[e].fund_mgr,n.managerDesc=gStockConfigInfo[e].fund_mgr_desc,n.shortDesc=gStockConfigInfo[e].short_desc,n.confirmShareDay=gStockConfigInfo[e].confirm_share_time,n.redeemDay=gStockConfigInfo[e].redeem_to_custom_time,n.yearBeginValue=gStockConfigInfo[e].year_begin_net,n.tradingRules=gStockConfigInfo[e].trade_rules,n.firstBuy=gStockConfigInfo[e].start_buy_amount.first_buy,n.firstBuyIncrement=gStockConfigInfo[e].start_buy_amount.first_buy_increment,n.appendBuy=gStockConfigInfo[e].start_buy_amount.append_buy,n.appendBuyIncrement=gStockConfigInfo[e].start_buy_amount.append_buy_increment,n.bonusTypeModify=gStockConfigInfo[e].can_dividend_method_modify,n.defaultBonusType=gStockConfigInfo[e].default_dividend_method,n.purchaseFeeRate=gStockConfigInfo[e].trade_fee_rate.apply_buy_fee_rate.split("%")[0],n.purchaseFeeDiscount=gStockConfigInfo[e].trade_fee_rate.apply_buy_discount_fee_rate,n.recomReason=gStockConfigInfo[e].recom_reason,n.grayOpen=gStockConfigInfo[e].gray_open,o?gStockProdCodeToProdConfig[n.onSaleCode]=n:1!=n.grayOpen&&(gStockProdCodeToProdConfig[n.onSaleCode]=n)}};var gHolidayList=[],gHolidayDateList=[],getHolidayDate=function(){for(var t=0;t<gHolidayList.length;++t){var s={},a=gHolidayList[t].start,i=gHolidayList[t].end;s.start=new Date(parseInt(a.substring(0,4)),parseInt(a.substring(4,6))-1,parseInt(a.substring(6,8)),0,0,0),s.end=new Date(parseInt(i.substring(0,4)),parseInt(i.substring(4,6))-1,parseInt(i.substring(6,8)),23,59,59),gHolidayDateList.push(s)}};var gProductsShareConfigs={},gProductsShareConfigMap,generateProductsShareConfigMap=function(){gProductsShareConfigMap||(gProductsShareConfigMap={});for(var r in gProductsShareConfigs){var o={};o.prod_code={},o.prod_code=gProductsShareConfigs[r].prod_code?gProductsShareConfigs[r].prod_code:null,o.fund_code={},o.fund_code=gProductsShareConfigs[r].fund_code?gProductsShareConfigs[r].fund_code:null,o.share_title=gProductsShareConfigs[r].title,o.share_content=gProductsShareConfigs[r].content,o.share_targeturl=gProductsShareConfigs[r].redirect_url,o.share_preview=gProductsShareConfigs[r].pic_url,gProductsShareConfigMap[gProductsShareConfigs[r].prod_type]=o}},getShareConf=function(r,o){if(gProductsShareConfigMap){var e=gProductsShareConfigMap[r];if(e)if(e.prod_code){for(var d in e.prod_code)if(o==e.prod_code[d])return e}else if(e.fund_code)for(var d in e.fund_code)if(o==e.fund_code[d])return e;return e}return null};var isReviewVer=!1,enableDebugLog=!1,gTraceLog=[],gTraceLogCount=1,timer=null,gTraceLog_Native=[],gTraceLog_Native_temp=[],tracelog=function(e){var g=new Date,t=g.getHours()+":"+g.getMinutes()+":"+g.getSeconds()+"-"+g.getMilliseconds();gTraceLog.push(gTraceLogCount+"."+t+"    "+e),gTraceLogCount++,gTraceLog.length>200&&gTraceLog.shift(),enableDebugLog&&(gTraceLog_Native.push(t+"    "+e),null==timer&&(timer=setInterval(function(){if(gTraceLog_Native_temp=gTraceLog_Native,gTraceLog_Native=[],gTraceLog_Native_temp&&gTraceLog_Native_temp.length>0){var e={};e.CmdID="logToNative",e.Size=gTraceLog_Native_temp.length;for(var g=0;g<gTraceLog_Native_temp.length;g++)e["Content"+g]=gTraceLog_Native_temp[g];CommandChannel.execute(e,function(){},function(){})}},5e3)))};"use strict";app.service("$Reg",function(){var e={phone:/^0?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/i,name:/^([\u4e00-\u9fa5]){2,8}$/,firstName:/^([\u4e00-\u9fa5]){1,6}$/,familyName:/^([\u4e00-\u9fa5]){1,2}$/,ident:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/i,pwd:/^[0-9]{6}$/,otp:/^[0-9]{6}$/,address:/^([\u4e00-\u9fa5]){2,20}$/,money:/^\d+(\.\d{1,2})?$/,zip:/^[0-9]{6}$/,bankcard:/^[0-9]+$/};this.test=function($,a){return e[a]&&$?e[a].test($):!1}});"use strict";app.service("$RSA",function(){function t(t,i){return new h(t,i)}function i(t,i){if(i<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,o=t.length-1;o>=0&&i>0;)r[--i]=t.charCodeAt(o--);r[--i]=0;for(var s=new _,n=new Array;i>2;){for(n[0]=0;0==n[0];)s.nextBytes(n);r[--i]=n[0]}return r[--i]=2,r[--i]=0,new h(r)}function r(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function o(i,r){null!=i&&null!=r&&i.length>0&&r.length>0?(this.n=t(i,16),this.e=parseInt(r,16)):alert("Invalid RSA public key")}function s(t){return t.modPowInt(this.e,this.n)}function n(t){var r=i(t,this.n.bitLength()+7>>3);if(null==r)return null;var o=this.doPublic(r);if(null==o)return null;var s=o.toString(16);return 0==(1&s.length)?s:"0"+s}function h(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function e(){return new h(null)}function u(t,i,r,o,s,n){for(;--n>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function f(t,i,r,o,s,n){for(var h=32767&i,e=i>>15;--n>=0;){var u=32767&this[t],f=this[t++]>>15,a=e*u+f*h;u=h*u+((32767&a)<<15)+r[o]+(1073741823&s),s=(u>>>30)+(a>>>15)+e*f+(s>>>30),r[o++]=1073741823&u}return s}function a(t,i,r,o,s,n){for(var h=16383&i,e=i>>14;--n>=0;){var u=16383&this[t],f=this[t++]>>14,a=e*u+f*h;u=h*u+((16383&a)<<14)+r[o]+s,s=(u>>28)+(a>>14)+e*f,r[o++]=268435455&u}return s}function p(t){return ai.charAt(t)}function l(t,i){var r=pi[t.charCodeAt(i)];return null==r?-1:r}function c(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function m(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function v(t){var i=e();return i.fromInt(t),i}function D(t,i){var r;if(16==i)r=4;else if(8==i)r=3;else if(256==i)r=8;else if(2==i)r=1;else if(32==i)r=5;else{if(4!=i)return void this.fromRadix(t,i);r=2}this.t=0,this.s=0;for(var o=t.length,s=!1,n=0;--o>=0;){var e=8==r?255&t[o]:l(t,o);0>e?"-"==t.charAt(o)&&(s=!0):(s=!1,0==n?this[this.t++]=e:n+r>this.DB?(this[this.t-1]|=(e&(1<<this.DB-n)-1)<<n,this[this.t++]=e>>this.DB-n):this[this.t-1]|=e<<n,n+=r,n>=this.DB&&(n-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),s&&h.ZERO.subTo(this,this)}function y(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function T(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r,o=(1<<i)-1,s=!1,n="",h=this.t,e=this.DB-h*this.DB%i;if(h-->0)for(e<this.DB&&(r=this[h]>>e)>0&&(s=!0,n=p(r));h>=0;)i>e?(r=(this[h]&(1<<e)-1)<<i-e,r|=this[--h]>>(e+=this.DB-i)):(r=this[h]>>(e-=i)&o,0>=e&&(e+=this.DB,--h)),r>0&&(s=!0),s&&(n+=p(r));return s?n:"0"}function B(){var t=e();return h.ZERO.subTo(this,t),t}function E(){return this.s<0?this.negate():this}function A(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function d(t){var i,r=1;return 0!=(i=t>>>16)&&(t=i,r+=16),0!=(i=t>>8)&&(t=i,r+=8),0!=(i=t>>4)&&(t=i,r+=4),0!=(i=t>>2)&&(t=i,r+=2),0!=(i=t>>1)&&(t=i,r+=1),r}function C(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)}function S(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function b(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r,o=t%this.DB,s=this.DB-o,n=(1<<s)-1,h=Math.floor(t/this.DB),e=this.s<<o&this.DM;for(r=this.t-1;r>=0;--r)i[r+h+1]=this[r]>>s|e,e=(this[r]&n)<<o;for(r=h-1;r>=0;--r)i[r]=0;i[h]=e,i.t=this.t+h+1,i.s=this.s,i.clamp()}function F(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,n=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&n)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&n)<<s),i.t=this.t-r,i.clamp()}function w(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=0>o?-1:0,-1>o?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function M(t,i){var r=this.abs(),o=t.abs(),s=r.t;for(i.t=s+o.t;--s>=0;)i[s]=0;for(s=0;s<o.t;++s)i[s+r.t]=r.am(0,o[s],i,s,0,r.t);i.s=0,i.clamp(),this.s!=t.s&&h.ZERO.subTo(i,i)}function R(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function V(t,i,r){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=e());var n=e(),u=this.s,f=t.s,a=this.DB-d(o[o.t-1]);a>0?(o.lShiftTo(a,n),s.lShiftTo(a,r)):(o.copyTo(n),s.copyTo(r));var p=n.t,l=n[p-1];if(0!=l){var c=l*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),m=this.FV/c,v=(1<<this.F1)/c,D=1<<this.F2,y=r.t,T=y-p,B=null==i?e():i;for(n.dlShiftTo(T,B),r.compareTo(B)>=0&&(r[r.t++]=1,r.subTo(B,r)),h.ONE.dlShiftTo(p,B),B.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--T>=0;){var E=r[--y]==l?this.DM:Math.floor(r[y]*m+(r[y-1]+D)*v);if((r[y]+=n.am(0,E,r,T,0,p))<E)for(n.dlShiftTo(T,B),r.subTo(B,r);r[y]<--E;)r.subTo(B,r)}null!=i&&(r.drShiftTo(p,i),u!=f&&h.ZERO.subTo(i,i)),r.t=p,r.clamp(),a>0&&r.rShiftTo(a,r),0>u&&h.ZERO.subTo(r,r)}}}function x(t){var i=e();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(h.ZERO)>0&&t.subTo(i,i),i}function O(t){this.m=t}function q(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function N(t){return t}function I(t){t.divRemTo(this.m,null,t)}function Z(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function j(t,i){t.squareTo(i),this.reduce(i)}function P(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function L(t){var i=e();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(h.ZERO)>0&&this.m.subTo(i,i),i}function z(t){var i=e();return t.copyTo(i),this.reduce(i),i}function $(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function G(t,i){t.squareTo(i),this.reduce(i)}function H(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function J(){return 0==(this.t>0?1&this[0]:this.s)}function K(t,i){if(t>4294967295||1>t)return h.ONE;var r=e(),o=e(),s=i.convert(this),n=d(t)-1;for(s.copyTo(r);--n>=0;)if(i.sqrTo(r,o),(t&1<<n)>0)i.mulTo(o,s,r);else{var u=r;r=o,o=u}return i.revert(r)}function Q(t,i){var r;return r=256>t||i.isEven()?new O(i):new k(i),this.exp(t,r)}function U(t){ci[mi++]^=255&t,ci[mi++]^=t>>8&255,ci[mi++]^=t>>16&255,ci[mi++]^=t>>24&255,mi>=yi&&(mi-=yi)}function W(){U((new Date).getTime())}function X(){if(null==li){for(W(),li=oi(),li.init(ci),mi=0;mi<ci.length;++mi)ci[mi]=0;mi=0}return li.next()}function Y(t){var i;for(i=0;i<t.length;++i)t[i]=X()}function _(){}function ti(){this.i=0,this.j=0,this.S=new Array}function ii(t){var i,r,o;for(i=0;256>i;++i)this.S[i]=i;for(r=0,i=0;256>i;++i)r=r+this.S[i]+t[i%t.length]&255,o=this.S[i],this.S[i]=this.S[r],this.S[r]=o;this.i=0,this.j=0}function ri(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function oi(){return new ti}r.prototype.doPublic=s,r.prototype.setPublic=o,r.prototype.encrypt=n;var si,ni=0xdeadbeefcafe,hi=15715070==(16777215&ni);hi&&"Microsoft Internet Explorer"==navigator.appName?(h.prototype.am=f,si=30):hi&&"Netscape"!=navigator.appName?(h.prototype.am=u,si=26):(h.prototype.am=a,si=28),h.prototype.DB=si,h.prototype.DM=(1<<si)-1,h.prototype.DV=1<<si;var ei=52;h.prototype.FV=Math.pow(2,ei),h.prototype.F1=ei-si,h.prototype.F2=2*si-ei;var ui,fi,ai="0123456789abcdefghijklmnopqrstuvwxyz",pi=new Array;for(ui="0".charCodeAt(0),fi=0;9>=fi;++fi)pi[ui++]=fi;for(ui="a".charCodeAt(0),fi=10;36>fi;++fi)pi[ui++]=fi;for(ui="A".charCodeAt(0),fi=10;36>fi;++fi)pi[ui++]=fi;O.prototype.convert=q,O.prototype.revert=N,O.prototype.reduce=I,O.prototype.mulTo=Z,O.prototype.sqrTo=j,k.prototype.convert=L,k.prototype.revert=z,k.prototype.reduce=$,k.prototype.mulTo=H,k.prototype.sqrTo=G,h.prototype.copyTo=c,h.prototype.fromInt=m,h.prototype.fromString=D,h.prototype.clamp=y,h.prototype.dlShiftTo=S,h.prototype.drShiftTo=b,h.prototype.lShiftTo=g,h.prototype.rShiftTo=F,h.prototype.subTo=w,h.prototype.multiplyTo=M,h.prototype.squareTo=R,h.prototype.divRemTo=V,h.prototype.invDigit=P,h.prototype.isEven=J,h.prototype.exp=K,h.prototype.toString=T,h.prototype.negate=B,h.prototype.abs=E,h.prototype.compareTo=A,h.prototype.bitLength=C,h.prototype.mod=x,h.prototype.modPowInt=Q,h.ZERO=v(0),h.ONE=v(1);var li,ci,mi;if(null==ci){ci=new Array,mi=0;var vi;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var Di=window.crypto.random(32);for(vi=0;vi<Di.length;++vi)ci[mi++]=255&Di.charCodeAt(vi)}for(;yi>mi;)vi=Math.floor(65536*Math.random()),ci[mi++]=vi>>>8,ci[mi++]=255&vi;mi=0,W()}_.prototype.nextBytes=Y,ti.prototype.init=ii,ti.prototype.next=ri;var yi=256,Ti=new r,Bi="CB3EE21BCBDEE47396F3407ED3FF7A4615BD3E739759DB71914C951E7666AE245E7CBED44AEE2C18160973CC96B172AD6350589C3A21235CBB270BEA9D677485DADD7BF63462DF25BB31DA892D1D7D4AC8B8E5566318CCEE68DC516181B101ACCA64C849B1D589986B3FC8C4477D48AA47BB889A7B96404513A8FE809A31837E4FA620B5CEC426E9B0F13DF67A300EFF734729A608432E4CD827ED30DE3435103269C7E780A3CA727997CECC2ADC2A18C5E3D5160C142D762408CFD2E71EE472F51D6531C8084EC50FC2380AEE2C3F4677DD25E3704B1C6FDF80E60631C98267B4E6D4A13C73D07ABD466913B0DD118F5C0AA5A8D218C63EBFAF194292BE26A3";return Ti.setPublic(Bi,"10001"),Ti});"use strict";app.service("$MD5",function(){function n(n,r){var t=(65535&n)+(65535&r),e=(n>>16)+(r>>16)+(t>>16);return e<<16|65535&t}function r(n,r){return n<<r|n>>>32-r}function t(t,e,u,o,c,f){return n(r(n(n(e,t),n(o,f)),c),u)}function e(n,r,e,u,o,c,f){return t(r&e|~r&u,n,r,o,c,f)}function u(n,r,e,u,o,c,f){return t(r&u|e&~u,n,r,o,c,f)}function o(n,r,e,u,o,c,f){return t(r^e^u,n,r,o,c,f)}function c(n,r,e,u,o,c,f){return t(e^(r|~u),n,r,o,c,f)}function f(r,t){r[t>>5]|=128<<t%32,r[(t+64>>>9<<4)+14]=t;var f,i,a,h,g,l=1732584193,v=-271733879,d=-1732584194,C=271733878;for(f=0;f<r.length;f+=16)i=l,a=v,h=d,g=C,l=e(l,v,d,C,r[f],7,-680876936),C=e(C,l,v,d,r[f+1],12,-389564586),d=e(d,C,l,v,r[f+2],17,606105819),v=e(v,d,C,l,r[f+3],22,-1044525330),l=e(l,v,d,C,r[f+4],7,-176418897),C=e(C,l,v,d,r[f+5],12,1200080426),d=e(d,C,l,v,r[f+6],17,-1473231341),v=e(v,d,C,l,r[f+7],22,-45705983),l=e(l,v,d,C,r[f+8],7,1770035416),C=e(C,l,v,d,r[f+9],12,-1958414417),d=e(d,C,l,v,r[f+10],17,-42063),v=e(v,d,C,l,r[f+11],22,-1990404162),l=e(l,v,d,C,r[f+12],7,1804603682),C=e(C,l,v,d,r[f+13],12,-40341101),d=e(d,C,l,v,r[f+14],17,-1502002290),v=e(v,d,C,l,r[f+15],22,1236535329),l=u(l,v,d,C,r[f+1],5,-165796510),C=u(C,l,v,d,r[f+6],9,-1069501632),d=u(d,C,l,v,r[f+11],14,643717713),v=u(v,d,C,l,r[f],20,-373897302),l=u(l,v,d,C,r[f+5],5,-701558691),C=u(C,l,v,d,r[f+10],9,38016083),d=u(d,C,l,v,r[f+15],14,-660478335),v=u(v,d,C,l,r[f+4],20,-405537848),l=u(l,v,d,C,r[f+9],5,568446438),C=u(C,l,v,d,r[f+14],9,-1019803690),d=u(d,C,l,v,r[f+3],14,-187363961),v=u(v,d,C,l,r[f+8],20,1163531501),l=u(l,v,d,C,r[f+13],5,-1444681467),C=u(C,l,v,d,r[f+2],9,-51403784),d=u(d,C,l,v,r[f+7],14,1735328473),v=u(v,d,C,l,r[f+12],20,-1926607734),l=o(l,v,d,C,r[f+5],4,-378558),C=o(C,l,v,d,r[f+8],11,-2022574463),d=o(d,C,l,v,r[f+11],16,1839030562),v=o(v,d,C,l,r[f+14],23,-35309556),l=o(l,v,d,C,r[f+1],4,-1530992060),C=o(C,l,v,d,r[f+4],11,1272893353),d=o(d,C,l,v,r[f+7],16,-155497632),v=o(v,d,C,l,r[f+10],23,-1094730640),l=o(l,v,d,C,r[f+13],4,681279174),C=o(C,l,v,d,r[f],11,-358537222),d=o(d,C,l,v,r[f+3],16,-722521979),v=o(v,d,C,l,r[f+6],23,76029189),l=o(l,v,d,C,r[f+9],4,-640364487),C=o(C,l,v,d,r[f+12],11,-421815835),d=o(d,C,l,v,r[f+15],16,530742520),v=o(v,d,C,l,r[f+2],23,-995338651),l=c(l,v,d,C,r[f],6,-198630844),C=c(C,l,v,d,r[f+7],10,1126891415),d=c(d,C,l,v,r[f+14],15,-1416354905),v=c(v,d,C,l,r[f+5],21,-57434055),l=c(l,v,d,C,r[f+12],6,1700485571),C=c(C,l,v,d,r[f+3],10,-1894986606),d=c(d,C,l,v,r[f+10],15,-1051523),v=c(v,d,C,l,r[f+1],21,-2054922799),l=c(l,v,d,C,r[f+8],6,1873313359),C=c(C,l,v,d,r[f+15],10,-30611744),d=c(d,C,l,v,r[f+6],15,-1560198380),v=c(v,d,C,l,r[f+13],21,1309151649),l=c(l,v,d,C,r[f+4],6,-145523070),C=c(C,l,v,d,r[f+11],10,-1120210379),d=c(d,C,l,v,r[f+2],15,718787259),v=c(v,d,C,l,r[f+9],21,-343485551),l=n(l,i),v=n(v,a),d=n(d,h),C=n(C,g);return[l,v,d,C]}function i(n){var r,t="";for(r=0;r<32*n.length;r+=8)t+=String.fromCharCode(n[r>>5]>>>r%32&255);return t}function a(n){var r,t=[];for(t[(n.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(r=0;r<8*n.length;r+=8)t[r>>5]|=(255&n.charCodeAt(r/8))<<r%32;return t}function h(n){return i(f(a(n),8*n.length))}function g(n,r){var t,e,u=a(n),o=[],c=[];for(o[15]=c[15]=void 0,u.length>16&&(u=f(u,8*n.length)),t=0;16>t;t+=1)o[t]=909522486^u[t],c[t]=1549556828^u[t];return e=f(o.concat(a(r)),512+8*r.length),i(f(c.concat(e),640))}function l(n){var r,t,e="0123456789abcdef",u="";for(t=0;t<n.length;t+=1)r=n.charCodeAt(t),u+=e.charAt(r>>>4&15)+e.charAt(15&r);return u}function v(n){return unescape(encodeURIComponent(n))}function d(n){return h(v(n))}function C(n){return l(d(n))}function p(n,r){return g(v(n),v(r))}function s(n,r){return l(p(n,r))}function A(n,r,t){return r?t?p(r,n):s(r,n):t?d(n):C(n)}return A});app.factory("essential",["$q","GLOBAL_CONSTANT",function(n){return{getToken:function(){return n(function(n,e){WebankToken.getToken(function(e){n(e)},function(n){e(n)})})},login:function(){return n(function(n,e){WebankLogin.login(function(e){n(e)},function(n){e(n)})})},getVersion:function(){return n(function(n){AppInfo.getAppInfo(function(e){var t={};t.versionCode=e.verCode,t.versionString=e.verString,t.channelID=e.channelID,t.imei=e.imei,n(t)})})},checkFace:function(e){return n(function(n,t){var o={};o.CmdID="faceVerify",e&&(o.ecif=e),CommandChannel.execute(o,function(e){n(e)},function(n){t(n)})})},exchangeWebankToken:function(){return n(function(n,e){var t={};t.cgiName="exchangeWebankToken",t.timeConsuming=(new Date).getTime();var o={};o.CmdID="exchangeWebankToken",CommandChannel.execute(o,function(e){t.timeConsuming=(new Date).getTime()-t.timeConsuming,t.retCode=0,t.status=0,Statistics.reportInterface(t),n(e)},function(n){t.timeConsuming=(new Date).getTime()-t.timeConsuming,t.retCode=-1,t.status=-1,Statistics.reportInterface(t),e(n)})})},loginQQ:function(){return n(function(n,e){var t={};t.CmdID="loginQQ",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},loginWX:function(){return n(function(n,e){var t={};t.CmdID="loginWX",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},logout:function(){return n(function(n,e){var t={};t.CmdID="logout",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},setPhoneLoginInfo:function(e){return n(function(n,t){var o={};o.CmdID="setPhoneLoginInfo",o.openid=e.openid,o.token=e.token,o.picUrl=e.picUrl,o.userName=e.userName,CommandChannel.execute(o,function(e){n(e)},function(n){t(n)})})},getVersionInReview:function(){return n(function(n,e){var t={};t.CmdID="getVersionInReview",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},isWXInstalled:function(){return n(function(n,e){var t={};t.CmdID="isWXInstalled",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},launchWebView:function(e){return n(function(n,t){var o={};o.CmdID="launchWebView",o.url=e,CommandChannel.execute(o,function(e){n(e)},function(n){t(n)})})},readSMSVerifyCode:function(){return n(function(n,e){var t={};t.CmdID="readSMSVerifyCode",t.SMSAddress="1065509390621",t.SMSVerifyCodeLength=6,CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},sharePage:function(e,t,o,i){return n(function(n,u){var c={};c.CmdID="share",c.share_title=e,c.share_content=t,c.share_preview=o,c.share_target=i,c.share_support="WX|QQ",CommandChannel.execute(c,function(e){n(e)},function(n){u(n)})})},copyStrToPasteboard:function(e){return n(function(n,t){e||t(),e=e.toString();var o={};o.CmdID="copyStrToPasteboard",o.Content=e,CommandChannel.execute(o,function(e){n(e)},function(n){t(n)})})},getMuid:function(){return n(function(n,e){var t={};t.CmdID="getMuid",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},getIdfa:function(){return n(function(n,e){var t={};t.CmdID="getIdfa",CommandChannel.execute(t,function(e){n(e)},function(n){e(n)})})},enableDebugLog:function(e){return n(function(n,t){var o={};o.CmdID="enableDebugLog",o.Flag=e,CommandChannel.execute(o,function(e){n(e)},function(n){t(n)})})},resolve:function(){return n(function(n){n()})},reject:function(){return n(function(n,e){e()})}}}]);app.factory("webankCommonService",["$q","GLOBAL_CONSTANT","essential","utils","cgiService","cache","$timeout",function(t,e,a,o,n,r,_){var i=function(t,e,a,n){var r=o.getDateByDateAndTimeString(t,e),_=o.getDateByDateAndTimeString(a,n),i=new Date;return i>=r&&_>=i};return{parseRawWealthDataForBXProduct:function(t,a){var n={};n.yestodayIncome=0,n.accumulatedIncome=0,n.amount=0;for(var r=0;r<t.financial_products.length;++r)if(t.financial_products[r].prod_type==e.PROD_TYPE.BX&&t.financial_products[r].product_code==a&&0==t.financial_products[r].status){var _=gProdCodeToProdDetailInfo[t.financial_products[r].product_code],i=o.getDateByYYYYMMDDString(_.valueDate),s=o.getDateByYYYYMMDDString(_.valueDate);s.setDate(s.getDate()+1);var c=o.getDateByYYYYMMDDString(_.valueDate);if(c.setDate(c.getDate()+parseInt(_.lifeTime)),n.redeemType=t.financial_products[r].redeem_type,o.isCurrentDateValid(s,c)){var d=new Date;n.yestodayIncome=(parseFloat(t.financial_products[r].amount)*_.incomeRate/100/365).toFixed(2),n.accumulatedIncome=(parseFloat(t.financial_products[r].amount)*_.incomeRate*parseInt(o.getDateDifference(i,d))/100/365).toFixed(2),n.amount=t.financial_products[r].amount}else n.yestodayIncome=0,n.accumulatedIncome=0,n.amount=t.financial_products[r].amount;return n}return n},parseRawWealthDataForConfirmBXProduct:function(t,a){var o={};o.amount=0;for(var n=0;n<t.financial_products.length;++n)if(t.financial_products[n].prod_type==e.PROD_TYPE.BX&&t.financial_products[n].product_code==a&&1==t.financial_products[n].status)return o.amount=t.financial_products[n].amount.toFixed(2),o;return o},parseRawWealthDataForGPProduct:function(t,a){for(var o={},n=gStockProdCodeToProdDetailInfo[a],r=0;r<t.financial_products.length;++r)if(t.financial_products[r].prod_type==e.PROD_TYPE.GJ&&t.financial_products[r].product_code==a){if("0"!=t.financial_products[r].status)continue;return o.income=parseFloat(t.financial_products[r].income).toFixed(2),o.accumulatedIncome=parseFloat(t.financial_products[r].accumulated_income).toFixed(2),o.amount=(parseFloat(t.financial_products[r].share)*parseFloat(n.realValue)).toFixed(2),o.share=parseFloat(t.financial_products[r].share).toFixed(2),o.totalShare=parseFloat(t.financial_products[r].amount),o.realValue=n.realValue,o.bonusType=t.financial_products[r].bonus_type,o}return o.income=parseFloat(0).toFixed(2),o.accumulatedIncome=parseFloat(0).toFixed(2),o.amount=parseFloat(0).toFixed(2),o.share=parseFloat(0).toFixed(2),o.realValue=parseFloat(n.realValue).toFixed(4),o.bonusType=void 0,o},parseRawWealthData_V2:function(t){for(var a={},n=0,r=0,_=0,i=0;i<t.financial_products.length;++i)t.financial_products[i].prod_type==e.PROD_TYPE.HJ&&(n+=parseFloat(t.financial_products[i].income),r+=parseFloat(t.financial_products[i].accumulated_income),_+=parseFloat(t.financial_products[i].amount));a.yesterdayHJIncome=isNaN(n)?0:n.toFixed(2),a.accumulatedHJIncome=isNaN(r)?0:r.toFixed(2),a.HJAmount=isNaN(_)?0:_.toFixed(2),n=t.basic_account.available_amount,a.BankAmount=isNaN(n)?0:n.toFixed(2),n=0,r=0,_=0;for(var i=0;i<t.financial_products.length;++i)if(t.financial_products[i].prod_type==e.PROD_TYPE.BX){var s=gProdCodeToProdDetailInfo[t.financial_products[i].product_code];if(s){var c=o.getDateByYYYYMMDDString(s.valueDate),d=o.getDateByYYYYMMDDString(s.valueDate);d.setDate(d.getDate()+1);var u=o.getDateByYYYYMMDDString(s.valueDate);if(u.setDate(u.getDate()+parseInt(s.lifeTime)),o.isCurrentDateValid(d,u)){var l=new Date;n+=parseFloat(t.financial_products[i].amount)*s.incomeRate/100/365,r+=parseFloat(t.financial_products[i].amount)*s.incomeRate*parseInt(o.getDateDifference(c,l))/100/365,_+=t.financial_products[i].amount+parseFloat(t.financial_products[i].amount)*s.incomeRate*parseInt(o.getDateDifference(c,l))/100/365}else _+=t.financial_products[i].amount}}a.yesterdayBXIncome=isNaN(n)?0:n.toFixed(2),a.accumulatedBXIncome=isNaN(r)?0:r.toFixed(2),a.BXAmount=isNaN(_)?0:_.toFixed(2),n=0,r=0,_=0;for(var i=0;i<t.financial_products.length;++i)if(t.financial_products[i].prod_type==e.PROD_TYPE.GJ){var s=gStockProdCodeToProdDetailInfo[t.financial_products[i].product_code];s&&(n+=0,r+=0,"1"==t.financial_products[i].status?_+=parseFloat(t.financial_products[i].amount):"0"==t.financial_products[i].status&&(_+=parseFloat(t.financial_products[i].amount)*parseFloat(s.realValue)),t.financial_products[i].in_transit_amt&&(_+=parseFloat(t.financial_products[i].in_transit_amt)))}return a.yesterdayGJIncome=isNaN(n)?0:n.toFixed(2),a.accumulatedGJIncome=isNaN(r)?0:r.toFixed(2),a.GJAmount=isNaN(_)?0:_.toFixed(2),a.yesterdayTotalIncome=parseFloat(a.yesterdayHJIncome)+parseFloat(a.yesterdayBXIncome)+parseFloat(a.yesterdayGJIncome),a.accumulatedTotalIncome=parseFloat(a.accumulatedHJIncome)+parseFloat(a.accumulatedBXIncome)+parseFloat(a.accumulatedGJIncome),a.totalDepositAmount=parseFloat(a.BXAmount)+parseFloat(a.GJAmount),a.totalProductAmount=parseFloat(a.HJAmount)+parseFloat(a.BXAmount)+parseFloat(a.GJAmount),a.totalAmount=parseFloat(a.HJAmount)+parseFloat(a.BankAmount)+parseFloat(a.BXAmount)+parseFloat(a.GJAmount),a},parseRawWealthData:function(t){var a={},o=parseFloat(t.last_income_as_current_deposit+t.last_income_as_time_deposit);isNaN(o)||(a.yesterdayIncome=o.toFixed(2)),o=parseFloat(t.total_income_as_current_deposit+t.total_income_as_time_deposit),isNaN(o)||(a.accumulatedIncome=o.toFixed(2)),o=parseFloat(t.amount_as_current_deposit+t.amount_as_time_deposit),isNaN(o)||(a.totalAmount=o.toFixed(2)),o=parseFloat(t.amount_as_current_deposit),isNaN(o)||(a.currentDeposit=o.toFixed(2)),o=parseFloat(t.amount_as_time_deposit),isNaN(o)||(a.timeDeposit=o.toFixed(2)),o=parseFloat(t.total_income_as_time_deposit),isNaN(o)||(a.timeDepositIncome=o.toFixed(2)),o=parseFloat(t.last_income_as_time_deposit),isNaN(o)||(a.timeDepositLastIncome=o.toFixed(2));for(var n=t.financial_products,r=0,_=0;_<n.length;_++)if(n[_].prod_type==e.PROD_TYPE.BX){var i=parseFloat(n[_].income_rate),s=parseFloat(n[_].amount);isNaN(i)||isNaN(s)||(r=i+i*s)}0!==parseFloat(a.timeDeposit)&&(a.timeDepositIncomeRate=parseFloat(r)/parseFloat(a.timeDeposit));var c=parseFloat(a.timeDeposit),d=parseFloat(a.currentDeposit);if(c+c===0||isNaN(c)||isNaN(c))a.currentDepositPct=0,a.timeDepositPct=0;else{var u=d/(d+c);a.currentDepositPct=(100*u).toFixed(0),a.timeDepositPct=(100-a.currentDepositPct).toFixed(0)}a.timeDepositProdList=[];for(var l=0;l<t.financial_products.length;l++)t.financial_products[l].prod_type===e.PROD_TYPE.BX&&a.timeDepositProdList.splice(-1,0,t.financial_products[l]);a.currentDepositProdList=[];for(var l=0;l<t.financial_products.length;l++)t.financial_products[l].prod_type===e.PROD_TYPE.HJ&&(a.currentDepositProdList.splice(-1,0,t.financial_products[l]),a.currentDepositIncomeRate=parseFloat(t.financial_products[l].income_rate).toFixed(2));return a},getMonetaryProductByProductCode:function(t){var a=r.getCacheInfo("wealth");for(var o in a.financial_products)if(a.financial_products[o].prod_type==e.PROD_TYPE.HJ&&a.financial_products[o].prod_code==t)return a.financial_products[o];return null},getCurrentProdBySaleCode:function(t){for(var e=0;e<gOnSaleInfo.length;++e)if(gOnSaleInfo[e].on_sale_code==t)for(var a=0;a<gOnSaleInfo[e].products.length;a++){var o=gOnSaleInfo[e].products[a];if(i(o.start_buy_date,o.start_buy_time,o.end_buy_date,o.end_buy_time))return"01"==gProdCodeToProdDetailInfo[gOnSaleInfo[e].products[a].prod_code].status?gProdCodeToProdDetailInfo[gOnSaleInfo[e].products[a].prod_code]:void 0}return void 0},getNextProdByCurrentSaleCode:function(t){for(var e=new Date,a=o.getYYYYMMDDStringByDate(e,""),n=0;n<gOnSaleInfo.length;++n)if(gOnSaleInfo[n].on_sale_code==t){for(var r=void 0,_=void 0,i=0;i<gOnSaleInfo[n].products.length;i++)parseInt(gOnSaleInfo[n].products[i].start_buy_date)>parseInt(a)&&(void 0==r?(r=i,_=gOnSaleInfo[n].products[i].start_buy_date):parseInt(gOnSaleInfo[n].products[i].start_buy_date)<parseInt(_)&&(r=i,_=gOnSaleInfo[n].products[i].start_buy_date));return void 0!=r&&"01"==gProdCodeToProdDetailInfo[gOnSaleInfo[n].products[r].prod_code].status?gProdCodeToProdDetailInfo[gOnSaleInfo[n].products[r].prod_code]:void 0}return void 0},getLastProdByCurrentSaleCode:function(t){for(var e=new Date,a=o.getYYYYMMDDStringByDate(e,""),n=0;n<gOnSaleInfo.length;++n)if(gOnSaleInfo[n].on_sale_code==t){for(var r=void 0,_=void 0,i=0;i<gOnSaleInfo[n].products.length;i++)parseInt(gOnSaleInfo[n].products[i].end_buy_date)<parseInt(a)&&(void 0==r?(r=i,_=gOnSaleInfo[n].products[i].end_buy_date):parseInt(gOnSaleInfo[n].products[i].end_buy_date)>parseInt(_)&&(r=i,_=gOnSaleInfo[n].products[i].end_buy_date));return void 0!=r&&"01"==gProdCodeToProdDetailInfo[gOnSaleInfo[n].products[r].prod_code].status?gProdCodeToProdDetailInfo[gOnSaleInfo[n].products[r].prod_code]:void 0}return void 0},getValidBandCardList:function(){var t=r.getCacheInfo("personalInfo").bind_cards_list,e=[];for(var a in t)1==t[a].status&&e.splice(-1,0,t[a]);return e},isRetCodePwd:function(t){return t==e.CGI_RET.CGI_PWD_ERR_1||t==e.CGI_RET.CGI_PWD_ERR_2||t==e.CGI_RET.CGI_PWD_ERR_3||t==e.CGI_RET.CGI_PWD_ERR_4||t==e.CGI_RET.CGI_PWD_ERR_5||t==e.CGI_RET.CGI_PWD_ERR_6||t==e.CGI_RET.CGI_PWD_ERR_1_2||t==e.CGI_RET.CGI_PWD_ERR_2_2||t==e.CGI_RET.CGI_PWD_ERR_3_2||t==e.CGI_RET.CGI_PWD_ERR_4_2||t==e.CGI_RET.CGI_PWD_ERR_5_2||t==e.CGI_RET.CGI_PWD_ERR_6_2?!0:!1},isRetCodePwdRetry:function(t){return t==e.CGI_RET.CGI_PWD_ERR_1||t==e.CGI_RET.CGI_PWD_ERR_2||t==e.CGI_RET.CGI_PWD_ERR_4||t==e.CGI_RET.CGI_PWD_ERR_5||t==e.CGI_RET.CGI_PWD_ERR_1_2||t==e.CGI_RET.CGI_PWD_ERR_2_2||t==e.CGI_RET.CGI_PWD_ERR_4_2||t==e.CGI_RET.CGI_PWD_ERR_5_2?!0:!1},isRetCodeAlreadyBind:function(t){return t==e.CGI_RET.CGI_REG_ALREADY_BIND_1||t==e.CGI_RET.CGI_REG_ALREADY_BIND_2||t==e.CGI_RET.CGI_REG_ALREADY_BIND_3||t==e.CGI_RET.CGI_REG_ALREADY_BIND_4?!0:!1},isSuccessState:function(t){return e.CGI_RET.CGI_SUCCESS==t||e.CGI_RET.CGI_SUCCESS_2==t},isProcessingState:function(t){return e.CGI_RET.CGI_PROCESSING==t||e.CGI_RET.CGI_PROCESSING_2==t},getMonetaryValueDate:function(t){return o.getNextWorkDay(t.getHours()<15?1:2)},checkProcessingState:function(a,o){return t(function(t){var r=0,i=function(){n.requestQueryOrderStatus(a,o).then(function(o){var n=o.ret_data.trans_status,r={};a==e.ORDER_QUERY_TYPE.PURCHASE||a==e.ORDER_QUERY_TYPE.REDEEM||a==e.ORDER_QUERY_TYPE.TRANSIN||a==e.ORDER_QUERY_TYPE.TRANSOUT?n==e.ORDER_QUERY_RET_VAL.CONFIRM_SUCCESS?(r.retCode=e.CGI_RET.CGI_SUCCESS,t(r)):n==e.ORDER_QUERY_RET_VAL.CONFIRM_FAILED||n==e.ORDER_QUERY_RET_VAL.APPLY_FAILED||n==e.ORDER_QUERY_RET_VAL.TIMEOUT||n==e.ORDER_QUERY_RET_VAL.CANCELD?(r.retCode=e.CGI_RET.CGI_UNKNOW_ERROR,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):n==e.ORDER_QUERY_RET_VAL.UNKNOW&&s():a==e.ORDER_QUERY_TYPE.CANCEL_INSURANCE||a==e.ORDER_QUERY_TYPE.PURCHASE_INSURANCE?1==n||3==n?(r.retCode=e.CGI_RET.CGI_SUCCESS,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):2==n||4==n?(r.retCode=e.CGI_RET.CGI_UNKNOW_ERROR,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):0==n?s():(r.retCode=e.CGI_RET.CGI_UNKNOW_ERROR,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):(a==e.ORDER_QUERY_TYPE.PURCHASE_STOCK||a==e.ORDER_QUERY_TYPE.CANCEL_STOCK||a==e.ORDER_QUERY_TYPE.REDEEM_STOCK)&&(1==n||3==n||5==n?(r.retCode=e.CGI_RET.CGI_SUCCESS,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):2==n||4==n?(r.retCode=e.CGI_RET.CGI_UNKNOW_ERROR,r.retMsg=o.ret_data.ori_rtn_desc,t(r)):0==n?s():(r.retCode=e.CGI_RET.CGI_UNKNOW_ERROR,r.retMsg=o.ret_data.ori_rtn_desc,t(r)))},function(t){s()})},s=function(){if(r++,5>=r)_(i,2e3);else{var a={};a.retCode=e.CGI_RET.CGI_PROCESSING,t(a)}};i(a,o)})},isSingleTransactionExceedLimit:function(t,e,a){if(a)return!1;var o=gBankLimit[t];return o?parseFloat(e)>o.perOne:!1}}}]);app.factory("cgiService",["$q","GLOBAL_CONSTANT","WebService","TencentWebService","cache",function(e,t,n,r){return{requestUserWealth:function(){return n.get("query/wealth/all","","wealth")},requestConfirmInsuranceProductList:function(){return n.get("insurance/query/can_cancellist","","confirmInsuranceProductList")},requestStockCancelProductList:function(){return n.get("stock_fund/query/can_cancellist","","stockCancelList")},requestConfirmingList:function(){return n.get("/query/wealth/unconfirm","","confirmingList")},requestStockCancelProduct:function(e){return n.post("/stock_fund/cancel_buy",e)},requestStockHistoryValue:function(e,t,n){var u={};return u.prod_code=e,u.start_date=t,u.end_date=n,r.get("history/query/stock_rates",u)},requestStockTotalIncome:function(e){var t={};return t.prod_type="0",e&&(t.prod_code=e),n.get("/history/query/total_income",t,"StockTotalIncome")},requestEarningsDate:function(){return n.get("/query/wealth/earnings_date")},requestStockBonusType:function(e){return n.post("/stock_fund/modify_pay_type",e)},requestProductHistoryIncomeRate:function(e,t,n){var u={};return u.prod_code=e,u.start_date=t,u.end_date=n,r.get("history/query/rates",u)},requestPersonalInfo:function(){return n.get("user/query_personnal_info","","personalInfo")},requestRegisterOTP:function(e){return n.post("user/register_phone_check_num",e)},requestRegisterPreCheck:function(e){return n.post("finance/account/pre_check",e)},requestRegisterAndBindCard:function(e){return n.post("finance/account/reg",e)},requestBindCard:function(e){return n.post("finance/account/bind_card",e)},requestUnbindCard:function(e){return n.post("finance/account/unbind_card",e)},requestBankInfo:function(e){var t={};return t.account=e,n.get("query/bank_info",t)},requestPurchaseMonetaryFund:function(e){return n.post("finance/buy_v2",e)},requestRedeemMonetaryFund:function(e){return n.post("finance/sale_v2",e)},requestModifyPassword:function(e){return n.post("user/password/modify",e)},requestVerifyPassword:function(e){return n.post("user/password/verify",e)},requestSetPassword:function(e){return n.post("user/password/reset",e)},requestUnbindOpenID:function(e){return n.post("finance/account/unbind_openid",e)},requestbindOpenID:function(e){return n.post("finance/account/bind_openid",e)},requestProductBalance:function(e){var t={};return t.product_code=e,n.get("finance/query/regular_balance",t)},requestInsuranceRedeemType:function(e){return n.post("insurance/modify_sale_type",e)},requestBuyFinacialProduct:function(e){return n.post("insurance/buy",e)},requestTransPlans:function(){return n.get("schedule/list")},requestModifyTransPlan:function(e){return n.post("schedule/modify",e)},requestAddTransPlan:function(e){return n.post("schedule/add",e)},requestDeleteTransPlan:function(e){return n.post("schedule/del",e)},requestBuyFinacialProductByPatch:function(e){return n.post("insurance/batch_buy",e)},requestPurchaseOrderList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=0,n.get("finance/query/orderlist",r)},requestRedeemOrderList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=1,n.get("finance/query/orderlist",r)},requestInsuranceOrderList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=5,n.get("finance/query/orderlist",r)},requestWebankAccountTurnInOrderList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=2,n.get("finance/query/orderlist",r)},requestWebankAccountTurnOutOrderList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=2,n.get("finance/query/orderlist",r)},requestIncomeHistory:function(e,t,r){var u={};return u.index=0,u.size=r?r:1e3,u.start_date=e,u.end_date=t,n.get("history/query/earnings",u,"IncomeHistory")},requestBaseAccountTransOut:function(e,t,r,u,s,o){var c={};return c.name=e,c.bank_name=t,c.account_no=r,c.trans_amount=u,c.password=s,c.remark=o,n.post("finance/single_turn_out",c)},requestBaseAccountTransIn:function(e,t,r,u,s,o,c){var a={};return a.name=e,a.account_no=t,a.bank_name=r,a.bank_code=u,a.trans_amount=s,a.password=o,a.remark=c,n.post("finance/single_turn_in",a)},requestAssessment:function(){return n.get("risk/assessment/query","","assessment")},requestSubmitAssessmet:function(e){return n.post("risk/assessment/submit",e)},requestStockPurchase:function(e){return n.post("stock_fund/buy",e)},requestStockRedeem:function(e){return n.post("stock_fund/sale",e)},requestCombinedPurchase:function(e){return n.post("finance/batch_buy",e)},getMessageList:function(e){return n.get("msg_center/getmsglist",e)},getUnreadMessageNum:function(e){return n.get("msg_center/getusermsgstatus",e)},reportReadMessage:function(e){return n.get("msg_center/viewmsg",e)},clearMessage:function(){return n.get("msg_center/clearmsg")},requestQueryOrderStatus:function(e,t){var r={};return r.query_type=e,r.trans_serno=t,n.get("finance/query/order_status",r)},requestPasswordFactor:function(){return n.get("user/get_random_num")},requestAllTransList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=2e4,n.get("finance/query/translist",r)},requestWebankAccountTransList:function(e,t){var r={};return r.index=0,r.size=1e3,r.start_date=e,r.end_date=t,r.query_type=1e4,n.get("finance/query/translist",r)},requestReportUserWithoutReg:function(){return n.get("data/report")},requestIsNeedInviteCode:function(){return r.get("reg_invite/isneedinvitecode")},requestCheckInviteCode:function(e){var t={};return t.inviteCode=e,r.get("reg_invite/checkreginvitecode",t)},requestShareInviteCode:function(e){var t={};return t.context=e,r.get("reg_invite/getrewordinvitecode",t)},requestActiveAccount:function(e){return n.post("finance/account/active",e)},requestUserinfoCheck:function(e){return n.post("finance/account/usrinfo_check",e)},requestModifyPhone:function(e){return n.post("finance/account/modify_phoneno",e)},requestQueryRegUids:function(){return n.get("finance/account/query_reg_uids")},requestUpdateHandPassword:function(e,t,r){var u={};return u.password=e,u.type=t,u.trans_pwd=r,n.post("/password/insert_update",u)},requestReportError:function(e){return n.post("/data/report_v2",e)},requestReportToTencent:function(e){return r.post("/data/report_v2",e)},requestThreeHandred:function(e){return r.get("history/query/stock300",e)}}}]);app.factory("utils",["GLOBAL_CONSTANT","$MD5","$location",function(t,e,r){return{makeToast:function(t,e,r){e=e?e:"short",r=r?r:"center",t?window.plugins.toast.show(t,e,r):window.plugins.toast.show(STRING_TABLE.DEFAULT_ERR_DESC,e,r)},clickButtonReport:function(t){var e={};e.buttonName=t,Statistics.reportEvent("clickButton",e)},reportWebCrash:function(t){var e={};e.callstack=t,Statistics.reportEvent("webCrash",e)},debugMsg:function(){},logMessage:function(t,e){},isPasswordStrongEnough:function(t){for(var r=["012345","123456","234567","345678","456789","567890","678901","789012","890123","901234","123321","123123","520131","521131","211314","201314","521521","520520","654321","000000","111111","222222","333333","444444","555555","666666","777777","888888","999999"],n=0;n<r.length;++n)if(e(r[n])==t)return!1;return!0},isPasswordWithUserBirthday:function(t,r){if(18==r.length){var n=r.substr(6,6),a=r.substr(8,6);return e(n)==t||e(a)==t?!0:!1}if(15==r.length){var i=r.substr(6,6);return e(i)==t?!0:!1}if(8==r.length){var n=r.substr(0,6),a=r.substr(2,6);return e(n)==t||e(a)==t?!0:!1}},isPasswordWithUserPhone:function(t,r){if(r&&r.length>10){var n=r.substr(3,6),a=r.substr(4,6),i=r.substr(5,6);return e(n)==t||e(a)==t||e(i)==t?!0:!1}return!1},isiOSDevice:function(){return-1!=navigator.userAgent.indexOf("iPhone")},isValidName:function(t){return/(^[\u4e00-\u9fa5]{1}[·\u4e00-\u9fa5]*$)|(^[A-Za-z]{1}[A-Za-z\s]*$)/.test(t)},isValidNameInput:function(t){return/(^[\u4e00-\u9fa5]{1}[·\u4e00-\u9fa5]*$)|(^[A-Za-z]{1}[A-Za-z\s]*$)/.test(t)?"finish":"fail"},isCGITokenExpiredIgnored:function(t){return"msg_center/getusermsgstatus"==t||"data/report_v2"==t},isValidIDCardNumber:function(t){var e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},r="";if(!t)return!1;if(18==t.length){if(!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(t))return r="身份证号格式错误",!1}else{if(15!=t.length)return!1;if(!/(^\d{15}$)/.test(t))return r="身份证号格式错误",!1}if(!e[t.substr(0,2)])return r="地址编码错误",!1;if(18==t.length){t=t.split("");for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],i=0,u=0,o=0,s=0;17>s;s++)u=t[s],o=n[s],i+=u*o;var f=a[i%11];if("X"==f){if("X"!=t[17]&&"x"!=t[17])return r="校验位错误",!1}else if(t[17]!=f)return r="校验位错误",!1}return!0},isValidIDCardInput:function(t){return t.length>=18?/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?"finish":"fail":/^[0-9]*$/.test(t)?"ok":"fail"},isValidPhoneNumber:function(t){return/^1[0-9]{10}$/.test(t)},isValidPhoneInput:function(t){return t.length>=11?/^1[0-9]{10}$/.test(t)?"finish":"fail":/^1[0-9]*$/.test(t)?"ok":"fail"},isValidPhoneOtpNumber:function(t){return/^[0-9]{6}$/.test(t)},isValidPhoneOtpInput:function(t){return t.length>=6?/^[0-9]{6}$/.test(t)?"finish":"fail":/^[0-9]*$/.test(t)?"ok":"fail"},isValidTransferAmount:function(t){var e=parseFloat(t);if(isNaN(e))return!1;if(e>1e8)return!1;if(.01>e)return!1;try{return t.toString().split(".")[1].length<=2}catch(r){return!0}},isNumber:function(t){return/^[0-9]*$/.test(t)},getTodayStirng:function(){var t=new Date,e=t.getDate(),r=t.getMonth()+1,n=t.getFullYear();return 10>e&&(e="0"+e),10>r&&(r="0"+r),n+"-"+r+"-"+e},getDateByYYYYMMDDString:function(t){var e=parseInt(t.substring(0,4)),r=parseInt(t.substring(4,6)),n=parseInt(t.substring(6,8));return new Date(e,r-1,n)},getUTCMsByYYYYMMDDString:function(t){var e=parseInt(t.substring(0,4)),r=parseInt(t.substring(4,6)),n=parseInt(t.substring(6,8));return Date.UTC(e,r-1,n)},getYYYYMMDDStringByDate:function(t,e){if(!t)return null;e||(e="");var r=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),i=""+n;10>n&&(i="0"+i);var u=""+a;return 10>a&&(u="0"+a),r+e+i+e+u},getDateDifference:function(t,e){return(e-t)/864e5},getSecondDifference:function(t,e){return parseInt((e-t)/1e3)},isToday:function(t){if(!t)return!1;var e=new Date;return t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()?!0:!1},isTomorrow:function(t){if(!t)return!1;var e=new Date;return e.setDate(e.getDate()+1),t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()?!0:!1},isTomorrowTomorrow:function(t){if(!t)return!1;var e=new Date;return e.setDate(e.getDate()+2),t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()&&t.getDate()==e.getDate()?!0:!1},getDateByDateAndTimeString:function(t,e){if(t&&e){var r=parseInt(t.substr(0,4)),n=parseInt(t.substr(4,2)),a=parseInt(t.substr(6,2)),i=parseInt(e.substr(0,2)),u=parseInt(e.substr(3,2)),o=parseInt(e.substr(6,2));return new Date(r,n-1,a,i,u,o)}return void 0},getDateDiffToday:function(t){var e=new Date;return e.setDate(e.getDate()+t),e},getDateDiffMonth:function(t){var e=new Date;return e.setMonth(e.getMonth()+t),e},isCurrentTimeValid:function(t,e){var r=new Date;return r>t&&e>r?!0:!1},isCurrentDateValid:function(t,e){var r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59);return r>n&&a>r?!0:!1},getNextWorkDay:function(t,e){var r;r=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()):new Date;for(var n=0;t>n;){r.setDate(r.getDate()+1);for(var a=!1,i=0;i<gHolidayDateList.length;++i)r>gHolidayDateList[i].start&&r<gHolidayDateList[i].end&&(a=!0);a||6!=r.getDay()&&0!=r.getDay()&&n++}return r},isWorkDay:function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(6==e.getDay()||0==e.getDay())return!1;for(var r=!0,n=0;n<gHolidayDateList.length;++n)e>gHolidayDateList[n].start&&e<gHolidayDateList[n].end&&(r=!1);return r},getAmountForRule:function(t,e,r){if(e>t)return 0;var n=parseInt(100*parseFloat(t).toFixed(2)),a=parseInt(100*parseFloat(e).toFixed(2)),i=parseInt(100*parseFloat(r).toFixed(2)),u=(n-a)%i;return 0==u?parseFloat(n)/100:parseFloat(n-u)/100},asyncLoop:function(t,e,r){var n=0,a=!1,i={next:function(){a||(t>n?(n++,e(i)):(a=!0,r()))},iteration:function(){return n-1},"break":function(){a=!0,r()}};return i.next(),i},abridgeAccountNumber:function(t){return!t||t.length<4?t:"("+t.substr(t.length-4)+")"},goToErrorPage:function(t,e){var n={};t||(t=STRING_TABLE.NETWORK_ERROR),e&&(t+="("+e+")"),n.errMsg=t,r.path("/error").search(n)},getWeekdayByDate:function(t){if(!t)return"";var e=t.getDay(),r="";switch(e){case 0:r="星期日";break;case 1:r="星期一";break;case 2:r="星期二";break;case 3:r="星期三";break;case 4:r="星期四";break;case 5:r="星期五";break;case 6:r="星期六"}return r},getTransactionStateByCode:function(e){return e?e==t.CGI_RET.CGI_PROCESSING||e==t.CGI_RET.CGI_PROCESSING_2?t.TRANS_STATE.PROCESS:e==t.CGI_RET.CGI_SUCCESS||e==t.CGI_RET.CGI_SUCCESS_2?t.TRANS_STATE.SUCCESS:t.TRANS_STATE.FAILURE:t.TRANS_STATE.FAILURE},convertCurrencyToChineseStyle:function(t){var e,r,n,a,i,u,o,s,f,g,c,l,h,d,y=99999999999.99,A="零",p="壹",b="贰",C="叁",D="肆",w="伍",v="陆",S="柒",m="捌",T="玖",I="拾",E="佰",M="仟",N="万",F="亿",Y="",R="元",_="角",$="分",x="";if(t=t.toString(),""==t)return alert("Empty input!"),"";if(null!=t.match(/[^,.\d]/))return alert("Invalid characters in the input string!"),"";if(null==t.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/))return alert("Illegal format of digit number!"),"";if(t=t.replace(/,/g,""),t=t.replace(/^0+/,""),Number(t)>y)return alert("Too large a number to convert!"),"";if(a=t.split("."),a.length>1?(e=a[0],r=a[1],r=r.substr(0,2)):(e=a[0],r=""),i=new Array(A,p,b,C,D,w,v,S,m,T),u=new Array("",I,E,M),o=new Array("",N,F),s=new Array(_,$),n="",Number(e)>0){for(f=0,g=0;g<e.length;g++)c=e.length-g-1,l=e.substr(g,1),h=c/4,d=c%4,"0"==l?f++:(f>0&&(n+=i[0]),f=0,n+=i[Number(l)]+u[d]),0==d&&4>f&&(n+=o[h],f=0);n+=R}if(""!=r)for(g=0;g<r.length;g++)l=r.substr(g,1),"0"!=l&&(n+=i[Number(l)]+s[g]);return""==n&&(n=A+R),""==r&&(n+=x),n=Y+n},md5:function(t){function e(t,e){return t<<e|t>>>32-e}function r(t,e){var r,n,a,i,u;return a=2147483648&t,i=2147483648&e,r=1073741824&t,n=1073741824&e,u=(1073741823&t)+(1073741823&e),r&n?2147483648^u^a^i:r|n?1073741824&u?3221225472^u^a^i:1073741824^u^a^i:u^a^i}function n(t,e,r){return t&e|~t&r}function a(t,e,r){return t&r|e&~r}function i(t,e,r){return t^e^r}function u(t,e,r){return e^(t|~r)}function o(t,a,i,u,o,s,f){return t=r(t,r(r(n(a,i,u),o),f)),r(e(t,s),a)}function s(t,n,i,u,o,s,f){return t=r(t,r(r(a(n,i,u),o),f)),r(e(t,s),n)}function f(t,n,a,u,o,s,f){return t=r(t,r(r(i(n,a,u),o),f)),r(e(t,s),n)}function g(t,n,a,i,o,s,f){return t=r(t,r(r(u(n,a,i),o),f)),r(e(t,s),n)}function c(t){for(var e,r=t.length,n=r+8,a=(n-n%64)/64,i=16*(a+1),u=Array(i-1),o=0,s=0;r>s;)e=(s-s%4)/4,o=s%4*8,u[e]=u[e]|t.charCodeAt(s)<<o,s++;return e=(s-s%4)/4,o=s%4*8,u[e]=u[e]|128<<o,u[i-2]=r<<3,u[i-1]=r>>>29,u}function l(t){var e,r,n="",a="";for(r=0;3>=r;r++)e=t>>>8*r&255,a="0"+e.toString(16),n+=a.substr(a.length-2,2);return n}function h(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}var d,y,A,p,b,C,D,w,v,S=Array(),m=7,T=12,I=17,E=22,M=5,N=9,F=14,Y=20,R=4,_=11,$=16,x=23,k=6,L=10,G=15,P=21;for(t=h(t),S=c(t),C=1732584193,D=4023233417,w=2562383102,v=271733878,d=0;d<S.length;d+=16)y=C,A=D,p=w,b=v,C=o(C,D,w,v,S[d+0],m,3614090360),v=o(v,C,D,w,S[d+1],T,3905402710),w=o(w,v,C,D,S[d+2],I,606105819),D=o(D,w,v,C,S[d+3],E,3250441966),C=o(C,D,w,v,S[d+4],m,4118548399),v=o(v,C,D,w,S[d+5],T,1200080426),w=o(w,v,C,D,S[d+6],I,2821735955),D=o(D,w,v,C,S[d+7],E,4249261313),C=o(C,D,w,v,S[d+8],m,1770035416),v=o(v,C,D,w,S[d+9],T,2336552879),w=o(w,v,C,D,S[d+10],I,4294925233),D=o(D,w,v,C,S[d+11],E,2304563134),C=o(C,D,w,v,S[d+12],m,1804603682),v=o(v,C,D,w,S[d+13],T,4254626195),w=o(w,v,C,D,S[d+14],I,2792965006),D=o(D,w,v,C,S[d+15],E,1236535329),C=s(C,D,w,v,S[d+1],M,4129170786),v=s(v,C,D,w,S[d+6],N,3225465664),w=s(w,v,C,D,S[d+11],F,643717713),D=s(D,w,v,C,S[d+0],Y,3921069994),C=s(C,D,w,v,S[d+5],M,3593408605),v=s(v,C,D,w,S[d+10],N,38016083),w=s(w,v,C,D,S[d+15],F,3634488961),D=s(D,w,v,C,S[d+4],Y,3889429448),C=s(C,D,w,v,S[d+9],M,568446438),v=s(v,C,D,w,S[d+14],N,3275163606),w=s(w,v,C,D,S[d+3],F,4107603335),D=s(D,w,v,C,S[d+8],Y,1163531501),C=s(C,D,w,v,S[d+13],M,2850285829),v=s(v,C,D,w,S[d+2],N,4243563512),w=s(w,v,C,D,S[d+7],F,1735328473),D=s(D,w,v,C,S[d+12],Y,2368359562),C=f(C,D,w,v,S[d+5],R,4294588738),v=f(v,C,D,w,S[d+8],_,2272392833),w=f(w,v,C,D,S[d+11],$,1839030562),D=f(D,w,v,C,S[d+14],x,4259657740),C=f(C,D,w,v,S[d+1],R,2763975236),v=f(v,C,D,w,S[d+4],_,1272893353),w=f(w,v,C,D,S[d+7],$,4139469664),D=f(D,w,v,C,S[d+10],x,3200236656),C=f(C,D,w,v,S[d+13],R,681279174),v=f(v,C,D,w,S[d+0],_,3936430074),w=f(w,v,C,D,S[d+3],$,3572445317),D=f(D,w,v,C,S[d+6],x,76029189),C=f(C,D,w,v,S[d+9],R,3654602809),v=f(v,C,D,w,S[d+12],_,3873151461),w=f(w,v,C,D,S[d+15],$,530742520),D=f(D,w,v,C,S[d+2],x,3299628645),C=g(C,D,w,v,S[d+0],k,4096336452),v=g(v,C,D,w,S[d+7],L,1126891415),w=g(w,v,C,D,S[d+14],G,2878612391),D=g(D,w,v,C,S[d+5],P,4237533241),C=g(C,D,w,v,S[d+12],k,1700485571),v=g(v,C,D,w,S[d+3],L,2399980690),w=g(w,v,C,D,S[d+10],G,4293915773),D=g(D,w,v,C,S[d+1],P,2240044497),C=g(C,D,w,v,S[d+8],k,1873313359),v=g(v,C,D,w,S[d+15],L,4264355552),w=g(w,v,C,D,S[d+6],G,2734768916),D=g(D,w,v,C,S[d+13],P,1309151649),C=g(C,D,w,v,S[d+4],k,4149444226),v=g(v,C,D,w,S[d+11],L,3174756917),w=g(w,v,C,D,S[d+2],G,718787259),D=g(D,w,v,C,S[d+9],P,3951481745),C=r(C,y),D=r(D,A),w=r(w,p),v=r(v,b);return(l(C)+l(D)+l(w)+l(v)).toLowerCase()},des:function(t,e){function r(t,e,r,a,i,u){var o,s,f,g,c,l,h,d,y,A,p,b,C,D,w=new Array(16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756),v=new Array(-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344),S=new Array(520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584),m=new Array(8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928),T=new Array(256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080),I=new Array(536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312),E=new Array(2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154),M=new Array(268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696),N=n(t),F=0,Y=e.length,R=0,_=32==N.length?3:9;for(d=3==_?r?new Array(0,32,2):new Array(30,-2,-2):r?new Array(0,32,2,62,30,-2,64,96,2):new Array(94,62,-2,32,64,2,30,-2,-2),2==u?e+="        ":1==u?(f=8-Y%8,e+=String.fromCharCode(f,f,f,f,f,f,f,f),8==f&&(Y+=8)):u||(e+="\x00\x00\x00\x00\x00\x00\x00\x00"),result="",tempresult="",1==a&&(y=i.charCodeAt(F++)<<24|i.charCodeAt(F++)<<16|i.charCodeAt(F++)<<8|i.charCodeAt(F++),p=i.charCodeAt(F++)<<24|i.charCodeAt(F++)<<16|i.charCodeAt(F++)<<8|i.charCodeAt(F++),F=0);Y>F;){for(l=e.charCodeAt(F++)<<24|e.charCodeAt(F++)<<16|e.charCodeAt(F++)<<8|e.charCodeAt(F++),h=e.charCodeAt(F++)<<24|e.charCodeAt(F++)<<16|e.charCodeAt(F++)<<8|e.charCodeAt(F++),1==a&&(r?(l^=y,h^=p):(A=y,b=p,y=l,p=h)),f=252645135&(l>>>4^h),h^=f,l^=f<<4,f=65535&(l>>>16^h),h^=f,l^=f<<16,f=858993459&(h>>>2^l),l^=f,h^=f<<2,f=16711935&(h>>>8^l),l^=f,h^=f<<8,f=1431655765&(l>>>1^h),h^=f,l^=f<<1,l=l<<1|l>>>31,h=h<<1|h>>>31,s=0;_>s;s+=3){for(C=d[s+1],D=d[s+2],o=d[s];o!=C;o+=D)g=h^N[o],c=(h>>>4|h<<28)^N[o+1],f=l,l=h,h=f^(v[g>>>24&63]|m[g>>>16&63]|I[g>>>8&63]|M[63&g]|w[c>>>24&63]|S[c>>>16&63]|T[c>>>8&63]|E[63&c]);f=l,l=h,h=f}l=l>>>1|l<<31,h=h>>>1|h<<31,f=1431655765&(l>>>1^h),h^=f,l^=f<<1,f=16711935&(h>>>8^l),l^=f,h^=f<<8,f=858993459&(h>>>2^l),l^=f,h^=f<<2,f=65535&(l>>>16^h),h^=f,l^=f<<16,f=252645135&(l>>>4^h),h^=f,l^=f<<4,1==a&&(r?(y=l,p=h):(l^=A,h^=b)),tempresult+=String.fromCharCode(l>>>24,l>>>16&255,l>>>8&255,255&l,h>>>24,h>>>16&255,h>>>8&255,255&h),R+=8,512==R&&(result+=tempresult,tempresult="",R=0)}return result+tempresult}function n(t){pc2bytes0=new Array(0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964),pc2bytes1=new Array(0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697),pc2bytes2=new Array(0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272),pc2bytes3=new Array(0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144),pc2bytes4=new Array(0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256),pc2bytes5=new Array(0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488),pc2bytes6=new Array(0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746),pc2bytes7=new Array(0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568),pc2bytes8=new Array(0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578),pc2bytes9=new Array(0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488),pc2bytes10=new Array(0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800),pc2bytes11=new Array(0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744),pc2bytes12=new Array(0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128),pc2bytes13=new Array(0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261);for(var e,r,n,a=t.length>8?3:1,i=new Array(32*a),u=new Array(0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0),o=0,s=0,f=0;a>f;f++){left=t.charCodeAt(o++)<<24|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++),right=t.charCodeAt(o++)<<24|t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++),n=252645135&(left>>>4^right),right^=n,left^=n<<4,n=65535&(right>>>-16^left),left^=n,right^=n<<-16,n=858993459&(left>>>2^right),right^=n,left^=n<<2,n=65535&(right>>>-16^left),left^=n,right^=n<<-16,n=1431655765&(left>>>1^right),right^=n,left^=n<<1,n=16711935&(right>>>8^left),left^=n,right^=n<<8,n=1431655765&(left>>>1^right),right^=n,left^=n<<1,n=left<<8|right>>>20&240,left=right<<24|right<<8&16711680|right>>>8&65280|right>>>24&240,right=n;for(var g=0;g<u.length;g++)u[g]?(left=left<<2|left>>>26,right=right<<2|right>>>26):(left=left<<1|left>>>27,right=right<<1|right>>>27),left&=-15,right&=-15,e=pc2bytes0[left>>>28]|pc2bytes1[left>>>24&15]|pc2bytes2[left>>>20&15]|pc2bytes3[left>>>16&15]|pc2bytes4[left>>>12&15]|pc2bytes5[left>>>8&15]|pc2bytes6[left>>>4&15],r=pc2bytes7[right>>>28]|pc2bytes8[right>>>24&15]|pc2bytes9[right>>>20&15]|pc2bytes10[right>>>16&15]|pc2bytes11[right>>>12&15]|pc2bytes12[right>>>8&15]|pc2bytes13[right>>>4&15],n=65535&(r>>>16^e),i[s++]=e^n,i[s++]=r^n<<16}return i}function a(t){for(var e="0x",r=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),n=0;n<t.length;n++)e+=r[t.charCodeAt(n)>>4]+r[15&t.charCodeAt(n)];return e}return a(r(e,t,1,0))}}}]);app.factory("envService",["$q","GLOBAL_CONSTANT","$location","$rootScope","utils",function(E,I,N,R,_){var P={QQ_APPID:I.ENVIROMENT.QQ_APPID.PROD,WX_APPID:I.ENVIROMENT.WX_APPID.PROD,CGI_PREFIX:I.ENVIROMENT.CGI_PREFIX.PROD,TENCENT_CGI_PREFIX:I.ENVIROMENT.TENCENT_CGI_PREFIX.PROD,ENV_NAME:I.ENVIROMENT.ENV_NAME.PROD,SDK_PREFIX:I.ENVIROMENT.SDK_PREFIX.PROD,DATA_CGI_PREFIX:I.ENVIROMENT.DATA_CGI_PREFIX.PROD,BBS_URL_PREFIX:I.ENVIROMENT.BBS_URL_PREFIX.PROD,DATA_NOTICE:I.ENVIROMENT.DATA_NOTICE.PROD};return{setEnv:function(T){return P.ENV_NAME=T,P.QQ_APPID=I.ENVIROMENT.QQ_APPID[T],P.WX_APPID=I.ENVIROMENT.WX_APPID[T],P.CGI_PREFIX=I.ENVIROMENT.CGI_PREFIX[T],P.TENCENT_CGI_PREFIX=I.ENVIROMENT.TENCENT_CGI_PREFIX[T],P.DATA_CGI_PREFIX=I.ENVIROMENT.DATA_CGI_PREFIX[T],P.SDK_PREFIX=I.ENVIROMENT.SDK_PREFIX[T],P.BBS_URL_PREFIX=I.ENVIROMENT.BBS_URL_PREFIX[T],P.DATA_NOTICE=I.ENVIROMENT.DATA_NOTICE[T],E(function(){var E={CmdID:"setEnv"};E.EnvName=P.ENV_NAME,E.EvnURL=P.SDK_PREFIX,CommandChannel.execute(E,function(){R.$apply(function(){N.path("/forEnv").replace()})},function(){_.makeToast("设置环境变量失败")})})},getEnvVariable:function(){return P}}}]);app.factory("cache",["$q","GLOBAL_CONSTANT","localStorageService","GLOBAL_CONSTANT",function(t,n,e,n){var o={},c={};return{clear:function(){c={}},getUserStatus:function(){return o.userStatus},setUserStatus:function(t){o.userStatus=t,t==n.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT&&e.set("hasReg","true")},getUserInfo:function(){return o.userInfo},setUserInfo:function(t){o.userInfo=t},getDeviceInfo:function(){return o.deviceInfo},setDeviceInfo:function(t){o.deviceInfo=t},getCacheInfo:function(t){return c[t]},setCacheInfo:function(t,n){c[t]=n},setTopicDataInfo:function(t){o.topicData=JSON.stringify(t)},getTopicDataInfo:function(){return null==o.topicData?null:JSON.parse(o.topicData)}}}]);app.factory("WebService",["$http","$q","envService","GLOBAL_CONSTANT","cache","utils","$location",function(e,t,a,_,i,n,r){return{get:function(o,d,s){return t(function(t,c){tracelog("请求后台："+o);var I=a.getEnvVariable().CGI_PREFIX+o,E=i.getDeviceInfo(),C=i.getUserInfo(),p={};p.app_ver_code=E.versionCode,p.app_ver=E.versionString,p.terminal_type=E.terminal_type,p.os_ver=E.os_ver,p.net_type="",p.imei=E.uuid,p.machine_info=E.machine_info,p.uid_type=C.platform,p.uid=C.openid,p.session=C.token,p.session_type="token",p.wx_union_id=C.unionid,p.channel_id=E.channelID||"",_.LOGIN_PLAT.QQ===p.uid_type?p.appid=a.getEnvVariable().QQ_APPID:_.LOGIN_PLAT.WX===p.uid_type?p.appid=a.getEnvVariable().WX_APPID:_.LOGIN_PLAT.PHONE===p.uid_type&&(p.appid=a.getEnvVariable().QQ_APPID),d&&(p.param=JSON.stringify(d));var u={};u.cgiName=o,u.timeConsuming=(new Date).getTime();e.get(I,{params:p}).then(function(e){u.timeConsuming=(new Date).getTime()-u.timeConsuming,u.retCode=e.data.ret_code,u.status=0;var a=e.data;return a.ret_code!==_.CGI_RET.CGI_SUCCESS&&a.ret_code!==_.CGI_RET.CGI_SUCCESS_2&&a.ret_code!==_.CGI_RET.CGI_PROCESSING&&a.ret_code!==_.CGI_RET.CGI_COMBINED_BUY?(u.status=-1,u.retCode=e.data.ret_code,Statistics.reportInterface(u),c(a)):(Statistics.reportInterface(u),i.setCacheInfo(s,a.ret_data),t(a))},function(e){if(u.timeConsuming=(new Date).getTime()-u.timeConsuming,e.data&&e.data.ret_code&&e.data.ret_msg){if(e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_2||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_3||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_4){if(n.isCGITokenExpiredIgnored(o))return;tracelog("webank登录态过期");var t={};t.cgiName=o,Statistics.reportEvent("wbTokenExpired",t),n.makeToast(e.data.ret_msg),r.path("/login/noBack")}else c(e.data);u.status=-1,u.retCode=e.data.ret_code}else{var t={};t.ret_msg="系统繁忙，请稍后再试。",t.ret_code=e.status,c(t),u.status=-2,u.retCode=e.status}Statistics.reportInterface(u)})})},post:function(o,d){return t(function(t,s){tracelog("请求后台："+o);var c=a.getEnvVariable().CGI_PREFIX+o,I=i.getDeviceInfo(),E=i.getUserInfo(),C={};C.app_ver_code=I.versionCode,C.app_ver=I.versionString,C.terminal_type=I.terminal_type,C.os_ver=I.os_ver,C.net_type="",C.imei=I.uuid,C.machine_info=I.machine_info,C.uid_type=E.platform,C.uid=E.openid,C.session=E.token,C.session_type="token",C.wx_union_id=E.unionid,C.channel_id=I.channelID||"",_.LOGIN_PLAT.QQ===C.uid_type?C.appid=a.getEnvVariable().QQ_APPID:_.LOGIN_PLAT.WX===C.uid_type?C.appid=a.getEnvVariable().WX_APPID:_.LOGIN_PLAT.PHONE===C.uid_type&&(C.appid=a.getEnvVariable().QQ_APPID);var p={};p.cgiName=o,p.timeConsuming=(new Date).getTime(),e.post(c,d,{params:C}).then(function(e){p.timeConsuming=(new Date).getTime()-p.timeConsuming,p.retCode=e.data.ret_code,p.status=0;var a=e.data;return a.ret_code!==_.CGI_RET.CGI_SUCCESS&&a.ret_code!==_.CGI_RET.CGI_SUCCESS_2&&a.ret_code!==_.CGI_RET.CGI_PROCESSING&&a.ret_code!==_.CGI_RET.CGI_COMBINED_BUY?(p.status=-1,p.retCode=e.data.ret_code,Statistics.reportInterface(p),s(a)):(Statistics.reportInterface(p),t(a))},function(e){if(p.timeConsuming=(new Date).getTime()-p.timeConsuming,e.data&&e.data.ret_code&&e.data.ret_msg){if(e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_2||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_3||e.data.ret_code==_.CGI_RET.CGI_WEBANK_TOKEN_EXPIRED_4){if(n.isCGITokenExpiredIgnored(o))return;tracelog("webank登录态过期");var t={};t.cgiName=o,Statistics.reportEvent("wbTokenExpired",t),n.makeToast(e.data.ret_msg),r.path("/login/noBack")}else s(e.data);p.status=-1,p.retCode=e.data.ret_code}else{var t={};t.ret_msg="系统繁忙，请稍后再试。",t.ret_code=e.status,s(t),p.status=-2,p.retCode=e.status}Statistics.reportInterface(p)})})}}}]);app.factory("TencentWebService",["$http","$q","envService","GLOBAL_CONSTANT","cache","utils","$location",function(e,t,a,i,n){return{get:function(r,_,o){return t(function(t,s){var d=a.getEnvVariable().TENCENT_CGI_PREFIX+r,c=n.getDeviceInfo(),u=n.getUserInfo(),p={};p.app_ver_code=c.versionCode,p.app_ver=c.versionString,p.terminal_type=c.terminal_type,p.os_ver=c.os_ver,p.net_type="",p.imei=c.uuid,p.machine_info=c.machine_info,p.channel_id=c.channelID||"",u&&(p.uid_type=u.platform,p.uid=u.openid,p.session=u.token,p.session_type="token",p.wx_union_id=u.unionid),i.LOGIN_PLAT.QQ===p.uid_type?p.appid=a.getEnvVariable().QQ_APPID:i.LOGIN_PLAT.WX===p.uid_type?p.appid=a.getEnvVariable().WX_APPID:i.LOGIN_PLAT.PHONE===p.uid_type&&(p.appid=a.getEnvVariable().QQ_APPID),_&&(p.param=JSON.stringify(_));var C={};C.cgiName=r,C.timeConsuming=(new Date).getTime(),e.get(d,{params:p}).then(function(e){C.timeConsuming=(new Date).getTime()-C.timeConsuming,C.retCode=e.data.ret_code,C.status=0;var a=e.data;return a.ret_code!==i.CGI_RET.CGI_SUCCESS&&a.ret_code!==i.CGI_RET.CGI_SUCCESS_2&&a.ret_code!==i.CGI_RET.CGI_PROCESSING&&a.ret_code!==i.CGI_RET.CGI_COMBINED_BUY?(C.status=-1,C.retCode=e.data.ret_code,Statistics.reportInterface(C),s(a)):(Statistics.reportInterface(C),n.setCacheInfo(o,a.ret_data),t(a))},function(e){if(C.timeConsuming=(new Date).getTime()-C.timeConsuming,e.data&&e.data.ret_code&&e.data.ret_msg)s(e.data),C.status=-1,C.retCode=e.data.ret_code;else{var t={};t.ret_msg="系统繁忙，请稍后再试。",t.ret_code=e.status,s(t),C.status=-2,C.retCode=e.status}Statistics.reportInterface(C)})})},post:function(r,_){return t(function(t,o){var s=a.getEnvVariable().TENCENT_CGI_PREFIX+r,d=n.getDeviceInfo(),c=n.getUserInfo(),u={};u.app_ver_code=d.versionCode,u.app_ver=d.versionString,u.terminal_type=d.terminal_type,u.os_ver=d.os_ver,u.net_type="",u.imei=d.uuid,u.machine_info=d.machine_info,u.channel_id=d.channelID||"",c&&(u.uid_type=c.platform,u.uid=c.openid,u.session=c.token,u.session_type="token",u.wx_union_id=c.unionid),i.LOGIN_PLAT.QQ===u.uid_type?u.appid=a.getEnvVariable().QQ_APPID:i.LOGIN_PLAT.WX===u.uid_type?u.appid=a.getEnvVariable().WX_APPID:i.LOGIN_PLAT.PHONE===u.uid_type&&(u.appid=a.getEnvVariable().QQ_APPID);var p={};p.cgiName=r,p.timeConsuming=(new Date).getTime(),e.post(s,_,{params:u}).then(function(e){p.timeConsuming=(new Date).getTime()-p.timeConsuming,p.retCode=e.data.ret_code,p.status=0;var a=e.data;return a.ret_code!==i.CGI_RET.CGI_SUCCESS&&a.ret_code!==i.CGI_RET.CGI_SUCCESS_2&&a.ret_code!==i.CGI_RET.CGI_PROCESSING&&a.ret_code!==i.CGI_RET.CGI_COMBINED_BUY?(p.status=-1,p.retCode=e.data.ret_code,Statistics.reportInterface(p),o(a)):(Statistics.reportInterface(p),t(a))},function(e){if(p.timeConsuming=(new Date).getTime()-p.timeConsuming,e.data&&e.data.ret_code&&e.data.ret_msg)o(e.data),p.status=-1,p.retCode=e.data.ret_code;else{var t={};t.ret_msg="系统繁忙，请稍后再试。",t.ret_code=e.status,o(t),p.status=-2,p.retCode=e.status}Statistics.reportInterface(p)})})}}}]);app.factory("session",["GLOBAL_CONSTANT",function(){var n={};return{saveSession:function(s,e){n[s]=e},restoreSession:function(s){return n[s]}}}]);app.factory("dataService",["$q","$http","$timeout","envService","$interval",function(e,n,t,r,u){var a=!1,c=3e3,o=r.getEnvVariable().DATA_NOTICE,i=function(){k({delay:c}),u(function(){k({update:!0})},36e5)},d={},f={},l=function(r){return e(function(e,u){if(r.key&&!r.update&&d[r.key])return e(d[r.key]);if(!r.url)return u();var a="?r="+Math.random();r.url+=a,r.key&&r.delay?f[r.key]=t(function(){n.get(r.url).then(function(n){return n.data?(r.key&&(d[r.key]=n.data),e(n.data)):u()},function(){return u()})},r.delay):n.get(r.url).then(function(n){return n.data?(r.key&&(d[r.key]=n.data),e(n.data)):u()},function(){return u()})})},y=function(e){return e.key&&f[e.key]?(t.cancel(f[e.key]),f[e.key]=null,l(e)):l(e)},h=function(e){var n="";return e&&e.code&&(n=o+"detail-"+e.code+".json"),y(angular.extend({url:n,key:"productNotice"+e.code},e||{}))},k=function(n){return e(function(e,t){y(angular.extend({url:o+"common-special.json",key:"productBuy"},n||{})).then(function(t){if(!n.code)return e(t);if(t&&t.length>0){var r=[];if($.each(t,function(e,t){t.prod_code==n.code&&r.push(t)}),n.showPlace){var u=[];return $.each(r,function(e,t){1*t.show_place==1*n.showPlace&&u.push(t)}),e(u)}return e(r)}},function(){return t()})})};return a||(a=!0,i()),{getPorductAgreement:function(e){return k(angular.extend({showPlace:4},e||{}))},getProductNotice:function(e){return h(e)},getBuyNotice:function(e){return k(angular.extend({showPlace:3},e||{}))}}}]);"use strict";app.factory("homeService",["$q","GLOBAL_CONSTANT","webankCommonService","$location","cgiService","utils","cache",function(t,e,n,r,a,c,o){var s={},i=!1;return{getCheckActive:function(){return i},setCheckActive:function(t){i=t},setTransferedData:function(t,e){s[t]=e},getTransferedData:function(t){return s[t]},getCachedWealth:function(){try{return parseRawWealthData(o.getCacheInfo("wealth")).totalAmount}catch(t){return void 0}},setRecomProductList:function(t){s.recomList=t},getRecomProductList:function(){return s.recomList},parseTransPlans:function(t){var n={};n.transOutPlans=[],n.transInPlans=[];for(var r=0;r<t.length;r++)t[r].job_type==e.TRANS_PLAN_JOB_TYPE.TRANS_IN?n.transInPlans.splice(-1,0,t[r]):n.transOutPlans.splice(-1,0,t[r]);return n}}}]);app.factory("IncomeHistoryService",["commonPath",function(o){return $.extend({},o,{locationHash:"/income"})}]);app.factory("TransLogService",[function(){var a;return{setCallbackPage:function(n){a=n},getCallbackPage:function(){return a}}}]);app.factory("PlanService",[function(){var a;return{setCallbackPage:function(n){a=n},getCallbackPage:function(){return a}}}]);app.factory("CombinedFinancialService",["utils",function(){var e,n;return{setSelectLevel:function(n){e=n},getSelectLevel:function(){return e},setCallbackPage:function(e){n=e},getCallbackPage:function(){return n}}}]);app.factory("BindNewCardService",["utils","commonPath",function(n,t){var e,a,u;return $.extend({},t,{locationHash:"/bindNewCard",setCallbackPage:function(n){e=n},getCallbackPage:function(){return e},setBankCardNum:function(n){a=n},getBankCardNum:function(){return a},setPhoneNum:function(n){u=n},getPhoneNum:function(){return u}})}]);app.factory("LoginService",["utils","essential","cgiService","$q","commonPath",function(n,e,t,r,u){var c,o;return $.extend({},u,{locationHash:"/login",setCallbackPage:function(n,e){c=n,o=e},getSucceedPage:function(){return void 0==c?"":c},getBackPage:function(){return void 0==o?"":o},getLoginBankData:function(){return r(function(n,r){t.requestUserWealth().then(function(){return t.requestPersonalInfo()},function(){return e.reject()}).then(function(){return t.requestAssessment()},function(){return e.reject()}).then(function(){n()},function(){r()})})}})}]);app.factory("RegisterService",["utils",function(){var e,n,t,r,i,u;return{setCallbackPage:function(t,r){e=t,n=r},getSucceedPage:function(){return e?e:"default"},getBackPage:function(){return n?n:"default"},saveRegisterSession1:function(e){t=e},resumeRegisterSession1:function(){return t},saveRegisterSession2:function(e){r=e},resumeRegisterSession2:function(){return r},saveUserPara:function(e){i=e},getUserPara:function(){return i},saveResultPara:function(e){u=e},getResultPara:function(){return u},clearRegister:function(){t=void 0,r=void 0,i=void 0,u=void 0,e=void 0,n=void 0}}}]);app.factory("InsuranceProductDetailService",["utils","commonPath",function(t,n){return $.extend({},n,{locationHash:"/insuranceProductDetails"})}]);app.factory("InsurancePurchaseService",["utils","commonPath",function(n,e){var s;return $.extend({},e,{locationHash:"/insurancePurchase",saveSession:function(n){s=n},resumeSession:function(){return s},clearSession:function(){s=void 0}})}]);app.factory("InsuranceMyProdDetailService",["utils","commonPath",function(n,a){return $.extend({},a,{locationHash:"/insuranceMyProdDetail"})}]);app.factory("InsuranceProductIntroductionService",["utils","commonPath",function(n,t){return $.extend({},t,{locationHash:"/insuranceProductIntroduction"})}]);app.factory("StockProductDetailService",["utils","commonPath",function(t,o){return $.extend({},o,{locationHash:"/stockProductDetail"})}]);app.factory("StockPurchaseService",["utils","commonPath",function(n,e){var o;return $.extend({},e,{locationHash:"/stockPurchase",saveSession:function(n){o=n},resumeSession:function(){return o},clearSession:function(){o=void 0}})}]);app.factory("StockTransRulesService",["utils","commonPath",function(t,n){return $.extend({},n,{locationHash:"/stockTransRules"})}]);app.factory("StockAssetDetailService",["utils","commonPath",function(t,e){return $.extend({},e,{locationHash:"/stockAssetDetail"})}]);app.factory("StockTransRatesService",["utils","commonPath",function(t,a){return $.extend({},a,{locationHash:"/stockTransRates"})}]);app.factory("StockProdManagerService",["utils","commonPath",function(o,a){return $.extend({},a,{locationHash:"/stockProdManager"})}]);app.factory("StockMoreDetailService",["utils","commonPath",function(t,o){return $.extend({},o,{locationHash:"/stockMoreDetail"})}]);app.factory("StockConfirmPurchaseDetailService",["utils","commonPath",function(t,o){return $.extend({},o,{locationHash:"/stockConfirmPurchaseDetail"})}]);app.factory("StockConfirmRedeemDetailService",["utils","commonPath",function(e,t){return $.extend({},t,{locationHash:"/stockConfirmRedeemDetail"})}]);app.factory("StockMyProdDetailService",["utils","commonPath",function(t,o){return $.extend({},o,{locationHash:"/stockMyProductDetail"})}]);app.factory("StockRedeemService",["utils","commonPath",function(e,t){return $.extend({},t,{locationHash:"/stockRedeem"})}]);app.factory("StockValueHistoryService",["utils","commonPath",function(t,o){return $.extend({},o,{locationHash:"/stockCleanValueHistory"})}]);app.factory("MonetaryService",["utils",function(){var a={};return{setCallbackPage:function(t,e){a[t]=e},getCallbackPage:function(t){return a[t]}}}]);"use strict";app.factory("FinancialRecommendService",["$location","commonPath",function(n,c){return $.extend({},c,{locationHash:"/financialRecommend"})}]);"use strict";app.factory("MonetaryIncomeRulesService",["$location","commonPath",function(e,o){return $.extend({},o,{locationHash:"/monetaryMoreIncomeRules"})}]);"use strict";app.factory("commonPath",["$q","cgiService","localStorageService","cache","$location",function(a,t,e,h,n){return{parentHash:"/",data:{},locationHash:"/",parentSearch:"",backData:"",goPage:function(a,t,e,h){if(n.path()&&(this.parentHash=n.path()),h&&(this.parentHash=h),n.search()&&(this.parentSearch=n.search()),a){a=[a];for(var r=0;r<a.length;r++)a[r]="/"+a}else a=[];e&&(this.data=e),t?n.path(this.locationHash+a.join("")).search(t):n.path(this.locationHash+a.join(""))},backPage:function(a){a&&(this.backData=a),this.parentSearch?n.path(this.parentHash).search(this.parentSearch):n.path(this.parentHash)},goNextPage:function(){},getParentHash:function(){return this.parentHash},getParentSearch:function(){return this.parentSearch},getData:function(a){return a?$.extend(this.data,{parentHash:this.parentHash}):this.data},setData:function(a){this.data=a},getBackData:function(){return this.backData},setBackData:function(a){this.backData=a}}}]);"use strict";app.factory("UnbindOpenIDService",["$q","cgiService","localStorageService","cache","$location","commonPath",function(e,c,n,i,o,t){return $.extend({},t,{locationHash:"/unbindOpenID"})}]);"use strict";app.factory("ChangePasswdService",["$location","commonPath",function(a,n){return $.extend({},n,{locationHash:"/changePassword"})}]);"use strict";app.factory("ResetPasswdService",["$location","commonPath",function(t,e){return $.extend({},e,{locationHash:"/resetPasswd"})}]);"use strict";app.factory("AgreementService",["$location","commonPath",function(e,t){return $.extend({},t,{locationHash:"/agreementDetail"})}]);"use strict";app.factory("messageService",["$q","cgiService","localStorageService","cache","GLOBAL_CONSTANT","commonPath",function(e,t,n,r,s,i){var o={},a=function(e){var t="";r.getUserInfo()&&r.getUserInfo().openid&&(t=r.getUserInfo().openid),(e||o.openid!=t)&&(o.openid=t,o.index=0,o.haveNext=!0,o.msgList=[],o.oldIndex=-1,o.idList=[],o.redPointId=0)};return a(!0),$.extend({},i,{locationHash:"/messageCenter",getMessageList:function(s){return e(function(e,i){if(a(),s&&!o.haveNext)return e(o.msgList);var d=s?o.index:0;return o.oldIndex==d?e(o.msgList):(o.oldIndex=d,void t.getMessageList({index:d}).then(function(t){return t.ret_data&&t.ret_data.msg_list?(o.index=t.ret_data.next_index,o.haveNext=t.ret_data.have_next,$.each(t.ret_data.msg_list,function(e,t){o.idList[""+t.msgid]||(o.idList[""+t.msgid]=1,o.msgList.push(t))}),o.msgList.length>0&&(o.msgList.sort(function(e,t){return t.msgid-e.msgid}),n.set(r.getUserInfo().openid+"unreadMessageNumLastMsgid",o.msgList[0].msgid)),e(o.msgList)):void 0},function(){return o.oldIndex=-1,i({result:2})}))})},getUnreadMessageNum:function(){return e(function(e,i){if(a(),r.getUserStatus()<=s.ACCOUNT_STATE.USER_STATE_LOGIN)return i();var d=n.get(r.getUserInfo().openid+"unreadMessageNumLastMsgid")||0;t.getUnreadMessageNum({checkSeq:1*d}).then(function(t){return o.oldIndex=-1,e(t.ret_data.new_msg_cnt)},function(){return i()})})},clickRedPoint:function(){return e(function(e,t){if(a(),r.getUserStatus()<=s.ACCOUNT_STATE.USER_STATE_LOGIN)return t();if(!r.getUserInfo()||!r.getUserInfo().openid)return t();var i=1*n.get(r.getUserInfo().openid+"clickRedPointMsgid")||0,d=1*o.redPointId||0;n.set(r.getUserInfo().openid+"clickRedPointMsgid",i>d?i:d)})},getRedPoint:function(){return e(function(e,i){if(a(),r.getUserStatus()<=s.ACCOUNT_STATE.USER_STATE_LOGIN)return i();if(!r.getUserInfo()||!r.getUserInfo().openid)return i();var d=n.get(r.getUserInfo().openid+"clickRedPointMsgid")||0;t.getUnreadMessageNum({checkSeq:1*d}).then(function(t){return 1*t.ret_data.new_msg_cnt>0?(o.redPointId=t.ret_data.max_msg_id||0,e(!0)):e(!1)},function(){return i()})})},reportReadMessage:function(e){return t.reportReadMessage({msg_id:e})},clearMessage:function(){return a(!0),t.clearMessage()},getIsMoreData:function(){return o.haveNext}})}]),app.factory("ResetPasswdService",["$location","commonPath",function(e,t){return $.extend({},t,{locationHash:"/resetPasswd"})}]);"use strict";app.factory("riskAssessmentService",["commonPath",function(t){var e={page:"",pageDetail:"",level:0,type:0,code:0,code1:0,infoArr:[],riskStatus:0,tab:""},n={};return $.extend({},t,{locationHash:"/riskAssessmentResult",setData:function(t){e=t},getData:function(){return e},getQuery:function(){return n},setQuery:function(t){n=t}})}]);app.factory("CheckFaceService",["utils","commonPath",function(e,n){var t,c,i=0,o=void 0;return $.extend({},n,{locationHash:"/checkFace",setFaceId:function(e,n){t=e,c=n},getFaceId:function(){return t},isFaceIdValid:function(){if(t){var n=new Date;if(e.getSecondDifference(c,n)<900)return!0}return!1},setEcif:function(e){o=e},getEcif:function(){return o},addFailedCount:function(){i++},resetFailedCount:function(){i=0},getFailedCount:function(){return i}})}]);"use strict";app.factory("InfoPhoneService",["commonPath",function(n){return $.extend({},n,{locationHash:"/phone"})}]);"use strict";app.factory("InfoResetPhoneService",["commonPath",function(e){return $.extend({},e,{locationHash:"/resetPhone"})}]);"use strict";app.factory("BindInfoService",["commonPath",function(n){return $.extend({},n,{locationHash:"/bindInfo"})}]);"use strict";app.factory("ManagePasswordService",["commonPath",function(a){return $.extend({},a,{locationHash:"/managePassword"})}]);"use strict";app.factory("HandPasswordService",["$location","commonPath","localStorageService","cache","GLOBAL_CONSTANT","LoginService",function(a,n,t,e,o,c){var s="/handPassword",r="Key_LocalHandPass_Lock",i=!1,d="",h=!0,u=null;return $.extend({},n,{locationHash:s,setLoacalHandPwd:function(a){d=a},setHandpassLock:function(a){i=a;var n=e.getUserInfo(),o=n.openid;o&&t.set(r+o,i)},getLocalHandpwd:function(){return d},gethandpassLock:function(){var a=e.getUserInfo(),n=a.openid;return i=n?t.get(r+n):!1},setCheckHandWhenLoginFlag:function(a){h=a},hasLocalHandpwd:function(){return d&&""!=d},finishSetting:function(){u?(a.path("/"+u),u=null,c.setCallbackPage("","")):this.backPage()},finishCheck:function(){u?(a.path("/"+u),u=null,c.setCallbackPage("","")):a.path("/home")},getDefPara:function(a){return u=a,this.hasLocalHandpwd()?this.getCheckHandPara():this.getSettingHandPara("")},getCheckHandPara:function(){return"checkHand/"},getSettingHandPara:function(a){var n="setHand";return a||(a=""),n=n+"/"+a},startHandPassword:function(a){if(h&&e.getCacheInfo("personalInfo")){var n=e.getCacheInfo("personalInfo").gesture_password;this.setLoacalHandPwd(n),e.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT&&(this.goPage(this.getDefPara(a)),h=!1)}},init:function(){h=!0,i=!1,d="",u=null}})}]);"use strict";app.factory("CheckPhoneService",["commonPath",function(e){return $.extend({},e,{locationHash:"/checkPhone"})}]);app.factory("TransRecordService",["commonPath",function(n){return $.extend({},n,{locationHash:"/transRecord"})}]);"use strict";app.factory("AnnouncementService",["$location","commonPath","dataService","envService",function(t,e,n,o){return $.extend({},e,{locationHash:"/announcement",getBuyNotice:function(t,e){var c=o.getEnvVariable().DATA_NOTICE;n.getBuyNotice(t).then(function(t){if("function"==typeof e)if(t&&t.length>0){t.sort(function(t,e){return t.show_sort-e.show_sort});var n=t[0];n.strTitle=n.notice_title,n.strDesc=n.notice_desc,n.pdfUrl=c+n.location,n.strDate=getDateStr(n.upload_date,n.upload_time),e(n)}else e(null)},function(){"function"==typeof e&&e(null)})}})}]);"use strict";app.factory("WebankCardService",["commonPath",function(a){return $.extend({},a,{locationHash:"/webankCard"})}]);"use strict";app.factory("BindingCardDetailService",["$location","commonPath",function(n,t){return $.extend({},t,{locationHash:"/viewCardInfo"})}]);"use strict";app.factory("AboutService",["$location","commonPath",function(t,o){return $.extend({},o,{locationHash:"/about"})}]);"use strict";app.factory("HelpService",["$location","commonPath",function(t,e){return $.extend({},e,{locationHash:"/help"})}]);app.factory("TransferHomeService",["commonPath",function(e){return $.extend({},e,{locationHash:"/transHome"})}]);app.factory("TransferInService",["commonPath",function(n){var e=null;return $.extend({},n,{locationHash:"/transIn",saveSession:function(n){e=n},getSession:function(){return e},clearSession:function(){e=null}})}]);app.factory("TransferOutService",["commonPath",function(n){var t=null;return $.extend({},n,{locationHash:"/transOut",saveSession:function(n){t=n},getSession:function(){return t},clearSession:function(){t=null}})}]);app.factory("PlanService",["commonPath",function(n){var e=null;return $.extend({},n,{locationHash:"/plan",getNextPlanExecuteDate:function(n){if(n>28||1>n)return null;var e=new Date,t=e.getFullYear(),a=e.getMonth();return e.getDate()>=n&&(11==a?(t++,a=0):a++),new Date(t,a,n)},saveSession:function(n){e=n},getSession:function(){return e},clearSession:function(){e=null}})}]);app.factory("MortgatePlanService",["commonPath",function(e){var n=null;return $.extend({},e,{locationHash:"/transHome",getNextPlanExecuteDate:function(e){if(e>28||1>e)return null;var n=new Date,t=n.getFullYear(),a=n.getMonth();return n.getDate()>=e&&(11==a?(t++,a=0):a++),new Date(t,a,e)},saveSession:function(e){n=e},getSession:function(){return n},clearSession:function(){n=null}})}]);app.factory("SalaryPlanService",["commonPath",function(e){var n=null;return $.extend({},e,{locationHash:"/transHome",getNextPlanExecuteDate:function(e){if(e>28||1>e)return null;var n=new Date,t=n.getFullYear(),a=n.getMonth();return n.getDate()>=e&&(11==a?(t++,a=0):a++),new Date(t,a,e)},saveSession:function(e){n=e},getSession:function(){return n},clearSession:function(){n=null}})}]);app.filter("lastFewChars",function(){var t=function(t,r){return t.length<r?t:t.substr(t.length-r)};return t}),app.filter("longProdName",function(){return function(t){return t.length>9?t.substr(0,9)+"...":t}}),app.filter("abridgeAccountNumber",function(){var t=function(t){return!t||t.length<4?t:"("+t.substr(t.length-4)+")"};return t}),app.filter("splitAccountNumber",function(){var t=function(t){if(t){t=t.toString();for(var r=[],n=0;n<Math.ceil(t.length/4)-1;n++)r.push(t.substr(4*n,4));return r.push(t.substr(4*n)),r.join(" ")}return t};return t}),app.filter("formatDateToCN",function(){return function(t){return t.substring(0,4)+"年"+t.substring(4,6)+"月"+t.substring(6,8)+"日"}}),app.filter("formatDateToCNWithoutYear",function(){return function(t){return t?parseInt(t.substring(4,6))+"月"+t.substring(6,8)+"日":void 0}}),app.filter("formatDateObjToString",function(){return function(t){if(t){var r=t.getFullYear(),n=t.getMonth()+1,e=t.getDate();return 10>n&&(n="0"+n),10>e&&(e="0"+e),r+"-"+n+"-"+e}}}),app.filter("formatDateObjToYMString",function(){return function(t){if(t){var r=t.getFullYear(),n=t.getMonth()+1;return 10>n&&(n="0"+n),r+"-"+n}}}),app.filter("formatDateObjToCNString",function(){return function(t){var r=(t.getFullYear(),t.getMonth()+1),n=t.getDate();return r+"月"+n+"日"}}),app.filter("formatYYYYMMDDString",function(){return function(t){if(t){var r=t.substring(0,4),n=t.substring(4,6),e=t.substring(6,8);return r+"-"+n+"-"+e}}}),app.filter("formatMoneyString",function(){return function(t){for(var r=parseFloat(t).toFixed(0),n=r.split("").reverse(),e="",u=0;u<n.length;u++)e+=n[u]+((u+1)%3==0&&u+1!=n.length?",":"");return e.split("").reverse().join("")}}),app.filter("formatPhoneMask",function(){return function(t){var r=t;return t&&(t+="",r=t.substr(0,3)+"****"+t.substr(7,4)),r}}),app.filter("formatWeekdayFormDate",function(){return function(t){var r=t.getDay(),n="";switch(r){case 0:n="星期日";break;case 1:n="星期一";break;case 2:n="星期二";break;case 3:n="星期三";break;case 4:n="星期四";break;case 5:n="星期五";break;case 6:n="星期六"}return n}}),app.filter("formatDateWithoutYear",function(){return function(t){var r=t.getMonth()+1,n=t.getDate(),e=10>r?"0"+r:""+r,u=10>n?"0"+n:""+n;return e+"-"+u}}),app.filter("formatDateObjToCNWithoutYear",function(){return function(t){var r=t.getMonth()+1,n=t.getDate();return r+"月"+n+"日"}}),app.filter("formatMoneyShort",function(){return function(t){var r=parseInt(t);return r>1e8?(r=parseInt(r/1e8),r+"亿"):r>1e4?(r=parseInt(r/1e4),r+"万"):r}}),app.filter("formatName",function(){return function(t){if(t){var r=t.split("");return r.pop(),r.push(" *"),r.join("")}return t}}),app.filter("GetDayFromDateObj",function(){return function(t){var r=t.getDate(),n=10>r?"0"+r:""+r;return n}}),app.filter("toTrusted",["$sce",function(t){return function(r){return t.trustAsHtml(r)}}]);"use strict";app.factory("$Message",["$rootScope","$compile","$document","$timeout","$window",function(t,n,o,i){var e='<div class="popup-container popup-showing active" ng-if="isShow"><div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3></div><div class="popup-body" ng-bind-html="template"></div><div class="popup-buttons"><button ng-repeat="button in buttons" ng-click="$buttonTapped(button, $event)" class="button button-positive" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div></div>',u=!1,p=t.$new();p.isShow=!1;var a=angular.element(e),c=function(t){t=angular.extend({title:"提示",template:"",buttons:[{text:"确认",type:"button-clear button-full",onTap:function(){i(function(){s(),t.cb()},500)}}],$buttonTapped:function(t,n){(t.onTap||angular.noop)(n)}},t||{}),angular.extend(p,t),u||(o[0].body.appendChild(a[0]),n(a)(p),u=!0)},l=function(t){p.isShow||(c(t),p.isShow=!0)},s=function(){p.isShow=!1};return{alert:function(t,n){var o="提示",i="";"string"==typeof t?i=t:(i=t.text,o=t.title),n=n?n:function(){},l({title:o,template:i,cb:n})},confirm:function(){},show:function(){}}}]);"use strict";app.factory("$NumKeyboard",["$rootScope","$compile","$document","$timeout","$Message",function(t,e,n){var o='        <div class="pwd-keyboard" ng-if="isShow">            <table>                <tr  class="keyboard-row">                    <td wb-click="$buttonTapped($event)">1</td>                    <td wb-click="$buttonTapped($event)">2</td>                    <td wb-click="$buttonTapped($event)">3</td>                </tr>                <tr  class="keyboard-row">                    <td wb-click="$buttonTapped($event)">4</td>                    <td wb-click="$buttonTapped($event)">5</td>                    <td wb-click="$buttonTapped($event)">6</td>                </tr>                <tr  class="keyboard-row">                    <td wb-click="$buttonTapped($event)">7</td>                    <td wb-click="$buttonTapped($event)">8</td>                    <td wb-click="$buttonTapped($event)">9</td>                </tr>                <tr  class="keyboard-row">                    <td wb-click="$buttonTapped($event)" class="o"></td>                    <td wb-click="$buttonTapped($event)">0</td>                    <td wb-click="$buttonTapped($event)" class="o">&larr;</td>                </tr>            </table>        </div>',d=t.$new();d.isShow=!1;var a=!1,c=angular.element(o),i=function(t){d.$buttonTapped=function(e){if(e.stopPropagation(),angular.isDefined(t.onBtnTap)){var n=e.target.innerHTML;t.onBtnTap(n),"确定"==n&&r()}},a||(n[0].body.appendChild(c[0]),e(c)(d),a=!0)},p=function(e){i(e),d.isShow=!0,t.hasKeyboard=!0},r=function(){d.$buttonTapped=function(){},d.isShow=!1,t.hasKeyboard=!1};return t.$on("$stateChangeStart",function(){r()}),{show:function(t){r(),p({onBtnTap:t})},hide:function(){r()},isShow:function(){return d.isShow}}}]);"use strict";app.directive("pwdInput",["$RSA","$MD5","$NumKeyboard","$Reg","$rootScope","cgiService","$timeout","utils",function(i,e,n,a,o,t,r,d){var s="",w=!1;return o.$on("$stateChangeStart",function(){s="",w=!1}),{restrict:"EA",require:"?ngModel",scope:{ngModel:"=?",errorMessage:"=?",isPwdShow:"=?",isPwdKeyboardShow:"=?isPwdKeyboardShow",sigOnPwdCommit:"=?",pwdTitle:"=?pwdTitle",pwdTransDesc:"=?pwdTransDesc",pwdSubTitle:"=?pwdSubTitle",pwdDisplay:"=?pwdDisplay",payWayDesc:"=?payWayDesc",onClickChangePayWay:"=?onClickChangePayWay",onPwdInputFinish:"=onPwdInputFinish",isFactorNeeded:"=?isFactorNeeded",canChangePayWay:"=?"},templateUrl:"../js/directive/password/pwd-input.html",replace:!0,controller:["$scope","$element","$attrs",function(){}],link:function(o,r,w,c){void 0==o.canChangePayWay&&(o.canChangePayWay=!0),o.isPwdKeyboardShow=!1,o.isWaitingFactor=!1;var p=!1,l=o.vm={};l.originPwd=new Array(6),o.pwdDisplay||(o.pwdDisplay=new Array(6)),l.displayPwd=new Array(6);var y=0,g="←",u={empty:"密码不能为空",valid:"密码格式错误,仅支持6位数字"},P={test:function(){return{$valid:a.test(l.originPwd.join(""),"pwd"),errorMessage:u.valid}},clear:function(){h()}};c.$setViewValue(P);var h=function(){y=0,l.originPwd=new Array(6),l.displayPwd=new Array(6),o.pwdDisplay=new Array(6),c.$setViewValue(P)};l.onInputClick=function(i){i.stopPropagation(),i.preventDefault(),void 0!=o.errorMessage&&(o.errorMessage=""),n.isShow()||h(),n.show(v);i.y-50},void 0==o.isFactorNeeded&&(o.isFactorNeeded=!0);var S=function(){return o.isFactorNeeded&&""==s?(d.makeToast(STRING_TABLE.DEFAULT_ERR_DESC),P.clear(),void n.show(v)):(P.MD5=e(l.originPwd.join("")),P.originPwd=l.originPwd.join(""),P.randomFactor=s,P.RSA=i.encrypt(l.originPwd.join("")+String(s)),P.RSA.length<512&&(P.RSA=i.encrypt(l.originPwd.join("")+String(s))),P.RSA.length<512&&(P.RSA=i.encrypt(l.originPwd.join("")+String(s))),c.$setViewValue(P),void(null!=o.sigOnPwdCommit?o.sigOnPwdCommit++:o.sigOnPwdCommit=0))},f=function(){n.hide(),o.isPwdShow=!1,p?o.isWaitingFactor=!0:S()},v=function(i){i==g?y>0&&(y--,l.originPwd[y]="",o.pwdDisplay&&(o.pwdDisplay[y]=""),l.displayPwd[y]=""):""==i||(y>5?f():(l.displayPwd[y]="●",o.pwdDisplay&&(o.pwdDisplay[y]="●"),l.originPwd[y]=i,y++,6==y&&f()))};o.pwdTitle||(o.pwdTitle="请输入微众交易密码"),o.onClickClose=function(){o.isPwdShow=!1};var D=function(){s="",p=!0,t.requestPasswordFactor().then(function(i){s=i.ret_data.factor,p=!1,o.isWaitingFactor&&(o.isWaitingFactor=!1,S())},function(){p=!1,o.isWaitingFactor=!1})};o.$watch("isPwdShow",function(){o.isPwdShow?(P.clear(),n.show(v),o.isFactorNeeded&&D()):n.hide()}),o.$watch("isPwdKeyboardShow",function(){o.isPwdKeyboardShow?(P.clear(),o.isFactorNeeded&&D(),n.show(v)):n.hide()})}}}]);"use strict";app.directive("wbClick",["$parse",function(t){return{compile:function(n){var c=t(n.attr("wb-click"));return function(t,n){var e="";e="ontouchstart"in document.documentElement?"touchstart":"click",n.on(e,function(n){n.preventDefault(),n.stopPropagation(),t.$apply(function(){c(t,{$event:n})})})}}}}]);app.directive("payWaySelector",["cgiService","utils",function(){return{restrict:"E",transclude:!0,templateUrl:"../js/directive/pay-way-selector/pay-way-selector.html",scope:{isShow:"=showPayWaySelector",payWayTitle:"=?payWayTitle",bindCardList:"=bindCardList",cardInfo:"=cardInfo",bindNewCard:"=?bindNewCard",webankAccount:"=?webankAccount",callbackFunc:"=?callbackFunc"},link:function(c){c.onClickClose=function(){c.isShow=!1,c.callbackFunc&&c.callbackFunc()},c.onSelectCard=function(a){c.cardInfo.bankBinCode=a.other_bank_bin_code,c.cardInfo.userName=a.other_name,c.cardInfo.cardNo=a.other_account,c.cardInfo.cardTypeCode=a.other_card_type_code,c.cardInfo.cardType=a.other_card_type,c.cardInfo.bankName=a.other_bank_name,c.isShow=!1,c.webankAccount&&(c.webankAccount.isWebankAccountSelected=!1),c.callbackFunc&&c.callbackFunc()},c.onSelectWebankAccount=function(){c.webankAccount.isAvaliable&&(c.webankAccount.isWebankAccountSelected=!0,c.isShow=!1,c.callbackFunc&&c.callbackFunc())},c.$watch("isShow",function(){if(c.webankAccount&&c.webankAccount.isWebankAccountSelected){c.showSelectWebankFlag="jc on";for(var a=0;a<c.bindCardList.length;++a)c.bindCardList[a].showSelectBankFlag=""}else{c.showSelectWebankFlag="jc";for(var a=0;a<c.bindCardList.length;++a)c.bindCardList[a].showSelectBankFlag=c.bindCardList[a].other_account==c.cardInfo.cardNo?"on":""}c.webankAccount&&!c.webankAccount.isAvaliable&&(c.showSelectWebankFlag="jc off")}),c.onClickUseNewCard=function(){c.isShow=!1,c.bindNewCard()}},controller:["$scope",function(c){angular.forEach(c.bindCardList,function(c){c.bankImg="../img/bankHead/yh-"+(c.other_bank_bin_code||0)+"@2x.png"}),c.isShow=!1,c.payWayTitle||(c.payWayTitle=STRING_TABLE.CHOOSE_PAY_WAY)}]}}]);app.directive("accountSelector",["GLOBAL_CONSTANT","$timeout",function(t,n){return{restrict:"E",transclude:!0,templateUrl:"../js/directive/account-selector/account-selector.html",scope:{show:"=?show",hide:"=?hide",bindCard:"=?bindCard",onAccountSelected:"=?onAccountSelected",accountData:"=?accountData",inputAmount:"=?inputAmount",hideAmount:"=?hideAmount"},link:function(c){var a=function(){i(),c.isShow=!0},o=function(){n(function(){c.isShow=!1},50)},u=function(){c.onAccountSelected&&c.onAccountSelected()};c.ifHideAmount={webank:!1,plus:!1},c.hideAmount&&(100==c.hideAmount&&(c.ifHideAmount.webank=!0),200==c.hideAmount&&(c.ifHideAmount.plus=!0),300==c.hideAmount&&(c.ifHideAmount.webank=!0,c.ifHideAmount.plus=!0)),c.show=function(){a()},c.hide=function(){o()},c.onClickClose=function(){o()},c.onSelectCard=function(n){c.accountData.otherBankAccount.cardInfo.bankBinCode=n.other_bank_bin_code,c.accountData.otherBankAccount.cardInfo.userName=n.other_name,c.accountData.otherBankAccount.cardInfo.cardNo=n.other_account,c.accountData.otherBankAccount.cardInfo.cardTypeCode=n.other_card_type_code,c.accountData.otherBankAccount.cardInfo.cardType=n.other_card_type,c.accountData.otherBankAccount.cardInfo.bankName=n.other_bank_name,c.accountData.ctrlData.accountType=t.ACCOUNT_TYPE.OTHER_BANK_CARD,o(),u()},c.onSelectWebankAccount=function(n){1*c.inputAmount&&1*n<1*c.inputAmount||(c.accountData.ctrlData.accountType=t.ACCOUNT_TYPE.WEBANK_CARD,o(),u())},c.onSelectCurrentPlus=function(n){1*c.inputAmount&&1*n<1*c.inputAmount||(c.accountData.ctrlData.accountType=t.ACCOUNT_TYPE.CURRENT_PLUS,o(),u())},c.$watch("isShow",function(){r()}),c.onClickUseNewCard=function(){o(),c.bindCard()};var e=0,r=function(){var n=0,a=null,o=!0;if(o=o&&c.accountData.otherBankAccount,o=o&&c.accountData.otherBankAccount.otherAccountList,o&&(a=c.accountData.otherBankAccount.otherAccountList,n=a.length),c.accountData.ctrlData.accountType==t.ACCOUNT_TYPE.WEBANK_CARD)e=100;else if(c.accountData.ctrlData.accountType==t.ACCOUNT_TYPE.OTHER_BANK_CARD)for(var u=0;n>u;++u)a[u].other_account==c.accountData.otherBankAccount.cardInfo.cardNo&&(e=u);else e=c.accountData.ctrlData.accountType==t.ACCOUNT_TYPE.CURRENT_PLUS?200:-1};c.onClassWebank=function(t){var n=c.ifHideAmount.webank?"":"jc";return n+=100==e?" on":" ",1*c.inputAmount&&(n+=1*t<1*c.inputAmount?" off ":""),n},c.onClassPlus=function(t){var n=c.ifHideAmount.plus?"":"jc";return n+=200==e?" on":" ",1*c.inputAmount&&(n+=1*t<1*c.inputAmount?" off ":""),n},c.onClassBankCard=function(t){return e==t?"on":""},c.onSrcPlus1=function(t){return 1*c.inputAmount&&1*t<1*c.inputAmount?"../img/slice/hq@3x_grey.png":"../img/slice/hq@3x.png"},c.onSrcPlus=function(t){return 1*c.inputAmount&&1*t<1*c.inputAmount?"../img/bankHead/yh-0@2x_grey.png":"../img/bankHead/yh-0@2x.png"},c.onSrcWebank=function(t){return 1*c.inputAmount&&1*t<1*c.inputAmount?"../img/bankHead/yh-0@2x_grey.png":"../img/bankHead/yh-0@2x.png"};var i=function(){if(c.accountList=[],c.accountData.webankAccount){var t={};t.type="webank",t.account=c.accountData.webankAccount,void 0==t.account.showBalance&&(t.account.showBalance=!0),c.accountList.push(t)}if(c.accountData.otherBankAccount){var t={};t.type="otherBank",t.account=c.accountData.otherBankAccount,c.accountList.push(t)}if(c.accountData.currentPlus){var t={};t.type="currentPlus",t.account=c.accountData.currentPlus,void 0==t.account.showBalance&&(t.account.showBalance=!0),c.accountList.push(t)}c.accountList.sort(function(t,n){return void 0==t.account.priority&&(t.account.priority=1e3),void 0==n.account.priority&&(n.account.priority=1e3),t.account.priority-n.account.priority});var n=!0;n=n&&c.accountData.otherBankAccount,n=n&&c.accountData.otherBankAccount.otherAccountList,n&&angular.forEach(c.accountData.otherBankAccount.otherAccountList,function(t){t.bankImg="../img/bankHead/yh-"+(t.other_bank_bin_code||0)+"@2x.png"}),r()};c.isShow=!1,c.accountData.ctrlData||(c.accountData.ctrlData={},c.accountData.ctrlData.title=STRING_TABLE.CHOOSE_PAY_WAY,c.accountData.ctrlData.canBindNewCard=!0,c.accountData.ctrlData.accountType=t.ACCOUNT_TYPE.INVALID_TYPE),i()},controller:["$scope",function(){}]}}]);app.directive("userAgreement",["$location","envService","$sce","utils","AgreementService","dataService","$ionicBody","$compile","$animate","$timeout",function(e,n,r,t,a,i,c,o){return{restrict:"E",transclude:!0,templateUrl:"../js/directive/user-agreement/user-agreement.html",scope:{isAgreed:"=?isAgreed",agreementDescArr:"=?agreementDesc",openPdf:"=?openPdf",agreementCallback:"=?agreementCallback",agreementType:"=?agreementType",agreementDetail:"=?agreementDetail",agreementCode:"=?agreementCode"},link:function(e){var r=n.getEnvVariable().DATA_NOTICE;e.isAgreed=e.isAgreed||!1,e.agreementDescArr=e.agreementDescArr||[],e.agreementDescArr="string"==typeof e.agreementDescArr?[e.agreementDescArr]:e.agreementDescArr,e.showPanel=!1,e.agreementCode=e.agreementCode||0;for(var m=0;m<e.agreementDescArr.length-1;m++)e.agreementDescArr[m]+=",";e.agreementType=e.agreementType||0,e.agreementType&&0==e.agreementDescArr.length&&e.agreementDescArr.push(["","《账户服务协议》","《委托扣款协议》","《微众银行服务协议》","《微众银行隐私政策》"][e.agreementType]),e.onClickCheckBox=function(){e.isAgreed=!e.isAgreed},e.items={name:[],pdfUrl:[]};1*e.agreementType>0&&1*e.agreementType<100||i.getPorductAgreement({code:e.agreementCode}).then(function(n){n&&n.length>0&&(n.sort(function(e,n){return e.show_sort-n.show_sort}),$.each(n,function(n,t){e.items.name.push(t.app_show_name),t.file_name=r+t.location,e.items.pdfUrl.push(t.file_name)}))},function(){}),e.onClickAgreement=function(n){"function"==typeof e.agreementCallback&&e.agreementCallback(n),1*e.agreementType>0&&1*e.agreementType<100?a.goPage(e.agreementType):e.items.pdfUrl&&e.items.pdfUrl.length>0&&(1==e.items.pdfUrl.length?e.openPdf(e.items.pdfUrl[0]):g())},e.onClickItem=function(n){var r=e.items.pdfUrl[n];r&&e.openPdf(r)};var s='<div class="pop-bg">                                                    <div class="pop-qx">                                                        <p class="a px-a" ng-repeat="item in items.name  track by $index" ng-click="onClickItem($index)" ng-bind="item"></p>                                                        <p class="b" ng-click="onClickCancel()">取消</p>                                                    </div>                                                </div>',l=null,g=function(){l=e.element=o(s)(e),c.append(l)};e.onClickCancel=function(){l&&(l.remove(),l=null)},e.openPdf=function(e){if(e){var n="_blank",r="enableViewportScale=yes,location=no";e="http://www.webankcdn.net/s/hj/utils/pdfjs/web/viewer.html?file="+e;var a=window.open(e,n,r);a.addEventListener("loaderror",function(){t.makeToast("系统繁忙，文件打开错误","short"),a.close()})}},e.checkClass=function(){return e.isAgreed?"checkbox":"checkbox off"}}}}]);app.directive("announcement",["utils",function(n){return{restrict:"A",transclude:!0,templateUrl:"../js/directive/announcement/announcement.html",scope:{announceValue:"=announceValue"},link:function(e){e.announceValue.title=e.announceValue.title||"产品公告",e.announceValue&&e.announceValue.list&&e.announceValue.list.length>0?e.announceValue.list.sort(function(n,e){return e.show_sort-n.show_sort}):e.announceValue.list=[],e.onClass=function(n){return n?"p-c-lgray":"p-c-lgray px-a"},e.onClickItem=function(e){if(e.url){var t="_blank",a="enableViewportScale=yes,location=no",l="http://www.webankcdn.net/s/hj/utils/pdfjs/web/viewer.html?file="+e.url,o=window.open(l,t,a);o.addEventListener("loaderror",function(){n.makeToast("系统繁忙，文件打开错误","short"),o.close()})}}}}}]);app.directive("highcharts",function(){return{restrict:"A",scope:{showChart:"=showChart",chartOptions:"=chartOptions"},link:function(t,r){var h={lang:{rangeSelectorZoom:""}},n=null;Highcharts.setOptions(h),t.showChart=function(){var h=t.chartOptions;h.chart.renderTo=r[0],n=new Highcharts.Chart(h)}}}});app.directive("stockcharts",function(){return{scope:{showChart:"=showChart",chartOptions:"=chartOptions"},link:function(t,r){var a={lang:{rangeSelectorZoom:""}},n=null;Highcharts.setOptions(a),t.x=0,t.showChart=function(){var a=t.$parent.data.chartOptions;n?(n.setOptions(a),n.redraw()):(a.chart.renderTo=r[0],new Highcharts.StockChart(a))}}}});app.directive("scrollAnimate",["$timeout",function(o){return{restrict:"A",scope:{scrollRefresh:"=scrollRefresh",scrolling:"=scrolling",onTouchEnd:"=onTouchEnd",wapperHeight:"=?wapperHeight",scrollLevel:"=?scrollLevel"},link:function(l,n){n[0].style.height=l.wapperHeight||document.body.clientHeight-50+"px",n.css("overflow-y","auto");var c=new IScroll(n[0],{probeType:l.scrollLevel||1,click:!0,scrollY:!0,HWCompositing:!1});c.on("scroll",function(){l.scrolling(this.y,this.maxScrollY)}),c.on("scrollEnd",function(){l.scrolling(this.y,this.maxScrollY)}),c.on("touchEnd",function(){l.onTouchEnd&&l.onTouchEnd(this)}),l.scrollRefresh=function(){o(function(){c.refresh()},10)}}}}]);app.directive("popConfirm",["$location","envService","$sce",function(){return{restrict:"EA",templateUrl:"../js/directive/pop-confirm/pop-confirm.html",scope:{outValue:"=?outValue"},controller:["$scope",function(o){o.popClose=function(e){o.outValue&&"function"==typeof o.outValue.popClose&&(o.outValue.showPop=!1,o.outValue.popClose(e,o.outValue.inputDefaultText))}}]}}]);app.directive("fancySelect",["$ionicModal",function(e){return{restrict:"E",templateUrl:"../js/directive/fancy-select/fancy-select.html",scope:{listItems:"=",headerText:"=",value:"=",callback:"=",showSelect:"="},link:function(t){if(!t.items){t.items=[];for(var c=1;29>c;c++){var l="每月"+c+"日";t.items.push({text:l})}}e.fromTemplateUrl("fancy-select-items.html",{scope:t}).then(function(e){t.modal=e}),t.showItems=function(e){e&&e.preventDefault(),t.modal.show()},t.hideItems=function(){t.modal.hide()},t.showSelect=function(){t.showItems()},t.$on("$destroy",function(){t.modal.remove()}),t.validateSingle=function(e,c){t.text=e.text,t.value=e.id,t.hideItems(),"function"==typeof t.callback&&t.callback(t.text,c+1)}}}}]);app.directive("a",function(){return{restrict:"E",link:function(n,t,c){(c.ngClick||""===c.href||"#"===c.href)&&t.on("click",function(n){n.preventDefault()})}}}),app.directive("button",function(){return{restrict:"E",link:function(n,t,c){c.ngClick&&t.on("click",function(n){n.preventDefault()})}}}),app.directive("textarea",["$timeout",function(n){return{restrict:"E",scope:{focusFlag:"=?focusFlag"},link:function(t,c){t.$watch("focusFlag",function(t){1==t&&n(function(){c[0].focus()},100)})}}}]),app.directive("compile",["$compile",function(n){return function(t,c,i){t.$watch(function(n){return n.$eval(i.compile)},function(i){c.html(i),n(c.contents())(t)})}}]);app.directive("handpasswordCanvas",["$timeout","$MD5",function(a,n){return{restrict:"AE",replace:!0,templateUrl:"../js/directive/handpassword/handpassword-canvas.html",scope:{handpasswordCanvasData:"=handpasswordCanvasData"},link:function(a,t){function s(a,n,t,s){a.circle(n,t,m).attr({stroke:s,"stroke-width":2})}function e(a){if(y)for(var n=0;n<y.length;n++)T.circle(y[n].x,y[n].y,50*m/126).attr({fill:a,stroke:a,"stroke-width":2})}function r(a,n,t,s){if(t){for(var e="",r=1;r<t.length;r++)e+="L"+t[r].x+","+t[r].y;n&&(e+="L"+n.x+","+n.y);var o="M"+t[0].x+","+t[0].y;e&&(o+=e,a.path(o).attr({stroke:s,"stroke-width":2}))}}function o(){y=[],g=[],D=[];var a=3;m=(E-2*x)/8.2;for(var n=0;a>n;n++)for(var t=0;a>t;t++){var s=(1+3.1*n)*m+x,e=(1+3.1*t)*m+x;g.push({x:s,y:e}),D.push({x:s,y:e,num:a*t+n+1})}return g}function d(a){var n=a.currentTarget.getBoundingClientRect(),t={x:a.touches[0].clientX-n.left,y:a.touches[0].clientY-n.top};return t}function i(a,n){a.clear();for(var t=0;t<g.length;t++)s(a,g[t].x,g[t].y,O);for(var t=0;t<y.length;t++)s(a,y[t].x,y[t].y,Y);if(e(Y),r(a,n,y,Y),n)for(var t=0;t<D.length;t++)if(Math.abs(n.x-D[t].x)<m&&Math.abs(n.y-D[t].y)<m){h(D[t],t);break}}function h(n,t){e(Y),S&&S.indexOf(""+n.num)>0||(y.push(n),S+=n.num),1==a.handpasswordCanvasData.mode&&1==a.handpasswordCanvasData.settingStep&&a.handpasswordCanvasData.statusListener&&a.handpasswordCanvasData.statusListener.onPointChanged(n.num,Y),D.splice(t,1)}function u(n){if(y&&y.length>0)for(var t=y[y.length-1],s=n,e=0;e<D.length;e++){var r=D[e];if(!(S&&S.indexOf(""+r.num)>0)){var o=v(r,t,s);if(o>0&&m>o){y.push(D[e]),S+=r.num,1==a.handpasswordCanvasData.mode&&1==a.handpasswordCanvasData.settingStep&&a.handpasswordCanvasData.statusListener&&a.handpasswordCanvasData.statusListener.onPointChanged(r.num,Y);break}}}}function v(a,n,t){var s,e,r,o=0;if(s=c(n,t),e=c(n,a),r=c(t,a),1e-6>=r||1e-6>=e)return o=-1;if(1e-6>=s)return o=-1;if(r*r>=s*s+e*e)return o=-1;if(e*e>=s*s+r*r)return o=-1;var d=(s+e+r)/2,i=Math.sqrt(d*(d-s)*(d-e)*(d-r));return o=2*i/s}function c(a,n){var t=0,s=a.x,e=n.x,r=a.y,o=n.y;return t=Math.sqrt((e-s)*(e-s)+(r-o)*(r-o))}function p(t){var s=n(t),e=n(s);a.handpasswordCanvasData.onEnteredPassword(e,t.length),2==a.handpasswordCanvasData.mode&&a.handpasswordCanvasData.checkpwd!=e&&(Y=X,i(T,null)),1==a.handpasswordCanvasData.mode&&2==a.handpasswordCanvasData.settingStep&&a.handpasswordCanvasData.settingTempPwd!=e&&(Y=X,i(T,null)),a.handpasswordCanvasData.statusListener&&a.handpasswordCanvasData.statusListener.onEnteredOver()}function f(){Y=A,1==a.handpasswordCanvasData.mode&&1==a.handpasswordCanvasData.settingStep&&a.handpasswordCanvasData.statusListener&&a.handpasswordCanvasData.statusListener.onInit(),S="",o(),T.clear();for(var n=0;n<g.length;n++)s(T,g[n].x,g[n].y,O)}function l(){k.addEventListener("touchstart",function(n){if(!a.handpasswordCanvasData.lock&&!q){a.handpasswordCanvasData.onTouchStart();var t=d(n);f();for(var s=0;s<g.length;s++)if(Math.abs(t.x-g[s].x)<m&&Math.abs(t.y-g[s].y)<m){P=!0,h(D[s],s),i(T,t);break}}},!1),k.addEventListener("touchmove",function(n){return a.handpasswordCanvasData.lock||q?void 0:C(n)?void w():void(P&&(u(d(n)),P&&i(T,d(n))))},!1),k.addEventListener("touchend",function(){w()},!1)}function w(){q=!0,setTimeout(function(){q=!1},100),a.handpasswordCanvasData.lock||(a.handpasswordCanvasData.onTouchEnd(),P&&(P=!1,i(T,null),p(S),setTimeout(function(){f()},500)))}function C(a){return-1!=navigator.userAgent.indexOf("iPhone")&&(a.pageX<5||a.pageX>L-5||a.pageY<10||a.pageY>b-10)?!0:!1}var g,D,m,x=2,y=[],k=t[0],L=$(window).get(0).innerWidth,b=$(window).get(0).innerHeight,E=a.handpasswordCanvasData.canvasWidth,M=a.handpasswordCanvasData.canvasHeight,T=Raphael(k,E,M),P=!1,S="",O="#7087bc",A="#a0bcff",X="#f29360",Y=A,q=!1,H="width:"+E+";height:"+M+";display:inline-block;";k.setAttribute("style",H),k.addEventListener("touchmove",function(a){a.preventDefault()},!1),f(),l()},controller:["$scope","$timeout",function(){}]}}]);app.directive("passwordStatusCanvas",["$timeout",function(){return{restrict:"AE",replace:!0,templateUrl:"../js/directive/handpassword/passwordstatus-canvas.html",scope:{handpasswordCanvasData:"=handpasswordCanvasData"},link:function(a,t){function n(a,t,n,r){a.circle(t,n,f).attr({stroke:r,"stroke-width":1})}function r(a){for(var t=0;t<l.length;t++)h.circle(l[t].x,l[t].y,f).attr({fill:a,stroke:a,"stroke-width":1})}function e(){l=[],c=[],u=[];var a=3;f=(v-2*d)/8.2;for(var t=0;a>t;t++)for(var n=0;a>n;n++){var r=(1+3.1*t)*f+d,e=(1+3.1*n)*f+d;c.push({x:r,y:e}),u.push({x:r,y:e,num:a*n+t+1})}return c}function o(a,t){a.clear();for(var e=0;e<c.length;e++)n(a,c[e].x,c[e].y,C);r(t)}function s(){a.handpasswordCanvasData.setStatusListener(w)}function i(){e(),h.clear();for(var a=0;a<c.length;a++)n(h,c[a].x,c[a].y,C)}var c,u,f,d=2,l=[],p=t[0],v=a.handpasswordCanvasData.preCanvasWidth,h=Raphael(p,v,v),w={},C="#7087bc";w.onPointChanged=function(a){for(var t=0;t<u.length;t++)if(a==u[t].num){l.push(u[t]),u.splice(t,1);break}},w.onInit=function(){i()},w.onEnteredOver=function(){o(h,C)},i(),s()},controller:["$scope","$timeout",function(){}]}}]);app.directive("loading",function(){return{restrict:"AE",transclude:!0,templateUrl:"../js/directive/loading/loading.html",scope:{showLoading:"=showLoading"}}});app.directive("numberKeyboardInput",["$timeout",function(t){return{restrict:"A",scope:{outValue:"=outValue"},link:function(n,u){var i=function(){var i=u.val(),o=i.match(/\d*/).toString();u.val(o),t(function(){n.$apply(function(){n.outValue=o})},0)};u.bind("input",i)}}}]);app.directive("keyboardInput",function(){return{restrict:"AE",transclude:!0,templateUrl:"../js/directive/keyboard-input/keyboard-input.html",scope:{keyboardInputData:"=keyboardInputData"},link:function(){},controller:["$scope","$timeout",function(a,t){a.keyboardInputData.flag=!0,a.input=function(t){a.keyboardInputData.model||(a.keyboardInputData.model=""),a.keyboardInputData.model+=t,a.$apply()},a.backspace=function(){a.keyboardInputData.model||(a.keyboardInputData.model=""),""!=a.keyboardInputData.model&&(a.keyboardInputData.model=a.keyboardInputData.model.substring(0,a.keyboardInputData.model.length-1),a.$apply())},a.change=function(){a.keyboardInputData.change&&a.keyboardInputData.change()},a.blur=function(){a.keyboardInputData.blur&&a.keyboardInputData.blur()},a.focus=function(){navigator.WBNumberPadPlugin.showKeyboard("WBNumberPadTypeIdentity",a.input,a.backspace),a.keyboardInputData.focus&&a.keyboardInputData.focus()},a.click=function(){a.keyboardInputData.flag=!0,navigator.WBNumberPadPlugin.showKeyboard("WBNumberPadTypeIdentity",a.input,a.backspace),a.keyboardInputData.flag=!1,t(function(){$("input#123").focus()},200),a.keyboardInputData.click&&a.keyboardInputData.click()}}]}});app.controller("DefaultPageController",["$scope","$location","$http","essential","envService","$timeout","cache","LoginService","utils","localStorageService","GLOBAL_CONSTANT","CombinedFinancialService","cgiService","$q","RegisterService","$stateParams","$ionicViewSwitcher","$rootScope","HandPasswordService","MonetaryService","InsuranceProductDetailService","webankCommonService",function(e,t,n,a,o,i,s,r,c,g,u,d,l,m,f,C,S,T,_,I,v,p){e.data={};var h=function(){navigator.splashscreen.show(),E()},D=function(){e.data.buttonDesc=" 登录 ",e.data.logoClass="logo v",e.data.showFlag=!0,e.data.showLoading=!0,a.getVersion().then(function(e){var t={};t.versionCode=e.versionCode,t.versionString=e.versionString,t.channelID=e.channelID,t.terminal_type=device.platform,t.os_ver=device.version,t.machine_info=device.model,c.isiOSDevice()?(t.channelID="ios",t.versionCode<100334||100401==t.versionCode?a.getMuid().then(function(e){t.uuid=e,s.setDeviceInfo(t),A()},function(){t.uuid="",s.setDeviceInfo(t),A()}):a.getIdfa().then(function(e){tracelog("获取Idfa成功"),t.uuid=e,s.setDeviceInfo(t),A()},function(){tracelog("获取Idfa失败"),t.uuid="",s.setDeviceInfo(t),A()})):(t.uuid=e.imei,s.setDeviceInfo(t),A())},function(){}),_.init()},O=function(){if("true"!=g.get("activeApp")){var e=s.getDeviceInfo(),t={};t.module_id="promote",t.data_list={},t.data_list.channel="",c.isiOSDevice()?e.versionCode<100334||100401==e.versionCode?t.data_list.idfamd5=e.uuid:t.data_list.idfa=e.uuid:t.data_list.imei=e.uuid,l.requestReportToTencent(t).then(function(){g.set("activeApp","true")},function(){})}},A=function(){O();var e=o.getEnvVariable().DATA_CGI_PREFIX+"OnSaleProductsStockFundV2.json",t=o.getEnvVariable().DATA_CGI_PREFIX+"stockfund/basic_info_list.json",a=o.getEnvVariable().DATA_CGI_PREFIX+"OnSaleProductsInsurance.json",s=o.getEnvVariable().DATA_CGI_PREFIX+"insurance/basic_info_list.json",r=o.getEnvVariable().DATA_CGI_PREFIX+"OnSaleProductsFund.json",c="https://www.webankcdn.net/s/hj/appconf/common/bank_limit.json",g="https://www.webankcdn.net/s/hj/appconf/common/holidays/hd_2015.json",u=!1,d=!1,l=!1,m=!1,f=!1,C=!1,S=!1,T=function(){if(!u){tracelog("拉取股基配置");var o={};o.cgiName=e,o.timeConsuming=(new Date).getTime(),n.get(e).then(function(e){tracelog("拉取股基配置成功"),o.timeConsuming=(new Date).getTime()-o.timeConsuming,o.retCode=0,o.status=0,Statistics.reportInterface(o),e.data&&(gStockOnSaleInfo=isReviewVer?[]:e.data,u=!0,_())},function(){o.timeConsuming=(new Date).getTime()-o.timeConsuming,o.retCode=-2,o.status=-2,Statistics.reportInterface(o),tracelog("[登陆流程]拉取股基配置失败"),U("stockCfg")})}if(!d){tracelog("拉取股基详细配置");var i={};i.cgiName=t,i.timeConsuming=(new Date).getTime(),n.get(t).then(function(e){tracelog("拉取股基详细配置成功"),i.timeConsuming=(new Date).getTime()-i.timeConsuming,i.retCode=0,i.status=0,Statistics.reportInterface(i),e.data&&(gStockConfigInfo=isReviewVer?[]:e.data,d=!0,_())},function(){i.timeConsuming=(new Date).getTime()-i.timeConsuming,i.retCode=-2,i.status=-2,Statistics.reportInterface(i),tracelog("拉取股基详细配置失败"),U("stockConfigCfg")})}if(!l){tracelog("拉取保险配置");var T={};T.cgiName=a,T.timeConsuming=(new Date).getTime(),n.get(a).then(function(e){tracelog("拉取保险配置成功"),T.timeConsuming=(new Date).getTime()-T.timeConsuming,T.retCode=0,T.status=0,Statistics.reportInterface(T),e.data&&(gOnSaleInfo=e.data,l=!0,_())},function(){T.timeConsuming=(new Date).getTime()-T.timeConsuming,T.retCode=-2,T.status=-2,Statistics.reportInterface(T),tracelog("拉取保险配置失败"),U("insuranceCfg")})}if(!m){tracelog("拉取保险详细配置");var I={};I.cgiName=s,I.timeConsuming=(new Date).getTime(),n.get(s).then(function(e){tracelog("拉取保险详细配置成功"),I.timeConsuming=(new Date).getTime()-I.timeConsuming,I.retCode=0,I.status=0,Statistics.reportInterface(I),e.data&&(gInsuranceConfigInfo=e.data,m=!0,_())},function(){I.timeConsuming=(new Date).getTime()-I.timeConsuming,I.retCode=-2,I.status=-2,Statistics.reportInterface(I),tracelog("拉取保险详细配置成功"),U("insuranceConfigCfg")})}if(!f){tracelog("拉取货基配置");var v={};v.cgiName=r,v.timeConsuming=(new Date).getTime(),n.get(r).then(function(e){tracelog("拉取货基配置成功"),v.timeConsuming=(new Date).getTime()-v.timeConsuming,v.retCode=-2,v.status=-2,Statistics.reportInterface(v),e.data&&(gMonetaryOnSaleInfo=e.data,f=!0,_())},function(){v.timeConsuming=(new Date).getTime()-v.timeConsuming,v.retCode=-2,v.status=-2,Statistics.reportInterface(v),tracelog("拉取货基配置失败"),U("monetaryCfg")})}if(!C){tracelog("拉取银行卡限制配置");var p={};p.cgiName=c,p.timeConsuming=(new Date).getTime(),n.get(c).then(function(e){tracelog("拉取银行卡限制配置成功"),p.timeConsuming=(new Date).getTime()-p.timeConsuming,p.retCode=-2,p.status=-2,Statistics.reportInterface(p),e.data&&(gBankLimitList=e.data,C=!0,_())},function(){p.timeConsuming=(new Date).getTime()-p.timeConsuming,p.retCode=-2,p.status=-2,Statistics.reportInterface(p),tracelog("拉取银行卡限制配置失败"),U("bankLimitCfg")})}if(!S){tracelog("拉取节日配置");var h={};h.cgiName=g,h.timeConsuming=(new Date).getTime(),n.get(g).then(function(e){tracelog("拉取节日配置成功"),h.timeConsuming=(new Date).getTime()-h.timeConsuming,h.retCode=-2,h.status=-2,Statistics.reportInterface(h),e.data&&(gHolidayList=e.data,S=!0,_())},function(){h.timeConsuming=(new Date).getTime()-h.timeConsuming,h.retCode=-2,h.status=-2,Statistics.reportInterface(h),tracelog("拉取节日配置失败"),U("holidayCfg")})}},_=function(){u&&d&&l&&m&&f&&C&&S&&v()},I=function(){return u&&d&&l&&m&&f&&C&&S?!0:!1},v=function(){tracelog("所有配置拉取完毕，解析配置"),getStockProdConfig(),getStockProdDetail(),getInsuranceProdConfig(),getFinancialProduct(),getMonetaryProductDetail(),getBankLimit(),getHolidayDate(),tracelog("解析配置完毕，检查登录态"),R()},p=function(){i(function(){I()||(tracelog("拉取配置3秒没返回，重新尝试"),T(),p())},3e3)};T(),p()},E=function(){var e=u.WELCOME_VERSION;e=1*e;var n=g.get("welcomePageKey");e>0&&(!n||e>1*n)?(S.nextTransition("none"),t.path("/welcome2")):D()},w=function(){var e={};e.module_id="login",e.obj_id="",e.data_list=[];var t={};t.has_reg=s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_LOGIN?"0":"1",e.data_list.push(t),l.requestReportError(e)},R=function(){e.data.showLoading=!0,e.data.buttonDesc=" 登录 ",e.data.logoClass="logo v",a.exchangeWebankToken().then(function(e){return 4&parseInt(e.status)?(s.setUserStatus(u.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),a.getToken()):2&parseInt(e.status)?(s.setUserStatus(u.ACCOUNT_STATE.USER_STATE_LOGIN),a.getToken()):(s.setUserStatus(u.ACCOUNT_STATE.USER_STATE_GUEST),a.reject())},function(){return s.setUserStatus(u.ACCOUNT_STATE.USER_STATE_GUEST),a.reject()}).then(function(e){s.setUserInfo(e),k(),w()},function(){k()})},k=function(){if(e.data.showFlag=!0,void 0==s.getUserInfo()){var n={};n.username="",n.picurl="../img/tx@2x.png",n.platform="",n.openid="",n.token="",n.unionid="",s.setUserInfo(n)}var n=s.getUserInfo();s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?t.path("/home"):s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_LOGIN?(e.data.isLogin=!0,e.data.avatarUrl=n.picurl||"../img/tx@2x.png",navigator.splashscreen.hide()):(e.data.isLogin=!1,navigator.splashscreen.hide()),"true"==g.get("isReg")?s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_LOGIN?(e.data.buttonDesc=" 开户 ",e.data.logoClass="logo",i(function(){e.data.buttonDesc="开户"},100)):(e.data.buttonDesc=" 登录 ",e.data.logoClass="logo v",i(function(){e.data.buttonDesc="登录"},100)):(e.data.buttonDesc=" 开户 ",e.data.logoClass="logo",i(function(){e.data.buttonDesc="开户"},100)),e.data.incomeRate=parseFloat(gMonetaryOnSaleInfo[0].income_rate).toFixed(2);var a=0;for(var o in gOnSaleInfo)if(void 0!=gInsuranceOnSaleCodeToProdConfig[gOnSaleInfo[o].on_sale_code]&&(!gOnSaleInfo[o].trans_status||"02"!=gOnSaleInfo[o].trans_status)){var r=p.getCurrentProdBySaleCode(gOnSaleInfo[o].on_sale_code);r&&0!=r.restAmount&&r.incomeRate>a&&(e.data.insuranceName=r.onSaleDesc,e.data.insuranceIncomeRate=parseFloat(r.incomeRate).toFixed(2),e.data.insuranceOnSaleCode=r.onSaleCode,a=r.incomeRate)}if(!e.data.insuranceName)for(var o in gOnSaleInfo)if(void 0!=gInsuranceOnSaleCodeToProdConfig[gOnSaleInfo[o].on_sale_code]&&(!gOnSaleInfo[o].trans_status||"02"!=gOnSaleInfo[o].trans_status)){var r=p.getNextProdByCurrentSaleCode(gOnSaleInfo[o].on_sale_code);r&&r.incomeRate>a&&(e.data.insuranceName=r.onSaleDesc,e.data.insuranceIncomeRate=parseFloat(r.incomeRate).toFixed(2),e.data.insuranceOnSaleCode=r.onSaleCode,a=r.incomeRate)}if(!e.data.insuranceName)for(var o in gOnSaleInfo)if(void 0!=gInsuranceOnSaleCodeToProdConfig[gOnSaleInfo[o].on_sale_code]&&(!gOnSaleInfo[o].trans_status||"02"!=gOnSaleInfo[o].trans_status)){var r=p.getLastProdByCurrentSaleCode(gOnSaleInfo[o].on_sale_code);r&&r.incomeRate>a&&(e.data.insuranceName=r.onSaleDesc,e.data.insuranceIncomeRate=parseFloat(r.incomeRate).toFixed(2),e.data.insuranceOnSaleCode=r.onSaleCode,a=r.incomeRate)}e.data.showLoading=!1},U=function(e){i(function(){c.goToErrorPage()},200);var t={};t.webTimeout=e,Statistics.reportEvent("timeout",t),navigator.splashscreen.hide()};e.go=function(){c.clickButtonReport("index_go"),s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_LOGIN?(f.setCallbackPage("home","default"),S.nextDirection("forward"),t.path("/register"),c.clickButtonReport("index_kaihu")):s.getUserStatus()==u.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?t.path("/home"):(c.clickButtonReport("index_denglu"),r.setCallbackPage("home","default"),t.path("/login"))},e.onClickFinancialTab=function(){S.nextTransition("none"),c.clickButtonReport("index_finance"),t.path("/financialRecommend")},e.onClickTransferTab=function(){S.nextTransition("none"),c.clickButtonReport("index_transfer"),t.path("/transHome")},e.onClickSettingsBtn=function(){S.nextDirection("back"),c.clickButtonReport("index_setting"),t.path("/accountSettings")},e.onClickCommunity=function(){c.clickButtonReport("index_community"),t.path("/community")},e.onClickMonetaryProduct=function(){gMonetaryOnSaleInfo.length>0&&(I.setCallbackPage("monetaryMyProdDetail","default"),t.path("/monetaryMyProdDetailFromHome/"+gMonetaryOnSaleInfo[0].prod_code))},e.onClickInsuranceProduct=function(){e.data.insuranceOnSaleCode&&v.goPage(e.data.insuranceOnSaleCode)};var N=!1;e.back=function(){N?navigator.app.exitApp():(N=!0,c.makeToast("再按一次退出微众银行","short","bottom"),i(function(){N=!1},2500))},"welcome"==C.from?D():"/default"==t.path()?k():h()}]);app.controller("WelcomeControllerV2",["$scope","$location","envService","$timeout","localStorageService","GLOBAL_CONSTANT","cache","essential",function(e,t,n,a,o,s,r,i){!function(){$.fn.touchwipe=function(e){var t={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return e&&$.extend(t,e),this.each(function(){function e(){this.removeEventListener("touchmove",n),o=null,r=!1}function n(n){if(t.preventDefaultEvents&&n.preventDefault(),r){var a=n.touches[0].pageX,i=n.touches[0].pageY,_=o-a,p=s-i;Math.abs(_)>=t.min_move_x?(e(),_>0?t.wipeLeft(n):t.wipeRight(n)):Math.abs(p)>=t.min_move_y&&(e(),p>0?t.wipeDown(n):t.wipeUp(n))}}function a(e){1==e.touches.length&&(o=e.touches[0].pageX,s=e.touches[0].pageY,r=!0,this.addEventListener("touchmove",n,!1))}var o,s,r=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",a,!1)}),this}}(),$(document).ready(function(){function e(){if(1!=r&&n>=2&&a-1>=n){$(".con_wrap_"+n).addClass("wrap_hide"),1==i&&($(".first_load").removeClass("first_load"),i=0);{setTimeout(function(){$(".con_wrap_"+(n-1)).removeClass("wrap_show"),$(".con_wrap_"+n).addClass("wrap_show").removeClass("wrap_prepare"),n==a&&$(".pager_wrap").fadeOut(),$(".pager_list li").removeClass("current"),$(".pager_list li:nth-child("+(n-1)+")").addClass("current"),r=0},_)}if(r=1,n++,6==n){var e=s.WELCOME_VERSION;o.set("welcomePageKey",e)}}}function t(){if(1!=r&&a>=n&&n>=3){{setTimeout(function(){$(".con_wrap_"+(n+1)).addClass("wrap_prepare").removeClass("wrap_show").removeClass("wrap_hide"),$(".con_wrap_"+n).addClass("wrap_show").removeClass("wrap_hide"),n==a-1&&$(".pager_wrap").fadeIn(),$(".pager_list li").removeClass("current"),$(".pager_list li:nth-child("+(n-1)+")").addClass("current"),r=0},_)}r=1,n--}}var n=1,a=6,r=1,i=1,_=300;$(".wrap").touchwipe({wipeDown:function(){wipe_down()},wipeUp:function(){wipe_up()},wipeLeft:function(){e()},wipeRight:function(){t()},min_move_x:80,min_move_y:80,preventDefaultEvents:!0});setTimeout(function(){$(".con_wrap_1").addClass("cover_hide");setTimeout(function(){$(".con_wrap_1").removeClass("wrap_show"),$(".con_wrap_2").addClass("wrap_show").addClass("first_load").removeClass("wrap_prepare"),$(".pager_wrap").fadeIn(),n=2,r=0,navigator.splashscreen.hide()},300)},300)}),e.beginUse=function(){r.getUserStatus()==s.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?t.path("/home"):i.exchangeWebankToken().then(function(e){return 4&parseInt(e.status)?(r.setUserStatus(s.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),i.getToken()):2&parseInt(e.status)?(r.setUserStatus(s.ACCOUNT_STATE.USER_STATE_LOGIN),i.getToken()):(r.setUserStatus(s.ACCOUNT_STATE.USER_STATE_GUEST),i.reject())},function(){return r.setUserStatus(s.ACCOUNT_STATE.USER_STATE_GUEST),i.reject()}).then(function(e){r.getUserStatus()==s.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?(r.setUserInfo(e),t.path("/home")):t.path("/default/welcome")},function(){t.path("/default/welcome")})}}]);app.controller("ErrorController",["$scope","$location","$stateParams","utils","cgiService","essential","cache","GLOBAL_CONSTANT",function(r,e,c,a,t,o,s,l){r.func={};var n=e.search();n.callStack&&a.reportWebCrash(n.callStack),r.errMsg=n.errMsg,r.errMsg||(r.errMsg="系统繁忙，请稍后重试"),r.func.onClickBackHome=function(){e.path(s.getUserStatus()==l.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?"/home/"+!0:"/")}}]);var gHomeAnimate={};gHomeAnimate.wealthChartOption={chart:{type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0],backgroundColor:"rgba(255, 255, 255, 0)"},credits:{enabled:!1},colors:["#587dd5","#71bbdd","#5e9ddd","#e26153"],plotOptions:{pie:{slicedOffset:0,size:"94%",innerSize:"93%",dataLabels:{enabled:!1}},area:{fillOpacity:0}},title:null,navigator:{enabled:!1},series:[{data:[],borderWidth:0,center:["50%","50%"],dataLabels:{enabled:!1},enableMouseTracking:!1,startAngle:-70.5}]};app.controller("HomeController",["$rootScope","$scope","cgiService","GLOBAL_CONSTANT","homeService","webankCommonService","utils","$location","$http","envService","$timeout","cache","essential","LoginService","$interval","$stateParams","messageService","CheckFaceService","HandPasswordService","TransRecordService","dataService","WebankCardService","MonetaryService","$ionicViewSwitcher","InsuranceProductDetailService","FinancialRecommendService","IncomeHistoryService",function(e,t,o,a,n,r,c,i,l,s,u,d,m,f,y,g,p,h,I,S,C,F,k,T,v,_,P){var D=t.func={},B=t.data={},x=i.search();i.search("");var A=null;x&&(A=x.refresh);var w=!1,R=!0,M=null,J=0,H=0,Y=0,G=0,O=function(){if(!n.getCheckActive()&&"2"==d.getCacheInfo("personalInfo").acct_type)if(h.isFaceIdValid()){var e={};e.face_id=h.getFaceId(),o.requestActiveAccount(e).then(function(){return m.exchangeWebankToken()},function(e){return c.makeToast(e.ret_msg,"short"),m.reject()}).then(function(){return d.setUserStatus(a.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),f.getLoginBankData()},function(){return m.reject()}).then(function(){u(function(){c.makeToast("代发工资账户已可正常使用")},500)})}else t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="您在线下开的代发工资账户，需要通过人脸验证后才能使用",t.data.outValue.twoButtonText1="稍后再说",t.data.outValue.twoButtonText2="人脸验证",t.data.outValue.popClose=function(e){1==e?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="您可以点击左上角 图标－>微众卡－>人脸验证，自行完成验证",t.data.outValue.oneButtonText="知道了",t.data.outValue.popClose=function(){n.setCheckActive(!0)}):2==e&&h.goPage()}},V=function(){if(d.getCacheInfo("StockTotalIncome")){var e=d.getCacheInfo("StockTotalIncome");return e.length>=1&&(B.accumulatedTotalIncome=(parseFloat(B.accumulatedTotalIncome)+parseFloat(e[0].totalEarnings)).toFixed(2)),void o.requestStockTotalIncome()}o.requestStockTotalIncome().then(function(e){tracelog("查询股基累积收益成功"),e.ret_data&&e.ret_data.length>=1&&(B.accumulatedTotalIncome=(parseFloat(B.accumulatedTotalIncome)+parseFloat(e.ret_data[0].totalEarnings)).toFixed(2))},function(){tracelog("查询股基累积收益失败")})},L=function(){if(d.getCacheInfo("IncomeHistory")){var e=d.getCacheInfo("IncomeHistory"),t=new Date;t.setDate(t.getDate()-1);var a=c.getYYYYMMDDStringByDate(t);if(e[a])for(var n in e[a])"0"==e[a][n].prod_type&&(B.yesterdayGJIncome+=parseFloat(e[a][n].income),B.yesterdayTotalIncome=parseFloat(B.yesterdayTotalIncome)+parseFloat(e[a][n].income));B.yesterdayGJIncome=parseFloat(B.yesterdayGJIncome).toFixed(2),parseFloat(B.yesterdayGJIncome)>=0&&(B.yesterdayGJIncome="+ "+B.yesterdayGJIncome),B.yesterdayTotalIncome=parseFloat(B.yesterdayTotalIncome).toFixed(2);var r=new Date,i=c.getYYYYMMDDStringByDate(r),l=new Date;l.setDate(l.getDate()-2);var s=c.getYYYYMMDDStringByDate(l);return void o.requestIncomeHistory(s,i,5)}var r=new Date,i=c.getYYYYMMDDStringByDate(r),l=new Date;l.setDate(l.getDate()-2);var s=c.getYYYYMMDDStringByDate(l);o.requestIncomeHistory(s,i,5).then(function(e){if(e.ret_data){var t=new Date;t.setDate(t.getDate()-1);var o=c.getYYYYMMDDStringByDate(t);if(e.ret_data[o])for(var a in e.ret_data[o])"0"==e.ret_data[o][a].prod_type&&(B.yesterdayGJIncome+=parseFloat(e.ret_data[o][a].income),B.yesterdayTotalIncome=parseFloat(B.yesterdayTotalIncome)+parseFloat(e.ret_data[o][a].income));B.yesterdayGJIncome=parseFloat(B.yesterdayGJIncome).toFixed(2),parseFloat(B.yesterdayGJIncome)>=0&&(B.yesterdayGJIncome="+ "+B.yesterdayGJIncome),B.yesterdayTotalIncome=parseFloat(B.yesterdayTotalIncome).toFixed(2)}},function(){})},E=function(e){var t=r.parseRawWealthData_V2(e);B.totalAmount=parseFloat(t.totalAmount).toFixed(2),B.totalProductAmount=parseFloat(t.totalProductAmount).toFixed(2),B.yesterdayTotalIncome=parseFloat(t.yesterdayTotalIncome).toFixed(2),B.accumulatedTotalIncome=parseFloat(t.accumulatedTotalIncome).toFixed(2);var o=parseFloat(t.BankAmount);B.showBanner=o>100,B.weBankCardAmount=o.toFixed(2),B.showWeBankCard=o>0,o=parseFloat(t.HJAmount),B.hasHJ=o>0,B.HJAmount=parseFloat(o).toFixed(2),o=parseFloat(t.yesterdayHJIncome),B.yesterdayHJIncome=o.toFixed(2),o>=0&&(B.yesterdayHJIncome="+ "+B.yesterdayHJIncome),o=parseFloat(t.BXAmount),B.hasBX=o>0,B.BXAmount=parseFloat(o).toFixed(2),o=parseFloat(t.yesterdayBXIncome),B.yesterdayBXIncome=parseFloat(o).toFixed(2),o>=0&&(B.yesterdayBXIncome="+ "+B.yesterdayBXIncome),o=parseFloat(t.GJAmount),B.hasGJ=o>0,B.GJAmount=parseFloat(o).toFixed(2),o=parseFloat(t.yesterdayGJIncome),B.yesterdayGJIncome=0,J=Math.ceil(parseFloat(t.BankAmount)/parseFloat(B.totalAmount)*100),isNaN(J)&&(J=0),H=Math.ceil(parseFloat(t.HJAmount)/parseFloat(B.totalAmount)*100),isNaN(H)&&(H=0),Y=Math.ceil(parseFloat(t.BXAmount)/parseFloat(B.totalAmount)*100),isNaN(Y)&&(Y=0),G=0==parseFloat(t.GJAmount)?0:100-H-Y-J,O(),V(),L()},b=function(e){e&&(B.avatarUrl=e.picurl||"../img/tx@2x.png")},N=function(){B.showLoading=!1;var e=d.getCacheInfo("wealth");E(e),b(d.getUserInfo()),I.startHandPassword(null)},$=function(){u(function(){c.goToErrorPage(STRING_TABLE.NETWORK_ERROR,a.APP_ERROR_CODE.ERROR_WEALTH_ALL)},2e3);var e={};e.webTimeout="home",Statistics.reportEvent("timeout",e)},X=function(){w=!1,R&&u(function(){navigator.splashscreen.hide()},1e3),R=!1},q=function(e){w||(B.showLoading=void 0==e?!0:e,w=!0,f.getLoginBankData().then(N,$).then(X))},U=function(){p.getRedPoint().then(function(e){B.showMsgDot=e?!0:!1})};B.showStockButton=!1;var W=function(){for(var e in gStockProdCodeToProdDetailInfo){var t=gStockProdCodeToProdDetailInfo[gStockProdCodeToProdDetailInfo[e].onSaleCode],o=gStockProdCodeToProdConfig[gStockProdCodeToProdDetailInfo[e].onSaleCode];o||(o=gStockProdCodeToProdConfig["default"]),"02"!=t.status&&t&&o&&(B.showStockButton=!0)}},j=function(){if(!gProductsShareConfigMap){var e=s.getEnvVariable().DATA_CGI_PREFIX+"shareconf/ShareConf.json",t=l.get(e);t.then(function(e){e.data&&(gProductsShareConfigs=e.data,generateProductsShareConfigMap())},function(){})}},K=null,z=function(){if(void 0==d.getCacheInfo("wealth")||void 0==d.getCacheInfo("personalInfo"))q();else{var e=d.getCacheInfo("wealth");E(e),b(d.getUserInfo()),A&&q(!1),navigator.splashscreen.hide()}gMonetaryOnSaleInfo.length>0&&(M=gMonetaryOnSaleInfo[0],B.HJIncomeRate=parseFloat(M.income_rate).toFixed(2)),U(),K=y(function(){U()},1e5),j(),W()};B.showMsgDot=!1,D.onClickViewMyFinancialProducts=function(){i.path("/myFinancial")},D.onClickSettingsBtn=function(){T.nextDirection("back"),c.clickButtonReport("index_cebianlan"),p.clickRedPoint(),i.path("/accountSettings/home")},D.onClickTransLog=function(){c.clickButtonReport("index_chaxun"),S.goPage("","","all")},D.onClickMyIncomes=function(){c.clickButtonReport("index_shouyi"),P.goPage()},D.onClickFinancialTab=function(){T.nextTransition("none"),c.clickButtonReport("index_finance"),i.path("/financialRecommend")},D.onClickTransferTab=function(){T.nextTransition("none"),c.clickButtonReport("index_transfer"),i.path("/transHome")},D.onClickCommunity=function(){c.clickButtonReport("index_community"),i.path("/community")},D.onClickHomeMiddleBanner=function(){M&&(k.setCallbackPage("monetaryMyProdDetail","home"),i.path("/monetaryMyProdDetailFromHome/"+M.prod_code))},D.onClickWeBankCard=function(){F.goPage()},D.onClickViewMyHJProducts=function(){c.clickButtonReport("index_huoqi"),M&&(k.setCallbackPage("monetaryMyProdDetail","home"),i.path("/monetaryMyProdDetailFromHome/"+M.prod_code))},D.onClickPurchaseHJ=function(){M&&i.path("/monetaryPurchase/"+M.prod_code)},D.onClickViewMyInsurance=function(){c.clickButtonReport("index_dingqi"),i.path("/myFinancial")},D.onClickPurchaseInsurance=function(){c.clickButtonReport("index_dingqi_purchase");for(var e=[],t=0;t<gOnSaleInfo.length;t++)if(0!=gOnSaleInfo[t].products.length&&void 0!=gInsuranceOnSaleCodeToProdConfig[gOnSaleInfo[t].on_sale_code]&&(!gOnSaleInfo[t].trans_status||"02"!=gOnSaleInfo[t].trans_status)){var o=r.getCurrentProdBySaleCode(gOnSaleInfo[t].on_sale_code);o?(o.notToday=0,e.push(o)):(o=r.getNextProdByCurrentSaleCode(gOnSaleInfo[t].on_sale_code),o||(o=r.getLastProdByCurrentSaleCode(gOnSaleInfo[t].on_sale_code)),o&&(o.notToday=1,e.push(o)))}e.length>0?(e.sort(function(e,t){return e.notToday>t.notToday?!0:t.incomeRate-e.incomeRate}),v.goPage(e[0].onSaleCode)):i.path("/financialRecommend")},D.onClickViewMyStockProducts=function(){c.clickButtonReport("index_guji"),i.path("/myFinancial/stock")},D.onClickPurchaseStockProducts=function(){B.showStockButton&&(c.clickButtonReport("index_guji_purchase"),_.setData({src:"homeStock"}),i.path("/financialRecommend"))},D.onClickViewMyProducts=function(){i.path("/myFinancial")};var Q=!1;D.back=function(){Q?navigator.app.exitApp():(Q=!0,c.makeToast("再按一次退出微众银行","short","bottom"),u(function(){Q=!1},2500))},z(),t.$on("$destroy",function(){K&&y.cancel(K),K=null})}]);app.controller("AccountSettingsController",["$scope","$timeout","$location","GLOBAL_CONSTANT","homeService","essential","utils","cgiService","$RSA","cache","messageService","LoginService","$stateParams","RegisterService","riskAssessmentService","BindInfoService","ManagePasswordService","TransRecordService","WebankCardService","$ionicViewSwitcher","CheckFaceService","AboutService","HelpService",function(e,n,t,i,o,c,a,r,s,l,u,g,p,k,S,f,d,_,C,m,A,T,B){e.data={},e.data.showPanel=!1,e.logout=function(){a.clickButtonReport("cebianlan_logout"),e.data.showPanel=!0},e.onClickSure=function(){a.clickButtonReport("mine_logout"),c.logout().then(function(){l.clear(),l.setUserStatus(i.ACCOUNT_STATE.USER_STATE_GUEST);var n={};n.username="",n.picurl="../img/tx@2x.png",n.platform="",n.openid="",n.token="",l.setUserInfo(n),e.personalNameMask="",A.setFaceId(void 0),A.setEcif(void 0),t.path("/default")},function(){})},e.onClickBingdingCardMngBtn=function(){a.clickButtonReport("mine_card"),t.path("/bindingCardMng")},e.onClikcRecord=function(){_.goPage()},e.onClickAboutBtn=function(){a.clickButtonReport("cebianlan_women"),T.goPage()},e.onClickPlansBtn=function(){a.clickButtonReport("mine_plan"),t.path("/plan")},e.onClickTransLogBtn=function(){a.clickButtonReport("mine_query"),t.path("/translog/all")},e.onClickCard=function(){a.clickButtonReport("cebianlan_webankcard"),C.goPage()},e.onClickBingdingInfoBtn=function(){a.clickButtonReport("cebianlan_info"),f.goPage()},e.onClickPasswdMngBtn=function(){a.clickButtonReport("cebianlan_password"),d.goPage()};var h={riskLevel:-1,riskDescrip:"未评估"};e.onClickRiskAssessmentBtn=function(){a.clickButtonReport("cebianlan_fengxian"),S.setData({}),S.setQuery(h),S.goPage()},e.onClickHead=function(){e.isLogin?e.isOpenAccount?t.path("/settingInfo"):(a.clickButtonReport("cebianlan_weikaihu_kaihu"),e.register()):(a.clickButtonReport("cebianlan_denglu"),e.login())},e.onClickMessageCenter=function(){a.clickButtonReport("cebianlan_message"),u.goPage()},e.back=function(){m.nextDirection("forward");var e=l.getUserStatus();if(e&&e!=i.ACCOUNT_STATE.USER_STATE_GUEST&&e!=i.ACCOUNT_STATE.USER_STATE_LOGIN){var n=p.originPage;t.path(n?"/"+n:"/home")}else t.path("/default")},e.login=function(){a.clickButtonReport("mine_login"),g.setCallbackPage("accountSettings","accountSettings"),t.path("/login")},e.register=function(){a.clickButtonReport("mine_openaccount"),k.setCallbackPage("accountSettings","accountSettings"),t.path("/register")},e.onClickSupportBtn=function(){a.clickButtonReport("mine_support"),t.path("/support")},e.onClickHelpCenterBtn=function(){a.clickButtonReport("cebianlan_denglu"),B.goPage()},e.isModifyPwdShow=!0,e.isSetPwdShow=!0,e.isVerifyPwdShow=!0,e.personalNameMask="",l.getUserInfo()&&(e.nickName=l.getUserInfo().username,e.headImg=l.getUserInfo().picurl||"../img/tx@2x.png");var v={};if(v.headImg=e.headImg?"ok":"error",Statistics.reportEvent("HeadImg",v),e.faceVery=!1,l.getUserStatus()==i.ACCOUNT_STATE.USER_STATE_LOGIN)e.isLogin=!0,e.isOpenAccount=!1;else{if(l.getUserStatus()!=i.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT)return e.isLogin=!1,void(e.isOpenAccount=!1);e.isLogin=!0,e.isOpenAccount=!0}if(e.isOpenAccount){var R=l.getCacheInfo("assessment");R?(e.accessStr=gRiskArr[R.cust_risk_level],h.riskLevel=R.cust_risk_level,h.riskDescrip=gRiskArr[R.cust_risk_level]):e.accessStr="未评估",e.unreadMessageNum=0,u.getUnreadMessageNum().then(function(n){e.unreadMessageNum=n},function(){e.unreadMessageNum=0});var U=l.getCacheInfo("personalInfo");null!=U&&(e.webankCardNum=U.webank_card_no,e.personalNameMask=U.name)}}]);app.controller("UnbindOpenIDController",["$scope","utils","GLOBAL_CONSTANT","homeService","$location","$timeout","cgiService","essential","cache","webankCommonService","UnbindOpenIDService","LoginService","ResetPasswdService",function(e,t,o,n,i,a,u,l,s,c,r,p,w){e.isPwdShow=!1,e.sigOnPwdCommit=0,e.headImg=s.getUserInfo().picurl||"../img/tx@2x.pngs";var g=r.getData().weixinQQ;e.plat="qq"==g.plat?"绑定QQ号":"绑定微信号",1*g.status==1?(e.showUnbind=1,e.showText=g.str,e.headImg=g.picurl?g.picurl:"qq"==g.plat?"../img/slice/a-39@2x.png":"../img/slice/a-38@2x.png"):(e.showUnbind=0,e.showText="qq"==g.plat?"绑定QQ号，可以用QQ号登陆，参与话题讨论找到使用微众银行的QQ好友":"绑定微信号，可以用微信号登陆，参与话题讨论找到使用微众银行的微信好友",e.headImg="qq"==g.plat?"../img/slice/a-39@2x.png":"../img/slice/a-38@2x.png"),e.onClickBind=function(){l.logout().then(function(){s.clear(),s.setUserStatus(o.ACCOUNT_STATE.USER_STATE_GUEST);var t={};t.username="",t.picurl="../img/tx@2x.png",t.platform="",t.openid="",t.token="",s.setUserInfo(t),e.personalNameMask="",p.goPage(null,null,{unbindCallBack:d,plat:g.plat})},function(){})};var d=function(){};e.showPanel=!1,e.$watch("sigOnPwdCommit",function(t,o){t!==o&&(e.isPwdShow=!1,m())}),e.onClickUnbind=function(){t.clickButtonReport("qq"==g.plat?"info_qq_unbind":"info_wechat_unbind"),e.isPwdShow=!0,e.pwdSubTitle="解绑账号",e.showPanel=!1},e.onClickMenu=function(){t.clickButtonReport("qq"==g.plat?"info_qq_more":"info_wechat_more"),e.showPanel=!0},e.onClickCancel=function(){e.showPanel=!1};var m=function(){var n={};n.user_pwd=e.vm.formData.confirmPassword.RSA,u.requestUnbindOpenID(n).then(function(){t.makeToast("解绑成功"),a(function(){l.logout().then(function(){s.clear(),s.setUserStatus(o.ACCOUNT_STATE.USER_STATE_GUEST);var e={};e.username="",e.picurl="../img/tx@2x.png",e.platform="",e.openid="",e.token="",s.setUserInfo(e),i.path("/default")})},1e3)},function(o){c.isRetCodePwd(o.ret_code)?c.isRetCodePwdRetry(o.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=o.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&w.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=o.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&w.goPage()}):t.makeToast("解绑失败","short")})};e.back=function(){r.backPage()}}]);app.controller("CheckFaceController",["$scope","$location","GLOBAL_CONSTANT","essential","utils","$timeout","CheckFaceService","BindNewCardService","cgiService",function(e,a,t,c,n,o,i,r,u){e.showTips=function(){if(i.getFailedCount()>=3){if(i.getParentHash().search("bindNewCard")>0)return!1;if(3==i.getFailedCount()){i.addFailedCount();var e={};e.module_id="faceid_failed3",e.data_list=[];var a={};a.ecif_no=i.getEcif(),e.data_list.push(a),u.requestReportError(e).then(function(){},function(){})}return!0}},e.check_face=function(){c.checkFace(i.getEcif()).then(function(t){if("0"==t.errorCode){var c=new Date;i.setFaceId(t.bizSeqNo,c),i.resetFailedCount(),o(function(){n.makeToast("人脸验证通过","short")},500),i.getParentHash().search("bindNewCard")>0?i.backPage():i.backPage({back:!0,faceId:t.bizSeqNo})}else"6"==t.errorCode||("7"==t.errorCode||"8"==t.errorCode?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="请在设备的设置中，允许微众银行访问麦克风和相机",e.outValue.oneButtonText="知道了",e.outValue.popClose=function(e){}):(i.addFailedCount(),a.path("/checkFaceFailed")))},function(){a.path("/checkFaceFailed")})},e.call_phone=function(){navigator.callphone.call(function(){},function(){},4009998877)},e.back=function(){i.getParentHash().search("bindNewCard")>0?a.path(r.getParentHash()):i.backPage({back:!0})},e.check_face_again=function(){a.path("/checkFace"),e.check_face()}}]);app.controller("IncomeHistoryController",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","IncomeHistoryService","$timeout",function(e,o,t,a,n,r,i,c,l){var d=e.data={},s=e.func={},m=a.getCacheInfo("wealth"),p=n.parseRawWealthData_V2(m);d.totalIncome=parseFloat(p.accumulatedTotalIncome)>=0?"+"+parseFloat(p.accumulatedTotalIncome).toFixed(2)+"元":parseFloat(p.accumulatedTotalIncome).toFixed(2)+"元",d.incomeHistory=[];var u=new Date,f=new Date;d.itemCls={},d.detailCls={};var h={},g=function(){for(var e=0;e<m.financial_products.length;++e)if(m.financial_products[e].prod_type==r.PROD_TYPE.BX){var o=m.financial_products[e],t=gProdCodeToProdDetailInfo[o.prod_code],a={},i=n.parseRawWealthDataForBXProduct(m,o.prod_code);a.prodName=t?t.onSaleDesc+"("+t.valueDate.substr(4,4)+")":"理财产品",a.accumulateIncome=i.accumulatedIncome,a.everyDataIncome=i.yestodayIncome,h[o.prod_code]=a}},F=function(){if(a.getCacheInfo("StockTotalIncome")){var e=a.getCacheInfo("StockTotalIncome");return e.length>=1&&(d.totalIncome=(parseFloat(d.totalIncome)+parseFloat(e[0].totalEarnings)).toFixed(2)),void o.requestStockTotalIncome()}o.requestStockTotalIncome().then(function(e){tracelog("查询股基累积收益成功"),e.ret_data&&e.ret_data.length>=1&&(d.totalIncome=(parseFloat(d.totalIncome)+parseFloat(e.ret_data[0].totalEarnings)).toFixed(2))},function(){tracelog("查询股基累积收益失败")})},y=function(){d.showLoading=!0,l(function(){d.showLoading=!1},15e3),g(),F()};u.setDate(u.getDate()-90);var I=t.getYYYYMMDDStringByDate(u),v=t.getYYYYMMDDStringByDate(f),D=[],C=0,T=0;o.requestIncomeHistory(I,v).then(function(e){d.showLoading=!1;for(var o in e.ret_data){var a={};a.date=o,a.dayIncome=0,a.products=[];var n=e.ret_data[o];for(var i in n){var c={};if(c.prodName=n[i].prod_name,n[i].prod_type==r.PROD_TYPE.HJ)c.prodName="",c.prodType="HJ";else if(n[i].prod_type==r.PROD_TYPE.GJ){var l=gStockProdCodeToProdDetailInfo[n[i].prod_code];c.prodName=l?l.onSaleDesc:"理财产品"}c.income=parseFloat(n[i].income),a.dayIncome+=c.income,c.income=parseFloat(c.income)>=0?"+"+parseFloat(c.income).toFixed(2):parseFloat(c.income).toFixed(2),a.products.push(c)}for(var s in h){var m=gProdCodeToProdDetailInfo[s];if(m){var p=m.valueDate;if(!(p>o)){var u=h[s],c={};c.prodName=u.prodName,c.income=u.everyDataIncome,a.dayIncome=parseFloat(a.dayIncome)+parseFloat(u.everyDataIncome),c.income=parseFloat(c.income)>=0?"+"+parseFloat(c.income).toFixed(2):parseFloat(c.income).toFixed(2),a.products.push(c)}}}a.dayIncome=parseFloat(a.dayIncome).toFixed(2),d.itemCls[o]="off",d.detailCls[o]="dw",d.incomeHistory.push(a);var f=[];f.push(t.getUTCMsByYYYYMMDDString(o)),f.push(parseFloat(a.dayIncome)),D.push(f)}d.incomeHistory.sort(function(e,o){return o.date-e.date}),D.sort(function(e,o){return o[0]-e[0]});var g=[],F=Math.min(7,D.length);for(D.length>0&&(C=T=D[0][1]);F>0;)g.push(D[F-1]),C>D[F-1][1]&&(C=D[F-1][1]),T<D[F-1][1]&&(T=D[F-1][1]),F--},function(){d.showLoading=!1,t.makeToast(STRING_TABLE.DEFAULT_ERR_DESC)}),s.onClickHistoryItem=function(e){d.itemCls[e]="off"==d.itemCls[e]?"on":"off",d.detailCls[e]="dw"==d.detailCls[e]?"up":"dw"},d.chartOptions={chart:{type:"areaspline",pinchType:"",zoomType:"",backgroundColor:"#445c95"},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},series:[{name:"",data:D,color:"#F7F7F7",lineWidth:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.Color("#F7F7F7").setOpacity(.4).get("rgba")],[1,Highcharts.Color("#F7F7F7").setOpacity(0).get("rgba")]]}}],yAxis:{labels:{enabled:!1},gridLineWidth:0,plotLines:[{color:"#F7F7F7",width:.5}]},xAxis:{type:"datetime",lineWidth:0,labels:{format:"{value:%m.%d}",align:"center",style:{color:"#b3bacf",fontWeight:"light"}},ordinal:!0,tickWidth:1,tickLength:5,showLastLabel:!0,tickPositioner:function(){return this.ordinalPositions},gridLineWidth:1,gridLineColor:"#314983"},tooltip:{formatter:function(){return this.y},crosshairs:{color:"#F2A27E"}},plotOptions:{areaspline:{fillOpacity:.5,enableMouseTracking:!0,pointPlacement:"between",lineWidth:2,allowPointSelect:!1,marker:{enabled:!0,radius:3}}}},s.back=function(){c.backPage()},y()}]);app.controller("HelpController",["$scope","$location","$stateParams","utils","HelpService",function(t,i,r,e,l){t.srcData=[{title:"“活期+”“定期+”等产品是否为微众银行提供？",detail:["“活期+”“定期+”等产品为微众银行代销或直销合作金融机构的产品，不是微众银行自主创设的理财产品，也不是存款产品。"]},{title:"你们银行有什么安全保障的措施吗，比如密保，U盾之类的？",detail:["您好，我行有着非常健全完善的风险控制系统，同时APP端也会有密码保护，这些都可以有效为您的资金提供安全保证，同时我行的人脸识别技术也有独特的安全保护，您可以放心使用！"]},{title:"按照要求尝试了多次仍然不能通过人脸验证，我该如何操作？",detail:["可以尝试通过以下方式提高：<br>                1、保持光线充足和均匀<br>        2、摘掉眼镜<br>        3、露出耳朵<br>        4、选择安静的环境<br>        若上述步骤不能得到解决，请联系客服400-999-8877。"]},{title:"如何绑定和解除银行卡？",detail:["在“转账”一栏中的管理银行卡旁点击添加银行卡，即可按照提示引导添加银行卡。<br><br>                点击银行卡查看详情时，点击右上方…，按照指引即可解除绑定银行卡"]},{title:"如何从他行转账汇款至微众卡？",detail:["您可以通过包括“工农中建交”在内的全国共1600余家银行的柜面、网银向微众银行进行转账汇款。转账时，请准确填写转账金额、您本人的姓名和微众卡号（在首页点击左上角个人头像即可查看），并注意选择开户行：深圳前海微众银行。您从他行网银转账选择开户行时，以下操作指引可供参考。如您通过他行转账时，无法找到我行信息，可随时与我行客服联系，电话400-999-8877。<br><br>                工商银行：暂仅支持实时转账。开户行直接选择“民营银行”，默认为“深圳前海微众银行”，资金实时到账。<br><br>                农业银行：暂仅支持普通转账。在“其他金融机构”中，选择“深圳市”，手工输入“深圳前海微众银行”。<br><br>                中国银行：普通转账时在“其他银行”中，输入关键字“微众”，可以查找到“深圳前海微众银行”；实时转账时直接在S栏列表选择“深圳前海微众银行”。<br><br>                建设银行：普通转账时在“转账汇款-跨行转账-建行转他行”中，直接在字母S栏列表选择“深圳前海微众银行”；实时转账时在“转账汇款-跨行转账-建行转他行（加急）”中，直接选择“深圳前海微众银行”。<br><br>                交通银行：暂仅支持银行柜面操作。<br><br>                邮储银行：普通转账时在“跨行汇款-普通”中，直接选择“深圳前海微众银行”；实时转账时在“跨行汇款-实时”中，直接选择“深圳前海微众银行”。<br><br>                招商银行：普通转账时在“普通”和“快速”中，选择“广东-深圳”，选择“深圳前海微众银行”；实时转账时在“实时”中，直接选择字母S栏“深圳前海微众银行”。<br><br>                平安银行：普通转账时在“普通”和“加急”中，选择“民营银行-广东-深圳”，直接选择“深圳前海微众银行”；实时转账时在“实时”中，直接选择“深圳前海微众银行”。<br><br>                中信银行：暂仅支持普通转账，在“转账支付-跨行转账-小额转账、大额转账”中，输入广东、深圳、民营银行，输入关键字微众，可搜出深圳前海微众银行。<br><br>                光大银行：普通转账和实时转账时在“其他银行”中，输入关键字“微众”，可以查找到“深圳前海微众银行”。<br><br>                华夏银行：普通转账和实时转账时直接选择“深圳前海微众银行”。<br><br>                民生银行：普通转账时在“跨行转账-小额实时支付和大额实时支付”中，选择行别“民营银行”，输入省别/地区“深圳市”，直接选择“深圳前海微众银行”；实时转账时，在“跨行转账-网银互联”中，直接选择“深圳前海微众银行”。<br><br>                广发银行：普通转账时，在“普通”中，选择“深圳前海微众银行-广东-深圳”，直接选择“深圳前海微众银行”；实时转账时，在“实时”中，直接选择“深圳前海微众银行”。<br><br>                兴业银行：普通转账时，在“普通跨行”中，选择“根据关键字查银行”，依次输入“广东、深圳、微众”，可以查找到“深圳前海微众银行”；实时转账时，在“实时跨行-其他银行-民营银行”中，选择“深圳前海微众银行”。<br><br>                浦发银行：暂仅支持银行柜面操作。<br><br>"]},{title:"密码错误次数过多，帐号被锁定，我该怎么办？",detail:["为保证您的帐号安全，不被他人冒用，当您的密码输入次数过多，导致帐号被锁定时，您需要等到次日帐号解锁后才可以继续使用。"]},{title:"忘记交易密码怎么办？",detail:["在要求您输入交易密码的页面，选择“忘记密码”，然后按照指引输入您的个人信息，验证您的身份，即可重置您的交易密码。"]},{title:"为什么会提示我超出了银行卡限额？",detail:["您的银行卡发卡行会对您的银行卡单日支出和单笔支出金额设置上限，每家银行和每位用户个人的设置不同，导致上限不一样，如需咨询或者调整，请致电您的发卡银行客服电话。"]},{title:"什么是七日年化收益率？",detail:["7日年化收益率，是货币基金以最近7天的收益而折算成的一个年化的收益率，其计算公式如下：7日年化收益率＝【（（ΣRi/7）*365）/10000】*100%  （其中：Ri为最近第i自然日（包括计算当日，i=1,2……7）的每万份收益，7 日年化收益率采取四舍五入方式保留小数点后三位。），它是一个年化了的收益指标，可以大概估算出货币基金的年收益率。"]},{title:"如何查询我的帐户的交易流水？",detail:["在微众银行App左上角点击头像进入个人中心，点击交易记录一栏，可查看您的所有交易流水。"]},{title:"对我的交易流水有疑问，怎样可以核实？",detail:["对您的交易流水有疑问，可以致电客服了解详细信息，客服电话400-999-8877。"]},{title:"计划能保证一定成功执行吗？失败了怎么办？",detail:["计划的执行可能会失败，比如您设置考虑每月从货币基金中赎回2000元到您绑定的一张银行卡，但当计划到期时，您购买的货币基金不足2000元，则可能导致计划失败。<br><br>                若计划执行失败后，您可以手动进行交易操作。计划还是一样存在的（每月一次）。"]},{title:"可以修改我绑定的手机号吗？如何修改？",detail:["点击首页左上角进入个人中心，再点击个人信息的手机号一栏，按照指引即可修改绑定的手机号码。"]},{title:"只能使用QQ或者微信登录吗，是否可以使用其他方式登录？",detail:["目前微众银行只提供QQ或者微信登录，当您忘记您的登录帐号时，可以在登录界面点击底部的“无法登录”，按照要求输入您的帐户信息之后，即可验证交易密码登录。"]},{title:"忘记手势密码该怎么办？",detail:["在输入手势密码的页面，选择“忘记手势密码”，验证完交易密码后将会重新设置手势密码。"]}];var b=r.index;void 0!=b&&(t.detail=t.srcData[b]),t.onClickItem=function(t){e.clickButtonReport("help_"+t),i.path("/helpDetail/"+t)},t.onClickPhone=function(){navigator.callphone.call(function(){},function(){},4009998877)},t.ifPhone=!0,t.back=function(){i.path().search("Detail")>0?i.path("/help"):l.backPage()}}]);app.controller("AgreementController",["$scope","$location","$stateParams","AgreementService",function(e,t,n,r){e.currentType=n.type||0,e.agreementTitle=["","账户服务协议","委托扣款协议","微众银行服务协议","微众银行隐私政策"],e.showAgreement=function(t){return 1*e.currentType==1*t},e.onclickAgreement=function(){t.path("/agreementDetail/4")},e.back=function(){1*e.currentType==4?t.path("/agreementDetail/3"):r.backPage()}}]);app.controller("InfoPhoneController",["$scope","cgiService","utils","InfoResetPhoneService","cache","$rootScope","webankCommonService","InfoPhoneService","CheckFaceService","ResetPasswdService",function(e,o,t,n,a,u,l,c,i,r){e.onClickChange=function(){if(t.clickButtonReport("info_phone_unbind"),f){var o=i.getFaceId();i.isFaceIdValid()?n.goPage(null,null,{faceId:o}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="需要先通过人脸验证，是否继续？",e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="立即验证",e.outValue.popClose=function(e){2==e&&i.goPage(null,null,{src:"phone"})})}else e.isPwdShow=!0,e.pwdSubTitle="验证身份"};var s=function(){var a={};a.user_old_pwd=e.vm.formData.confirmPassword.RSA,a.user_pwd=a.user_old_pwd,o.requestVerifyPassword(a).then(function(){n.goPage(null,null,{pwd:e.vm.formData.confirmPassword.RSA})},function(o){l.isRetCodePwd(o.ret_code)?l.isRetCodePwdRetry(o.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=o.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(o){1==o?e.isPwdShow=!0:2==o&&r.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=o.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&r.goPage()}):t.makeToast(o.ret_msg)})};e.$watch("sigOnPwdCommit",function(o,t){o!==t&&(e.isPwdShow=!1,s())});var f=!1,d=a.getCacheInfo("personalInfo");if(d&&d.acct_type&&1*d.acct_type==4&&(f=!0),f){var w=i.getFaceId();if(i.isFaceIdValid()){var p=i.getData()&&i.getData().src;"phone"==p&&(i.getData().src=null,n.goPage(null,null,{faceId:w}))}}var d=a.getCacheInfo("personalInfo");d&&(e.showText=d.phone_no),e.back=function(){c.backPage()}}]);app.controller("InfoResetPhoneController",["$scope","cgiService","utils","$timeout","$location","riskAssessmentService","cache","$rootScope","InfoResetPhoneService","essential","GLOBAL_CONSTANT",function(e,t,n,a,r,o,i,u,d,s,c){var m=1,h=!0;e.data={},e.showStep=function(e){return m==e};var p=null;d.getData()&&d.getData().pwd&&(p=d.getData().pwd);var f=d.getData(),N="";f&&f.faceId&&(N=f.faceId,d.setData(null),m=2,h=!0);var g="",C=i.getCacheInfo("personalInfo");C&&(g=C.phone_no),e.classNextBtn=function(){return h?"btn-c off":"btn-c"},e.onClickNext=function(){if(1==m){if(!n.isValidName(e.data.regName))return;if(!n.isValidIDCardNumber(e.data.regIDCard))return;var a={personal_name:e.data.regName,personal_identify_no:e.data.regIDCard.toUpperCase()};t.requestUserinfoCheck(a).then(function(){m++,h=!0},function(){n.makeToast("该身份与账户身份不符，请重新填写","short"),h=!0})}else if(2==m){if(!n.isValidPhoneOtpNumber(e.data.regPhoneCheckNumber))return;if(g&&g==e.data.phoneNumber)return void n.makeToast("与原手机号一样，请重新输入","short");var a={};N?(a.face_id=N,a.phone_no=e.data.phoneNumber,a.phone_check_num=e.data.regPhoneCheckNumber):(a.personal_name=e.data.regName,a.personal_identify_no=e.data.regIDCard.toUpperCase(),a.phone_no=e.data.phoneNumber,a.phone_check_num=e.data.regPhoneCheckNumber,a.user_pwd=p),t.requestModifyPhone(a).then(function(){n.makeToast("绑定手机号成功","short"),i.getCacheInfo("personalInfo").phone_no=e.data.phoneNumber,d.backPage()},function(e){n.makeToast(e.ret_msg,"short"),d.backPage()})}},e.showTitle=function(){return["","验证身份","绑定新手机号"][m]},e.changeName=function(){if(e.inputNameTipsContent="",h=!0,e.data.regName&&""!=e.data.regName){var t=n.isValidNameInput(e.data.regName);"fail"==t?e.inputNameTipsContent="请输入真实姓名":"finish"==t&&T()}},e.changeIDCard=function(){if(e.inputIDCardTipsContent="",h=!0,e.data.regIDCard&&""!=e.data.regIDCard){var t=n.isValidIDCardInput(e.data.regIDCard);"fail"==t?e.inputIDCardTipsContent="身份证号不正确，快检查检查":"finish"==t&&(n.isValidIDCardNumber(e.data.regIDCard)?T():e.inputIDCardTipsContent="身份证号不正确，快检查检查")}},e.changePhone=function(){if(e.inputPhoneTipsContent="",h=!0,e.data.phoneNumber&&""!=e.data.phoneNumber){var t=n.isValidPhoneInput(e.data.phoneNumber);"fail"==t?e.inputPhoneTipsContent="请使用真实电话，方便接收正确验证码":"finish"==t&&T()}},e.changeOtp=function(){if(e.inputOtpTipsContent="",h=!0,e.data.regPhoneCheckNumber&&""!=e.data.regPhoneCheckNumber){var t=n.isValidPhoneOtpInput(e.data.regPhoneCheckNumber);"fail"==t?e.inputOtpTipsContent="验证码不正确":"finish"==t&&T()}},e.checkTimeoutButton=!0,e.onGetOTP=function(){if(!l){if(!n.isValidPhoneNumber(e.data.phoneNumber))return void n.makeToast(STRING_TABLE.INVALID_PHONE_NO);s.readSMSVerifyCode().then(function(t){e.data.regPhoneCheckNumber=t.smsCode,T()});var r={};r.phone_no=e.data.phoneNumber,r.usage_id=c.OPT_TYPE.BIND_NEW_PHONE,l=!0,t.requestRegisterOTP(r).then(function(){e.checkTimeoutButton=!1,e.checkNumTimeout=60,document.addEventListener("pause",o,!1),document.addEventListener("resume",i,!1),u(),l=!1},function(e){n.makeToast(e.ret_msg),l=!1});var o=function(){var t=new Date;e.pausetime=t.getTime()},i=function(){var t=new Date;e.resumetime=t.getTime(),e.checkNumTimeout-=Math.round((e.resumetime-e.pausetime)/1e3),e.checkNumTimeout<0&&(e.checkNumTimeout=0)},u=function(){return e.checkNumTimeout-=1,e.checkNumTimeout<=0?(e.checkTimeoutButton=!0,document.removeEventListener("pause",o,!1),void document.removeEventListener("resume",i,!1)):void a(function(){u()},1e3)}}};var l=!1;e.classOtpBtn=function(){return l?"register-yz-btn off":"register-yz-btn"};var T=function(){1==m?n.isValidName(e.data.regName)&&n.isValidIDCardNumber(e.data.regIDCard)&&(h=!1):2==m&&n.isValidPhoneNumber(e.data.phoneNumber)&&n.isValidPhoneOtpNumber(e.data.regPhoneCheckNumber)&&(h=!1)};e.back=function(){d.backPage()}}]);app.controller("BindInfoController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","cache","essential","UnbindOpenIDService","ChangePasswdService","webankCommonService","InfoPhoneService","BindInfoService",function(e,n,i,o,t,r,u,c,s,a,Q,f,w){e.weixinQQ={weixin:{plat:"weixin",status:0,str:"",picurl:"",uid:""},qq:{plat:"qq",status:0,str:"",picurl:"",uid:""}};var p=u.getUserInfo().platform;e.weixinQQ[p]&&(e.weixinQQ[p].status=1,e.weixinQQ[p].str=u.getUserInfo().username,e.weixinQQ[p].picurl=u.getUserInfo().picurl||"../img/tx@2x.png",e.weixinQQ[p].token=u.getUserInfo().token,e.weixinQQ[p].uid=u.getUserInfo().openid),r.requestQueryRegUids().then(function(n){n&&$.each(n,function(n,i){e.weixinQQ[i.uid_type]&&(e.weixinQQ[i.uid_type].uid=i.uid,e.weixinQQ[i.uid_type].status=1)})},function(){}),e.showWeixin=function(){return"weixin"==p?!0:!1},e.showQQ=function(){return"qq"==p?!0:!1},e.onClickBindAccount=function(n){t.clickButtonReport("qq"==n?"info_qq":"info_wechat"),e.weixinQQ[n]&&s.goPage("","",{weixinQQ:e.weixinQQ[n]})},e.bindPhoneNumber="";var x=u.getCacheInfo("personalInfo");if(x){var g=x.phone_no;e.bindPhoneNumber=g}e.onClickPhone=function(){t.clickButtonReport("info_phone"),f.goPage()},e.isInReview=!1,-1!=navigator.userAgent.indexOf("iPhone")&&c.getVersionInReview().then(function(n){"true"==n.isVersionInReview&&(e.isInReview=!0)}),e.back=function(){w.backPage()}}]);app.controller("ManagePasswordController",["$scope","$location","utils","cgiService","ChangePasswdService","webankCommonService","ResetPasswdService","ManagePasswordService","cache","HandPasswordService",function(o,e,t,a,n,s,u,r,i,w){const c="CLICK_HANDPASSRESET";var d="";o.isPwdShow=!1,o.onClickPasswdMngBtn=function(){t.clickButtonReport("password_change"),o.pwdSubTitle="修改交易密码",o.isPwdShow=!0};var l=function(){var e={};e.user_old_pwd=o.vm.formData.confirmPassword.RSA,e.user_pwd=e.user_old_pwd;var r=e.user_old_pwd;a.requestVerifyPassword(e).then(function(){d==c?w.goPage(w.getSettingHandPara(r)):n.goPage(o.vm.formData.confirmPassword.originPwd)},function(e){s.isRetCodePwd(e.ret_code)?s.isRetCodePwdRetry(e.ret_code)?(o.outValue={},o.outValue.showPop=!0,o.outValue.oneLineTextLeft=e.ret_msg,o.outValue.twoButtonText1="重试",o.outValue.twoButtonText2="忘记密码",o.outValue.popClose=function(e){1==e?o.isPwdShow=!0:2==e&&u.goPage()}):(o.outValue={},o.outValue.showPop=!0,o.outValue.oneLineTextLeft=e.ret_msg,o.outValue.twoButtonText1="取消",o.outValue.twoButtonText2="忘记密码",o.outValue.popClose=function(o){1==o||2==o&&u.goPage()}):t.makeToast(e.ret_msg)})};o.$watch("sigOnPwdCommit",function(e,t){e!==t&&(o.isPwdShow=!1,l())}),o.onClickPasswdResetBtn=function(){t.clickButtonReport("password_reset"),u.goPage()},o.onClickHandPasswdResetBtn=function(){t.clickButtonReport("password_gesture"),d=c,o.pwdSubTitle="修改手势密码",o.isPwdShow=!0},o.back=function(){r.backPage()}}]);app.controller("CheckPhoneController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","$stateParams","$RSA","cache","essential","ChangePasswdService","CheckPhoneService",function(e,t,o,n,i,u,r,a,c,m,s,h){var f=(h.getData()&&h.getData().pwd||"",0),l=c.getCacheInfo("personalInfo");l&&(f=l.phone_no||0,e.phoneNumber=1*(f||""),i.isValidPhoneNumber(l.phone_no)&&t(function(){e.onGetOTP()},200)),e.isPwdKeyboardShow=!1,e.otpTimeOutShow=!0,e.data={},e.otpButtonController="btn";var p=function(){e.otpButtonController="btn off",t(d,2e3)},d=function(){e.otpButtonController="btn"};e.loginButtonController="btn-c";var N=function(){e.loginButtonController="btn-c off",t(T,2e3)},T=function(){e.loginButtonController="btn-c"},b=function(){var t=new Date;e.pausetime=t.getTime()},v=function(){var t=new Date;e.resumetime=t.getTime(),e.checkNumTimeout-=Math.round((e.resumetime-e.pausetime)/1e3),e.checkNumTimeout<0&&(e.checkNumTimeout=0)},C=function(){return e.checkNumTimeout-=1,e.checkNumTimeout<=0?(e.otpTimeOutShow=!0,document.removeEventListener("pause",b,!1),void document.removeEventListener("resume",v,!1)):void t(function(){C()},1e3)};e.onGetOTP=function(){if("btn off"!=e.otpTimeOutShow){if(p(),!i.isValidPhoneNumber(e.phoneNumber))return void i.makeToast(STRING_TABLE.INVALID_PHONE_NO);m.readSMSVerifyCode().then(function(t){e.data.placeOtp=t.smsCode,e.data.otp=t.smsCode});var t={};t.phone_no=e.phoneNumber,u.requestRegisterOTP(t).then(function(){e.otpTimeOutShow=!1,e.checkNumTimeout=60,document.addEventListener("pause",b,!1),document.addEventListener("resume",v,!1),C()},function(e){i.makeToast(e.ret_msg,"short")})}},e.onClickNext=function(){if("btn-c off"!=e.loginButtonController){if(N(),!i.isValidPhoneNumber(e.phoneNumber))return void i.makeToast(STRING_TABLE.INVALID_PHONE_NO);if(!i.isValidPhoneOtpNumber(e.data.otp))return void i.makeToast(STRING_TABLE.INVALID_OTP);h.setData({phone:e.phoneNumber,otp:e.data.otp}),h.backPage()}},e.back=function(){h.backPage()}}]);app.controller("AnnouncementController",["$scope","AnnouncementService","utils","dataService","localStorageService","cache","envService",function(e,t,n,o,a,c,r){var i=t.getData(),l=i&&i.code||!1,s=i&&i.type||0,u=function(){t.backPage({back:!0,type:0})};l||u();var d=function(e,t){var n="";return e&&e.length>=8&&(n+=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2),t&&t.length>=6&&"000000"!=t&&(n+=" "+t.substr(0,2)+":"+t.substr(2,2))),n};e.strHead="产品特殊公告";var b=r.getEnvVariable().DATA_NOTICE;o.getBuyNotice({code:l}).then(function(t){if(t&&t.length>0){var n=t[0];e.strTitle=n.notice_title,e.strDesc=n.notice_desc,e.pdfUrl=b+n.location,e.strDate=d(n.upload_date,n.upload_time)}else u()},function(){u()}),e.onClickPdf=function(){var t=e.pdfUrl;if(t){var o="_blank",a="enableViewportScale=yes,location=no";t="http://www.webankcdn.net/s/hj/utils/pdfjs/web/viewer.html?file="+t;var c=window.open(t,o,a);c.addEventListener("loaderror",function(){n.makeToast("系统繁忙，文件打开错误","short"),c.close()})}},e.onClickKnow=function(){1*s==10&&a.set(c.getUserInfo().openid+l+"productNotice",1),t.backPage({back:!0,type:s})},e.back=function(){t.backPage({back:!0,type:s})}}]);app.controller("WebankCardController",["$scope","cache","utils","WebankCardService","TransRecordService","essential","TransferOutService","TransferInService","GLOBAL_CONSTANT","CheckFaceService","cgiService","$timeout","LoginService",function(n,e,t,a,c,o,r,u,i,l,s,f,d){n.data={};var k=function(){C(),g(),l.isFaceIdValid()&&"/webankCard"==l.parentHash&&_()},C=function(){var t=e.getCacheInfo("personalInfo");null!=t&&(n.webankCardNum=t.webank_card_no,n.personalNameMask=t.name);var a=e.getCacheInfo("wealth");a&&a.basic_account&&(n.webankCardAmount=a.basic_account.available_amount)},g=function(){n.data.isNeedActive="2"==e.getCacheInfo("personalInfo").acct_type?!0:!1,n.data.freezAmount=0;for(var t=e.getCacheInfo("wealth"),a=0;a<t.basic_account.freezing_list.length;a++)"30"==t.basic_account.freezing_list[a].freezing_code&&(n.data.freezAmount+=parseFloat(t.basic_account.freezing_list[a].amout));n.data.freezAmount=parseFloat(n.data.freezAmount).toFixed(2)},_=function(){var a={};a.face_id=l.getFaceId(),s.requestActiveAccount(a).then(function(){return o.exchangeWebankToken()},function(n){return t.makeToast(n.ret_msg,"short"),o.reject()}).then(function(){return e.setUserStatus(i.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),d.getLoginBankData()},function(){return o.reject()}).then(function(){n.data.isNeedActive=!1,C(),f(function(){t.makeToast("代发工资账户已可正常使用")},500)})};n.onClickActiveAccount=function(){l.isFaceIdValid()?_():l.goPage()},n.onClickCopy=function(){t.clickButtonReport("webankcard_copy"),o.copyStrToPasteboard(n.webankCardNum).then(function(){t.makeToast("复制成功","short")},function(){t.makeToast("复制失败，请稍后再试","short")})},n.isHandred=function(){return 1*n.webankCardAmount>=100},n.classStr="xq-con nb mgt20 px";var b=!0;n.onClickItem=function(){b=!b,n.classStr=b?"xq-con nb mgt20 px":"xq-con nb mgt20 px off"},n.nClickQuery=function(){t.clickButtonReport("webankcard_chaxun"),c.goPage(null,null,"deposit")},n.onIfShowOut=function(){return 1*n.webankCardAmount==0?!1:!0},n.onClickTurnOut=function(){t.clickButtonReport("webankcard_zhuanchu"),1*n.webankCardAmount!=0&&r.goPage(null,null,{type:i.TRANS_TYPE.WEBANK_CARD})},n.onClickTurnIn=function(){t.clickButtonReport("webankcard_zhuanru"),u.goPage(null,null,{type:i.TRANS_TYPE.WEBANK_CARD})},n.back=function(){a.backPage()},k()}]);app.controller("InviteController",["$scope","$location","$timeout","cgiService",function(t,a,e,o){var u=function(){navigator.splashscreen.hide(),n()},n=function(){t.data.outValue={},t.data.outValue.textHead="请输入邀请码",t.data.outValue.showInput=!0,t.data.outValue.showPop=!0,t.data.outValue.hideClose=!0,t.data.outValue.oneLineTextDefault="邀请码获取：关注“众当家”公众号预约",t.data.outValue.oneButtonText="确认",t.data.outValue.popClose=function(t,a){1==t&&o.requestCheckInviteCode(a).then(function(){l()},function(t){d(t.ret_msg)})}},l=function(){navigator.splashscreen.show(),a.path("/default")},d=function(a){t.data.outValue={},t.data.outValue.textHead="验证码无效",t.data.outValue.showInput=!1,t.data.outValue.showPop=!0,t.data.outValue.hideClose=!0,t.data.outValue.oneLineTextMiddle=a,t.data.outValue.oneButtonText="重新输入",t.data.outValue.popClose=function(t){1==t&&n()}};u()}]);app.controller("InviteShareController",["$scope","$location","$timeout","cgiService","essential","$stateParams",function(t,e,i,n,a,o){t.back=function(){e.path("/messageCenter")},t.share1=function(){a.sharePage("微众银行APP出炉","诚邀您抢先体验","http://sit-hjdata.webank.com:8080/hj/sreginvite/img/80X80.jpg","http://sit-hjdata.webank.com:8080/hj/sreginvite/business/invitation_code/index.html?codestr="+t.inviteCode1).then(function(){},function(){})},t.share2=function(){a.sharePage("微众银行APP出炉","诚邀您抢先体验","http://sit-hjdata.webank.com:8080/hj/sreginvite/img/80X80.jpg","http://sit-hjdata.webank.com:8080/hj/sreginvite/business/invitation_code/index.html?codestr="+t.inviteCode2).then(function(){},function(){})};var s=function(){n.requestShareInviteCode(o.shareCode).then(function(e){e.ret_data.getInviteStatus>=0&&(t.data.inviteCode1=e.ret_data.invitecodeList[0].inviteCode,t.data.inviteCodeUsed1=e.ret_data.invitecodeList[0].consumerId?!0:!1,t.data.inviteCode2=e.ret_data.invitecodeList[1].inviteCode,t.data.inviteCodeUsed2=e.ret_data.invitecodeList[1].consumerId?!0:!1)},function(){})};s()}]);app.controller("FinancialRecommendController",["$scope","$location","GLOBAL_CONSTANT","cgiService","utils","essential","cache","$document","$timeout","$stateParams","LoginService","RegisterService","riskAssessmentService","InsuranceProductDetailService","StockProductDetailService","messageService","MonetaryService","webankCommonService","TransRecordService","$ionicViewSwitcher","$interval","FinancialRecommendService","$ionicScrollDelegate",function(e,t,a,o,n,r,i,c,s,l,d,u,S,f,g,C,m,_,T,p,P,I,R){e.data={};var k=null,y=function(){e.data.onSaleInsurancelList=[],e.data.onSaleStockList=[],e.data.status=i.getUserStatus(),e.data.scrollX=0,A(),B(),U(),L(),x(),k=P(function(){x()},1e5),h()},v=R.$getByHandle("myContent"),h=function(){var e=I.getData()&&I.getData().src;e&&"homeStock"==e&&(I.setData(null),s(function(){v.scrollTo(0,308,!1)},100))},D=function(){n.makeToast(STRING_TABLE.BEGIN_TO_OPENACCOUNT,"short"),s(function(){u.setCallbackPage("financialRecommend","financialRecommend"),t.path("/register")},1e3)},O=function(){n.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),s(function(){d.setCallbackPage("financialRecommend","financialRecommend"),t.path("/login")},1e3)},A=function(){if(e.data.status==a.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT){e.data.isLogin=!0,e.data.isHasAccount=!0;var t=i.getUserInfo();e.data.avatarUrl=t.picurl||"../img/tx@2x.png"}else if(e.data.status==a.ACCOUNT_STATE.USER_STATE_LOGIN){e.data.isLogin=!0,e.data.isHasAccount=!1;var t=i.getUserInfo();e.data.avatarUrl=t.picurl||"../img/tx@2x.png"}else e.data.isLogin=!1,e.data.isHasAccount=!1},B=function(){e.data.monetaryProd=gMonetrayProdCodeToProdDetailInfo[gMonetaryOnSaleInfo[0].prod_code],e.data.monetaryProd.incomeRate=parseFloat(e.data.monetaryProd.incomeRate).toFixed(2);for(var t=0;t<gOnSaleInfo.length;t++)if(0!=gOnSaleInfo[t].products.length&&void 0!=gInsuranceOnSaleCodeToProdConfig[gOnSaleInfo[t].on_sale_code]&&(!gOnSaleInfo[t].trans_status||"02"!=gOnSaleInfo[t].trans_status)){var a={},o=_.getCurrentProdBySaleCode(gOnSaleInfo[t].on_sale_code);o&&o.restAmount>0&&(a.incomeRate=parseFloat(o.incomeRate).toFixed(2)),a.incomeRate||(o=_.getNextProdByCurrentSaleCode(gOnSaleInfo[t].on_sale_code),o&&(a.incomeRate=parseFloat(o.incomeRate).toFixed(2))),a.incomeRate||(o=_.getLastProdByCurrentSaleCode(gOnSaleInfo[t].on_sale_code),o&&(a.incomeRate=parseFloat(o.incomeRate).toFixed(2))),a.prodName=gOnSaleInfo[t].on_sale_desc,a.shortDesc=gOnSaleInfo[t].short_desc,a.recomReason=gOnSaleInfo[t].recom_reason,a.onSaleCode=gOnSaleInfo[t].on_sale_code,a.tipsClass="ly",e.data.onSaleInsurancelList.push(a)}for(var t in gStockProdCodeToProdDetailInfo){var n=gStockProdCodeToProdDetailInfo[gStockProdCodeToProdDetailInfo[t].onSaleCode],r=gStockProdCodeToProdConfig[gStockProdCodeToProdDetailInfo[t].onSaleCode];if(r||(r=gStockProdCodeToProdConfig["default"]),"02"!=n.status&&n&&r){var i={};i.onSaleCode=n.onSaleCode,i.shortDesc=r.shortDesc,i.onSaleDesc=n.onSaleDesc,i.incomeRate="0.00",i.incomeClass="s-a",i.recomReason=r.recomReason,N(i),e.data.onSaleStockList.push(i)}}},N=function(e){var t=n.getDateDiffToday(-1),a=n.getYYYYMMDDStringByDate(t),r=n.getDateDiffToday(-12),i=n.getYYYYMMDDStringByDate(r),c=[];o.requestStockHistoryValue(e.onSaleCode,i,a).then(function(t){if(t.ret_data){for(var a in t.ret_data){var o={};o.date=t.ret_data[a].earnings_rate_date,o.realValue=t.ret_data[a].accu_net_value,c.push(o)}var n=function(e,t){return t.date-e.date};if(c.sort(n),c.length>=1){var r=c[0],i=gStockProdCodeToProdConfig[e.onSaleCode];i||(i=gStockProdCodeToProdConfig["default"]),e.incomeRate=(100*(parseFloat(r.realValue)-parseFloat(i.yearBeginValue))/parseFloat(i.yearBeginValue)).toFixed(2),e.incomeClass=e.incomeRate>=0?"s-a":"s-a down"}}},function(){})},E=function(e){var t=_.getCurrentProdBySaleCode(e.onSaleCode);if(t)o.requestProductBalance(t.prodCode).then(function(a){if(0==a.ret_data.quota_total){var o=_.getNextProdByCurrentSaleCode(e.onSaleCode);o?(e.tips1=o.startBuyDate.substr(4,2)+"月"+o.startBuyDate.substr(6,2)+"日",e.tips2="抢购"):(e.tips1="产品已",e.tips2="售罄",e.tipsClass="ly off")}else{var n=parseInt(100*parseInt(a.ret_data.quota_total)/parseInt(t.totalAmount));e.tips1="剩余额度",e.tips2=n+"%"}});else{var a=_.getNextProdByCurrentSaleCode(e.onSaleCode);a?(e.tips1=a.startBuyDate.substr(4,2)+"月"+a.startBuyDate.substr(6,2)+"日",e.tips2="抢购"):(e.tips1="产品已",e.tips2="售罄",e.tipsClass="ly off")}},L=function(){for(var t in e.data.onSaleInsurancelList)E(e.data.onSaleInsurancelList[t])},U=function(){e.data.showImg=e.data.onSaleInsurancelList.length<=0&&e.data.onSaleStockList.length<=0?!0:!1};e.data.showMsgDot=!1;var x=function(){C.getRedPoint().then(function(t){e.data.showMsgDot=t?!0:!1})};e.onClickInsuranceProdIntro=function(e){n.clickButtonReport("finance_"+e.onSaleCode),f.goPage(e.onSaleCode)},e.onClickStockProdIntro=function(e){n.clickButtonReport("finance_"+e.onSaleCode),g.goPage(e.onSaleCode)},e.onClickMonetaryProd=function(){n.clickButtonReport("licai_huoqi"),e.data.status==a.ACCOUNT_STATE.USER_STATE_GUEST?O():e.data.status==a.ACCOUNT_STATE.USER_STATE_LOGIN?D():(m.setCallbackPage("monetaryMyProdDetail","financialRecommend"),t.path("/monetaryMyProdDetail/"+gMonetaryOnSaleInfo[0].prod_code))},e.onClickHomeTab=function(){if(p.nextTransition("none"),n.clickButtonReport("index_home"),e.data.status==a.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT){var o={};o.refresh=!0,t.path("/home").search(o)}else t.path("/default")},e.onClickTransferTab=function(){p.nextTransition("none"),n.clickButtonReport("index_transfer"),t.path("/transHome")},e.onClickCommunity=function(){n.clickButtonReport("index_community"),t.path("/community")},e.onClickSettingsBtn=function(){p.nextDirection("back"),C.clickRedPoint(),t.path("/accountSettings/financialRecommend")},e.onClickTransLog=function(){n.clickButtonReport("financial_trans"),T.goPage("","","all")},y(),e.$on("$destroy",function(){k&&P.cancel(k),k=null})}]);app.controller("MyFinancialProductsController",["$scope","$location","$stateParams","utils","cgiService","essential","cache","webankCommonService","GLOBAL_CONSTANT","TransRecordService","StockMyProdDetailService","InsuranceMyProdDetailService","$ionicScrollDelegate",function(t,e,a,o,n,r,c,s,i,u,l,d,D){var m=t.func={},p=t.data={},g=a.tab,f=D.$getByHandle("myContent");p.financialTabCls="item on",p.stockTabCls="item",p.tabIdx=0,p.insuranceList={},p.insuranceCount=0,p.stockList={},p.stockCount=0;var v=null,Y=c.getCacheInfo("wealth"),y=null,F=function(t,e){var a=o.getDateByYYYYMMDDString(t.valueDate),n=o.getDateByYYYYMMDDString(t.valueDate);n.setDate(n.getDate()+1);var r=o.getDateByYYYYMMDDString(t.valueDate);r.setDate(r.getDate()+parseInt(t.lifeTime));var c={};if(c.yesterdayIncome=0,c.accumulatedIncome=0,c.amount=0,o.isCurrentDateValid(n,r)){var s=new Date;c.yesterdayIncome=parseFloat(e.amount)*t.incomeRate/100/365,c.accumulatedBXIncome=parseFloat(e.amount)*t.incomeRate*parseInt(o.getDateDifference(a,s))/100/365,c.amount=e.amount+e.amount*t.incomeRate*parseInt(o.getDateDifference(a,s))/100/365}else c.yesterdayIncome=0,c.accumulatedBXIncome=0,c.amount=e.amount;return c},k=function(t){var e=[];for(var a in v)v[a].prod_code==t&&e.push(v[a]);return e},C=function(t){v=t.ret_data.product_list},M=function(){},S=function(t){var e=new Date;e.setDate(e.getDate()-1);var a=o.getYYYYMMDDStringByDate(e);y=t.ret_data[a]},_=function(){},I=function(){for(var t=0;t<Y.financial_products.length;++t)Y.financial_products[t].prod_type==i.PROD_TYPE.GJ&&P(Y.financial_products[t]);B(),p.showLoading=!1,p.stockCount=Object.keys(p.stockList).length},h=function(){var t=new Date,e=new Date;t.setDate(t.getDate()-2);var a=o.getYYYYMMDDStringByDate(t),r=o.getYYYYMMDDStringByDate(e);n.requestIncomeHistory(a,r).then(S,_).then(I)},T=function(){p.showLoading=!0;var t=s.parseRawWealthData_V2(Y);p.totalAmount=parseFloat(t.totalDepositAmount).toFixed(2),p.totalBXAmount=parseFloat(t.BXAmount).toFixed(2),p.totalGJAmount=parseFloat(t.GJAmount).toFixed(2),n.requestConfirmingList().then(C,M).then(h),L(),"stock"==g&&m.onClickStockTab()},L=function(){for(var t=0;t<Y.financial_products.length;++t)Y.financial_products[t].prod_type==i.PROD_TYPE.BX&&b(Y.financial_products[t]);p.insuranceCount=Object.keys(p.insuranceList).length},b=function(t){var e=p.insuranceList[t.product_code],a=gProdCodeToProdDetailInfo[t.product_code];if(a){var n=a.valueDate,r=o.getYYYYMMDDStringByDate(new Date),c=o.getDateByYYYYMMDDString(n);if(c.setDate(c.getDate()-1),e||(e={},e.count=0,e.amount=0,e.isMakingValue=!1,e.prodName=a.onSaleDesc+"("+a.valueDate.substr(4,4)+")",p.insuranceList[t.product_code]=e),1==t.status)e.amount=parseFloat(t.amount).toFixed(2),e.descTop="预期年化"+a.incomeRate+"%",e.stateDesc="确认中",e.counts=1,e.descBottom="您有"+parseFloat(e.amount).toFixed(2)+"元资金待确认购买结果，预计"+(c.getMonth()+1)+"月"+c.getDate()+"日完成";else{var s=F(a,t),i=parseFloat(t.amount)+parseFloat(s.accumulatedBXIncome);e.amount=(parseFloat(e.amount)+i).toFixed(2);var u=o.getDateByYYYYMMDDString(a.valueDate);if(u.setDate(u.getDate()+a.lifeTime),e.descTop=u.getMonth()+1+"月"+u.getDate()+"日到期",parseInt(r)>=parseInt(n))o.getDateByYYYYMMDDString(r)<=u?(e.lastIncome=parseFloat(s.yesterdayIncome).toFixed(2),e.isMakingValue=!0):(e.stateDesc="赎回中",e.descTop="已到期");else{e.stateDesc="等待收益";var l=o.getDateByYYYYMMDDString(n);l.setDate(l.getDate()+1),e.descBottom="预计"+(l.getMonth()+1)+"月"+l.getDate()+"可查看首笔预估收益"}}}},B=function(){for(var e in v){var a=v[e],o=gStockProdCodeToProdDetailInfo[a.prod_code];if(o&&62==a.trans_type){var n=t.data.stockList[a.prod_code];n||(n={},n.state=99,n.amount=0,n.redeemShare=0,n.prodName=o.onSaleDesc,n.redeemCount=0,n.onWayDescList=[],p.stockList[a.prod_code]=n),n.state>3&&(n.state=3,n.stateDesc="资金赎回中"),n.redeemCount++}}for(var r in t.data.stockList){var c=t.data.stockList[r];if(c.redeemCount>0){var s="您有"+c.redeemCount+"笔资金正在赎回中，完成时间可查看详情";c.onWayDescList.push(s)}}},P=function(e){var a=gStockProdCodeToProdDetailInfo[e.product_code];if(a){var o=t.data.stockList[e.product_code];if(o||(o={},o.state=99,o.amount=0,o.redeemShare=0,o.prodName=a.onSaleDesc,o.redeemCount=0,o.onWayDescList=[],p.stockList[e.product_code]=o),1==e.status){var n=k(e.product_code),r=0,c=0;for(var s in n){var i=n[s];60==i.trans_type&&(o.state>2&&(o.state=2,o.stateDesc="确认份额中"),c+=parseFloat(i.applicationamount),r++)}if(r>0){var u="您有"+r+"笔资金待确认份额，完成时间可查看详情";o.onWayDescList.push(u),o.amount=(parseFloat(o.amount)+parseFloat(c)).toFixed(2)}}else{o.amount=(parseFloat(o.amount)+parseFloat(e.share)*parseFloat(a.realValue)).toFixed(2),o.state=0,o.yesterdayIncome=parseFloat(0).toFixed(2),o.cls="up";for(var l in y){var d=y[l];if(d.prod_code==e.product_code){parseFloat(d.income)>=0?(o.yesterdayIncome=parseFloat(d.income).toFixed(2),o.cls="up"):parseFloat(d.income)<0&&(o.yesterdayIncome=parseFloat(-1*d.income).toFixed(2),o.cls="dw");break}}}}};m.onClickFinancialTab=function(){p.financialTabCls="item on",p.stockTabCls="item",p.tabIdx=0,f.resize()},m.onClickStockTab=function(){p.financialTabCls="item",p.stockTabCls="item on",p.tabIdx=1,f.resize()},m.isNoProductShown=function(){return 0==p.tabIdx?p.insuranceCount<=0:1==p.tabIdx?p.stockCount<=0:void 0},m.onCheckTransLog=function(){u.goPage()},m.back=function(){e.path("/home")},m.onClickInsurance=function(t){d.goPage(t,"","","myFinancial")},m.onClickStock=function(t){l.goPage(t,"","","myFinancial/stock")},T()}]);app.controller("CombinedFinancialController0",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","$timeout","CombinedFinancialService","CombinedFinancialService",function(e,n,t,i,c,a,o,l,S,S){e.onClickLow=function(){t.clickButtonReport("combine_jinshen"),S.setSelectLevel("low"),o.path("/combinedFinancial1")},e.onClickHigh=function(){t.clickButtonReport("combine_danda"),S.setSelectLevel("high"),o.path("/combinedFinancial1")},e.onClickNormal=function(){t.clickButtonReport("combine_pingheng"),S.setSelectLevel("normal"),o.path("/combinedFinancial1")},e.back=function(){"default"==S.getCallbackPage()?i.getUserStatus()==a.ACCOUNT_STATE.USER_STATE_GUEST||i.getUserStatus()==a.ACCOUNT_STATE.USER_STATE_LOGIN?o.path("/default"):i.getUserStatus()==a.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT&&o.path("/home"):o.path("/"+S.getCallbackPage())}}]);app.controller("CombinedFinancialController1",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","$timeout","$stateParams","CombinedFinancialService","LoginService","RegisterService",function(t,e,a,n,o,r,i,s,c,u,l,m){t.status=n.getUserStatus();for(var p,h=-9999,d=0;d<gStockOnSaleInfo.length;++d)gStockOnSaleInfo[d].income_rate>h&&(h=gStockOnSaleInfo[d].income_rate,p=gStockOnSaleInfo[d].on_sale_code);t.stockProductDetail=gStockProdCodeToProdDetailInfo[p];for(var O,g=-9999,d=0;d<gOnSaleInfo.length;++d)if(gOnSaleInfo[d].income_rate>g)for(var S=0;S<gOnSaleInfo[d].products.length;++S){var A=a.getDateByDateAndTimeString(gOnSaleInfo[d].products[S].start_buy_date,gOnSaleInfo[d].products[S].start_buy_time),R=a.getDateByDateAndTimeString(gOnSaleInfo[d].products[S].end_buy_date,gOnSaleInfo[d].products[S].end_buy_time);a.isCurrentTimeValid(A,R)&&(g=gOnSaleInfo[d].income_rate,O=gOnSaleInfo[d].on_sale_code)}var f=o.getCurrentProdBySaleCode(O);f?(t.insuranceProductDetail=gProdCodeToProdDetailInfo[f.prod_code],e.requestProductBalance(f.prod_code).then(function(e){0==e.ret_data.quota_total&&(t.isSoldOut=!0)})):t.insuranceProductDetail=void 0;for(var _,C=-9999,d=0;d<gMonetaryOnSaleInfo.length;++d)gMonetaryOnSaleInfo[d].income_rate>C&&(C=gMonetaryOnSaleInfo[d].income_rate,_=gMonetaryOnSaleInfo[d].prod_code);t.monetaryProductDetail=gMonetrayProdCodeToProdDetailInfo[_],t.stockAmountRate=0,t.insuranceAmountRate=0,t.monetaryAmountRate=0,"low"==u.getSelectLevel()?(t.cardPageDesc="慎重派",t.insuranceAmountRate=80,t.monetaryAmountRate=20,t.stockAmountRate=0):"normal"==u.getSelectLevel()?(t.cardPageDesc="平衡派",t.insuranceAmountRate=50,t.monetaryAmountRate=20,t.stockAmountRate=30):"high"==u.getSelectLevel()&&(t.cardPageDesc="胆大派",t.insuranceAmountRate=0,t.monetaryAmountRate=20,t.stockAmountRate=80),t.totalIncomeRate=0,t.totalIncomeRate+=parseFloat(t.monetaryProductDetail?t.monetaryAmountRate*t.monetaryProductDetail.incomeRate:5*t.monetaryAmountRate),t.totalIncomeRate+=parseFloat(t.insuranceProductDetail?t.insuranceAmountRate*t.insuranceProductDetail.incomeRate:7*t.insuranceAmountRate),t.totalIncomeRate+=parseFloat(t.stockProductDetail?t.stockAmountRate*t.stockProductDetail.incomeRate:40*t.stockAmountRate),t.totalIncomeRate=(t.totalIncomeRate/100).toFixed(2),t.onClickTips=function(){a.clickButtonReport("low"==u.getSelectLevel()?"combine_jinshen_i":"normal"==u.getSelectLevel()?"combine_pingheng_i":"combine_danda_i"),t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="中股票型基金属于高风险产品，收益随市场波动幅度较大，存在亏损可能性，往期收益仅供参考。",t.outValue.oneButtonText="知道了",t.outValue.popClose=function(){}};var T=function(){t.MainChartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.wealthChartOption)),t.GJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.BXchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.HJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption));var e=[];e.push("1"),e.push(t.monetaryAmountRate/2),t.MainChartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(t.insuranceAmountRate/2),t.MainChartOptions.series[0].data.push(e),e=[],e.push("3"),e.push(100-(t.monetaryAmountRate+t.insuranceAmountRate)/2),t.MainChartOptions.series[0].data.push(e),t.HJchartOptions.colors.push("#50d4a2"),t.HJchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(t.monetaryAmountRate),t.HJchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-t.monetaryAmountRate),t.HJchartOptions.series[0].data.push(e),t.HJchartOptions.series[0].startAngle=0,t.HJchartOptions.title.text=t.monetaryAmountRate+"%",t.BXchartOptions.colors.push("#6298e2"),t.BXchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(t.insuranceAmountRate),t.BXchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-t.insuranceAmountRate),t.BXchartOptions.series[0].data.push(e),t.BXchartOptions.series[0].startAngle=360*t.monetaryAmountRate/100,t.BXchartOptions.title.text=t.insuranceAmountRate+"%",t.GJchartOptions.colors.push("#ff7363"),t.GJchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(t.stockAmountRate),t.GJchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-t.stockAmountRate),t.GJchartOptions.series[0].data.push(e),t.GJchartOptions.series[0].startAngle=360*(t.monetaryAmountRate+t.insuranceAmountRate)/100,t.GJchartOptions.title.text=t.stockAmountRate+"%",s(function(){t.showMainChart(),t.showGJChart(),t.showHJChart(),t.showBXChart()},100)};T();var k=function(){a.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),s(function(){l.setCallbackPage("combinedFinancial1","combinedFinancial1"),i.path("/login").replace()},1e3)},y=function(){a.makeToast(STRING_TABLE.BEGIN_TO_OPENACCOUNT,"short"),s(function(){m.setCallbackPage("combinedFinancial1","combinedFinancial1"),i.path("/register").replace()},1e3)};t.onClickNextStep3=function(){if(a.clickButtonReport("low"==u.getSelectLevel()?"combine_jinshen_next":"normal"==u.getSelectLevel()?"combine_pingheng_next":"combine_danda_next"),t.status&&t.status!=r.ACCOUNT_STATE.USER_STATE_GUEST)if(t.status==r.ACCOUNT_STATE.USER_STATE_LOGIN)y();else{if(!t.stockProductDetail&&t.stockAmountRate>0)return void a.makeToast("该组合中 股票基金 暂未上线，敬请期待","short");if(!t.insuranceProductDetail&&t.insuranceAmountRate>0)return void a.makeToast("该组合中 定期理财 暂未上线，敬请期待","short");if(t.isSoldOut&&t.insuranceAmountRate>0)return void a.makeToast("该组合中 定期理财 产品已售完，暂时无法购买","short");i.path("/combinedFinancial3")}else k()},t.back=function(){i.path("/combinedFinancial0")}}]);app.controller("CombinedFinancialController2",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","$timeout","session","$stateParams","CombinedFinancialService","BindNewCardService","riskAssessmentService","InsuranceProductDetailService","StockProductDetailService","MonetaryService","ResetPasswdService",function(t,e,o,n,a,r,u,c,s,i,l,d,m,p,A,h,f){for(var k,g=-9999,P=0;P<gStockOnSaleInfo.length;++P)gStockOnSaleInfo[P].income_rate>g&&(g=gStockOnSaleInfo[P].income_rate,k=gStockOnSaleInfo[P].on_sale_code);t.stockProductDetail=gStockProdCodeToProdDetailInfo[k];for(var _,y=-9999,P=0;P<gOnSaleInfo.length;++P)if(gOnSaleInfo[P].income_rate>y)for(var S=0;S<gOnSaleInfo[P].products.length;++S){var R=o.getDateByDateAndTimeString(gOnSaleInfo[P].products[S].start_buy_date,gOnSaleInfo[P].products[S].start_buy_time),b=o.getDateByDateAndTimeString(gOnSaleInfo[P].products[S].end_buy_date,gOnSaleInfo[P].products[S].end_buy_time);o.isCurrentTimeValid(R,b)&&(y=gOnSaleInfo[P].income_rate,_=gOnSaleInfo[P].on_sale_code)}var C=a.getCurrentProdBySaleCode(_);C?(t.insuranceProductDetail=gProdCodeToProdDetailInfo[C.prod_code],e.requestProductBalance(C.prod_code).then(function(e){0==e.ret_data.quota_total&&(t.isSoldOut=!0)})):t.insuranceProductDetail=void 0;for(var w,v=-9999,P=0;P<gMonetaryOnSaleInfo.length;++P)gMonetaryOnSaleInfo[P].income_rate>v&&(v=gMonetaryOnSaleInfo[P].income_rate,w=gMonetaryOnSaleInfo[P].prod_code);t.monetaryProductDetail=gMonetrayProdCodeToProdDetailInfo[w],t.isAgreed=!0,t.agreementDesc="服务协议及风险提示";var O=[{name:"电子交易直销前置式服务协议",pdfUrl:"https://www.webankcdn.net/s/hj/appconf/common/fund/gjzq_fund_proto.pdf",id:1}],I=[];t.monetaryProductDetail&&t.monetaryProductDetail.agreement&&t.monetaryProductDetail.agreement.length>0&&($.each(t.monetaryProductDetail.agreement,function(t,e){e.name="货基"+e.name}),I=I.concat(t.monetaryProductDetail.agreement)),t.insuranceProductDetail&&t.insuranceProductDetail.agreement&&t.insuranceProductDetail.agreement.length>0&&($.each(t.insuranceProductDetail.agreement,function(t,e){e.name="保险"+e.name}),I=I.concat(t.insuranceProductDetail.agreement)),t.stockProductDetail&&t.stockProductDetail.agreement&&t.stockProductDetail.agreement.length>0&&($.each(t.stockProductDetail.agreement,function(t,e){e.name="股基"+e.name}),I=I.concat(t.stockProductDetail.agreement));var D=[],T={};$.each(I,function(t,e){T[e.id]||(D.push(e),T[e.id]=1)}),t.agreementDetail=D.length>0?D:O,"low"==l.getSelectLevel()?(t.insuranceAmountRate=80,t.monetaryAmountRate=20,t.stockAmountRate=0):"normal"==l.getSelectLevel()?(t.insuranceAmountRate=50,t.monetaryAmountRate=20,t.stockAmountRate=30):"high"==l.getSelectLevel()&&(t.insuranceAmountRate=0,t.monetaryAmountRate=20,t.stockAmountRate=80),t.realStockAmountRate=t.stockAmountRate,t.realInsuranceAmountRate=t.insuranceAmountRate,t.realMonetaryAmountRate=t.monetaryAmountRate,t.onClickTips=function(){t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="股票型基金属于高风险产品，收益随市场波动幅度较大，存在亏损可能性，往期收益仅供参考。",t.outValue.oneButtonText="知道了",t.outValue.popClose=function(){}},t.stockValueList=[],t.insuranceValueList=[];var B=function(){t.stockValueList=[],t.insuranceValueList=[];for(var e=0;101>e;++e){var o={};o.name=e+"%",o.value=e,t.stockValueList.push(o)}for(var e=0;e<101-t.stockAmountRate;++e){var o={};o.name=e+"%",o.value=e,t.insuranceValueList.push(o)}},V=function(){t.stockAmountRate+t.insuranceAmountRate<=100?t.monetaryAmountRate=100-t.stockAmountRate-t.insuranceAmountRate:(t.monetaryAmountRate=0,t.insuranceAmountRate=100-t.stockAmountRate)};t.blurStockSelect=function(){return V(),B(),F(),L(),0==t.realStockAmountRate&&t.stockAmountRate>=1?void(t.buyButtonClass="btn-c off"):void J()},t.blurInsuranceSelect=function(){return V(),B(),F(),L(),0==t.realInsuranceAmountRate&&t.insuranceAmountRate>=1?void(t.buyButtonClass="btn-c off"):void J()};var F=function(){return t.amount?(t.stockProductDetail&&(t.stockAmount=parseFloat(t.stockAmountRate)*t.amount/100,t.stockAmount=o.getAmountForRule(t.stockAmount,t.stockProductDetail.minAmount,t.stockProductDetail.incAmount),t.stockAmount=parseFloat(t.stockAmount).toFixed(2)),t.insuranceProductDetail&&(t.insuranceAmount=parseFloat(t.insuranceAmountRate)*t.amount/100,t.insuranceAmount=o.getAmountForRule(t.insuranceAmount,t.insuranceProductDetail.minAmount,t.insuranceProductDetail.increaseAmount),t.insuranceAmount=parseFloat(t.insuranceAmount).toFixed(2)),t.monetaryAmount=parseFloat(t.amount-t.stockAmount-t.insuranceAmount).toFixed(2),t.realStockAmountRate=parseFloat(t.stockAmount/t.amount*100).toFixed(2),t.realInsuranceAmountRate=parseFloat(t.insuranceAmount/t.amount*100).toFixed(2),void(t.realMonetaryAmountRate=parseFloat(100-t.realStockAmountRate-t.realInsuranceAmountRate).toFixed(2))):(t.realStockAmountRate=t.stockAmountRate,t.realInsuranceAmountRate=t.insuranceAmountRate,void(t.realMonetaryAmountRate=t.monetaryAmountRate))},L=function(){t.totalIncomeRate=0,t.monetaryProductDetail&&(t.totalIncomeRate+=parseFloat(t.realMonetaryAmountRate*t.monetaryProductDetail.incomeRate)),t.insuranceProductDetail&&(t.totalIncomeRate+=parseFloat(t.realInsuranceAmountRate*t.insuranceProductDetail.incomeRate)),t.stockProductDetail&&(t.totalIncomeRate+=parseFloat(t.realStockAmountRate*t.stockProductDetail.incomeRate)),t.totalIncomeRate=(t.totalIncomeRate/100).toFixed(2)};t.showInputAmountTips=!1,t.buyButtonClass="btn-c off",t.stockAmount=0,t.insuranceAmount=0,t.monetaryAmount=0;var x=function(){return o.isValidTransferAmount(t.amount)?t.amount<5e3?(t.showInputAmountTips=!0,t.inputAmountTipsContent="最低购买金额为5000元",!1):!0:(t.showInputAmountTips=!0,t.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT,!1)};t.changeAmount=function(){return x()?(t.buyButtonClass="btn-c on",t.showInputAmountTips=!1,t.amount>t.webankAccount.amount&&t.bindCardList.length>0?(t.webankAccount.isAvaliable=!1,t.webankAccount.isWebankAccountSelected=!1):(t.webankAccount.isAvaliable=!0,t.webankAccount.isWebankAccountSelected=!0),F(),L(),void J()):void(t.buyButtonClass="btn-c off")},t.focusInput=function(){t.showInputAmountTips=!1};var J=function(){t.MainChartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.wealthChartOption)),t.GJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.BXchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.HJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption));var e=[];e.push("1"),e.push(parseFloat(t.monetaryAmountRate)/2),t.MainChartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(parseFloat(t.insuranceAmountRate)/2),t.MainChartOptions.series[0].data.push(e),e=[],e.push("3"),e.push(100-(parseFloat(t.monetaryAmountRate)+parseFloat(t.insuranceAmountRate))/2),t.MainChartOptions.series[0].data.push(e),t.GJchartOptions.colors.push("#ff7363"),t.GJchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(parseFloat(t.stockAmountRate)),t.GJchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-parseFloat(t.stockAmountRate)),t.GJchartOptions.series[0].data.push(e),t.GJchartOptions.series[0].startAngle=0,t.GJchartOptions.title.text=parseInt(t.stockAmountRate)+"%",t.BXchartOptions.colors.push("#6298e2"),t.BXchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(parseFloat(t.insuranceAmountRate)),t.BXchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-parseFloat(t.insuranceAmountRate)),t.BXchartOptions.series[0].data.push(e),t.BXchartOptions.series[0].startAngle=360*t.stockAmountRate/100,t.BXchartOptions.title.text=parseInt(t.insuranceAmountRate)+"%",t.HJchartOptions.colors.push("#50d4a2"),t.HJchartOptions.colors.push("#E8E8E8"),e=[],e.push("1"),e.push(parseFloat(t.monetaryAmountRate)),t.HJchartOptions.series[0].data.push(e),e=[],e.push("2"),e.push(100-parseFloat(t.monetaryAmountRate)),t.HJchartOptions.series[0].data.push(e),t.HJchartOptions.series[0].startAngle=t.BXchartOptions.series[0].startAngle+360*(t.stockAmountRate+t.insuranceAmountRate)/100,t.HJchartOptions.title.text=100-parseInt(t.stockAmountRate)-parseInt(t.insuranceAmountRate)+"%",c(function(){t.showMainChart(),t.showGJChart(),t.showHJChart(),t.showBXChart()},100)};B(),L(),J(),t.onClickStockProd=function(){A.setCallbackPage("combinedFinancial2"),u.path("/stockProductDetail/"+t.stockProductDetail.onSaleCode)},t.onClickInsuranceProd=function(){p.setCallbackPage("combinedFinancial2"),u.path("/insuranceProductDetails/"+t.insuranceProductDetail.onSaleCode)},t.onClickMonetaryProd=function(){h.setCallbackPage("productIntro","combinedFinancial2"),u.path("/monetaryProductIntro/"+t.monetaryProductDetail.prodCode)};var N=["保守型","谨慎型","稳健型","进取型","激进型"],E=n.getCacheInfo("assessment"),M=!1,G=0,H=function(e){e.riskStatus=1,e.type=2;var n={levelArr:[],nameArr:[]};e.infoArr?n=e.infoArr:(1*t.insuranceAmount>0&&(n.levelArr.push(2),n.nameArr.push("定期理财")),1*t.stockAmount>0&&(n.levelArr.push(4),n.nameArr.push("股票基金"))),e.infoArr=n;var a=[];if(!M){if(!E){for(var r=0;r<n.levelArr.length;r++)a.push(n.nameArr[r]);var u="该组合中，";return u+=a.join("和"),u+="产品需要进行风险评估方可购买。",o.makeToast(u,"short"),void c(function(){m.setData(e),m.goPage()},1100)}for(var r=0;r<n.levelArr.length;r++)n.levelArr[r]>E.cust_risk_level&&a.push(n.nameArr[r]);if(a.length>0){t.outValue={},t.outValue.showPop=!0,t.outValue.textHead="您的风险评估结果为 <span class='og'>"+N[E.cust_risk_level]+"</span>";var u="该组合中，";return u+=a[a.length-1]+"的风险等级为",u+="股票基金"==a[a.length-1]?'<span class="og">高</span>':'<span class="og">中</span>',u+="，按监管要求已超出你的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",t.outValue.twoButtonText1="重新评估",t.outValue.twoButtonText2="仍然购买",t.outValue.oneLineTextLeft=u,void(t.outValue.popClose=function(o){1==o?(e.riskStatus=1,m.setData(e),m.goPage()):2==o&&c(function(){M=!0,t.onClickBuy(1)},1)})}M=!0,t.onClickBuy()}},W=0;if(t.onClickBuy=function(e){if(W=e||0,o.clickButtonReport("combine_buy_combine"),x()&&"btn-c off"!=t.buyButtonClass){if(!t.isAgreed)return void o.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short");if(!z())return M?void(t.realStockAmountRate>40?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="该组合股票基金占比超过40%，组合风险较高，是否继续购买",t.outValue.twoButtonText1="取消",t.outValue.twoButtonText2="继续购买",t.outValue.popClose=function(e){0==e||1==e?t.outValue.showPop=!1:q()}):q()):void c(function(){H({amount:t.amount,callback:function(){M=!0,t.onClickBuy()}})},50)}},E){var X=m.getData();if(X&&2==X.riskStatus)if(X.riskStatus=0,G=X.amount,t.isAgreed=!0,t.buyButtonClass="btn-c",X.infoArr&&X.infoArr.levelArr.length>0&&X.infoArr.levelArr[X.infoArr.levelArr.length-1]>1*E.cust_risk_level)H(X);else{var Y="您的投资类型为 "+N[E.cust_risk_level]+"，";Y+=2==X.type?"适合购买该组合":"适合购买该产品",o.makeToast(Y,"short"),M=!0,c(function(){t.onClickBuy()},1)}X&&1==X.riskStatus&&(X.riskStatus=0,X.amount&&(G=X.amount))}t.back=function(){u.path(x()?"/combinedFinancial3/"+t.amount:"/combinedFinancial3")},t.isPwdAutoShow=!1,t.isPwdShow=!1,t.sigOnPwdCommit=0;var q=function(){t.pwdSubTitle="购买组合";var e;t.webankAccount.isWebankAccountSelected?e="使用微众银行卡支付":(e="使用"+t.cardInfo.bankName+t.cardInfo.cardType,e+=o.abridgeAccountNumber(t.cardInfo.cardNo)+"支付"),t.payWayDesc=e,t.pwdTransDesc=parseFloat(t.amount).toFixed(2)+"元",t.isPwdShow=!0};t.$watch("sigOnPwdCommit",function(e,o){e!==o&&(t.isPwdShow=!1,K())});var U=n.getCacheInfo("wealth"),j=a.parseRawWealthData_V2(U);t.bindCardList=a.getValidBandCardList(),t.isPayWayShow=!1,t.webankAccount={},t.webankAccount.isShow=!0,t.webankAccount.amount=j.BankAmount,t.webankAccount.isAvaliable=!0,t.webankAccount.isWebankAccountSelected=!0,t.cardInfo={},t.bindCardList.length>0&&(t.cardInfo.cardType=t.bindCardList[0].other_card_type,t.cardInfo.bankName=t.bindCardList[0].other_bank_name,t.cardInfo.cardTypeCode=t.bindCardList[0].other_card_type_code,t.cardInfo.cardNo=t.bindCardList[0].other_account,t.cardInfo.bankBinCode=t.bindCardList[0].other_bank_bin_code,t.cardInfo.userName=t.bindCardList[0].other_name),t.onSelectPayWay=function(){t.isPwdShow?(t.isPwdAutoShow=!0,t.isPwdShow=!1):t.isPwdAutoShow=!1,t.isPayWayShow=!0},t.payWayCallback=function(){t.isPwdAutoShow&&(c(q,200),t.isPwdAutoShow=!1)};var z=function(){if(t.webankAccount.isWebankAccountSelected)return!1;var e=gBankLimit[t.cardInfo.bankBinCode];return e&&parseFloat(t.amount)>e.perOne?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="超过银行卡限额，"+t.cardInfo.bankName+t.cardInfo.cardType+"单笔"+e.perOne+"，单日"+e.perDay,t.outValue.oneButtonText="知道了",t.outValue.popClose=function(){},!0):!1};t.showLoading=!1;var K=function(){t.showLoading=!0;var o={},n={};t.webankAccount.isWebankAccountSelected?o.pay_flag=3:(o.pay_flag=1,o.card_no=t.cardInfo.cardNo),o.total_amount=t.amount,o.user_pwd=t.vm.formData.confirmPassword.RSA,o.redeem_type="01",o.buy_list=[],o.is_capricious=W+"";var c=0;if(t.stockAmount>0){var s={};s.transaction_amount=t.stockAmount,s.product_code=t.stockProductDetail.onSaleCode,s.product_type=r.PROD_TYPE.GJ,s.redeem_type="01",o.buy_list[c]=s,c++,n.hasStock=!0,n.stockProdCode=t.stockProductDetail.onSaleCode,n.stockAmount=t.stockAmount,n.stockSucceed=!0}if(t.insuranceAmount>0){var s={};s.transaction_amount=t.insuranceAmount,s.product_code=t.insuranceProductDetail.prodCode,s.product_type=r.PROD_TYPE.BX,s.redeem_type="01",o.buy_list[c]=s,c++,n.hasInsurance=!0,n.insuranceProdCode=t.insuranceProductDetail.prodCode,n.insuranceAmount=t.insuranceAmount,n.insuranceSucceed=!0}if(t.monetaryAmount>0){var s={};s.transaction_amount=t.monetaryAmount,s.product_code=t.monetaryProductDetail.prodCode,s.product_type=r.PROD_TYPE.HJ,s.redeem_type="01",o.buy_list[c]=s,c++,n.hasMonetary=!0,n.monetaryProdCode=t.monetaryProductDetail.prodCode,n.monetaryAmount=t.monetaryAmount,n.monetarySucceed=!0}e.requestCombinedPurchase(o).then(function(e){if(n.result=e.ret_code,e.ret_code==r.CGI_RET.CGI_COMBINED_BUY)for(var o=0;o<e.ret_data.length;++o)e.ret_data[o].product_type==r.PROD_TYPE.GJ&&(n.stockSucceed=!1,n.stockReason=e.ret_data[o].ret_msg),e.ret_data[o].product_type==r.PROD_TYPE.BX&&(n.insuranceSucceed=!1,n.insuranceReason=e.ret_data[o].ret_msg),e.ret_data[o].product_type==r.PROD_TYPE.HJ&&(n.monetarySucceed=!1,n.monetaryReason=e.ret_data[o].ret_msg);t.showLoading=!1,u.path("/combinedPurchaseResult").search(n).replace()},function(e){n.result=e.ret_code,n.failReason=e.ret_msg,t.showLoading=!1,a.isRetCodePwd(e.ret_code)?a.isRetCodePwdRetry(e.ret_code)?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft=e.ret_msg,t.outValue.twoButtonText1="重试",t.outValue.twoButtonText2="忘记密码",t.outValue.popClose=function(t){1==t?q():2==t&&f.goPage()}):(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft=e.ret_msg,t.outValue.twoButtonText1="取消",t.outValue.twoButtonText2="忘记密码",t.outValue.popClose=function(t){1==t||2==t&&f.goPage()}):u.path("/combinedPurchaseResult").search(n).replace()})};t.bindNewCard=function(){d.setCallbackPage("combinedFinancial2"),u.path("/bindNewCard")},G?(t.amount=parseFloat(G),t.changeAmount()):i.amount?(t.amount=parseFloat(i.amount),t.changeAmount()):t.amount=""}]);app.controller("CombinedFinancialController3",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","$stateParams","$timeout","session","CombinedFinancialService","BindNewCardService","riskAssessmentService","InsuranceProductDetailService","StockProductDetailService","MonetaryService","ResetPasswdService",function(t,e,a,o,n,r,u,c,i,s,l,m,d,p,A,h,f){"low"==l.getSelectLevel()?(t.insuranceAmountRate=80,t.monetaryAmountRate=20,t.stockAmountRate=0):"normal"==l.getSelectLevel()?(t.insuranceAmountRate=50,t.monetaryAmountRate=20,t.stockAmountRate=30):"high"==l.getSelectLevel()&&(t.insuranceAmountRate=0,t.monetaryAmountRate=20,t.stockAmountRate=80),t.realStockAmountRate=t.stockAmountRate,t.realInsuranceAmountRate=t.insuranceAmountRate,t.realMonetaryAmountRate=t.monetaryAmountRate;for(var P,k=-9999,g=0;g<gStockOnSaleInfo.length;++g)gStockOnSaleInfo[g].income_rate>k&&(k=gStockOnSaleInfo[g].income_rate,P=gStockOnSaleInfo[g].on_sale_code);t.stockProductDetail=gStockProdCodeToProdDetailInfo[P];for(var _,y=-9999,g=0;g<gOnSaleInfo.length;++g)if(gOnSaleInfo[g].income_rate>y)for(var D=0;D<gOnSaleInfo[g].products.length;++D){var S=a.getDateByDateAndTimeString(gOnSaleInfo[g].products[D].start_buy_date,gOnSaleInfo[g].products[D].start_buy_time),b=a.getDateByDateAndTimeString(gOnSaleInfo[g].products[D].end_buy_date,gOnSaleInfo[g].products[D].end_buy_time);a.isCurrentTimeValid(S,b)&&(y=gOnSaleInfo[g].income_rate,_=gOnSaleInfo[g].on_sale_code)}var R=n.getCurrentProdBySaleCode(_);R?(t.insuranceProductDetail=gProdCodeToProdDetailInfo[R.prod_code],e.requestProductBalance(R.prod_code).then(function(e){0==e.ret_data.quota_total&&(t.isSoldOut=!0)})):t.insuranceProductDetail=void 0;for(var C,w=-9999,g=0;g<gMonetaryOnSaleInfo.length;++g)gMonetaryOnSaleInfo[g].income_rate>w&&(w=gMonetaryOnSaleInfo[g].income_rate,C=gMonetaryOnSaleInfo[g].prod_code);t.monetaryProductDetail=gMonetrayProdCodeToProdDetailInfo[C],t.totalIncomeRate=0,t.monetaryProductDetail&&(t.totalIncomeRate+=parseFloat(t.stockAmountRate*t.monetaryProductDetail.incomeRate)),t.insuranceProductDetail&&(t.totalIncomeRate+=parseFloat(t.insuranceAmountRate*t.insuranceProductDetail.incomeRate)),t.stockProductDetail&&(t.totalIncomeRate+=parseFloat(t.stockAmountRate*t.stockProductDetail.incomeRate)),t.totalIncomeRate=(t.totalIncomeRate/100).toFixed(2),t.isAgreed=!0,t.agreementDesc="服务协议及风险提示";var I=[{name:"电子交易直销前置式服务协议",pdfUrl:"https://www.webankcdn.net/s/hj/appconf/common/fund/gjzq_fund_proto.pdf",id:1}],v=[];t.monetaryProductDetail&&t.monetaryProductDetail.agreement&&t.monetaryProductDetail.agreement.length>0&&($.each(t.monetaryProductDetail.agreement,function(t,e){e.name="货基"+e.name}),v=v.concat(t.monetaryProductDetail.agreement)),t.insuranceProductDetail&&t.insuranceProductDetail.agreement&&t.insuranceProductDetail.agreement.length>0&&($.each(t.insuranceProductDetail.agreement,function(t,e){e.name="保险"+e.name}),v=v.concat(t.insuranceProductDetail.agreement)),t.stockProductDetail&&t.stockProductDetail.agreement&&t.stockProductDetail.agreement.length>0&&($.each(t.stockProductDetail.agreement,function(t,e){e.name="股基"+e.name}),v=v.concat(t.stockProductDetail.agreement));var O=[],T={};$.each(v,function(t,e){T[e.id]||(O.push(e),T[e.id]=1)}),t.agreementDetail=O.length>0?O:I;var B=function(){t.GJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.BXchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.HJchartOptions=JSON.parse(JSON.stringify(gCombinedPruduct.chartOption)),t.HJchartOptions.colors.push("#50d4a2"),t.HJchartOptions.colors.push("#E8E8E8"),tempData=[],tempData.push("1"),tempData.push(parseFloat(t.monetaryAmountRate)),t.HJchartOptions.series[0].data.push(tempData),tempData=[],tempData.push("2"),tempData.push(100-parseFloat(t.monetaryAmountRate)),t.HJchartOptions.series[0].data.push(tempData),t.HJchartOptions.series[0].startAngle=0,t.HJchartOptions.title.text=parseFloat(t.monetaryAmountRate)+"%",t.BXchartOptions.colors.push("#6298e2"),t.BXchartOptions.colors.push("#E8E8E8"),tempData=[],tempData.push("1"),tempData.push(parseFloat(t.insuranceAmountRate)),t.BXchartOptions.series[0].data.push(tempData),tempData=[],tempData.push("2"),tempData.push(100-parseFloat(t.insuranceAmountRate)),t.BXchartOptions.series[0].data.push(tempData),t.BXchartOptions.series[0].startAngle=360*t.monetaryAmountRate/100,t.BXchartOptions.title.text=parseInt(t.insuranceAmountRate)+"%",t.GJchartOptions.colors.push("#ff7363"),t.GJchartOptions.colors.push("#E8E8E8"),tempData=[],tempData.push("1"),tempData.push(parseFloat(t.stockAmountRate)),t.GJchartOptions.series[0].data.push(tempData),tempData=[],tempData.push("2"),tempData.push(100-parseFloat(t.stockAmountRate)),t.GJchartOptions.series[0].data.push(tempData),t.GJchartOptions.series[0].startAngle=360*(t.monetaryAmountRate+t.insuranceAmountRate)/100,t.GJchartOptions.title.text=parseInt(100-parseInt(t.monetaryAmountRate)-parseFloat(t.insuranceAmountRate))+"%",i(function(){t.showGJChart(),t.showHJChart(),t.showBXChart()},100)};B(),t.showInputAmountTips=!1,t.buyButtonClass="btn-c off",t.stockAmount=0,t.insuranceAmount=0,t.monetaryAmount=0;var F=function(){return a.isValidTransferAmount(t.amount)?t.amount<5e3?(t.showInputAmountTips=!0,t.inputAmountTipsContent="最低购买金额为5000元",!1):!0:(t.showInputAmountTips=!0,t.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT,!1)},V=function(){t.stockProductDetail&&(t.stockAmount=parseFloat(t.stockAmountRate)*t.amount/100,t.stockAmount=a.getAmountForRule(t.stockAmount,t.stockProductDetail.minAmount,t.stockProductDetail.incAmount),t.stockAmount=parseFloat(t.stockAmount).toFixed(2)),t.insuranceProductDetail&&(t.insuranceAmount=parseFloat(t.insuranceAmountRate)*t.amount/100,t.insuranceAmount=a.getAmountForRule(t.insuranceAmount,t.insuranceProductDetail.minAmount,t.insuranceProductDetail.increaseAmount),t.insuranceAmount=parseFloat(t.insuranceAmount).toFixed(2)),t.monetaryAmount=parseFloat(t.amount-t.stockAmount-t.insuranceAmount).toFixed(2),t.realStockAmountRate=parseFloat(t.stockAmount/t.amount*100).toFixed(2),t.realInsuranceAmountRate=parseFloat(t.insuranceAmount/t.amount*100).toFixed(2),t.realMonetaryAmountRate=parseFloat(100-t.realStockAmountRate-t.realInsuranceAmountRate).toFixed(2),t.totalIncomeRate=0,t.monetaryProductDetail&&(t.totalIncomeRate+=parseFloat(t.realMonetaryAmountRate*t.monetaryProductDetail.incomeRate)),t.insuranceProductDetail&&(t.totalIncomeRate+=parseFloat(t.realInsuranceAmountRate*t.insuranceProductDetail.incomeRate)),t.stockProductDetail&&(t.totalIncomeRate+=parseFloat(t.realStockAmountRate*t.stockProductDetail.incomeRate)),t.totalIncomeRate=(t.totalIncomeRate/100).toFixed(2)};t.changeAmount=function(){return F()?(t.buyButtonClass="btn-c on",t.showInputAmountTips=!1,t.amount>t.webankAccount.amount&&t.bindCardList.length>0?(t.webankAccount.isAvaliable=!1,t.webankAccount.isWebankAccountSelected=!1):(t.webankAccount.isAvaliable=!0,t.webankAccount.isWebankAccountSelected=!0),V(),void B()):void(t.buyButtonClass="btn-c off")},t.focusAmount=function(){t.showInputAmountTips=!1},t.onClickStockProd=function(){A.setCallbackPage("combinedFinancial3"),u.path("/stockProductDetail/"+t.stockProductDetail.onSaleCode)},t.onClickInsuranceProd=function(){p.setCallbackPage("combinedFinancial3"),u.path("/insuranceProductDetails/"+t.insuranceProductDetail.onSaleCode)},t.onClickMonetaryProd=function(){h.setCallbackPage("productIntro","combinedFinancial3"),u.path("/monetaryProductIntro/"+t.monetaryProductDetail.prodCode)};var L=["保守型","谨慎型","稳健型","进取型","激进型"],x=o.getCacheInfo("assessment"),J=!1,N=0,E=function(e){e.riskStatus=1,e.type=2;var o={levelArr:[],nameArr:[]};e.infoArr?o=e.infoArr:(1*t.insuranceAmount>0&&(o.levelArr.push(2),o.nameArr.push("定期理财")),1*t.stockAmount>0&&(o.levelArr.push(4),o.nameArr.push("股票基金"))),e.infoArr=o;var n=[];if(!J){if(!x){for(var r=0;r<o.levelArr.length;r++)n.push(o.nameArr[r]);var u="该组合中，";return u+=n.join("和"),u+="产品需要进行风险评估方可购买。",a.makeToast(u,"short"),void i(function(){d.setData(e),d.goPage()},1100)}for(var r=0;r<o.levelArr.length;r++)o.levelArr[r]>x.cust_risk_level&&n.push(o.nameArr[r]);if(n.length>0){t.outValue={},t.outValue.showPop=!0,t.outValue.textHead="您的风险评估结果为 <span class='og'>"+L[x.cust_risk_level]+"</span>";var u="该组合中，";return u+=n[n.length-1]+"的风险等级为",u+="股票基金"==n[n.length-1]?'<span class="og">高</span>':'<span class="og">中</span>',u+="，按监管要求已超出你的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",t.outValue.twoButtonText1="重新评估",t.outValue.twoButtonText2="仍然购买",t.outValue.oneLineTextLeft=u,void(t.outValue.popClose=function(a){1==a?(e.riskStatus=1,d.setData(e),d.goPage()):2==a&&i(function(){J=!0,t.onClickBuy(1)},1)})}J=!0,t.onClickBuy()}},G=0;if(t.onClickBuy=function(e){if(G=e||0,a.clickButtonReport("combine_buy_combine"),F()&&"btn-c off"!=t.buyButtonClass){if(!t.isAgreed)return void a.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short");if(!j())return J?void(t.realStockAmountRate>40?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="该组合股票基金占比超过40%，组合风险较高，是否继续购买",t.outValue.twoButtonText1="取消",t.outValue.twoButtonText2="继续购买",t.outValue.popClose=function(e){0==e||1==e?t.outValue.showPop=!1:W()}):W()):void i(function(){E({amount:t.amount,callback:function(){J=!0,t.onClickBuy()}})},50)}},x){var M=d.getData();if(M&&2==M.riskStatus)if(M.riskStatus=0,N=M.amount,t.isAgreed=!0,t.buyButtonClass="btn-c",M.infoArr&&M.infoArr.levelArr.length>0&&M.infoArr.levelArr[M.infoArr.levelArr.length-1]>1*x.cust_risk_level)E(M);else{var H="您的投资类型为 "+L[x.cust_risk_level]+"，";H+=2==M.type?"适合购买该组合":"适合购买该产品",a.makeToast(H,"short"),J=!0,i(function(){t.onClickBuy()},1)}M&&1==M.riskStatus&&(M.riskStatus=0,M.amount&&(N=M.amount))}t.isPwdAutoShow=!1,t.isPwdShow=!1,t.sigOnPwdCommit=0;var W=function(){t.pwdSubTitle="购买组合";var e;t.webankAccount.isWebankAccountSelected?e="使用微众银行卡支付":(e="使用"+t.cardInfo.bankName+t.cardInfo.cardType,e+=a.abridgeAccountNumber(t.cardInfo.cardNo)+"支付"),t.payWayDesc=e,t.pwdTransDesc=parseFloat(t.amount).toFixed(2)+"元",t.isPwdShow=!0};t.$watch("sigOnPwdCommit",function(e,a){e!==a&&(t.isPwdShow=!1,q())});var X=o.getCacheInfo("wealth"),Y=n.parseRawWealthData_V2(X);t.bindCardList=n.getValidBandCardList(),t.isPayWayShow=!1,t.webankAccount={},t.webankAccount.isShow=!0,t.webankAccount.amount=Y.BankAmount,t.webankAccount.isAvaliable=!0,t.webankAccount.isWebankAccountSelected=!0,t.cardInfo={},t.bindCardList.length>0&&(t.cardInfo.cardType=t.bindCardList[0].other_card_type,t.cardInfo.bankName=t.bindCardList[0].other_bank_name,t.cardInfo.cardTypeCode=t.bindCardList[0].other_card_type_code,t.cardInfo.cardNo=t.bindCardList[0].other_account,t.cardInfo.bankBinCode=t.bindCardList[0].other_bank_bin_code,t.cardInfo.userName=t.bindCardList[0].other_name),t.onSelectPayWay=function(){t.isPwdShow?(t.isPwdAutoShow=!0,t.isPwdShow=!1):t.isPwdAutoShow=!1,t.isPayWayShow=!0},t.payWayCallback=function(){t.isPwdAutoShow&&(i(W,200),t.isPwdAutoShow=!1)};var j=function(){if(t.webankAccount.isWebankAccountSelected)return!1;var e=gBankLimit[t.cardInfo.bankBinCode];return e&&parseFloat(t.amount)>e.perOne?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="超过银行卡限额，"+t.cardInfo.bankName+t.cardInfo.cardType+"单笔"+e.perOne+"，单日"+e.perDay,t.outValue.oneButtonText="知道了",t.outValue.popClose=function(){},!0):!1};t.showLoading=!1;var q=function(){t.showLoading=!0;var a={},o={};t.webankAccount.isWebankAccountSelected?a.pay_flag=3:(a.pay_flag=1,a.card_no=t.cardInfo.cardNo),a.total_amount=t.amount,a.user_pwd=t.vm.formData.confirmPassword.RSA,a.redeem_type="01",a.buy_list=[],a.is_capricious=G+"";var c=0;if(t.stockAmount>0){var i={};i.transaction_amount=t.stockAmount,i.product_code=t.stockProductDetail.onSaleCode,i.product_type=r.PROD_TYPE.GJ,i.redeem_type="01",a.buy_list[c]=i,c++,o.hasStock=!0,o.stockProdCode=t.stockProductDetail.onSaleCode,o.stockAmount=t.stockAmount,o.stockSucceed=!0}if(t.insuranceAmount>0){var i={};i.transaction_amount=t.insuranceAmount,i.product_code=t.insuranceProductDetail.prodCode,i.product_type=r.PROD_TYPE.BX,i.redeem_type="01",a.buy_list[c]=i,c++,o.hasInsurance=!0,o.insuranceProdCode=t.insuranceProductDetail.prodCode,o.insuranceAmount=t.insuranceAmount,o.insuranceSucceed=!0}if(t.monetaryAmount>0){var i={};i.transaction_amount=t.monetaryAmount,i.product_code=t.monetaryProductDetail.prodCode,i.product_type=r.PROD_TYPE.HJ,i.redeem_type="01",a.buy_list[c]=i,c++,o.hasMonetary=!0,o.monetaryProdCode=t.monetaryProductDetail.prodCode,o.monetaryAmount=t.monetaryAmount,o.monetarySucceed=!0}e.requestCombinedPurchase(a).then(function(e){if(o.result=e.ret_code,e.ret_code==r.CGI_RET.CGI_COMBINED_BUY)for(var a=0;a<e.ret_data.length;++a)e.ret_data[a].product_type==r.PROD_TYPE.GJ&&(o.stockSucceed=!1,o.stockReason=e.ret_data[a].ret_msg),e.ret_data[a].product_type==r.PROD_TYPE.BX&&(o.insuranceSucceed=!1,o.insuranceReason=e.ret_data[a].ret_msg),e.ret_data[a].product_type==r.PROD_TYPE.HJ&&(o.monetarySucceed=!1,o.monetaryReason=e.ret_data[a].ret_msg);t.showLoading=!1,u.path("/combinedPurchaseResult").search(o).replace()},function(e){o.result=e.ret_code,o.failReason=e.ret_msg,t.showLoading=!1,n.isRetCodePwd(e.ret_code)?n.isRetCodePwdRetry(e.ret_code)?(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft=e.ret_msg,t.outValue.twoButtonText1="重试",t.outValue.twoButtonText2="忘记密码",t.outValue.popClose=function(t){1==t?W():2==t&&f.goPage()}):(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft=e.ret_msg,t.outValue.twoButtonText1="取消",t.outValue.twoButtonText2="忘记密码",t.outValue.popClose=function(t){1==t||2==t&&f.goPage()}):u.path("/combinedPurchaseResult").search(o).replace()})};t.onClickNextStep2=function(){a.clickButtonReport("combine_buy_adjust"),u.path(F()?"/combinedFinancial2/"+t.amount:"/combinedFinancial2")},t.back=function(){u.path("/combinedFinancial1")},t.bindNewCard=function(){m.setCallbackPage("combinedFinancial3"),u.path("/bindNewCard")},N?(t.amount=parseFloat(N),t.changeAmount()):c.amount?(t.amount=parseFloat(c.amount),t.changeAmount()):t.amount=""}]);app.controller("CombinedPurchaseResultController",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","$location","$stateParams","session",function(e,t,o,n,r,c,a){t.requestUserWealth().then(function(){},function(){}),e.resultObj=a.search(),e.resultObj.result==c.CGI_RET.CGI_SUCCESS||e.resultObj.result==c.CGI_RET.CGI_SUCCESS_2||e.resultObj.result==c.CGI_RET.CGI_COMBINED_BUY?(e.isSuccShow=!0,e.resultObj.hasStock&&(e.hasStock=!0,e.stockProductDetail=gStockProdCodeToProdDetailInfo[e.resultObj.stockProdCode],e.stockAmount=e.resultObj.stockAmount,e.stockSucceed=e.resultObj.stockSucceed),e.resultObj.hasInsurance&&(e.hasInsurance=!0,e.insuranceProductDetail=gProdCodeToProdDetailInfo[e.resultObj.insuranceProdCode],e.insuranceAmount=e.resultObj.insuranceAmount,e.insuranceSucceed=e.resultObj.insuranceSucceed,e.confirmDate=o.getDateByYYYYMMDDString(e.insuranceProductDetail.valueDate),e.confirmDate.setDate(e.confirmDate.getDate()-1)),e.resultObj.hasMonetary&&(e.hasMonetary=!0,e.monetaryProductDetail=gMonetrayProdCodeToProdDetailInfo[e.resultObj.monetaryProdCode],e.monetaryAmount=e.resultObj.monetaryAmount,e.monetarySucceed=e.resultObj.monetarySucceed)):(e.isSuccShow=!1,e.resultMsg=e.resultObj.failReason,e.stockSucceed=!1,e.insuranceSucceed=!1,e.monetarySucceed=!1);var u=new Date;e.nextWorkday=o.getNextWorkDay(u.getHours()>=15?2:1),e.onClickFinancialRecom=function(){a.path("/financialRecommend")},e.onClickHome=function(){a.path("/home")},e.onClickDetail=function(){a.path("/myProducts")}}]);var gCombinedPruduct={};gCombinedPruduct.wealthChartOption={chart:{type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0]},credits:{enabled:!1},colors:["#50d4a2","#6298e2","#ff7363"],plotOptions:{pie:{slicedOffset:0,size:"200%",innerSize:"96%",dataLabels:{enabled:!1}}},title:null,navigator:{enabled:!1},series:[{data:[],center:["50%","100%"],dataLabels:{enabled:!1},enableMouseTracking:!1,startAngle:-90}]},gCombinedPruduct.chartOption={chart:{type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0]},credits:{enabled:!1},colors:[],plotOptions:{pie:{slicedOffset:0,size:"100%",innerSize:"85%",dataLabels:{enabled:!1}}},title:{text:"",align:"center",y:20,style:{fontFamily:"'Lato', sans-serif",lineHeight:"12px",fontSize:"12px"}},navigator:{enabled:!1},series:[{data:[],center:["50%","50%"],dataLabels:{enabled:!1},enableMouseTracking:!1,startAngle:0}]};app.controller("InsurancePurchaseController",["$scope","$location","GLOBAL_CONSTANT","cgiService","utils","homeService","webankCommonService","$stateParams","$timeout","cache","session","BindNewCardService","riskAssessmentService","InsurancePurchaseService","ResetPasswdService","localStorageService","dataService","AnnouncementService","BindNewCardService","InsuranceProductDetailService",function(a,t,o,n,e,c,d,u,r,i,s,A,l,D,p,h,m,C,A){a.data={};var f=function(){a.data.prodDetail=gProdCodeToProdDetailInfo[u.prodCode],T(),a.data.minAmount=parseInt(a.data.prodDetail.minAmount),a.data.incAmount=parseInt(a.data.prodDetail.increaseAmount),a.data.showInputAct=!1,a.data.showInputAmountTips=!1,a.data.showInputResult=!1,a.data.ButtonClass="btn-c off",a.data.showLoading=!1,a.data.isPwdShow=!1,a.data.isPwdAutoShow=!1,a.data.sigOnPwdCommit=0,w(),S(),_()},_=function(){a.data.countDate=e.getDateByYYYYMMDDString(a.data.prodDetail.valueDate),a.data.countDate.setDate(a.data.countDate.getDate()+1),a.data.endDate=e.getDateByYYYYMMDDString(a.data.prodDetail.valueDate),a.data.endDate.setDate(a.data.endDate.getDate()+a.data.prodDetail.lifeTime)},T=function(){a.data.isAgreed=!0,a.data.agreementDesc="服务协议及风险提示",a.data.agreementCode=u.prodCode,a.agreementCallback=function(t){if(0==t){var o="http://sit-hjdata.webank.com/tmp/01-agreement.pdf";a.openPdf(o)}else{var o="http://sit-hjdata.webank.com/tmp/02-risk.pdf";a.openPdf(o)}}},P=function(){if(""==a.data.amount||void 0==a.data.amount)return!1;if(!e.isValidTransferAmount(a.data.amount))return a.data.showInputAmountTips=!0,a.data.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT,!1;if(a.data.amount<a.data.prodDetail.minAmount)return a.data.showInputAmountTips=!0,a.data.inputAmountTipsContent="最低购买金额为"+a.data.prodDetail.minAmount+"元",!1;var t=a.data.amount;if(a.data.amount=e.getAmountForRule(a.data.amount,a.data.minAmount,a.data.incAmount),t!=a.data.amount&&e.makeToast("购买的金额必须为"+a.data.incAmount+"的整数倍，已自动为您调整","short"),a.data.amount=parseFloat(parseFloat(a.data.amount).toFixed(2)),a.data.amountCN=e.convertCurrencyToChineseStyle(a.data.amount),a.data.income=parseFloat(parseFloat(a.data.amount)*parseFloat(a.data.prodDetail.incomeRate)*parseInt(a.data.prodDetail.lifeTime)/365/100).toFixed(2),a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.CURRENT_PLUS&&parseFloat(a.data.amount)>a.data.AccountData.currentPlus.amount&&(a.data.AccountData.ctrlData.accountType=o.ACCOUNT_TYPE.WEBANK_CARD),a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.WEBANK_CARD&&parseFloat(a.data.amount)>a.data.AccountData.webankAccount.amount){if(!(a.data.AccountData.otherBankAccount.otherAccountList&&a.data.AccountData.otherBankAccount.otherAccountList.length>0))return a.data.showNeedBindCard=!0,!1;a.data.AccountData.ctrlData.accountType=o.ACCOUNT_TYPE.OTHER_BANK_CARD}return a.data.showInputAct=!0,a.data.showInputResult=!0,a.data.showInputAmountTips=!1,a.data.showNeedBindCard=!1,!0};a.focusInput=function(){a.data.showInputAct=!1,a.data.showInputResult=!1,a.data.showInputAmountTips=!1,a.data.showNeedBindCard=!1},a.blurInput=function(){a.data.amount&&""!=a.data.amount&&P()},a.changeInput=function(){a.data.amount&&""!=a.data.amount||(a.data.ButtonClass="btn-c off"),a.data.ButtonClass=a.data.amount>=a.data.minAmount?"btn-c":"btn-c off"};var w=function(){var t=i.getCacheInfo("wealth"),n=d.parseRawWealthData_V2(t),e=d.getValidBandCardList();a.data.AccountData={},a.data.AccountData.webankAccount={},a.data.AccountData.webankAccount.priority=2,a.data.AccountData.webankAccount.amount=n.BankAmount,a.data.AccountData.webankAccount.isAvaliable=!0,a.data.AccountData.currentPlus={},a.data.AccountData.currentPlus.amount=n.HJAmount,a.data.AccountData.currentPlus.priority=1,a.data.AccountData.currentPlus.isAvaliable=!0,a.data.AccountData.ctrlData={},a.data.AccountData.ctrlData.title="选择付款账户",a.data.AccountData.ctrlData.canBindNewCard=!0,a.data.AccountData.ctrlData.accountType=o.ACCOUNT_TYPE.CURRENT_PLUS,a.data.AccountData.otherBankAccount={},a.data.AccountData.otherBankAccount.cardInfo={},e&&e.length>0&&(a.data.AccountData.otherBankAccount.otherAccountList=e,a.data.AccountData.otherBankAccount.cardInfo.bankBinCode=e[0].other_bank_bin_code,a.data.AccountData.otherBankAccount.cardInfo.userName=e[0].other_name,a.data.AccountData.otherBankAccount.cardInfo.cardNo=e[0].other_account,a.data.AccountData.otherBankAccount.cardInfo.cardTypeCode=e[0].other_card_type_code,a.data.AccountData.otherBankAccount.cardInfo.cardType=e[0].other_card_type,a.data.AccountData.otherBankAccount.cardInfo.bankName=e[0].other_bank_name)};a.onSelectPayWay=function(){a.data.isPwdShow?(a.data.isPwdAutoShow=!0,a.data.isPwdShow=!1):a.data.isPwdAutoShow=!1,a.data.showAccountSelector()},a.onAccountSelected=function(){a.data.isPwdAutoShow&&(r(B,200),a.data.isPwdAutoShow=!1)},a.isWeBankAccount=function(){return a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.WEBANK_CARD},a.isCurrentPlus=function(){return a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.CURRENT_PLUS},a.isOtherBank=function(){return a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.OTHER_BANK_CARD};var B=function(){a.data.pwdSubTitle="购买"+a.data.prodDetail.onSaleDesc+"("+a.data.prodDetail.valueDate.substr(4,4)+")";var t;a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.WEBANK_CARD?t="使用微众卡支付":a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.CURRENT_PLUS?t="使用活期+支付":(t="使用"+a.data.AccountData.otherBankAccount.cardInfo.bankName,t+=a.data.AccountData.otherBankAccount.cardInfo.cardType,t+=e.abridgeAccountNumber(a.data.AccountData.otherBankAccount.cardInfo.cardNo)+"支付"),a.data.payWayDesc=t,a.data.pwdTransDesc=parseFloat(a.data.amount).toFixed(2)+"元",a.data.isPwdShow=!0};a.$watch("data.sigOnPwdCommit",function(t,o){t!==o&&(a.data.isPwdShow=!1,N())}),a.onClickPurchase=function(){return"btn-c off"!=a.data.ButtonClass?a.data.isAgreed?void(P()&&(k()||B())):void e.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short"):void 0};var k=function(){if(a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.OTHER_BANK_CARD){var t=gBankLimit[a.data.AccountData.otherBankAccount.cardInfo.bankBinCode];if(!t)return!1;if(parseFloat(a.data.amount)>parseFloat(t.perOne))return a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft="超过银行卡限额，"+a.data.AccountData.otherBankAccount.cardInfo.bankName+a.data.AccountData.otherBankAccount.cardInfo.cardType+"单笔"+t.perOne+"，单日"+t.perDay,a.data.outValue.oneButtonText="知道了",a.data.outValue.popClose=function(){},!0}return!1},N=function(){var e=0;D.getData()&&D.getData().isForce&&(e=D.getData().isForce);var c={};a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.WEBANK_CARD?c.pay_flag=o.ACCOUNT_TYPE.WEBANK_CARD:a.data.AccountData.ctrlData.accountType==o.ACCOUNT_TYPE.CURRENT_PLUS?(c.pay_flag=o.ACCOUNT_TYPE.CURRENT_PLUS,c.pay_product_code=gMonetaryOnSaleInfo[0].prod_code):(c.pay_flag=o.ACCOUNT_TYPE.OTHER_BANK_CARD,c.card_no=a.data.AccountData.otherBankAccount.cardInfo.cardNo),c.user_pwd=a.vm.formData.confirmPassword.RSA,c.transaction_amount=a.data.amount,c.product_code=a.data.prodDetail.prodCode,c.redeem_type="02",c.is_capricious=e+"",a.data.transInfo={},a.data.transInfo.transAmount=a.data.amount,a.data.transInfo.prodCode=u.prodCode,a.data.showLoading=!0,n.requestBuyFinacialProduct(c).then(function(n){d.isProcessingState(n.ret_code)?g(o.ORDER_QUERY_TYPE.PURCHASE_INSURANCE,n.ret_data.trans_serno):(a.data.showLoading=!1,D.clearSession(),t.path("/insurancePurchaseResult/"+n.ret_code+"/"+n.ret_msg).search(a.data.transInfo))},function(o){a.data.showLoading=!1,d.isRetCodePwd(o.ret_code)?d.isRetCodePwdRetry(o.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=o.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a?B():2==a&&p.goPage()}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=o.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a||2==a&&p.goPage()}):(D.clearSession(),t.path("/insurancePurchaseResult/"+o.ret_code+"/"+o.ret_msg).search(a.data.transInfo))})},g=function(o,n){d.checkProcessingState(o,n).then(function(o){a.data.showLoading=!1,D.clearSession(),t.path("/insurancePurchaseResult/"+o.retCode+"/"+o.retMsg).search(a.data.transInfo)})};a.bindCard=function(){D.saveSession(a.data),A.goPage()},a.back=function(){D.clearSession(),D.backPage()},a.onClickProdDetail=function(){D.saveSession(a.data),t.path("/insuranceProductDetails/"+a.data.prodDetail.onSaleCode+"/hideBuyButton")};var S=function(){var t=h.get(i.getUserInfo().openid+u.prodCode+"productNotice");if(!t){var o=C.getBackData();o&&o.back?(C.setBackData(null),1*o.type==10&&a.back()):m.getBuyNotice({code:u.prodCode}).then(function(a){a&&a.length>0&&C.goPage(null,null,{code:u.onSaleCode,type:10})},function(){})}};if(void 0==D.resumeSession())f();else{a.data=D.resumeSession();var I=d.getValidBandCardList();I&&I.length>0&&(a.data.AccountData.otherBankAccount.otherAccountList=I,a.data.AccountData.otherBankAccount.cardInfo.bankBinCode=I[0].other_bank_bin_code,a.data.AccountData.otherBankAccount.cardInfo.userName=I[0].other_name,a.data.AccountData.otherBankAccount.cardInfo.cardNo=I[0].other_account,a.data.AccountData.otherBankAccount.cardInfo.cardTypeCode=I[0].other_card_type_code,a.data.AccountData.otherBankAccount.cardInfo.cardType=I[0].other_card_type,a.data.AccountData.otherBankAccount.cardInfo.bankName=I[0].other_bank_name),P()}}]);app.controller("InsurancePurchaseResultController",["$scope","$location","GLOBAL_CONSTANT","cgiService","utils","$stateParams","TransRecordService",function(a,e,t,n,d,i,D){a.data={};var o=function(){a.data.transInfo=e.search(),a.data.resultMsg=i.resultMsg,a.data.resultId=i.resultId,a.data.isSuccShow=!1,a.data.resultId==t.CGI_RET.CGI_SUCCESS||a.data.resultId==t.CGI_RET.CGI_SUCCESS_2?(a.data.isSuccShow=!0,a.data.isProcessing=!1):(a.data.resultId==t.CGI_RET.CGI_PROCESSING||a.data.resultId==t.CGI_RET.CGI_PROCESSING_2)&&(a.data.isSuccShow=!0,a.data.isProcessing=!0),r(),c()},r=function(){n.requestUserWealth().then(function(){},function(){})},c=function(){a.data.today=new Date;var e=gProdCodeToProdDetailInfo[a.data.transInfo.prodCode];a.data.valueDate=d.getDateByYYYYMMDDString(e.valueDate),a.data.showDate=d.getDateByYYYYMMDDString(e.valueDate),a.data.showDate.setDate(a.data.showDate.getDate()+1),a.data.lifeTime=e.lifeTime,a.data.confirmDate=d.getDateByYYYYMMDDString(e.valueDate),a.data.confirmDate.setDate(a.data.confirmDate.getDate()-1),a.data.endDate=d.getDateByYYYYMMDDString(e.valueDate),a.data.endDate.setDate(a.data.endDate.getDate()+e.lifeTime),a.data.redeemDate=d.getDateByYYYYMMDDString(e.valueDate),a.data.redeemDate.setDate(4==a.data.endDate.getDay()?a.data.redeemDate.getDate()+e.lifeTime+3:5==a.data.endDate.getDay()?a.data.redeemDate.getDate()+e.lifeTime+2:a.data.redeemDate.getDate()+e.lifeTime+1)};a.onClickFinancialRecom=function(){e.path("/financialRecommend")},a.onClickHome=function(){e.path("/home")},a.onClickDetail=function(){e.path("/myFinancial")},a.onClickTranLog=function(){D.goPage("","","all","home")},o()}]);app.controller("InsuranceMyProductDetailsController",["$scope","$location","GLOBAL_CONSTANT","cgiService","essential","webankCommonService","utils","$stateParams","cache","InsuranceProductDetailService","InsurancePurchaseService","GLOBAL_CONSTANT","riskAssessmentService","InsuranceMyProdDetailService","$timeout",function(a,t,e,o,d,r,n,s,u,l,c,e,i,p,f){a.data={};var h=function(){a.data.productInfo=gProdCodeToProdDetailInfo[s.prodCode],D(),g(),P(),S(),w()},D=function(){a.data.isValueDateStart=!1,a.data.gainedValueDays=0,a.data.daysBeforeValueDate=0,a.data.valuePct=0,a.data.remainValueDays=0;var t=new Date,e=n.getDateByYYYYMMDDString(a.data.productInfo.valueDate),o=n.getDateDifference(e,t);a.data.confirmDate=n.getDateByYYYYMMDDString(a.data.productInfo.valueDate),a.data.confirmDate.setDate(a.data.confirmDate.getDate()-1),a.data.isValueDateStart=o>=0,o=Math.ceil(Math.abs(o)),a.data.endDate=n.getDateByYYYYMMDDString(a.data.productInfo.valueDate),a.data.endDate.setDate(a.data.endDate.getDate()+parseInt(a.data.productInfo.lifeTime)),a.data.isValueDateStart?(a.data.gainedValueDays=o-1,a.data.remainValueDays=parseInt(a.data.productInfo.lifeTime)-a.data.gainedValueDays,a.data.valuePct=Math.ceil(a.data.gainedValueDays/parseFloat(a.data.productInfo.lifeTime)*100)):a.data.daysBeforeValueDate=o},g=function(){var t=u.getCacheInfo("wealth"),e=r.parseRawWealthDataForBXProduct(t,s.prodCode);if(e&&(a.data.yestodayIncome=parseFloat(e.yestodayIncome).toFixed(2),a.data.showIncome=0==a.data.yestodayIncome?!1:!0,a.data.accumulateIncome=parseFloat(e.accumulatedIncome).toFixed(2),a.data.amount=parseFloat(e.amount).toFixed(2),a.data.showDst=!1,a.data.dst=e.redeemType,"01"==a.data.dst?(a.data.dstString="赎回到微众卡",a.data.weBankCardClass="jv on",a.data.HJClass="jv"):(a.data.dst="02",a.data.dstString="赎回到活期+",a.data.weBankCardClass="jv",a.data.HJClass="jv on")),a.data.totalIncome=a.data.isValueDateStart?(parseFloat(a.data.yestodayIncome)*parseFloat(a.data.productInfo.lifeTime)).toFixed(2):(a.data.amount*a.data.productInfo.incomeRate*a.data.productInfo.lifeTime/100/365).toFixed(2),0==a.data.amount){var o=r.parseRawWealthDataForConfirmBXProduct(t,s.prodCode);a.data.confirmAmount=o.amount}};a.onClickDstSelect=function(){a.data.showDst=!0},a.onClickDstClose=function(){a.data.showDst=!1},a.onSelectDstHJ=function(){"02"!=a.data.dst&&(a.data.selectType="02",m(),a.data.showDst=!1)},a.onSelectDstNext=function(){"01"!=a.data.dst&&(a.data.selectType="01",m(),a.data.showDst=!1)};var m=function(){a.data.pwdSubTitle="01"==a.data.selectType?"修改为到期取出到微众卡":"修改为到期取出到活期+",a.data.isPwdShow=!0};a.$watch("data.sigOnPwdCommit",function(t,e){t!==e&&(a.data.isPwdShow=!1,C())});var C=function(){var t={};t.password=a.data.vm.formData.confirmPassword.RSA,t.current_prod_code=s.prodCode,t.redeem_type="01"==a.data.selectType?"01":"02",o.requestInsuranceRedeemType(t).then(function(){n.makeToast("修改成功"),"01"==a.data.selectType?(a.data.dst="01",a.data.weBankCardClass="jv on",a.data.HJClass="jv",a.data.dstString="取出到微众卡"):(a.data.dst="02",a.data.weBankCardClass="jv",a.data.HJClass="jv on",a.data.dstString="取出到活期+"),o.requestUserWealth().then(function(){},function(){})},function(t){r.isRetCodePwd(t.ret_code)?r.isRetCodePwdRetry(t.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(t){1==t?a.data.isPwdShow=!0:2==t&&ResetPasswdService.goPage()}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a||2==a&&ResetPasswdService.goPage()}):n.makeToast(t.ret_msg,"short")})},v=function(t){var e=u.getCacheInfo("assessment"),o=t.level||0,d=t.word||"中";t.riskStatus=1,e?e.cust_risk_level<o?f(function(){a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.textHead="您的风险评估结果为 <span class='og'>"+gRiskArr[e.cust_risk_level]+"</span>",a.data.outValue.oneLineTextLeft='该产品风险等级为<span class="og">'+d+"</span>，按监管要求已超出您的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",a.data.outValue.twoButtonText1="重新评估",a.data.outValue.twoButtonText2="仍然购买",a.data.outValue.popClose=function(a){1==a?(t.riskStatus=1,i.setData(t),i.goPage()):2==a&&t.goNextPath(1)}},50):t.goNextPath():(i.setData(t),i.goPage())},S=function(){var a=u.getCacheInfo("assessment");if(a){var t=i.getData();if(t&&2==t.riskStatus){if(t.riskStatus=0,!(t.level>a.cust_risk_level)){var e="您的投资类型为 "+gRiskArr[a.cust_risk_level]+"，";return e+=2==t.type?"适合购买该组合":"适合购买该产品",n.makeToast(e,"short"),void t.goNextPath()}v(t)}}},P=function(){a.data.isSoldOut=!1,a.data.onSaleProduct=r.getCurrentProdBySaleCode(a.data.productInfo.onSaleCode),a.data.onSaleProduct?o.requestProductBalance(a.data.onSaleProduct.prodCode).then(function(t){0==t.ret_data.quota_total&&(a.data.isSoldOut=!0)}):a.data.isSoldOut=!0};a.onClickProductDetail=function(){l.goPage(a.data.productInfo.onSaleCode)},a.onClickContinueBuy=function(){var t=2;void 0!=a.data.onSaleProduct.risk_level&&(t=1*a.data.onSaleProduct.risk_level);var e=gProductArr[t]||"中等";v({level:t,word:e,goNextPath:function(t){c.goPage(a.data.onSaleProduct.prodCode,null,{isForce:t})}})},a.back=function(){p.backPage()};var w=function(){var t={};a.data.shareData=t,t.prod_type=e.PROD_TYPE.BX,t.shareObj=getShareConf(t.prod_type,s.prodCode),t.shareContent=null,t.shareTarget=null,!isReviewVer&&t.shareObj&&t.shareObj.share_content&&t.shareObj.share_targeturl?(a.data.shareClass="menu-tip share",t.shareContent=t.shareObj.share_content.replace("{prod_name}",a.data.productInfo.onSaleDesc),t.shareContent=t.shareContent.replace("{income_rate}",a.data.productInfo.incomeRate),t.shareTarget=t.shareObj.share_targeturl.replace("{prod_code}",a.data.productInfo.onSaleCode),t.shareTarget=t.shareTarget.replace("{prod_type}",t.prod_type)):a.data.shareClass="hpw-‰con hide"};a.share=function(){var t=a.data.shareData;t&&d.sharePage(t.shareObj.share_title,t.shareContent,t.shareObj.share_preview,t.shareTarget)},h()}]);app.controller("InsuranceProductDetailsController",["$scope","$location","$stateParams","utils","cgiService","essential","$timeout","webankCommonService","$rootScope","cache","riskAssessmentService","InsuranceProductDetailService","InsurancePurchaseService","GLOBAL_CONSTANT","RegisterService","LoginService","InsuranceProductIntroductionService","$http","$sce","envService",function(a,t,e,o,n,r,d,s,u,i,c,l,p,S,f,h,C,I,T,g){a.data={};var D=function(){v(),w(),k()},v=function(){a.data.status=i.getUserStatus(),a.data.showBuyButton="hideBuyButton"==e.isHideButton?!1:!0,a.data.onSaleCode=e.onSaleCode,a.data.productInfo=s.getCurrentProdBySaleCode(a.data.onSaleCode),a.data.productInfo&&0!=a.data.productInfo.restAmount?(a.data.isSaleOut=!1,a.data.isTodayInSale=!1,a.data.isInSale=!0,_(),a.data.isSaleOut||m()):(a.data.productInfo=s.getNextProdByCurrentSaleCode(a.data.onSaleCode),a.data.productInfo?a.data.nextProd=a.data.productInfo:a.data.productInfo=s.getLastProdByCurrentSaleCode(a.data.onSaleCode),a.data.isSaleOut=!0,a.data.isTodayInSale=!1,a.data.isInSale=!1),a.data.productInfo.incomeRate=parseFloat(a.data.productInfo.incomeRate).toFixed(2),a.data.valueDate=o.getDateByYYYYMMDDString(a.data.productInfo.valueDate),a.data.valueEndDate=o.getDateByYYYYMMDDString(a.data.productInfo.valueDate),a.data.valueEndDate.setDate(a.data.valueEndDate.getDate()+parseInt(a.data.productInfo.lifeTime)),a.data.redeemDate=o.getNextWorkDay(1,a.data.valueEndDate),a.data.today=new Date,a.data.riskDesc=gProductArr[a.data.productInfo.risk_level],a.data.DateShowTips=!1,a.data.DateShowTipsContent="";var t=g.getEnvVariable().DATA_CGI_PREFIX+"html/insurance/"+e.onSaleCode+"/prodInfo.html";I.get(T.trustAsResourceUrl(t)).success(function(t){a.data.sectionHtml=T.trustAsHtml(t)})},m=function(){a.data.countdownHour=0,a.data.countdownMinute=0,a.data.countdownSecond=0;var t=o.getDateByYYYYMMDDString(a.data.productInfo.endBuyDate);if(o.isToday(t)){a.data.isTodayInSale=!0,a.data.isInSale=!1;var t=o.getDateByDateAndTimeString(a.data.productInfo.endBuyDate,a.data.productInfo.endBuyTime);if(t){var e=new Date,n=o.getSecondDifference(e,t);n>0&&(a.data.countdownHour=parseInt(n/3600),a.data.countdownMinute=parseInt((n-3600*a.data.countdownHour)/60),a.data.countdownSecond=parseInt(n-3600*a.data.countdownHour-60*a.data.countdownMinute),d(function(){Countdown.init()},200))}}else a.data.isTodayInSale=!1,a.data.isInSale=!0};a.$on("$destroy",function(){Countdown.cleanTimer()});var _=function(){a.data.status!=S.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?(a.data.remainAmount=parseInt(a.data.productInfo.restAmount),P()):(a.data.remainAmount=parseInt(a.data.productInfo.totalAmount/2),a.data.remainPct=50,n.requestProductBalance(a.data.productInfo.prodCode).then(function(t){a.data.remainAmount=t.ret_data.quota_total,P()}))},P=function(){if(0!=a.data.totalAmount){var t=parseFloat(a.data.remainAmount)/parseFloat(a.data.productInfo.totalAmount)*100;a.data.remainPct=.1>t?"0.10":t.toFixed(2)}else a.data.remainPct="0.00";if(0==a.data.remainAmount&&(a.data.isSaleOut=!0,a.data.isTodayInSale=!1,a.data.isInSale=!1,a.data.nextProd=s.getNextProdByCurrentSaleCode(a.data.productInfo.onSaleCode),a.data.nextProd)){var e=o.getDateByYYYYMMDDString(a.data.nextProd.startBuyDate);o.isTomorrow(e)?(a.data.DateShowTips=!0,a.data.DateShowTipsContent="(明天)"):o.isTomorrowTomorrow(e)?(a.data.DateShowTips=!0,a.data.DateShowTipsContent="(后天)"):(a.data.DateShowTips=!1,a.data.DateShowTipsContent="")}},A=function(t){var e=i.getCacheInfo("assessment"),o=t.level||0,n=t.word||"中";t.riskStatus=1,e?e.cust_risk_level<o?d(function(){a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.textHead="您的风险评估结果为 <span class='og'>"+gRiskArr[e.cust_risk_level]+"</span>",a.data.outValue.oneLineTextLeft='该产品风险等级为<span class="og">'+n+"</span>，按监管要求已超出您的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",a.data.outValue.twoButtonText1="重新评估",a.data.outValue.twoButtonText2="仍然购买",a.data.outValue.popClose=function(a){1==a?(t.riskStatus=1,c.setData(t),c.goPage()):2==a&&t.goNextPath(1)}},50):t.goNextPath():(c.setData(t),c.goPage())},w=function(){var a=i.getCacheInfo("assessment");if(a){var t=c.getData();if(t&&2==t.riskStatus){if(t.riskStatus=0,!(t.level>a.cust_risk_level)){var e="您的投资类型为 "+gRiskArr[a.cust_risk_level]+"，";return e+=2==t.type?"适合购买该组合":"适合购买该产品",o.makeToast(e,"short"),void t.goNextPath()}A(t)}}},y=function(){o.makeToast(STRING_TABLE.BEGIN_TO_OPENACCOUNT,"short"),d(function(){f.setCallbackPage("insuranceProductDetails/"+a.data.onSaleCode,"insuranceProductDetails/"+a.data.onSaleCode),t.path("/register")},1e3)},B=function(){o.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),d(function(){h.setCallbackPage("insuranceProductDetails/"+a.data.onSaleCode,"insuranceProductDetails/"+a.data.onSaleCode),t.path("/login")},1e3)};a.onClickContinueBuy=function(){if(a.data.status==S.ACCOUNT_STATE.USER_STATE_GUEST)B();else if(a.data.status==S.ACCOUNT_STATE.USER_STATE_LOGIN)y();else{var t=2;void 0!=a.data.productInfo.risk_level&&(t=1*a.data.productInfo.risk_level);var e=gProductArr[t]||"中等";A({level:t,word:e,goNextPath:function(t){p.goPage(a.data.productInfo.prodCode,null,{isForce:t})}})}},a.back=function(){"hideBuyButton"==e.isHideButton?t.path("/insurancePurchase/"+a.data.productInfo.prodCode):l.backPage()},a.onClickProductIntroduction=function(){C.goPage(a.data.onSaleCode)};var k=function(){var t={};a.data.shareData=t,t.prod_type=S.PROD_TYPE.BX,t.shareObj=getShareConf(t.prod_type,a.data.productInfo.prodCode),t.shareContent=null,t.shareTarget=null,!isReviewVer&&t.shareObj&&t.shareObj.share_content&&t.shareObj.share_targeturl?(a.data.shareClass="menu-tip share",t.shareContent=t.shareObj.share_content.replace("{prod_name}",a.data.productInfo.onSaleDesc),t.shareContent=t.shareContent.replace("{income_rate}",a.data.productInfo.incomeRate),t.shareTarget=t.shareObj.share_targeturl.replace("{prod_code}",a.data.onSaleCode),t.shareTarget=t.shareTarget.replace("{prod_type}",t.prod_type)):a.data.shareClass="hpw-con hide"};a.share=function(){var t=a.data.shareData;t&&r.sharePage(t.shareObj.share_title,t.shareContent,t.shareObj.share_preview,t.shareTarget)},D()}]);app.controller("InsuranceProductIntroductionController",["$scope","$location","$stateParams","InsuranceProductDetailService","envService","$http","$sce","dataService","$ionicScrollDelegate","$timeout","InsuranceProductIntroductionService",function(t,n,e,o,a,c,i,s,r,u,l){t.data={};var d="xq-con nb mgt20 px",C="xq-con nb mgt20 px off",f=r.$getByHandle("myContent"),m=e.onSaleCode;t.data.announceValue={list:[]};var v=a.getEnvVariable().DATA_NOTICE;s.getProductNotice({code:m}).then(function(n){n&&n.length>0&&$.each(n,function(n,e){t.data.announceValue.list.push({name:e.app_show_name||"公告",url:v+e.location,show_sort:e.show_sort||0})})},function(){});var g=function(){t.data.noticeCls=C,t.data.questionCls=C;var n=a.getEnvVariable().DATA_CGI_PREFIX+"html/insurance/"+e.onSaleCode+"/prodDetail.html";c.get(i.trustAsResourceUrl(n)).success(function(n){t.data.sectionHtml=i.trustAsHtml(n)})};t.onClickNotice=function(){t.data.noticeCls=t.data.noticeCls==C?d:C,u(function(){f.resize()},200)},t.onClickQuestion=function(){t.data.questionCls=t.data.questionCls==C?d:C,u(function(){f.resize()},200)},t.back=function(){l.backPage()},g()}]);app.controller("MonetaryProductIntroductionController",["$scope","$location","$stateParams","utils","cgiService","essential","MonetaryService","PlanService","$timeout","GLOBAL_CONSTANT","MonetaryIncomeRulesService",function(e,t,a,o,n,r,i,s,c,l,h){var d=a.prodCode;e.prodDetails=gMonetrayProdCodeToProdDetailInfo[d],e.historyIncomeInfo=[],e.historyIncomeInfoAll=[],e.prodName=e.prodDetails.prodName,e.ruleDesc=e.prodDetails.tradingRules,e.incomeRate=parseFloat(e.prodDetails.incomeRate).toFixed(2),e.incomeTenThousand=e.prodDetails.incomeTenThousand,e.tags=e.prodDetails.tags,e.recomReason=e.prodDetails.recomReason,e.riskDesc=e.prodDetails.riskDesc,e.investCycle=e.prodDetails.investCycle,e.promopt=e.prodDetails.promopt,e.incomeRateCls="item on",e.incomeCls="item",e.showIncomeRate=!0,e.canBuy=!0,e.data={},e.func={},("combinedFinancial2"==i.getCallbackPage()||"combinedFinancial3"==i.getCallbackPage())&&(e.canBuy=!1);var p=new Date,m=new Date;m.setDate(p.getDate()-90);var u=o.getYYYYMMDDStringByDate(m),g=o.getYYYYMMDDStringByDate(p),y=[];n.requestProductHistoryIncomeRate(d,u,g).then(function(t){var a=-1,n=-1;for(idxDate in t.ret_data){-1==a&&-1==n&&(a=n=parseFloat(t.ret_data[idxDate].income_rate));var r={},i=parseFloat(t.ret_data[idxDate].million_of_income),s=parseFloat(t.ret_data[idxDate].income_rate);r.date=idxDate,r.incomeTenThousand=i.toFixed(4),r.incomeRate=s.toFixed(4),a>s&&(a=s),s>n&&(n=s),e.historyIncomeInfoAll.push(r);var c=o.getUTCMsByYYYYMMDDString(idxDate),l=[];l.push(c),l.push(parseFloat(t.ret_data[idxDate].income_rate)),y.push(l)}e.historyIncomeInfoAll.sort(function(e,t){return t.date-e.date});for(var h=Math.min(e.historyIncomeInfoAll.length,7),d=0;h>d;d++)e.historyIncomeInfo.push(e.historyIncomeInfoAll[d]);if(a>=0&&n>=0){var p=0>a-1?0:a-1;e.chartOptions.yAxis.floor=p,e.chartOptions.yAxis.ceiling=n+1}e.chartOptions.series[0].data=y,e.func.showChart&&e.func.showChart()}),e.onClickIncome=function(){e.incomeRateCls="item",e.incomeCls="item on",e.showIncomeRate=!1},e.onClickIncomeRate=function(){e.incomeRateCls="item on",e.incomeCls="item",e.showIncomeRate=!0},e.onClickViewMore=function(){i.setCallbackPage("monetaryTenThousand","monetaryProductIntro/"+d),t.path("/monetaryHistoryIncomeTenThousand/"+d)},e.onClickProductDetail=function(){i.setCallbackPage("moreDetail","monetaryProductIntro/"+d),t.path("/monetaryMoreDetails")},e.chartOptions={chart:{type:"areaspline",pinchType:"",zoomType:""},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{buttonTheme:{fill:"none",stroke:"#a2aeca","stroke-width":1,r:12,width:45,height:20,padding:2,style:{color:"#a2aeca",fontWeight:"bold"},states:{hover:{},select:{fill:"#6298e2",style:{color:"white"}}}},buttons:[{type:"day",count:7,text:"7天",idx:0},{type:"month",count:1,text:"1个月",idx:1},{type:"month",count:2,text:"2个月",idx:2}],selected:0},scrollbar:{enabled:!1},series:[{name:"7日年化收益",data:y,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}],yAxis:{gridLineWidth:.5,labels:{format:"{value:point.y:.2f}"},lineWidth:0,opposite:!1,tickmarkPlacement:"on",floor:0,ceiling:7},xAxis:{type:"datetime",lineWidth:0,tickInterval:864e5,labels:{format:"{value:%m-%d}",align:"center"},events:{setExtremes:function(e){var t=e.rangeSelectorButton.idx;0==t?this.chart.xAxis[0].options.tickInterval=864e5:1==t?this.chart.xAxis[0].options.tickInterval=3456e5:2==t&&(this.chart.xAxis[0].options.tickInterval=6912e5)}},tickWidth:0,showLastLabel:!1},tooltip:{valueDecimals:2,shared:!0,valueSuffix:""},plotOptions:{areaspline:{fillOpacity:.5,enableMouseTracking:!1,pointPlacement:"between",lineWidth:2,allowPointSelect:!0,marker:{enabled:!0,radius:3}}}},e.onClickMakePlan=function(){s.setCallbackPage("monetaryProductIntro/"+d),t.path("/purchasePlan")},e.onClickPurchase=function(){i.setCallbackPage("monetaryPurchase","monetaryProductIntro/"+d),t.path("/monetaryPurchase/"+d)},e.onClickViewMoreIncomeRule=function(){h.goPage(d)},e.back=function(){var e=i.getCallbackPage("productIntro");t.path(e)};var f=function(){var t={};e.data.shareData=t,t.prod_type=l.PROD_TYPE.HJ,t.shareObj=getShareConf(t.prod_type,d),t.shareContent=null,t.shareTarget=null,!isReviewVer&&t.shareObj&&t.shareObj.share_content&&t.shareObj.share_targeturl?(e.shareClass="menu-tip share",t.shareContent=t.shareObj.share_content.replace("{prod_name}",e.prodName),t.shareContent=t.shareContent.replace("{income_rate}",e.incomeRate),t.shareTarget=t.shareObj.share_targeturl.replace("{prod_code}",d),t.shareTarget=t.shareTarget.replace("{prod_type}",t.prod_type)):e.shareClass="hpw-con hide"};e.share=function(){var t=e.data.shareData;t&&r.sharePage(t.shareObj.share_title,t.shareContent,t.shareObj.share_preview,t.shareTarget)},f()}]);app.controller("MonetaryMyProductDetailsController",["$scope","$location","GLOBAL_CONSTANT","cgiService","essential","webankCommonService","utils","$stateParams","cache","MonetaryService","$timeout","TransferOutService","TransferInService","TransRecordService","$ionicScrollDelegate","IncomeHistoryService","LoginService","RegisterService","MonetaryIncomeRulesService",function(e,t,a,o,n,r,i,c,l,s,u,h,m,d,p,g,y,f,T){var C=e.data={},_=e.func={},I=gMonetaryOnSaleInfo[0].prod_code,D=null,P=null,S=null;C.prodDetail=gMonetrayProdCodeToProdDetailInfo[I],C.incomeRate=C.prodDetail.incomeRate,C.incomeTenThousand=parseFloat(C.prodDetail.incomeTenThousand).toFixed(4),C.prodName=C.prodDetail.prodName,C.ruleDesc=C.prodDetail.tradingRules,C.showIncomeRate=!0,C.historyIncomeInfo=[],C.historyIncomeInfoAll=[],C.incomeRateCls="item on",C.incomeCls="item";var R=p.$getByHandle("myContent"),v=7;e.data.monthStr="近7日年化收益率",e.onClickTime=function(t){v!=t&&(7==t?e.data.monthStr="近7日年化收益率":30==t?e.data.monthStr="近1个月年化收益率":60==t&&(e.data.monthStr="近2个月年化收益率"),v=t,O())},e.onClassTime=function(e){return e==v?"on":""};var k={chart:{type:"area",pinchType:"",zoomType:"",marginTop:15},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},series:[{name:"7日年化收益",data:null,lineWidth:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(.6).get("rgba")],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}],yAxis:{gridLineWidth:.5,gridLineColor:"#E9ECEF",labels:{format:"{value:point.y:.2f}%",y:4},lineWidth:0,opposite:!1,tickmarkPlacement:"on",showLastLabel:!0},xAxis:{type:"datetime",lineWidth:0,ordinal:!0,labels:{format:"{value:%m-%d}",align:"center",style:{overflow:"visible",textOverflow:"none"}},tickLength:5,showLastLabel:!0},tooltip:{valueDecimals:2,shared:!0,valueSuffix:"",enabled:!1},plotOptions:{area:{fillOpacity:.5,enableMouseTracking:!1,pointPlacement:"between",lineWidth:1,allowPointSelect:!1,marker:{enabled:!1}}}},O=function(){var e=new Date,t=new Date;t.setDate(e.getDate()-v);var a=i.getYYYYMMDDStringByDate(t),n=i.getYYYYMMDDStringByDate(e),r=[];o.requestProductHistoryIncomeRate(I,a,n).then(function(e){var t=-1,a=-1,o=[],n=[];C.chartOptions=$.extend({},k),C.historyIncomeInfo=[],C.historyIncomeInfoAll=[];for(idxDate in e.ret_data){-1==t&&-1==a&&(t=a=parseFloat(e.ret_data[idxDate].income_rate));var c={},l=parseFloat(e.ret_data[idxDate].million_of_income),s=parseFloat(e.ret_data[idxDate].income_rate);c.date=idxDate,c.incomeTenThousand=l.toFixed(4),c.incomeRate=s.toFixed(4),t>s&&(t=s),s>a&&(a=s),C.historyIncomeInfoAll.push(c);var h=i.getUTCMsByYYYYMMDDString(idxDate),m=[];m.push(h),m.push(parseFloat(e.ret_data[idxDate].income_rate)),r.push(m),o.push(h),n.push(e.ret_data[idxDate].income_rate)}C.historyIncomeInfoAll.sort(function(e,t){return t.date-e.date});for(var d=Math.min(C.historyIncomeInfoAll.length,7),p=0;d>p;p++)C.historyIncomeInfo.push(C.historyIncomeInfoAll[p]);C.chartOptions.yAxis.tickPositions=[0,1,2,3,4,5,6],C.chartOptions.series[0].threshold=0;for(var g=[],y=10,f=o.length*(1-1/y),T=f/6,I=o.length*(1/(2*y)),p=0;7>p;p++)g.push(o[parseInt(I+T*p)]);C.chartOptions.xAxis.tickPositions=g,C.chartOptions.series[0].data=r,u(function(){_.showChart&&_.showChart()},100)})},b=function(){i.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),u(function(){y.setCallbackPage("monetaryMyProdDetail/"+I,"monetaryMyProdDetail/"+I),t.path("/login").replace()},1e3)},A=function(){i.makeToast(STRING_TABLE.BEGIN_TO_OPENACCOUNT,"short"),u(function(){f.setCallbackPage("monetaryMyProdDetail/"+I,"monetaryMyProdDetail/"+I),t.path("/register").replace()},1e3)};_.onClickIncome=function(){C.incomeRateCls="item",C.incomeCls="item on",C.showIncomeRate=!1,u(function(){R.resize()},10)},_.onClickIncomeRate=function(){C.incomeRateCls="item on",C.incomeCls="item",C.showIncomeRate=!0,u(function(){R.resize()},10)},_.onClickViewIncomeRate=function(){s.setCallbackPage("monetaryIncomeRate","monetaryMyProdDetail/"+I),t.path("/monetaryHistorySevenDaysIncomeRate/"+I)},_.onClickViewTenThousandIncome=function(){s.setCallbackPage("monetaryTenThousand","monetaryMyProdDetail/"+I),t.path("/monetaryHistoryIncomeTenThousand/"+I)},_.onClickProductDetail=function(){s.setCallbackPage("productIntro","monetaryMyProdDetail/"+I),t.path("/monetaryProductIntro/"+I)},_.onClickPurchase=function(){i.clickButtonReport("huoqijia_zhuanru"),m.goPage(null,null,{type:a.TRANS_TYPE.CURRENT_PLUS})},_.onClickRedeem=function(){i.clickButtonReport("huoqijia_zhuanchu"),h.goPage(null,null,{type:a.TRANS_TYPE.CURRENT_PLUS})},_.onClickViewMoreIncomeRule=function(){i.clickButtonReport("huoqijia_xiangxi"),T.goPage(I)},_.onClickViewMore=function(){i.clickButtonReport("huoqijia_wanfen"),s.setCallbackPage("monetaryTenThousand","monetaryMyProdDetail/"+I),t.path("/monetaryHistoryIncomeTenThousand/"+I)},_.back=function(){var e=s.getCallbackPage("monetaryMyProdDetail");t.path(e?"/"+e:"/myFinancial")},_.onClickAsset=function(){d.goPage("","","all")},_.onClickYesterdayIncome=function(){g.goPage()},_.onClickAccumulateIncome=function(){g.goPage()},_.onClickTransLog=function(){d.goPage("","","all")},_.isValueDatePromoptShown=function(){},_.onClickCloseValueDatePromopt=function(){return!0},_.canTransferOut=function(){return parseFloat(C.amount)>0},_.isLogined=function(){return l.getUserStatus()==a.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT};var w=function(e){e.ret_data.recent_fund&&(C.valueDateDesc=e.ret_data.recent_fund.self_tranc_desc)},x=function(){},M=function(){var e={};C.shareData=e,e.prod_type=a.PROD_TYPE.HJ,e.shareObj=getShareConf(e.prod_type,I),e.shareContent=null,e.shareTarget=null,!isReviewVer&&e.shareObj&&e.shareObj.share_content&&e.shareObj.share_targeturl?(C.shareClass="menu-tip share",e.shareContent=e.shareObj.share_content.replace("{prod_name}",C.prodName),e.shareContent=e.shareContent.replace("{income_rate}",C.incomeRate),e.shareTarget=e.shareObj.share_targeturl.replace("{prod_code}",I),e.shareTarget=e.shareTarget.replace("{prod_type}",e.prod_type)):C.shareClass="hpw-con hide"};_.onTrigerLogin=function(){var e=l.getUserStatus();e==a.ACCOUNT_STATE.USER_STATE_LOGIN?A():e==a.ACCOUNT_STATE.USER_STATE_GUEST&&b()},_.share=function(){var e=C.shareData;e&&n.sharePage(e.shareObj.share_title,e.shareContent,e.shareObj.share_preview,e.shareTarget)};var E=function(){D=l.getCacheInfo("wealth"),P=r.parseRawWealthData(D),S=P.currentDepositProdList[0],S?(C.showIncome=0!=S.income,C.yesterdayIncome=S.income,C.amount=parseFloat(S.amount).toFixed(2),C.accumulatedIncome=S.accumulated_income):(C.showIncome=!1,C.yesterdayIncome=0,C.amount=parseFloat(0).toFixed(2),C.accumulatedIncome=0),M(),o.requestEarningsDate().then(w,x),O()},L=function(){O()},N=function(){_.isLogined()?E():L()};N()}]);app.controller("MonetaryPurchaseController",["$scope","$location","$stateParams","utils","cgiService","cache","webankCommonService","GLOBAL_CONSTANT","BindNewCardService","riskAssessmentService","MonetaryService","$timeout","ResetPasswdService","localStorageService","dataService","AnnouncementService",function(e,a,t,n,o,c,r,u,d,i,s,l,w,m,A,p){e.data={},e.func={};var f=t.prodCode,b=gMonetrayProdCodeToProdDetailInfo[f],k=r.parseRawWealthData_V2(c.getCacheInfo("wealth"));e.prodName=b.prodName,e.showInputAmountTips=!1,e.inputAmountTipsContent="",e.isPwdShow=!1,e.isPwdAutoShow=!1;var _=[{name:"电子交易直销前置式服务协议",pdfUrl:"https://www.webankcdn.net/s/hj/appconf/common/fund/gjzq_fund_proto.pdf",id:1}];e.isAgreed=!0,e.agreementDesc="服务协议及风险提示",e.agreementCode=f,e.agreementDetail=b&&b.agreement?b.agreement:_,e.baseAccountAmount=k.BankAmount,e.isPayWayShow=!1,e.webankAccount={},e.webankAccount.amount=k.BankAmount,e.webankAccount.isShow=!0,e.webankAccount.isAvaliable=!0,e.webankAccount.isWebankAccountSelected=!0,e.cardInfo={},e.bindCardList=r.getValidBandCardList(),e.valueDate=r.getMonetaryValueDate(new Date),e.checkInputAmount=function(){g()?(e.showInputAmountTips=!1,S()):(e.showInputAmountTips=!0,e.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT)},e.onClickDeleteAmount=function(){return e.data.amount=""};var h=function(){e.pwdSubTitle="购买活期+",e.pwdTransDesc=parseFloat(e.data.amount).toFixed(2)+"元";var a="使用";e.webankAccount.isWebankAccountSelected?a+=STRING_TABLE.WEBANK_CARD_DESC:(a+=e.cardInfo.bankName,a+=e.cardInfo.cardType,a+=n.abridgeAccountNumber(e.cardInfo.cardNo)),a+="付款",e.payWayDesc=a,e.isPwdShow=!0};e.onClickPurchase=function(){C()&&h()},e.payWayCallback=function(){e.isPwdAutoShow&&(l(h,200),e.isPwdAutoShow=!1)},e.func.onSelectPayWay=function(){e.isPwdShow?(e.isPwdAutoShow=!0,e.isPwdShow=!1):e.isPwdAutoShow=!1,e.isPayWayShow=!0};var S=function(){parseFloat(k.BankAmount)<parseFloat(e.data.amount)?(e.webankAccount.isWebankAccountSelected&&e.bindCardList.length>0&&(e.webankAccount.isWebankAccountSelected=!1,e.cardInfo.bankBinCode=e.bindCardList[0].other_bank_bin_code,e.cardInfo.userName=e.bindCardList[0].other_name,e.cardInfo.cardNo=e.bindCardList[0].other_account,e.cardInfo.cardTypeCode=e.bindCardList[0].other_card_type_code,e.cardInfo.cardType=e.bindCardList[0].other_card_type,e.cardInfo.bankName=e.bindCardList[0].other_bank_name),e.webankAccount.isAvaliable=!1):e.webankAccount.isAvaliable=!0},C=function(){return P()?!1:e.webankAccount.isWebankAccountSelected&&parseFloat(k.BankAmount)<parseFloat(e.data.amount)?(n.makeToast(STRING_TABLE.WEBANK_CARD_NOT_ENOUGH_BALANCE),!1):g()?e.isAgreed?!0:(n.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short"),!1):!1},g=function(){var a=parseFloat(e.data.amount);return""!=e.data.amount&&e.data.amount&&!isNaN(a)&&1e8>=a&&a>=0&&n.isValidTransferAmount(e.data.amount)},P=function(){if(e.webankAccount.isWebankAccountSelected)return!1;var a=gBankLimit[e.cardInfo.bankBinCode];return a&&parseFloat(e.data.amount)>a.perOne?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="超过银行卡限额，"+e.cardInfo.bankName+e.cardInfo.cardType+"单笔"+a.perOne+"，单日"+a.perDay,e.outValue.oneButtonText="知道了",e.outValue.popClose=function(){},!0):!1};e.$watch("sigOnPwdCommit",function(a,t){a!==t&&(e.isPwdShow=!1,T())});var T=function(){var a={};a.bankName=e.cardInfo.bankName,a.cardNo=e.cardInfo.cardNo,a.cardType=e.cardInfo.cardType,a.transAmount=e.data.amount,a.useWebankCard=!1;var t={};e.webankAccount.isWebankAccountSelected?(t.use_webank_card=!0,a.useWebankCard=!0):(t.use_webank_card=!1,t.bank_code=e.cardInfo.bankBinCode,t.card_no=e.cardInfo.cardNo),t.transaction_amount=e.data.amount,t.product_code=f,t.user_pwd=e.vm.formData.confirmPassword.RSA,t.remark="购买货基",e.showLoading=!0,o.requestPurchaseMonetaryFund(t).then(function(t){a.result=t.ret_code,r.isProcessingState(t.ret_code)?r.checkProcessingState(u.ORDER_QUERY_TYPE.PURCHASE,t.ret_data.trans_serno).then(function(t){e.showLoading=!1,a.result=t,N(a)}):(e.showLoading=!1,N(a))},function(t){e.showLoading=!1,a.result=t.ret_code,a.failReason=t.ret_msg,r.isRetCodePwd(t.ret_code)?r.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(a){1==a?e.isPwdShow=!0:2==a&&w.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&w.goPage()}):(N(a),n.logMessage("购买货基失败:"+t.ret_msg,"[HJ]"))})},N=function(e){a.path("/monetaryPurchaseResult").search(e).replace()};e.bindNewCard=function(){d.goPage(t.prodCode)},e.back=function(){var e=s.getCallbackPage("monetaryPurchase");a.path("/"+e)};var I=m.get(c.getUserInfo().openid+f+"productNotice");if(!I){var y=p.getBackData();y&&y.back?(p.setBackData(null),1*y.type==10&&e.back()):A.getBuyNotice({code:f}).then(function(e){e&&e.length>0&&p.goPage(null,null,{code:t.onSaleCode,type:10})},function(){})}}]);app.controller("MonetaryRedeemController",["$scope","$location","$stateParams","utils","cgiService","cache","webankCommonService","GLOBAL_CONSTANT","homeService","ResetPasswdService",function(e,t,a,o,n,r,u,c,d,s){e.data={},e.func={};{var i=a.prodCode;gMonetrayProdCodeToProdDetailInfo[i]}e.showTip=!1,e.isPwdShow=!1,e.payWayTitle=STRING_TABLE.CHOOSE_REDEEM_DEST;var l=u.parseRawWealthData_V2(r.getCacheInfo("wealth"));e.isPayWayShow=!1,e.webankAccount={},e.webankAccount.amount=l.BankAmount,e.webankAccount.isShow=!0,e.webankAccount.isAvaliable=!0,e.webankAccount.isWebankAccountSelected=!0,e.cardInfo={},e.bindCardList=u.getValidBandCardList(),e.maxAmount=l.HJAmount,e.onClickRedeem=function(){return o.isValidTransferAmount(e.data.transAmount)?e.data.transAmount>l.HJAmount?void o.makeToast(STRING_TABLE.INSUFF_ACCOUNT_BALANCE):e.isCardSelected()?(e.pwdSubTitle="转出",e.pwdTransDesc=parseFloat(e.data.transAmount).toFixed(2)+"元",void(e.isPwdShow=!0)):void o.makeToast(STRING_TABLE.PLEASE_SELECT_REDEEM_WAY):void o.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT)},e.onInputAmountChanged=function(){e.data.transAmount<=0?(e.showTip=!0,e.tipContent=STRING_TABLE.HJ_MIN_REDEEM_PROMOPT):o.isValidTransferAmount(e.data.transAmount)?e.showTip=!1:(e.showTip=!0,e.tipContent=STRING_TABLE.INVALID_TRANS_AMOUNT)},e.$watch("sigOnPwdCommit",function(t,a){t!==a&&(e.isPwdShow=!1,A())}),e.onClickRedeemAll=function(){e.data.transAmount=parseFloat(l.HJAmount),e.showTip=!1},e.func.onSelectPayWay=function(){e.isPayWayShow=!0};var m=function(e){t.path("/monetaryRedeemResult").search(e).replace()},A=function(){e.showLoading=!0;var t={};t.bankName=e.cardInfo.bankName,t.cardNo=e.cardInfo.cardNo,t.transAmount=e.data.transAmount,t.remark=e.remark,t.userName=e.cardInfo.userName,t.cardType=e.cardInfo.cardType,t.useWebankCard=!1;var a={};e.webankAccount.isWebankAccountSelected?(a.use_webank_card=!0,t.useWebankCard=!0):(a.use_webank_card=!1,a.bank_code=e.cardInfo.bankBinCode,a.card_no=e.cardInfo.cardNo),a.user_pwd=e.vm.formData.confirmPassword.RSA,a.transaction_amount=e.data.transAmount,a.product_code=i,a.remark="赎回货基",n.requestRedeemMonetaryFund(a).then(function(a){t.result=a.ret_code,u.isProcessingState(a.ret_code)?u.checkProcessingState(c.ORDER_QUERY_TYPE.REDEEM,a.ret_data.trans_serno).then(function(a){e.showLoading=!1,t.result=a,m(t)}):(e.showLoading=!1,m(t))},function(a){e.showLoading=!1,t.result=a.ret_code,t.totalAmount=d.getCachedWealth(),t.failReason=a.ret_msg,u.isRetCodePwd(a.ret_code)?u.isRetCodePwdRetry(a.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=a.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&s.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=a.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&s.goPage()}):m(t)})};e.isCardSelected=function(){return e.webankAccount.isWebankAccountSelected||e.cardInfo.cardNo},e.back=function(){t.path("/monetaryMyProdDetail/"+i)}}]);app.controller("MonetaryPurchaseResultController",["$scope","$location","$stateParams","utils","cgiService","essential","GLOBAL_CONSTANT","$timeout","TransRecordService",function(e,a,n,t,o,c,i,r,u){o.requestUserWealth().then(function(){},function(){});var s=a.search();e.today=new Date,e.arrivalDate=new Date,e.arrivalDate.setDate(e.arrivalDate.getDate()+2),e.isProcessing=!1,e.isSuccShow=!0,e.transAmount=s.transAmount,e.isBaseAccount=s.useWebankCard,e.bankName=s.bankName,e.cardNo=s.cardNo,e.countDown=5;var l=function(){return e.countDown<=1?void e.countDown--:void r(function(){e.countDown--,l()},1e3)};e.isSuccShow=!0,s.result===i.CGI_RET.CGI_PROCESSING?(e.isSuccShow=!1,e.isProcessing=!0,l()):s.result===i.CGI_RET.CGI_SUCCESS||s.result===i.CGI_RET.CGI_SUCCESS_2?e.isSuccShow=!0:(e.failReason=s.failReason,e.isSuccShow=!1),e.valueDate=new Date;var C=new Date;0==C.getDay()||6==C.getDay()?(e.valueDate=t.getNextWorkDay(2),e.arrivalDate=t.getNextWorkDay(3)):C.getHours()<15?(e.valueDate=t.getNextWorkDay(1),e.arrivalDate=t.getNextWorkDay(2)):(e.valueDate=t.getNextWorkDay(2),e.arrivalDate=t.getNextWorkDay(3)),e.onClickBackHome=function(){a.path("/home").replace()},e.onClickContinue=function(){a.path("/financialRecommend").replace()},e.onClickDetail=function(){a.path("/myProducts")},e.onClickMakePlan=function(){a.path("/purchasePlan").replace()},e.onClickViewProcess=function(){u.goPage()}}]).controller("MonetaryRedeemResultController",["$scope","$location","$stateParams","utils","cgiService","essential","GLOBAL_CONSTANT","$timeout",function(e,a,n,t,o,c,i,r){o.requestUserWealth().then(function(){},function(){});var u=a.search();e.useWebankCard=u.useWebankCard,e.bankName=u.bankName,e.cardNo=u.cardNo,e.countDown=5;var s=function(){return e.countDown<=1?void e.countDown--:void r(function(){e.countDown--,s()},1e3)};e.isSuccShow=!0,u.result===i.CGI_RET.CGI_PROCESSING?(s(),e.isSuccShow=!1,e.isProcessing=!0):u.result===i.CGI_RET.CGI_SUCCESS||u.result===i.CGI_RET.CGI_SUCCESS_2?e.isSuccShow=!0:(e.failReason=u.failReason,e.isSuccShow=!1),e.onClickBackHome=function(){a.path("/home").replace()},e.onClickContinue=function(){a.path("/financialRecommend").replace()},e.onClickDetail=function(){a.path("/myProducts")},e.onClickMakePlan=function(){a.path("/redeemPlan").replace()},e.onClickViewProcess=function(){TransRecordService.goPage()},e.back=function(){a.path("/home"),e.$apply()}}]);app.controller("MonetaryHistoryTenThousandController",["$scope","$location","$stateParams","utils","cgiService","essential","MonetaryService",function(e,t,a,o,n,r,i){e.incomeHistory=[];var c=a.prodCode,s=new Date,d=new Date;d.setDate(s.getDate()-90);var l=o.getYYYYMMDDStringByDate(d),u=o.getYYYYMMDDStringByDate(s);n.requestProductHistoryIncomeRate(c,l,u).then(function(t){for(var a in t.ret_data){var o={},n=parseFloat(t.ret_data[a].million_of_income),r=parseFloat(t.ret_data[a].income_rate);o.date=a,o.incomeTenThousand=n.toFixed(4),o.incomeRated=r.toFixed(2),e.incomeHistory.push(o)}e.incomeHistory.sort(function(e,t){return t.date-e.date})}),e.back=function(){var e=i.getCallbackPage("monetaryTenThousand");t.path(e)}}]);app.controller("MonetaryMoreDetailsController",["$scope","$location","MonetaryService",function(o,n,a){var c="xq-con nb mgt20 px",t="xq-con nb mgt20 px off";o.companyCls=t,o.onClickCompanyIntro=function(){o.companyCls=o.companyCls==t?c:t},o.back=function(){var o=a.getCallbackPage("moreDetail");n.path(o)}}]);app.controller("MonetaryHistorySevenDaysIncomeRateController",["$scope","$location","$stateParams","utils","cgiService","essential","MonetaryService",function(e,t,a,o,n,r,i){e.incomeHistory=[];var c=a.prodCode,s=new Date,l=new Date;l.setDate(s.getDate()-90);var m=o.getYYYYMMDDStringByDate(l),d=o.getYYYYMMDDStringByDate(s);n.requestProductHistoryIncomeRate(c,m,d).then(function(t){for(var a in t.ret_data){var o={},n=parseFloat(t.ret_data[a].million_of_income),r=parseFloat(t.ret_data[a].income_rate);o.date=a,o.incomeTenThousand=n.toFixed(4),o.incomeRate=r.toFixed(2),e.incomeHistory.push(o)}e.incomeHistory.sort(function(e,t){return t.date-e.date})}),e.back=function(){var e=i.getCallbackPage("monetaryIncomeRate");t.path(e)}}]);app.controller("MonetaryIncomeRulesController",["$scope","$location","$stateParams","utils","cgiService","essential","MonetaryService","dataService","envService","MonetaryIncomeRulesService",function(e,a,n,o,t,c,r,i,l,s){e.data={};var u=n.onSaleCode;e.data.announceValue={list:[]};var v=l.getEnvVariable().DATA_NOTICE;i.getProductNotice({code:u}).then(function(a){a&&a.length>0&&$.each(a,function(a,n){e.data.announceValue.list.push({name:n.app_show_name||"公告",url:v+n.location,show_sort:n.show_sort||0})})},function(){}),e.back=function(){s.backPage()}}]);app.controller("StockProductDetailController",["$scope","$stateParams","$location","cgiService","utils","cache","riskAssessmentService","$timeout","StockProductDetailService","StockPurchaseService","GLOBAL_CONSTANT","essential","StockTransRulesService","StockAssetDetailService","StockTransRatesService","StockProdManagerService","StockMoreDetailService","RegisterService","LoginService","StockValueHistoryService",function(a,e,t,r,o,l,n,s,i,d,u,c,h,p,g,f,C,k,S,V){a.data={},a.func={};var D=function(){a.data.status=l.getUserStatus(),a.data.showBuyButton="hideBuyButton"==e.isHideButton?!1:!0,a.data.productDetail=gStockProdCodeToProdDetailInfo[e.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[e.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]),a.data.realValue=parseFloat(a.data.productDetail.realValue).toFixed(4),a.data.showRealValueMap=!0,a.data.realValueMapTab="item on",a.data.realValueTableTab="item",a.data.maskClass="p-mask hide",a.data.riskDesc=gProductArr[a.data.productDetail.risk_level],a.data.riskRateClass="高"==a.data.riskDesc||"较高"==a.data.riskDesc?"up":"",a.data.realValueInfoList=[],a.data.realValueInfoList7Days=[],a.data.chartData=[],a.data.threeHandred=[],a.data.purchaseFeeRate=parseFloat(a.data.productConfig.purchaseFeeRate),a.data.realPurchaseFeeRate=a.data.purchaseFeeRate*parseFloat(a.data.productConfig.purchaseFeeDiscount),x(),R()};a.onClickRealValueMap=function(){a.data.showRealValueMap=!0,a.data.realValueMapTab="item on",a.data.realValueTableTab="item"},a.onClickRealValueTable=function(){a.data.showRealValueMap=!1,a.data.realValueMapTab="item",a.data.realValueTableTab="item on"},a.onClickRealValue=function(){a.data.maskClass="p-mask show",a.data.maskTitle="单位净值",a.data.maskDetail="基金单位净值，指每份额基金当日的价值。是基金净资产除以基金总份额，得出的每份额基金当日的价值。一般情况下，每天看到的是上一个交易日的单位净值。"},a.onClickChangeRate=function(){a.data.maskClass="p-mask show",a.data.maskTitle="日涨跌幅",a.data.maskDetail="指当前交易日基金净值与前一交易日基金净值相比较的数值。红色代表涨，绿色代表跌。"},a.onClickThreeeHandred=function(){a.data.maskClass="p-mask show",a.data.maskTitle="沪深300",a.data.maskDetail="沪深300指数是由沪深A股中规模大、流动性好的最具代表性的300只股票组成，以综合反映A股的市场整体表现。"},a.onClickCancelMask=function(){a.data.maskClass="p-mask hide"},a.back=function(){"hideBuyButton"==e.isHideButton?t.path("/stockPurchase/"+e.onSaleCode):i.backPage()},a.onClickViewMoreHistory=function(){var t=[];a.data.realValueInfoList.length>1&&(t=a.data.realValueInfoList.splice(0,a.data.realValueInfoList.length-1)),V.goPage(e.onSaleCode,"",t)},a.onClickMoreRules=function(){h.goPage(a.data.productDetail.onSaleCode)},a.onClickAssetsDetail=function(){p.goPage(a.data.productDetail.onSaleCode)},a.onClickTransRates=function(){g.goPage(a.data.productDetail.onSaleCode)},a.onClickProdManager=function(){f.goPage(a.data.productDetail.onSaleCode)},a.onClickMoreDetail=function(){C.goPage(a.data.productDetail.onSaleCode)};var T=1;a.data.monthStr="近1个月涨跌幅",a.onClickTime=function(e){T!=e&&(1==e?a.data.monthStr="近1个月涨跌幅":3==e?a.data.monthStr="近3个月涨跌幅":6==e?a.data.monthStr="近6个月涨跌幅":12==e&&(a.data.monthStr="近1年涨跌幅"),T=e,y=[],R())},a.onClassTime=function(a){return a==T?"on":""};var _={chart:{type:"area",pinchType:"",zoomType:""},navigator:{enabled:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},series:[{name:"本产品",data:"",lineWidth:1,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(.6).get("rgba")],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]}},{name:"沪深300",data:"",lineWidth:1,color:"#f39361",fillColor:{}}],yAxis:{gridLineWidth:.5,gridLineColor:"#E9ECEF",labels:{format:"{value:point.y:.2f}%",y:4},lineWidth:0,opposite:!1,tickmarkPlacement:"on",tickLength:5,showLastLabel:!0},xAxis:{type:"datetime",lineWidth:0,labels:{format:"{value:%m-%d}",align:"center"},showLastLabel:!0,ordinal:!0,tickLength:5,tickWidth:1},tooltip:{valueDecimals:2,shared:!0,valueSuffix:"",enabled:!1},plotOptions:{area:{fillOpacity:.5,enableMouseTracking:!1,pointPlacement:"between",allowPointSelect:!1},series:{marker:{enabled:!1}}}},v=function(e){var t=l.getCacheInfo("assessment"),r=e.level||0,o=e.word||"低";e.riskStatus=1,t?t.cust_risk_level<r?s(function(){a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.textHead="您的风险评估结果为 <span class='og'>"+gRiskArr[t.cust_risk_level]+"</span>",a.data.outValue.oneLineTextLeft='该产品风险等级为<span class="og">'+o+"</span>，按监管要求已超出您的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",a.data.outValue.twoButtonText1="重新评估",a.data.outValue.twoButtonText2="仍然购买",a.data.outValue.popClose=function(a){1==a?(e.riskStatus=1,n.setData(e),n.goPage()):2==a&&e.goNextPath(1)}},50):e.goNextPath():(n.setData(e),n.goPage())},m=function(){o.makeToast(STRING_TABLE.BEGIN_TO_OPENACCOUNT,"short"),s(function(){k.setCallbackPage("stockProductDetail/"+e.onSaleCode,"stockProductDetail/"+e.onSaleCode),t.path("/register")},1e3)},P=function(){o.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),s(function(){S.setCallbackPage("stockProductDetail/"+e.onSaleCode,"stockProductDetail/"+e.onSaleCode),t.path("/login")},1e3)};a.onClickPurchase=function(){a.data.status==u.ACCOUNT_STATE.USER_STATE_GUEST?P():a.data.status==u.ACCOUNT_STATE.USER_STATE_LOGIN?m():v({level:a.data.productDetail.risk_level,word:gProductArr[a.data.productDetail.risk_level],goNextPath:function(e){d.goPage(a.data.productDetail.onSaleCode,null,{isForce:e})}})},a.data.chartOptions=null;var y=[];a.func.randerView=function(e){if(e.threeData&&(y[1]=e.data),e.webankData&&(y[0]=e.data),y[0]&&y[1]){a.data.chartOptions=$.extend({},_);var t=y[0].yArr.concat(y[1].yArr);if(t.sort(function(a,e){return 1*a-1*e}),t.length>0){var r=t[t.length-1]-t[0],o=r/3,l=t[0]-r/6,n=t[t.length-1]+r/6,s=[l];s.push(l+o),s.push(l+2*o),s.push(l+3*o),s.push(n),a.data.chartOptions.yAxis.tickPositions=s,a.data.chartOptions.series[0].threshold=l}a.data.chartOptions.series[0].data=y[0].resultArr,a.data.chartOptions.series[1].data=y[1].resultArr;for(var i=[],d=[],u=0;u<y[0].xArr.length;u++)d.push(y[0].xArr[u]);for(var u=0;u<y[1].xArr.length;u++)$.inArray(y[1].xArr[u],y[0].xArr)<0&&d.push(y[1].xArr[u]);d.sort(function(a,e){return a-e}),d.length>0&&(i.push(d[0]),i.push(d[d.length-1])),a.data.chartOptions.xAxis.tickPositions=i,a.func.showChart()}};var L="",A="",b=null,R=function(){b=o.getDateDiffToday(-1),A=o.getYYYYMMDDStringByDate(b);var a=new Date;a.setDate(a.getDate()-1);var e=a.getMonth()+24;a.setMonth(a.getMonth()-T),a.getMonth()+1==(e-T)%12&&a.setDate(1),L=o.getYYYYMMDDStringByDate(a),I(),O()},I=function(){r.requestStockHistoryValue(a.data.productDetail.onSaleCode,L,A).then(function(e){if(e.ret_data){var t=[],r=[],l=[],n=0,s=0,i=0;a.data.realValueInfoList=[];for(var d in e.ret_data){n==i&&(s=e.ret_data[d].accu_net_value);var u;0==s?(u=0,i++):u=(e.ret_data[d].accu_net_value-s)/s*100,n++;var c={};c.date=e.ret_data[d].earnings_rate_date,c.realValue=e.ret_data[d].accu_net_value;var h=[],p=o.getUTCMsByYYYYMMDDString(e.ret_data[d].earnings_rate_date);h.push(p),h.push(parseFloat(u)),t.push([p,parseFloat(u)]),r.push(parseFloat(u)),l.push(p),a.data.chartData.push(h),a.data.realValueInfoList.push(c)}if(a.func.randerView({webankData:!0,data:{yArr:r,resultArr:t,xArr:l}}),r.length>0){var g=r[0],f=r[r.length-1];a.data.preRate=f-g,a.data.preRate=a.data.preRate.toFixed(2)}else a.data.preRate=0;var C=function(a,e){return e.date-a.date};if(a.data.realValueInfoList.sort(C),a.data.realValueInfoList.length>1)for(var d=0;d<a.data.realValueInfoList.length-1;d++){var g=a.data.realValueInfoList[d].realValue,k=a.data.realValueInfoList[d+1].realValue;a.data.realValueInfoList[d].diffRate=k?((g-k)/k*100).toFixed(2):0,a.data.realValueInfoList[d].class=a.data.realValueInfoList[d].diffRate>0?"item red":a.data.realValueInfoList[d].diffRate<0?"item green":"item"}if(a.data.realValueInfoList7Days=a.data.realValueInfoList.length>=7?a.data.realValueInfoList.slice(0,6):a.data.realValueInfoList.slice(0,a.data.realValueInfoList.length-1),a.data.realValueInfoList.length>=2){var S=a.data.realValueInfoList[0],V=a.data.realValueInfoList[1];a.data.yesterdayChangeRate=(100*(parseFloat(S.realValue)-parseFloat(V.realValue))/parseFloat(V.realValue)).toFixed(2),a.data.changeRateClass=a.data.yesterdayChangeRate>0?"up":a.data.yesterdayChangeRate<0?"down":""}a.data.incomeRate=a.data.realValueInfoList.length>1?(100*(parseFloat(a.data.realValueInfoList[0].realValue)-parseFloat(a.data.productConfig.yearBeginValue))/parseFloat(a.data.productConfig.yearBeginValue)).toFixed(2):""}},function(){})},O=function(){r.requestThreeHandred({start_date:L,end_date:A}).then(function(e){if(e&&e.ret_data){var t=[],r=[],l=[],n=e.ret_data[0],s=0;for(var i in e.ret_data){0==s&&(n=e.ret_data[i]),s++;var d=(e.ret_data[i]-n)/n*100,u=o.getUTCMsByYYYYMMDDString(i);t.push([u,parseFloat(d)]),r.push(parseFloat(d)),l.push(u)}a.func.randerView({threeData:!0,data:{yArr:r,resultArr:t,xArr:l}})}},function(){})},x=function(){var t={};a.data.shareData=t,t.prod_type=u.PROD_TYPE.GJ,t.shareObj=getShareConf(t.prod_type,e.onSaleCode),t.shareContent=null,t.shareTarget=null,!isReviewVer&&t.shareObj&&t.shareObj.share_content&&t.shareObj.share_targeturl?(a.data.shareClass="menu-tip share",t.shareContent=t.shareObj.share_content.replace("{prod_name}",a.data.productDetail.onSaleDesc),t.shareContent=t.shareContent.replace("{income_rate}",a.data.incomeRate),t.shareTarget=t.shareObj.share_targeturl.replace("{prod_code}",e.onSaleCode),t.shareTarget=t.shareTarget.replace("{prod_type}",t.prod_type)):a.data.shareClass="hpw-con hide"};a.share=function(){var e=a.data.shareData;e&&c.sharePage(e.shareObj.share_title,e.shareContent,e.shareObj.share_preview,e.shareTarget)},D()}]);app.controller("StockMyProductDetailController",["$scope","$stateParams","$location","cache","utils","webankCommonService","StockProductDetailService","StockPurchaseService","cgiService","StockTransRulesService","riskAssessmentService","$timeout","essential","GLOBAL_CONSTANT","StockConfirmPurchaseDetailService","StockConfirmRedeemDetailService","StockMyProdDetailService","StockRedeemService",function(a,t,e,o,n,s,d,r,i,u,c,l,p,h,f,g,C,D){a.data={};var y=function(){a.data.productDetail=gStockProdCodeToProdDetailInfo[t.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[t.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]);var e=o.getCacheInfo("wealth"),n=s.parseRawWealthDataForGPProduct(e,t.onSaleCode);a.data.income="",a.data.accumulatedIncome="",a.data.amount=parseFloat(n.amount).toFixed(2),a.data.share=parseFloat(n.share).toFixed(2),a.data.realValue=parseFloat(n.realValue).toFixed(4),a.data.bonusType=n.bonusType,a.data.purchaseFeeRate=parseFloat(a.data.productConfig.purchaseFeeRate),a.data.realPurchaseFeeRate=a.data.purchaseFeeRate*parseFloat(a.data.productConfig.purchaseFeeDiscount),a.data.isPwdShow=!1,a.data.sigOnPwdCommit=0,m(),_(),F(),w(),S(),v(),P()},S=function(){var e=n.getDateDiffToday(-1),o=n.getYYYYMMDDStringByDate(e),s=n.getDateDiffToday(-12),d=n.getYYYYMMDDStringByDate(s),r=[];a.data.yesterdayChangeRange=0,i.requestStockHistoryValue(t.onSaleCode,d,o).then(function(t){if(t.ret_data){for(var e in t.ret_data){var o={};o.date=t.ret_data[e].earnings_rate_date,o.realValue=t.ret_data[e].accu_net_value,r.push(o)}var n=function(a,t){return t.date-a.date};if(r.sort(n),r.length>=2){var s=r[0],d=r[1];a.data.yesterdayChangeRange=(100*(parseFloat(s.realValue)-parseFloat(d.realValue))/parseFloat(d.realValue)).toFixed(2),a.data.changeRateClass=a.data.yesterdayChangeRange>0?"up":a.data.yesterdayChangeRange<0?"down":""}}},function(){})},m=function(){a.data.bonusTypeModify=a.data.productDetail.bonusTypeModify,void 0==a.data.bonusType&&(a.data.bonusType=a.data.productDetail.defaultBonusType),"0"==a.data.bonusType?(a.data.bonusTypeString="红利再投",a.data.bonusStockClass="jc on",a.data.bonusStockName="红利再投","0"==a.data.bonusTypeModify?(a.data.bonusMoneyClass="jc",a.data.bonusMoneyName="现金分红"):(a.data.bonusMoneyClass="jc off",a.data.bonusMoneyName="现金分红（该基金不支持）")):(a.data.bonusTypeString="现金分红",a.data.bonusMoneyClass="jc on",a.data.bonusMoneyName="现金分红","0"==a.data.bonusTypeModify?(a.data.bonusStockClass="jc",a.data.bonusStockName="红利再投"):(a.data.bonusStockClass="jc off",a.data.bonusStockName="红利再投（该基金不支持）")),a.data.showBonusType=!1},_=function(){i.requestConfirmingList().then(function(t){a.data.purchaseCount=0,a.data.purchaseFinishDate=void 0,a.data.purchaseFinishDateHide=!1,a.data.redeemCount=0,a.data.redeemFinishDate=void 0,a.data.redeemFinishDateHide=!1;for(var e=0;e<t.ret_data.product_list.length;++e)if(t.ret_data.product_list[e].prod_code==a.data.productDetail.onSaleCode)if("60"==t.ret_data.product_list[e].trans_type){a.data.purchaseCount++;var o=n.getDateByYYYYMMDDString(t.ret_data.product_list[e].trans_date),s=parseInt(a.data.productConfig.confirmShareDay);(!n.isWorkDay(o)||parseInt(t.ret_data.product_list[e].trans_time.substr(0,2))>=15)&&(s+=1);var d=n.getNextWorkDay(s,o);a.data.purchaseFinishDate?a.data.purchaseFinishDate!=d&&(a.data.purchaseFinishDateHide=!0):a.data.purchaseFinishDate=d}else if("62"==t.ret_data.product_list[e].trans_type){a.data.redeemCount++;var o=n.getDateByYYYYMMDDString(t.ret_data.product_list[e].trans_date),s=parseInt(a.data.productConfig.redeemDay);(!n.isWorkDay(o)||parseInt(t.ret_data.product_list[e].trans_time.substr(0,2))>=15)&&(s+=1);var d=n.getNextWorkDay(s,o);a.data.redeemFinishDate?a.data.redeemFinishDate!=d&&(a.data.redeemFinishDateHide=!0):a.data.redeemFinishDate=d}},function(){})};a.onClickBonusType=function(){a.data.showBonusType=!0},a.onClickBonusTypeClose=function(){a.data.showBonusType=!1},a.onSelectBonusMoney=function(){"jc off"!=a.data.bonusMoneyClass&&(1!=a.data.bonusType&&(a.data.selectType=1,k()),a.data.showBonusType=!1)},a.onSelectBonusStock=function(){"jc off"!=a.data.bonusStockClass&&(0!=a.data.bonusType&&(a.data.selectType=0,k()),a.data.showBonusType=!1)};var k=function(){a.data.pwdSubTitle=1==a.data.selectType?"修改分红方式为：现金分红":"修改分红方式为：红利再投",a.data.isPwdShow=!0};a.$watch("data.sigOnPwdCommit",function(t,e){t!==e&&(a.data.isPwdShow=!1,T())});var T=function(){var t={};t.password=a.data.vm.formData.confirmPassword.RSA,t.fundcode=a.data.productDetail.onSaleCode,t.dividendmethod=1==a.data.selectType?"1":"0",i.requestStockBonusType(t).then(function(){n.makeToast("修改分红方式成功"),1==a.data.selectType?(a.data.bonusTypeString="现金分红",a.data.bonusType=1,a.data.bonusMoneyClass="jc on",a.data.bonusStockClass="jc"):(a.data.bonusTypeString="红利再投",a.data.bonusType=0,a.data.bonusStockClass="jc on",a.data.bonusMoneyClass="jc"),i.requestUserWealth().then(function(){},function(){})},function(t){s.isRetCodePwd(t.ret_code)?s.isRetCodePwdRetry(t.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(t){1==t?a.data.isPwdShow=!0:2==t&&ResetPasswdService.goPage()}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a||2==a&&ResetPasswdService.goPage()}):n.makeToast(t.ret_msg,"short")})};a.back=function(){C.backPage()},a.onClickPurchase=function(){b({level:a.data.productDetail.risk_level,word:gProductArr[a.data.productDetail.risk_level],goNextPath:function(t){r.goPage(a.data.productDetail.onSaleCode,null,{isForce:t})}})},a.onClickRedeem=function(){D.goPage(a.data.productDetail.onSaleCode)},a.onClickMoreRules=function(){u.goPage(a.data.productDetail.onSaleCode)},a.onClickProductDetail=function(){d.goPage(a.data.productDetail.onSaleCode)},a.onClickConfirmDetail=function(t){"purchase"==t?f.goPage(a.data.productDetail.onSaleCode):"redeem"==t&&g.goPage(a.data.productDetail.onSaleCode)},a.onClickWealth=function(){a.data.maskClass="p-mask show",a.data.maskTitle="持有市值",a.data.maskDetail="单位净值*持有份额。"},a.onClickShare=function(){a.data.maskClass="p-mask show",a.data.maskTitle="持有份额",a.data.maskDetail="份额代表你持有该基金的数量，只有购买赎回时才会发生变化。"},a.onClickCancelMask=function(){a.data.maskClass="p-mask hide"};var v=function(){var e=new Date,o=n.getYYYYMMDDStringByDate(e),s=new Date;s.setDate(s.getDate()-2);var d=n.getYYYYMMDDStringByDate(s);i.requestIncomeHistory(d,o,5).then(function(e){if(e.ret_data){var o=new Date;o.setDate(o.getDate()-1);var s=n.getYYYYMMDDStringByDate(o);if(e.ret_data[s]){for(var d in e.ret_data[s])if(e.ret_data[s][d].prod_code==t.onSaleCode)return void(a.data.income=parseFloat(e.ret_data[s][d].income).toFixed(2));a.data.income="0.00"}else a.data.income="0.00"}},function(){})},P=function(){i.requestStockTotalIncome(t.onSaleCode).then(function(t){tracelog("查询股基累积收益成功"),t.ret_data&&t.ret_data.length>=1&&(a.data.accumulatedIncome=parseFloat(t.ret_data[0].totalEarnings).toFixed(2))},function(){tracelog("查询股基累积收益失败")})},b=function(t){var e=o.getCacheInfo("assessment"),n=t.level||0,s=t.word||"低";t.riskStatus=1,e?e.cust_risk_level<n?l(function(){a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.textHead="您的风险评估结果为 <span class='og'>"+gRiskArr[e.cust_risk_level]+"</span>",a.data.outValue.oneLineTextLeft='该产品风险等级为<span class="og">'+s+"</span>，按监管要求已超出您的风险承受能力。如果您仍然购买，则视为您愿意承担该产品的风险。",a.data.outValue.twoButtonText1="重新评估",a.data.outValue.twoButtonText2="仍然购买",a.data.outValue.popClose=function(a){1==a?(t.riskStatus=1,c.setData(t),c.goPage()):2==a&&t.goNextPath(1)}},50):t.goNextPath():(c.setData(t),c.goPage())},w=function(){var a=o.getCacheInfo("assessment");if(a){var t=c.getData();if(t&&2==t.riskStatus){if(t.riskStatus=0,!(t.level>a.cust_risk_level)){var e="您的投资类型为 "+gRiskArr[a.cust_risk_level]+"，";return e+=2==t.type?"适合购买该组合":"适合购买该产品",n.makeToast(e,"short"),void t.goNextPath()}b(t)}}},F=function(){var e={};a.data.shareData=e,e.prod_type=h.PROD_TYPE.GJ,e.shareObj=getShareConf(e.prod_type,t.onSaleCode),e.shareContent=null,e.shareTarget=null,!isReviewVer&&e.shareObj&&e.shareObj.share_content&&e.shareObj.share_targeturl?(a.data.shareClass="menu-tip share",e.shareContent=e.shareObj.share_content.replace("{prod_name}",a.data.productDetail.onSaleDesc),e.shareContent=e.shareContent.replace("{income_rate}",a.data.incomeRate),e.shareTarget=e.shareObj.share_targeturl.replace("{prod_code}",t.onSaleCode),e.shareTarget=e.shareTarget.replace("{prod_type}",e.prod_type)):a.data.shareClass="hpw-con hide"};a.share=function(){var t=a.data.shareData;t&&p.sharePage(t.shareObj.share_title,t.shareContent,t.shareObj.share_preview,t.shareTarget)},y()}]);app.controller("StockPurchaseController",["$scope","$stateParams","utils","cache","webankCommonService","$timeout","$location","session","cgiService","BindNewCardService","riskAssessmentService","StockPurchaseService","ResetPasswdService","localStorageService","dataService","AnnouncementService","GLOBAL_CONSTANT","StockProductDetailService","StockTransRulesService",function(a,t,o,n,e,c,d,u,r,s,i,l,A,p,C,h,f,D,m){a.data={};var T=function(){a.data.productDetail=gStockProdCodeToProdDetailInfo[t.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[t.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]),a.data.isPwdAutoShow=!1,a.data.isPwdShow=!1,a.data.sigOnPwdCommit=0,a.data.ButtonClass="btn-c off",g(),S(),P(),y(),_()},_=function(){a.data.showTipsFlag=0;var t=new Date,n=a.data.productConfig.confirmShareDay;o.isWorkDay(t)?t.getHours()>=15?(a.data.showTipsFlag=1,n++):a.data.showTipsFlag=0:(a.data.showTipsFlag=2,n++),a.data.confirmDate=o.getNextWorkDay(n,t),a.data.redeemDay=a.data.productConfig.redeemDay},g=function(){var o=[{name:"电子交易直销前置式服务协议",pdfUrl:"https://www.webankcdn.net/s/hj/appconf/common/fund/gjzq_fund_proto.pdf",id:1}];a.data.isAgreed=!0,a.data.agreementDesc="服务协议及风险提示",a.agreementCode=t.onSaleCode,a.data.agreementCode=t.onSaleCode,a.data.agreementDetail=a.data.productDetail&&a.data.productDetail.agreement?a.data.productDetail.agreement:o},S=function(){var t=n.getCacheInfo("wealth"),o=e.parseRawWealthData_V2(t),c=e.getValidBandCardList();a.data.AccountData={},a.data.AccountData.webankAccount={},a.data.AccountData.webankAccount.priority=2,a.data.AccountData.webankAccount.amount=o.BankAmount,a.data.AccountData.webankAccount.isAvaliable=!0,a.data.AccountData.currentPlus={},a.data.AccountData.currentPlus.amount=o.HJAmount,a.data.AccountData.currentPlus.priority=1,a.data.AccountData.currentPlus.isAvaliable=!0,a.data.AccountData.ctrlData={},a.data.AccountData.ctrlData.title="选择付款账户",a.data.AccountData.ctrlData.canBindNewCard=!0,a.data.AccountData.ctrlData.accountType=f.ACCOUNT_TYPE.CURRENT_PLUS,a.data.AccountData.otherBankAccount={},a.data.AccountData.otherBankAccount.cardInfo={},c&&c.length>0&&(a.data.AccountData.otherBankAccount.otherAccountList=c,a.data.AccountData.otherBankAccount.cardInfo.bankBinCode=c[0].other_bank_bin_code,a.data.AccountData.otherBankAccount.cardInfo.userName=c[0].other_name,a.data.AccountData.otherBankAccount.cardInfo.cardNo=c[0].other_account,a.data.AccountData.otherBankAccount.cardInfo.cardTypeCode=c[0].other_card_type_code,a.data.AccountData.otherBankAccount.cardInfo.cardType=c[0].other_card_type,a.data.AccountData.otherBankAccount.cardInfo.bankName=c[0].other_bank_name)};a.onSelectPayWay=function(){a.data.isPwdShow?(a.data.isPwdAutoShow=!0,a.data.isPwdShow=!1):a.data.isPwdAutoShow=!1,a.data.showAccountSelector()},a.onAccountSelected=function(){a.data.isPwdAutoShow&&(c(k,200),a.data.isPwdAutoShow=!1)},a.isWeBankAccount=function(){return a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.WEBANK_CARD},a.isCurrentPlus=function(){return a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.CURRENT_PLUS},a.isOtherBank=function(){return a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.OTHER_BANK_CARD};var P=function(){var t=n.getCacheInfo("wealth");if(a.data.minAmount=parseFloat(a.data.productConfig.firstBuy),a.data.incAmount=parseFloat(a.data.productConfig.firstBuyIncrement),t.financial_products)for(var o=0;o<t.financial_products.length;++o)t.financial_products[o].prod_code==a.data.productDetail.onSaleCode&&(a.data.minAmount=parseFloat(a.data.productConfig.appendBuy),a.data.incAmount=parseFloat(a.data.productConfig.appendBuyIncrement));a.data.showInputAct=!1,a.data.showInputAmountTips=!1,a.data.showInputResult=!1},w=function(){if(""==a.data.amount||void 0==a.data.amount)return!1;if(!o.isValidTransferAmount(a.data.amount))return a.data.showInputAmountTips=!0,a.data.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT,!1;if(a.data.amount<a.data.minAmount)return a.data.showInputAmountTips=!0,a.data.inputAmountTipsContent="最低购买金额为"+a.data.minAmount+"元",!1;var t=a.data.amount;if(a.data.amount=o.getAmountForRule(a.data.amount,a.data.minAmount,a.data.incAmount),t!=a.data.amount&&o.makeToast("购买的金额必须为"+a.data.incAmount+"的整数倍，已自动为您调整","short"),a.data.amount=parseFloat(parseFloat(a.data.amount).toFixed(2)),a.data.amountCN=o.convertCurrencyToChineseStyle(a.data.amount),a.data.cost=(parseFloat(a.data.amount)/100*parseFloat(a.data.productConfig.purchaseFeeRate)).toFixed(2),a.data.realCost=(parseFloat(a.data.amount)/100*parseFloat(a.data.productConfig.purchaseFeeRate)*parseFloat(a.data.productConfig.purchaseFeeDiscount)).toFixed(2),a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.CURRENT_PLUS&&parseFloat(a.data.amount)>a.data.AccountData.currentPlus.amount&&(a.data.AccountData.ctrlData.accountType=f.ACCOUNT_TYPE.WEBANK_CARD),a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.WEBANK_CARD&&parseFloat(a.data.amount)>a.data.AccountData.webankAccount.amount){if(!(a.data.AccountData.otherBankAccount.otherAccountList&&a.data.AccountData.otherBankAccount.otherAccountList.length>0))return a.data.showNeedBindCard=!0,!1;a.data.AccountData.ctrlData.accountType=f.ACCOUNT_TYPE.OTHER_BANK_CARD}return a.data.showInputAct=!0,a.data.showInputResult=!0,a.data.showInputAmountTips=!1,a.data.showNeedBindCard=!1,!0};a.focusInput=function(){a.data.showInputAct=!1,a.data.showInputResult=!1,a.data.showInputAmountTips=!1,a.data.showNeedBindCard=!1},a.blurInput=function(){a.data.amount&&""!=a.data.amount&&w()},a.changeInput=function(){a.data.amount&&""!=a.data.amount||(a.data.ButtonClass="btn-c off"),a.data.ButtonClass=a.data.amount>=a.data.minAmount?"btn-c":"btn-c off"};var k=function(){a.data.pwdSubTitle="购买"+a.data.productDetail.onSaleDesc;var t;a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.WEBANK_CARD?t="使用微众卡支付":a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.CURRENT_PLUS?t="使用活期+支付":(t="使用"+a.data.AccountData.otherBankAccount.cardInfo.bankName,t+=a.data.AccountData.otherBankAccount.cardInfo.cardType,t+=o.abridgeAccountNumber(a.data.AccountData.otherBankAccount.cardInfo.cardNo)+"支付"),a.data.payWayDesc=t,a.data.pwdTransDesc=parseFloat(a.data.amount).toFixed(2)+"元",a.data.isPwdShow=!0};a.$watch("data.sigOnPwdCommit",function(t,o){t!==o&&(a.data.isPwdShow=!1,B())}),a.onClickPurchase=function(){return"btn-c off"!=a.data.ButtonClass?a.data.isAgreed?void(w()&&(R()||k())):void o.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short"):void 0};var B=function(){var o=0;l.getData()&&l.getData().isForce&&(o=l.getData().isForce);var n={};a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.WEBANK_CARD?n.pay_flag=f.ACCOUNT_TYPE.WEBANK_CARD:a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.CURRENT_PLUS?(n.pay_flag=f.ACCOUNT_TYPE.CURRENT_PLUS,n.pay_product_code=gMonetaryOnSaleInfo[0].prod_code):(n.pay_flag=f.ACCOUNT_TYPE.OTHER_BANK_CARD,n.card_no=a.data.AccountData.otherBankAccount.cardInfo.cardNo),n.transaction_amount=a.data.amount,n.user_pwd=a.data.vm.formData.confirmPassword.RSA,n.product_code=a.data.productDetail.onSaleCode,n.redeem_type="1",n.is_capricious=o+"",a.data.resultObj={},a.data.resultObj.amount=a.data.amount,a.data.resultObj.onSaleCode=t.onSaleCode,a.data.showLoading=!0,r.requestStockPurchase(n).then(function(t){e.isProcessingState(t.ret_code)?N(f.ORDER_QUERY_TYPE.PURCHASE_STOCK,t.ret_data.trans_serno):(a.data.resultObj.result=t.ret_code,a.data.showLoading=!1,l.clearSession(),d.path("/stockPurchaseResult").search(a.data.resultObj))},function(t){a.data.resultObj.result=t.ret_code,a.data.resultObj.failReason=t.ret_msg,a.data.showLoading=!1,e.isRetCodePwd(t.ret_code)?e.isRetCodePwdRetry(t.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(t){1==t?k():2==t&&(l.saveSession(a.data),A.goPage())}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(t){1==t||2==t&&(l.saveSession(a.data),A.goPage())}):(l.clearSession(),d.path("/stockPurchaseResult").search(a.data.resultObj))})},N=function(t,o){e.checkProcessingState(t,o).then(function(t){a.data.resultObj.result=t.retCode,a.data.resultObj.failReason=t.retMsg,a.data.showLoading=!1,l.clearSession(),d.path("/stockPurchaseResult").search(a.data.resultObj)})},R=function(){if(a.data.AccountData.ctrlData.accountType==f.ACCOUNT_TYPE.OTHER_BANK_CARD){var t=gBankLimit[a.data.AccountData.otherBankAccount.cardInfo.bankBinCode];if(!t)return!1;if(parseFloat(a.data.amount)>parseFloat(t.perOne))return a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft="超过银行卡限额，"+a.data.AccountData.otherBankAccount.cardInfo.bankName+a.data.AccountData.otherBankAccount.cardInfo.cardType+"单笔"+t.perOne+"，单日"+t.perDay,a.data.outValue.oneButtonText="知道了",a.data.outValue.popClose=function(){},!0}return!1};a.back=function(){l.clearSession(),l.backPage()},a.bindCard=function(){l.saveSession(a.data),s.goPage()},a.onClickProdDetail=function(){l.saveSession(a.data),d.path("/stockProductDetail/"+a.data.productDetail.onSaleCode+"/hideBuyButton")},a.onClickRules=function(){l.saveSession(a.data),m.goPage(a.data.productDetail.onSaleCode)};var y=function(){var o=p.get(n.getUserInfo().openid+t.onSaleCode+"productNotice");if(!o){var e=h.getBackData();e&&e.back?(h.setBackData(null),1*e.type==10&&a.back()):C.getBuyNotice({code:t.onSaleCode}).then(function(a){a&&a.length>0&&h.goPage(null,null,{code:t.onSaleCode,type:10})},function(){})}};if(void 0==l.resumeSession())T();else{a.data=l.resumeSession();var b=e.getValidBandCardList();b&&b.length>0&&(a.data.AccountData.otherBankAccount.otherAccountList=b,a.data.AccountData.otherBankAccount.cardInfo.bankBinCode=b[0].other_bank_bin_code,a.data.AccountData.otherBankAccount.cardInfo.userName=b[0].other_name,a.data.AccountData.otherBankAccount.cardInfo.cardNo=b[0].other_account,a.data.AccountData.otherBankAccount.cardInfo.cardTypeCode=b[0].other_card_type_code,a.data.AccountData.otherBankAccount.cardInfo.cardType=b[0].other_card_type,a.data.AccountData.otherBankAccount.cardInfo.bankName=b[0].other_bank_name),w()}}]);app.controller("StockPurchaseResultController",["$scope","$location","utils","GLOBAL_CONSTANT","cgiService","TransRecordService",function(a,t,o,e,d,n){a.data={};var i=function(){a.data.resultObj=t.search(),a.data.productDetail=gStockProdCodeToProdDetailInfo[a.data.resultObj.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[a.data.resultObj.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]),a.data.result=a.data.resultObj.result,a.data.result===e.CGI_RET.CGI_PROCESSING||a.data.result===e.CGI_RET.CGI_PROCESSING_2?(a.data.isSuccShow=!1,a.data.isProcessing=!0,a.data.isFailedShow=!1):a.data.result==e.CGI_RET.CGI_SUCCESS||a.data.result==e.CGI_RET.CGI_SUCCESS_2?(a.data.isSuccShow=!0,a.data.isProcessing=!1,a.data.isFailedShow=!1):(a.data.isSuccShow=!1,a.data.isFailedShow=!0,a.data.isProcessing=!1,a.data.resultMsg=a.data.resultObj.failReason),a.data.amount=a.data.resultObj.amount,a.data.today=new Date;var d=parseInt(a.data.productConfig.confirmShareDay);(!o.isWorkDay(a.data.today)||parseInt(a.data.today.getHours())>=15)&&(d+=1),a.data.confirmDay=o.getNextWorkDay(d,a.data.today),a.data.checkDay=o.getNextWorkDay(d+1,a.data.today),r()},r=function(){d.requestUserWealth().then(function(){},function(){})};a.onClickViewProcess=function(){n.goPage()},a.onClickRecom=function(){t.path("/financialRecommend")},a.onClickHome=function(){t.path("/home")},a.onClickDetail=function(){t.path("/myFinancial/stock")},i()}]);app.controller("StockRedeemController",["$scope","$stateParams","utils","cache","webankCommonService","$timeout","$location","session","cgiService","BindNewCardService","ResetPasswdService","StockTransRulesService","GLOBAL_CONSTANT","StockRedeemService",function(a,t,e,o,d,n,r,s,u,c,l,i,p,h){a.data={};var C=function(){a.data.productDetail=gStockProdCodeToProdDetailInfo[t.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[t.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]);var e=o.getCacheInfo("wealth");a.data.productWealthData=d.parseRawWealthDataForGPProduct(e,t.onSaleCode),D(),f(),a.data.share="",a.data.showInputAmountTips=!1,a.data.redeemButtonClass="btn-c off"},D=function(){a.data.today=new Date;var t=0;e.isWorkDay(a.data.today)?a.data.today.getHours()>=15?(a.data.showTipsFlag=1,t++):a.data.showTipsFlag=0:(a.data.showTipsFlag=2,t++),a.data.realValueDate=e.getNextWorkDay(t,a.data.today);var o=parseInt(a.data.productConfig.redeemDay);(!e.isWorkDay(a.data.today)||parseInt(a.data.today.getHours())>=15)&&(o+=1),a.data.finishDate=e.getNextWorkDay(o,a.data.today),a.data.redeemDay=a.data.productConfig.redeemDay};a.onClickRedeemAll=function(){a.data.share=parseFloat(a.data.productWealthData.share),a.blurInput()},a.blurInput=function(){if(a.data.redeemButtonClass="btn-c off",a.data.showInputAmountTips=!1,""!=a.data.share){if(parseFloat(a.data.share)<parseFloat(a.data.productDetail.redeemMinVol))return a.data.showInputAmountTips=!0,void(a.data.inputAmountTipsContent="赎回份额"+a.data.productDetail.redeemMinVol+"份起");if(parseFloat(a.data.share)>=parseFloat(a.data.productWealthData.share))a.data.share=parseFloat(a.data.productWealthData.share);else if(parseFloat(a.data.productWealthData.share)-parseFloat(a.data.share)<parseFloat(a.data.productDetail.holdMinVol))return a.data.showInputAmountTips=!0,void(a.data.inputAmountTipsContent="按基金公司规定，赎回后剩余份额应不少于"+a.data.productDetail.holdMinVol+"份");a.data.share=parseFloat(parseFloat(a.data.share).toFixed(2)),a.data.redeemButtonClass="btn-c"}},a.focusInput=function(){a.data.showInputAmountTips=!1};var f=function(){a.data.hideAmount="300",a.data.AccountData={},a.data.AccountData.webankAccount={},a.data.AccountData.webankAccount.priority=2,a.data.AccountData.webankAccount.isAvaliable=!0,a.data.AccountData.currentPlus={},a.data.AccountData.currentPlus.priority=1,a.data.AccountData.currentPlus.isAvaliable=!0,a.data.AccountData.ctrlData={},a.data.AccountData.ctrlData.title="选择收款账户",a.data.AccountData.ctrlData.accountType=p.ACCOUNT_TYPE.CURRENT_PLUS};a.onSelectPayWay=function(){a.showAccountSelector()},a.isWeBankAccount=function(){return a.data.AccountData.ctrlData.accountType==p.ACCOUNT_TYPE.WEBANK_CARD},a.isCurrentPlus=function(){return a.data.AccountData.ctrlData.accountType==p.ACCOUNT_TYPE.CURRENT_PLUS},a.data.isPwdShow=!1,a.data.sigOnPwdCommit=0;var T=function(){a.data.pwdSubTitle="赎回"+a.data.productDetail.onSaleDesc,a.data.payWayDesc="",a.data.pwdTransDesc=parseFloat(a.data.share).toFixed(2)+"份",a.data.isPwdShow=!0};a.$watch("data.sigOnPwdCommit",function(t,e){t!==e&&(a.data.isPwdShow=!1,m())}),a.onClickRedeem=function(){return e.isValidTransferAmount(a.data.share)?void T():(a.data.showInputAmountTips=!0,void(a.data.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT))},a.data.showLoading=!1;var m=function(){if("btn-c off"!=a.data.redeemButtonClass){a.data.showLoading=!0;var t={};if(t.pay_flag=3,t.transaction_amount=a.data.share,t.user_pwd=a.vm.formData.confirmPassword.RSA,t.product_code=a.data.productDetail.onSaleCode,a.data.AccountData.ctrlData.accountType==p.ACCOUNT_TYPE.WEBANK_CARD)t.pay_flag=p.ACCOUNT_TYPE.WEBANK_CARD;else{t.pay_flag=p.ACCOUNT_TYPE.CURRENT_PLUS,t.pay_product_code=gMonetaryOnSaleInfo[0].prod_code;var e=o.getCacheInfo("personalInfo");null!=e&&(t.card_no=e.webank_card_no)}a.data.resultObj={},a.data.resultObj.share=a.data.share,u.requestStockRedeem(t).then(function(t){d.isProcessingState(t.ret_code)?A(p.ORDER_QUERY_TYPE.REDEEM_STOCK,t.ret_data.trans_serno):(a.data.resultObj.result=t.ret_code,a.data.resultObj.onSaleCode=a.data.productDetail.onSaleCode,a.data.showLoading=!1,r.path("/stockRedeemResult").search(a.data.resultObj))},function(t){a.data.resultObj.result=t.ret_code,a.data.resultObj.failReason=t.ret_msg,a.data.resultObj.onSaleCode=a.data.productDetail.onSaleCode,a.data.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a?T():2==a&&l.goPage()}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a||2==a&&l.goPage()}):r.path("/stockRedeemResult").search(a.data.resultObj)})}},A=function(t,e){d.checkProcessingState(t,e).then(function(t){a.data.resultObj.result=t.retCode,a.data.resultObj.failReason=t.retMsg,a.data.resultObj.onSaleCode=a.data.productDetail.onSaleCode,a.data.showLoading=!1,r.path("/stockRedeemResult").search(a.data.resultObj)})};a.back=function(){h.backPage()},a.onClickRules=function(){i.goPage(a.data.productDetail.onSaleCode)},a.onClickShare=function(){a.data.maskClass="p-mask show",a.data.maskTitle="可赎回份额",a.data.maskDetail="可赎回份额=总份额-不可赎回份额。",a.data.maskDetail2="总份额："+a.data.productWealthData.totalShare+"份",a.data.maskDetail3="不可赎回："+(parseFloat(a.data.productWealthData.totalShare)-parseFloat(a.data.productWealthData.share)).toFixed(2)+"份",a.data.maskDetail4="注：不可赎回份额指最新确认份额(当天确认份额需15:00后才可赎回)及赎回中的份额"},a.onClickCancelMask=function(){a.data.maskClass="p-mask hide"},C()}]);app.controller("StockRedeemResultController",["$scope","$location","utils","GLOBAL_CONSTANT","cgiService","StockProductDetailService","StockMyProdDetailService",function(a,t,e,o,d,c,n){a.data={};var r=function(){if(i(),a.data.resultObj=t.search(),a.data.result=a.data.resultObj.result,a.data.productDetail=gStockProdCodeToProdDetailInfo[a.data.resultObj.onSaleCode],a.data.productConfig=gStockProdCodeToProdConfig[a.data.resultObj.onSaleCode],a.data.productConfig||(a.data.productConfig=gStockProdCodeToProdConfig["default"]),a.data.result==o.CGI_RET.CGI_SUCCESS||a.data.result==o.CGI_RET.CGI_SUCCESS_2){a.data.isSuccShow=!0,a.data.today=new Date;var d=parseInt(a.data.productConfig.redeemDay);a.data.today.getHours()>=15&&(d+=1),a.data.redeemDay=e.getNextWorkDay(d,a.data.today)}else a.data.isSuccShow=!1,a.data.resultMsg=a.data.resultObj.failReason},i=function(){d.requestUserWealth().then(function(){},function(){})};a.onClickDetail=function(){n.goPage(a.data.resultObj.onSaleCode,"","","myFinancial/stock")},a.onClickRedeem=function(){StockRedeemService.goPage(a.data.resultObj.onSaleCode,"","","myFinancial/stock")},a.onClickBack=function(){t.path("/myFinancial/stock")},r()}]);app.controller("StockHistoryCleanValueController",["$scope","$location","$stateParams","utils","cgiService","essential","StockProductDetailService","StockValueHistoryService",function(e,t,o,c,a,i,r,l){e.incomeHistory=l.getData(),e.back=function(){l.backPage()}}]);app.controller("StockTransRulesController",["$scope","$location","$stateParams","utils","cgiService","essential","StockTransRulesService","$http","$sce","envService","$stateParams",function(t,a,s,e,n,l,c,o,i,r,s){t.data={};var d=function(){t.data.tabClass1="item on",t.data.tabClass2="item",t.data.sectionClass1="",t.data.sectionClass2="hide";var a=r.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+s.onSaleCode+"/transRules1.html",e=r.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+s.onSaleCode+"/transRules2.html";o.get(i.trustAsResourceUrl(a)).success(function(a){t.data.sectionHtml1=i.trustAsHtml(a)}),o.get(i.trustAsResourceUrl(e)).success(function(a){t.data.sectionHtml2=i.trustAsHtml(a)})};t.onClickTab1=function(){t.data.tabClass1="item on",t.data.tabClass2="item",t.data.sectionClass1="",t.data.sectionClass2="hide"},t.onClickTab2=function(){t.data.tabClass1="item",t.data.tabClass2="item on",t.data.sectionClass1="hide",t.data.sectionClass2=""},t.back=function(){c.backPage()},d()}]);app.controller("StockAssetDetailController",["$scope","$location","$stateParams","utils","cgiService","essential","StockAssetDetailService","$http","$sce","envService","$stateParams",function(t,e,a,s,c,o,l,n,i,r,a){t.data={};var u=function(){var e=r.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+a.onSaleCode+"/assetDetail.html";n.get(i.trustAsResourceUrl(e)).success(function(e){t.data.sectionHtml=i.trustAsHtml(e)}),t.data.imgSrc="http://hjdata.webank.com/querydata/html/stock/"+a.onSaleCode+"/pie.png"};t.back=function(){l.backPage()},u()}]);app.controller("StockTransRatesController",["$scope","$location","$stateParams","utils","cgiService","essential","StockTransRatesService","$http","$sce","envService","$stateParams",function(t,e,a,s,c,n,r,o,l,i,a){t.data={};var u=function(){var e=i.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+a.onSaleCode+"/transRates.html";o.get(l.trustAsResourceUrl(e)).success(function(e){t.data.sectionHtml=l.trustAsHtml(e)})};t.back=function(){r.backPage()},u()}]);app.controller("StockProdManagerController",["$scope","$location","$stateParams","utils","cgiService","essential","StockProdManagerService","$http","$sce","envService","$stateParams",function(t,e,a,r,c,o,n,s,l,i,a){t.data={};var u=function(){var e=i.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+a.onSaleCode+"/prodManager.html";s.get(l.trustAsResourceUrl(e)).success(function(e){t.data.sectionHtml=l.trustAsHtml(e)})};t.back=function(){n.backPage()},u()}]);app.controller("StockMoreDetailController",["$scope","$location","$stateParams","utils","cgiService","essential","StockMoreDetailService","$http","$sce","envService","dataService",function(t,e,a,o,n,c,l,r,i,s,u){t.data={};var v=a.onSaleCode;t.data.announceValue={list:[]};var h=s.getEnvVariable().DATA_NOTICE;u.getProductNotice({code:v}).then(function(e){e&&e.length>0&&$.each(e,function(e,a){t.data.announceValue.list.push({name:a.app_show_name||"公告",url:h+a.location,show_sort:a.show_sort||0})})},function(){});var d=function(){var e=s.getEnvVariable().DATA_CGI_PREFIX+"html/stock/"+a.onSaleCode+"/moreDetail.html";r.get(i.trustAsResourceUrl(e)).success(function(e){t.data.sectionHtml=i.trustAsHtml(e)})};t.back=function(){l.backPage()},d()}]);app.controller("StockConfirmPurchaseDetailController",["$scope","$location","$stateParams","utils","cgiService","essential","StockConfirmPurchaseDetailService","$http","$sce","envService","$stateParams","cache","webankCommonService","ResetPasswdService",function(t,a,e,o,r,s,n,d,c,i,e,u,l,p){t.data={};var _=function(){t.data.productDetail=gStockProdCodeToProdDetailInfo[e.onSaleCode],t.data.productConfig=gStockProdCodeToProdConfig[e.onSaleCode],t.data.productConfig||(t.data.productConfig=gStockProdCodeToProdConfig["default"]);var a=u.getCacheInfo("confirmingList"),r=[];if(a.product_list){for(var s=0;s<a.product_list.length;++s)if(a.product_list[s].prod_code==e.onSaleCode&&"60"==a.product_list[s].trans_type){var n={};n.seq=a.product_list[s].trans_serno,n.buyTime=a.product_list[s].trans_time,n.pay_flag=a.product_list[s].pay_flag,n.bank_name=a.product_list[s].bank_name,n.card_type=a.product_list[s].card_type,n.acct_no=a.product_list[s].acct_no,n.buyDate=o.getDateByYYYYMMDDString(a.product_list[s].trans_date),n.cancelDate=!o.isWorkDay(n.buyDate)||parseInt(a.product_list[s].trans_time.substr(0,2))>=15?o.getNextWorkDay(1,n.buyDate):o.getNextWorkDay(0,n.buyDate);var d=parseInt(t.data.productConfig.confirmShareDay);(!o.isWorkDay(n.buyDate)||parseInt(a.product_list[s].trans_time.substr(0,2))>=15)&&(d+=1),n.confirmDate=o.getNextWorkDay(d,n.buyDate);var c=d+1;n.showDate=o.getNextWorkDay(c,n.buyDate),n.amount=parseFloat(a.product_list[s].applicationamount).toFixed(2),n.showCancel=!1,n.realCost=(parseFloat(n.amount)/100*parseFloat(t.data.productConfig.purchaseFeeRate)*parseFloat(t.data.productConfig.purchaseFeeDiscount)).toFixed(2),r.push(n)}t.data.list=r}f()};t.onClickCancel=function(a){t.data.pwdSubTitle="撤销购买"+t.data.productDetail.onSaleDesc,t.data.pwdTransDesc=parseFloat(a.amount).toFixed(2)+"元",t.data.seq=a.seq,t.data.isPwdShow=!0},t.$watch("data.sigOnPwdCommit",function(a,e){a!==e&&(t.data.isPwdShow=!1,C())});var f=function(){r.requestStockCancelProductList().then(function(a){if(a.ret_data.list)for(var e=0;e<a.ret_data.list.length;++e)for(var o=0;o<t.data.list.length;++o)a.ret_data.list[e].ori_biz_seq_id==t.data.list[o].seq&&(t.data.list[o].showCancel=!0)},function(){})},C=function(){var e={};e.trans_serno=t.data.seq,e.user_pwd=t.vm.formData.confirmPassword.RSA,r.requestStockCancelProduct(e).then(function(){var e={};e.isSuccess=!0,e.action="purchase",e.prodCode=t.data.productDetail.onSaleCode,a.path("/stockCancelResult").search(e)},function(e){var o={};o.isSuccess=!1,o.reason=e.ret_msg,o.action="purchase",o.prodCode=t.data.productDetail.onSaleCode,l.isRetCodePwd(e.ret_code)?l.isRetCodePwdRetry(e.ret_code)?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft=e.ret_msg,t.data.outValue.twoButtonText1="重试",t.data.outValue.twoButtonText2="忘记密码",t.data.outValue.popClose=function(a){1==a?t.data.isPwdShow=!0:2==a&&p.goPage()}):(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft=e.ret_msg,t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="忘记密码",t.data.outValue.popClose=function(t){1==t||2==t&&p.goPage()}):a.path("/stockCancelResult").search(o)})};t.back=function(){n.backPage()},_()}]);app.controller("StockConfirmRedeemDetailController",["$scope","$location","$stateParams","utils","cgiService","essential","StockConfirmRedeemDetailService","$http","$sce","envService","cache","webankCommonService","ResetPasswdService",function(t,e,a,o,r,d,n,i,s,c,l,u,p){t.data={};var _=function(){t.data.productDetail=gStockProdCodeToProdDetailInfo[a.onSaleCode],t.data.productConfig=gStockProdCodeToProdConfig[a.onSaleCode],t.data.productConfig||(t.data.productConfig=gStockProdCodeToProdConfig["default"]);var e=l.getCacheInfo("confirmingList"),r=[];if(e.product_list){for(var d=0;d<e.product_list.length;++d)if(e.product_list[d].prod_code==a.onSaleCode&&"62"==e.product_list[d].trans_type){var n={};n.seq=e.product_list[d].trans_serno,n.redeemTime=e.product_list[d].trans_time,n.pay_flag=e.product_list[d].pay_flag,n.bank_name=e.product_list[d].bank_name,n.card_type=e.product_list[d].card_type,n.acct_no=e.product_list[d].acct_no,n.redeemDate=o.getDateByYYYYMMDDString(e.product_list[d].trans_date),n.cancelDate=!o.isWorkDay(n.redeemDate)||parseInt(e.product_list[d].trans_time.substr(0,2))>=15?o.getNextWorkDay(1,n.redeemDate):o.getNextWorkDay(0,n.redeemDate),n.showValueDate=o.getNextWorkDay(1,n.cancelDate);var i=parseInt(t.data.productConfig.redeemDay);(!o.isWorkDay(n.redeemDate)||parseInt(e.product_list[d].trans_time.substr(0,2))>=15)&&(i+=1),n.finishDate=o.getNextWorkDay(i,n.redeemDate),n.amount=parseFloat(e.product_list[d].applicationamount).toFixed(2),n.vol=parseFloat(e.product_list[d].applicationvol).toFixed(2),r.push(n)}t.data.list=r}f()};t.onClickCancel=function(e){t.data.pwdSubTitle="撤销赎回"+t.data.productDetail.onSaleDesc,t.data.pwdTransDesc=parseFloat(e.vol).toFixed(2)+"份",t.data.seq=e.seq,t.data.isPwdShow=!0},t.$watch("data.sigOnPwdCommit",function(e,a){e!==a&&(t.data.isPwdShow=!1,m())});var f=function(){r.requestStockCancelProductList().then(function(e){if(e.ret_data.list)for(var a=0;a<e.ret_data.list.length;++a)for(var o=0;o<t.data.list.length;++o)e.ret_data.list[a].ori_biz_seq_id==t.data.list[o].seq&&(t.data.list[o].showCancel=!0)},function(){})},m=function(){var a={};a.trans_serno=t.data.seq,a.user_pwd=t.vm.formData.confirmPassword.RSA,r.requestStockCancelProduct(a).then(function(){var a={};a.isSuccess=!0,a.action="redeem",a.prodCode=t.data.productDetail.onSaleCode,e.path("/stockCancelResult").search(a)},function(a){var o={};o.isSuccess=!1,o.reason=a.ret_msg,o.action="redeem",o.prodCode=t.data.productDetail.onSaleCode,u.isRetCodePwd(a.ret_code)?u.isRetCodePwdRetry(a.ret_code)?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft=a.ret_msg,t.data.outValue.twoButtonText1="重试",t.data.outValue.twoButtonText2="忘记密码",t.data.outValue.popClose=function(e){1==e?t.data.isPwdShow=!0:2==e&&p.goPage()}):(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft=a.ret_msg,t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="忘记密码",t.data.outValue.popClose=function(t){1==t||2==t&&p.goPage()}):e.path("/stockCancelResult").search(o)})};t.back=function(){n.backPage()},_()}]);app.controller("StockCancelResultController",["$scope","$location","utils","GLOBAL_CONSTANT","cgiService","WebankCardService","StockMyProdDetailService","TransRecordService",function(o,a,c,t,e,n,i,r){o.data={};var l=function(){o.data.obj=a.search(),"purchase"==o.data.obj.action?(o.data.showType1=!0,o.data.showType2=!1):"redeem"==o.data.obj.action&&(o.data.showType1=!1,o.data.showType2=!0),e.requestUserWealth().then(function(){},function(){})};o.onClickBack=function(){a.path("/myFinancial/stock")},o.onClickAccount=function(){n.goPage("","","","accountSettings/home")},o.onClickStockMyProd=function(){i.goPage(o.data.obj.prodCode,"","","myFinancial/stock")},o.onClickTranLog=function(){r.goPage("","","all","home")},l()}]);app.controller("RegisterBindCardController1",["$scope","$timeout","$location","GLOBAL_CONSTANT","essential","utils","$stateParams","cgiService","cache","RegisterService","LoginService",function(a,t,n,e,o,r,d,i,s,c,p){a.data={};var h=function(){a.data.para=c.getUserPara(),a.data.name=a.data.para.personal_name,a.data.phone=a.data.para.phone_no,a.data.realPhone=a.data.phone,a.data.phone=a.data.phone.substr(0,3)+"****"+a.data.phone.substr(7,4),a.data.isAgreed=!0,a.data.nextButtonController="btn-c off",a.data.showBankIcon=!1,a.data.maskClass="p-mask hide"};a.changeBankCard=function(){if(a.data.nextButtonController="btn-c off",a.data.card.length<6&&(a.data.showInputBankCardTips=!1,a.data.showBankIcon=!1),a.data.card&&""!=a.data.card){if(!r.isNumber(a.data.card))return a.data.showInputBankCardTips=!0,void(a.data.inputBankCardTipsContent=STRING_TABLE.INCORRECT_BANK_CARD_NO);a.data.card.length>=6&&u(),6==a.data.card.length&&(r.clickButtonReport("openaccount_cardnum"),i.requestBankInfo(a.data.card).then(function(t){return 10!=t.ret_data.card_typeid?(a.data.showInputBankCardTips=!0,a.data.inputBankCardTipsContent="暂不支持信用卡",void(a.data.nextButtonController="btn-c off")):(a.data.cardTypeId=t.ret_data.card_typeid,a.data.cardType=t.ret_data.card_type,a.data.bankName=t.ret_data.bank_name,a.data.bankImg="../img/bankHead/yh-"+(t.ret_data.clear_no_pbc||0)+"@2x.png",void(a.data.showBankIcon=!0))},function(t){return t.ret_code==e.CGI_RET.CGI_UNUSED_CARD||t.ret_code==e.CGI_RET.CGI_UNUSED_CARD_2?(a.data.showInputBankCardTips=!0,a.data.inputBankCardTipsContent="暂不支持该银行",void(a.data.nextButtonController="btn-c off")):void 0}))}},a.changePhone=function(){if(a.data.showInputPhoneTips=!1,a.data.nextButtonController="btn-c off",a.data.phone&&""!=a.data.phone){var t=r.isValidPhoneInput(a.data.phone);"fail"==t?(a.data.showInputPhoneTips=!0,a.data.inputTelTipsContent="请使用真实电话，方便接收正确验证码"):"finish"==t&&(r.clickButtonReport("openaccount_cardphone"),a.data.realPhone=a.data.phone,u())}};var u=function(){r.isNumber(a.data.card)&&r.isValidPhoneNumber(a.data.realPhone)&&!a.data.showInputBankCardTips&&!a.data.showInputPhoneTips&&(a.data.nextButtonController="btn-c")};a.onClickNextStep=function(){if("btn-c off"!=a.data.nextButtonController){if(r.clickButtonReport("openaccount_confirm"),!a.data.isAgreed)return void r.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short");if(a.data.realPhone==a.data.para.phone_no)_();else{var t={};t.phone_no=a.data.realPhone,a.data.nextButtonController="btn-c off",i.requestRegisterOTP(t).then(function(){a.data.nextButtonController="btn-c",a.data.para.other_card_no=a.data.card,a.data.para.other_phone_no=a.data.realPhone,a.data.para.bank_name=a.data.bankName,a.data.para.card_type=a.data.cardType,c.saveUserPara(a.data.para),c.saveRegisterSession2(a.data),n.path("/registerAndBindCard2")},function(t){a.data.nextButtonController="btn-c",r.makeToast(t.ret_msg,"short")})}}};var _=function(){a.data.nextButtonController="btn-c off";var t={};return t.personal_name=a.data.para.personal_name,t.personal_identify_no=a.data.para.personal_identify_no,t.personal_identify_type="01",t.phone_no=a.data.para.phone_no,t.phone_check_num=a.data.para.phone_check_num,t.other_name=a.data.para.personal_name,t.otp_sec_id=a.data.para.otpSession,t.user_pwd=a.data.para.password,t.other_card_no=a.data.card,t.other_phone_no=a.data.realPhone,t.other_phone_check_num="","phone"==s.getUserInfo().platform?(r.makeToast("开户申请已提交，七个工作日内我们会确认您的开户资料"),c.clearRegister(),void n.path("/default")):(a.data.showLoading=!0,void i.requestRegisterAndBindCard(t).then(function(){return o.exchangeWebankToken()},function(a){return r.makeToast(a.ret_msg,"short"),o.reject()}).then(function(){return s.setUserStatus(e.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),p.getLoginBankData()},function(){return o.reject()}).then(function(){var t={};t.bank_name=a.data.bankName,t.card_type=a.data.cardType,t.card_no=a.data.card,a.data.showLoading=!1,c.saveResultPara(t),n.path("/registerAndBindCard3")},function(){a.data.showLoading=!1,c.clearRegister(),n.path("/default")}))};a.back=function(){n.path("/register")},a.agreementCallback=function(){c.saveRegisterSession2(a.data)},a.onClickTips=function(){a.data.maskClass="p-mask show",a.data.maskTitle="绑卡说明",a.data.maskDetail="暂支持工行、农行、中行、建行、交行、中信、招行、广发、光大、平安、民生、兴业、华夏、浦发、邮储、上海银行的储蓄卡。暂不支持信用卡。"},a.onClickCancelMask=function(){a.data.maskClass="p-mask hide"},void 0==c.resumeRegisterSession2()?h():a.data=c.resumeRegisterSession2()}]);app.controller("RegisterBindCardController2",["$scope","$timeout","$location","GLOBAL_CONSTANT","essential","utils","$stateParams","cgiService","cache","RegisterService","LoginService",function(t,a,e,n,o,r,d,i,p,s,u){t.data={};var c=function(){t.data.para=s.getUserPara(),t.data.cardPhone=t.data.para.other_phone_no,t.data.otpButtonClass="register-yz-btn",t.data.showOtpButton=!1,t.data.otpTimeout=60,document.addEventListener("pause",_,!1),document.addEventListener("resume",h,!1),m(),t.data.nextButtonController="btn-c off"},m=function(){return t.data.otpTimeout-=1,t.data.otpTimeout<=0?(t.data.showOtpButton=!0,document.removeEventListener("pause",_,!1),void document.removeEventListener("resume",h,!1)):void a(function(){m()},1e3)},_=function(){var a=new Date;t.data.pausetime=a.getTime()},h=function(){var a=new Date;t.data.resumetime=a.getTime(),t.data.otpTimeout-=Math.round((t.data.resumetime-t.data.pausetime)/1e3),t.data.otpTimeout<0&&(t.data.otpTimeout=0)};t.changeOtp=function(){if(t.data.showInputOtpTips=!1,t.data.nextButtonController="btn-c off",t.data.otpNum&&""!=t.data.otpNum){var a=r.isValidPhoneOtpInput(t.data.otpNum);"fail"==a?(t.data.showInputOtpTips=!0,t.data.inputOtpTipsContent="验证码不正确"):"finish"==a&&(t.data.nextButtonController="btn-c")}},t.onClickOtp=function(){var a={};a.phone_no=t.data.para.other_phone_no,t.data.otpButtonClass="register-yz-btn off",i.requestRegisterOTP(a).then(function(){t.data.otpButtonClass="register-yz-btn",t.data.showOtpButton=!1,t.data.otpTimeout=60,document.addEventListener("pause",_,!1),document.addEventListener("resume",h,!1),m()},function(a){t.data.otpButtonClass="register-yz-btn",r.makeToast(a.ret_msg,"short")})},t.confirmBindBankCard=function(){if("btn-c off"!=t.data.nextButtonController){r.clickButtonReport("openaccount_confirm2"),t.data.nextButtonController="btn-c off",t.data.otpTimeout=0;var a={};if(a.personal_name=t.data.para.personal_name,a.personal_identify_no=t.data.para.personal_identify_no,a.personal_identify_type="01",a.phone_no=t.data.para.phone_no,a.phone_check_num=t.data.para.phone_check_num,a.other_name=t.data.para.personal_name,a.otp_sec_id=t.data.para.otpSession,a.user_pwd=t.data.para.password,a.other_card_no=t.data.para.other_card_no,a.other_phone_no=t.data.para.other_phone_no,a.other_phone_check_num=t.data.otpNum,"phone"==p.getUserInfo().platform)return r.makeToast("开户申请已提交，七个工作日内我们会确认您的开户资料"),s.clearRegister(),void e.path("/default");t.data.showLoading=!0,i.requestRegisterAndBindCard(a).then(function(){return o.exchangeWebankToken()},function(t){return r.makeToast(t.ret_msg,"short"),o.reject()}).then(function(){return p.setUserStatus(n.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),u.getLoginBankData()},function(){return o.reject()}).then(function(){var a={};a.bank_name=t.data.para.bank_name,a.card_type=t.data.para.card_type,a.card_no=t.data.para.other_card_no,t.data.showLoading=!1,s.saveResultPara(a),e.path("/registerAndBindCard3")},function(){t.data.showLoading=!1,s.clearRegister(),e.path("/default")})}},t.back=function(){e.path("/registerAndBindCard")},c()}]);app.controller("RegisterBindCardController3",["$scope","$timeout","$location","GLOBAL_CONSTANT","essential","utils","$stateParams","cgiService","cache","RegisterService","LoginService","localStorageService","HandPasswordService",function(a,e,t,r,n,c,i,o,d,s,l,g,u){a.data={};var p=function(){a.data.para=s.getResultPara(),a.data.nickName=d.getUserInfo().username,a.data.bankName=a.data.para.bank_name,a.data.cardType=a.data.para.card_type,a.data.card=a.data.para.card_no,g.set("isReg","true"),v()};a.onClickFinish=function(){u.init(),u.setCheckHandWhenLoginFlag(!1),t.path("/"+s.getSucceedPage()),s.clearRegister()};var v=function(){var a={};a.module_id="create_acct",o.requestReportToTencent(a).then(function(){tracelog("上报开户成功成功")},function(){tracelog("上报开户成功失败")})};p()}]);app.controller("RegisterController1",["$scope","$timeout","$location","GLOBAL_CONSTANT","$RSA","homeService","utils","cgiService","essential","$stateParams","cache","webankCommonService","LoginService","RegisterService","$ionicViewSwitcher",function(t,a,e,o,n,d,i,u,s,r,p,c,l,h,m){t.data={};var f=function(){t.data.isAgreed=!0,t.data.nextButtonClass="btn-c off",t.data.otpButtonClass="register-yz-btn off",t.data.isPwdKeyboardShow=!1,t.data.isPwdShow=!1,t.data.sigOnPwdCommit=0,t.data.showTimeoutButton=!0,_()},_=function(){t.data.maskClass="p-mask show",t.data.maskTitle="微众银行电子账户开户说明",t.data.maskSubTitle1="什么是微众银行电子账户？",t.data.maskDetail1="用户开通微众银行电子账户后，可以通过微众银行APP办理存款、理财等业务，以及在微众银行电子账户和已绑定的其他银行同名账户之间进行转账；微众银行电子账户目前暂不支持刷卡消费、给他人转账的功能。",t.data.maskSubTitle2="如何开通微众银行电子账户？",t.data.maskDetail2="用户输入本人姓名和身份证号码，设置交易密码并绑定用户在其他银行的同名储蓄卡，经微众银行核查验证通过后，即可开通微众银行电子账户。"};t.onClickCancelMask=function(){t.data.maskClass="p-mask hide"};var C=function(){return t.data.timeout-=1,t.data.timeout<=0?(t.data.showTimeoutButton=!0,document.removeEventListener("pause",g,!1),void document.removeEventListener("resume",w,!1)):void a(function(){C()},1e3)},g=function(){var a=new Date;t.data.pausetime=a.getTime()},w=function(){var a=new Date;t.data.resumetime=a.getTime(),t.data.timeout-=Math.round((t.data.resumetime-t.data.pausetime)/1e3),t.data.timeout<0&&(t.data.timeout=0)};t.changeName=function(){if(t.data.showInputNameTips=!1,t.data.nextButtonClass="btn-c off",t.data.name&&""!=t.data.name){var a=i.isValidNameInput(t.data.name);"fail"==a?(t.data.showInputNameTips=!0,t.data.inputNameTipsContent="请输入真实姓名"):"finish"==a&&(i.clickButtonReport("openaccount_name"),T())}},t.changeIDCard=function(){if(t.data.showInputIDCardTips=!1,t.data.nextButtonClass="btn-c off",t.data.IDCard&&""!=t.data.IDCard){var a=i.isValidIDCardInput(t.data.IDCard);"fail"==a?(t.data.showInputIDCardTips=!0,t.data.inputIDCardTipsContent="身份证号不正确，快检查检查"):"finish"==a&&(i.isValidIDCardNumber(t.data.IDCard)?(i.clickButtonReport("openaccount_cardid"),T()):(t.data.showInputIDCardTips=!0,t.data.inputIDCardTipsContent="身份证号不正确，快检查检查"))}},t.blurIDCard=function(){t.data.IDCard&&""!=t.data.IDCard&&(i.isValidIDCardNumber(t.data.IDCard)||(t.data.showInputIDCardTips=!0,t.data.inputIDCardTipsContent="身份证号不正确，快检查检查"))},t.changePhone=function(){if(t.data.showInputPhoneTips=!1,t.data.nextButtonClass="btn-c off",t.data.otpButtonClass="register-yz-btn off",t.data.phone&&""!=t.data.phone){var a=i.isValidPhoneInput(t.data.phone);"fail"==a?(t.showInputPhoneTips=!0,t.inputPhoneTipsContent="请使用真实电话，方便接收正确验证码"):"finish"==a&&(i.clickButtonReport("openaccount_phone"),t.data.otpButtonClass="register-yz-btn",T())}},t.changeOtp=function(){if(t.data.showInputOtpTips=!1,t.data.nextButtonClass="btn-c off",t.data.otpNum&&""!=t.data.otpNum){var a=i.isValidPhoneOtpInput(t.data.otpNum);"fail"==a?(t.data.showInputOtpTips=!0,t.data.inputOtpTipsContent="验证码不正确"):"finish"==a&&(i.clickButtonReport("openaccount_code"),T())}};var T=function(){i.isValidName(t.data.name)&&i.isValidIDCardNumber(t.data.IDCard)&&i.isValidPhoneNumber(t.data.phone)&&i.isValidPhoneOtpNumber(t.data.otpNum)&&(t.data.nextButtonClass="btn-c")};t.onClickOtp=function(){if("register-yz-btn off"!=t.data.otpButtonClass&&(i.clickButtonReport("openaccount_getcode"),i.isValidPhoneNumber(t.data.phone))){s.readSMSVerifyCode().then(function(a){t.data.otpNum=a.smsCode,T()});var a={};a.phone_no=t.data.phone,a.usage_id=o.OPT_TYPE.OPEN_ACCOUNT,t.data.otpButtonClass="register-yz-btn off",u.requestRegisterOTP(a).then(function(){t.data.otpButtonClass="register-yz-btn",t.data.showTimeoutButton=!1,t.data.timeout=60,document.addEventListener("pause",g,!1),document.addEventListener("resume",w,!1),C()},function(a){t.data.otpButtonClass="register-yz-btn",i.makeToast(a.ret_msg,"short")})}},t.onClickRegister=function(){if("btn-c off"!=t.data.nextButtonClass){if(i.clickButtonReport("openaccount_register"),!t.data.isAgreed)return void i.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short");var a={};a.personal_name=t.data.name,a.personal_identify_no=t.data.IDCard,a.personal_identify_type="01",a.phone_no=t.data.phone,a.phone_check_num=t.data.otpNum,t.data.nextButtonClass="btn-c off",t.data.timeout=0,t.data.showLoading=!0,u.requestRegisterPreCheck(a).then(function(a){t.data.nextButtonClass="btn-c",t.data.showLoading=!1,t.data.otpSession=encodeURIComponent(a.ret_data.otp_sec_id);var o={};o.personal_name=t.data.name,o.personal_identify_no=t.data.IDCard,o.personal_identify_type="01",o.phone_no=t.data.phone,o.phone_check_num=t.data.otpNum,o.otpSession=t.data.otpSession,o.ecif=a.ret_data.ecif_no,void 0==a.ret_data.acct_type?a.ret_data.had_reg?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已开户，验证交易密码即可绑定登录的账号",t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="绑定账号",t.data.outValue.popClose=function(a){1==a||(t.data.isPwdShow=!0)}):(h.saveRegisterSession1(t.data),h.saveUserPara(o),e.path("/register2")):"1"==a.ret_data.acct_type?(h.saveRegisterSession1(t.data),h.saveUserPara(o),e.path("/register3")):"0"==a.ret_data.acct_type?(h.saveRegisterSession1(t.data),h.saveUserPara(o),e.path("/register2")):(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已开户，验证交易密码即可绑定登录的账号",t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="绑定账号",t.data.outValue.popClose=function(a){1==a||(t.data.isPwdShow=!0)})},function(a){t.data.nextButtonClass="btn-c",t.data.showLoading=!1,a.ret_data&&a.ret_data.otp_sec_id&&(t.data.otpSession=encodeURIComponent(a.ret_data.otp_sec_id)),a.ret_code==o.CGI_RET.CGI_REG_ALREADY_BIND_1?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已绑定了另一个QQ号，请用已绑定的账号登录",t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="重新登录",t.data.outValue.popClose=function(t){1==t||(h.clearRegister(),l.setCallbackPage("home","register1"),e.path("/login"))}):a.ret_code==o.CGI_RET.CGI_REG_ALREADY_BIND_3?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已绑定了另一个微信号，请用已绑定的账号登录",t.data.outValue.twoButtonText1="取消",t.data.outValue.twoButtonText2="重新登录",t.data.outValue.popClose=function(t){1==t||(h.clearRegister(),l.setCallbackPage("home","register1"),e.path("/login"))}):a.ret_code==o.CGI_RET.CGI_REG_ALREADY_BIND_2?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已绑定了一个微信号，请用该微信号登录，或者验证交易密码后绑定当前登录的QQ号",t.data.outValue.twoButtonText1="重新登录",t.data.outValue.twoButtonText2="更换绑定",t.data.outValue.popClose=function(a){1==a?(h.clearRegister(),l.setCallbackPage("home","register1"),e.path("/login")):2==a&&(t.data.isPwdShow=!0)}):a.ret_code==o.CGI_RET.CGI_REG_ALREADY_BIND_4?(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="该身份证已绑定了一个QQ号，请用该QQ号登录，或者验证交易密码后绑定当前登录的微信号",t.data.outValue.twoButtonText1="重新登录",t.data.outValue.twoButtonText2="更换绑定",t.data.outValue.popClose=function(a){1==a?(h.clearRegister(),l.setCallbackPage("home","register1"),e.path("/login")):2==a&&(t.data.isPwdShow=!0)}):i.makeToast(a.ret_msg,"short")})}},t.$watch("data.sigOnPwdCommit",function(a,e){a!==e&&(t.data.isPwdShow=!1,V())});var V=function(){var a={};a.user_pwd=t.vm.formData.confirmPassword.RSA,a.personal_name=t.data.name,a.personal_identify_no=t.data.IDCard,a.personal_identify_type="01",a.phone_no=t.data.phone,a.phone_check_num=t.data.otpNum,a.otp_sec_id=t.data.otpSession,t.data.showLoading=!0,u.requestbindOpenID(a).then(function(){t.data.showLoading=!1,t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft="已绑定："+p.getUserInfo().username,t.data.outValue.oneButtonText="知道了",t.data.outValue.popClose=function(){t.data.showLoading=!0,s.exchangeWebankToken().then(function(){return p.setUserStatus(o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),l.getLoginBankData()},function(){return s.reject()}).then(function(){t.data.showLoading=!1,e.path("/"+h.getSucceedPage()),h.clearRegister()},function(){t.data.showLoading=!1,h.clearRegister(),e.path("/default")})}},function(a){t.data.showLoading=!1,c.isRetCodePwd(a.ret_code)?c.isRetCodePwdRetry(a.ret_code)&&(t.data.outValue={},t.data.outValue.showPop=!0,t.data.outValue.oneLineTextLeft=a.ret_msg,t.data.outValue.twoButtonText1="重试",t.data.outValue.twoButtonText2="取消",t.data.outValue.popClose=function(a){1==a&&(t.data.isPwdShow=!0)}):(i.makeToast(a.ret_msg),h.clearRegister(),e.path("/default"))})};t.back=function(){m.nextDirection("back"),e.path("/"+h.getBackPage()),h.clearRegister()},t.agreementCallback=function(){h.saveRegisterSession1(t.data)},void 0==h.resumeRegisterSession1()?f():t.data=h.resumeRegisterSession1()}]);app.controller("RegisterController2",["$scope","$timeout","$location","GLOBAL_CONSTANT","$RSA","homeService","utils","cgiService","essential","$stateParams","cache","webankCommonService","LoginService","RegisterService",function(a,t,o,d,r,e,s,i,n,w,c,p,m,P){a.data={};var f=function(){a.data.step=1,a.data.para=P.getUserPara(),a.data.isPwdShow=!1,a.data.isPwdKeyboardShow=!1,a.data.sigOnPwdCommit=0,a.data.isFactorNeeded=!1,t(function(){a.data.isPwdKeyboardShow=!0},200)};a.$watch("data.sigOnPwdCommit",function(d,e){if(d!==e)if(1==a.data.step){if(s.clickButtonReport("openaccount_setpwd"),!s.isPasswordStrongEnough(a.vm.formData.confirmPassword.MD5)||s.isPasswordWithUserBirthday(a.vm.formData.confirmPassword.MD5,a.data.para.personal_identify_no)||s.isPasswordWithUserPhone(a.vm.formData.confirmPassword.MD5,a.data.para.phone_no))return s.makeToast(STRING_TABLE.PASSWORD_TOO_WEAK,"short"),a.data.isPwdKeyboardShow=!1,void t(function(){a.data.isPwdKeyboardShow=!0},200);a.data.pwdStep1=a.vm.formData.confirmPassword.MD5,a.data.isPwdKeyboardShow=!1,a.data.step=2,t(function(){a.data.isPwdKeyboardShow=!0},200)}else 2==a.data.step&&(s.clickButtonReport("openaccount_setpwd2"),a.data.pwdStep1!==a.vm.formData.confirmPassword.MD5?(s.makeToast("两次输入不一致","short"),a.data.isPwdKeyboardShow=!1,a.data.step=1,t(function(){a.data.isPwdKeyboardShow=!0},200)):(a.data.password=r.encrypt(a.vm.formData.confirmPassword.originPwd+"11111111"),a.data.isPwdKeyboardShow=!1,a.data.para.password=a.data.password,P.saveUserPara(a.data.para),o.path("/registerAndBindCard")))}),a.back=function(){o.path("/register")},f()}]);app.controller("RegisterController3",["$scope","$timeout","$location","GLOBAL_CONSTANT","$RSA","homeService","utils","cgiService","essential","$stateParams","cache","webankCommonService","CheckFaceService","RegisterService",function(e,c,a,t,i,r,o,n,s,f,l,d,g,h){e.data={};var v=function(){g.setEcif(void 0),e.data.faceChecked=g.isFaceIdValid()?!0:!1};e.onClickNext=function(){e.data.faceChecked?a.path("/register4"):(g.setEcif(h.getUserPara().ecif),g.goPage())},e.back=function(){a.path("/register")},v()}]);app.controller("RegisterController4",["$scope","$timeout","$location","GLOBAL_CONSTANT","$RSA","homeService","utils","cgiService","essential","$stateParams","cache","webankCommonService","CheckFaceService","RegisterService","$MD5",function(a,t,o,e,d,r,n,s,i,c,p,w,u,f,h){a.data={};var m=function(){a.data.step=1,a.data.para=f.getUserPara(),a.data.isPwdShow=!1,a.data.isPwdKeyboardShow=!1,a.data.sigOnPwdCommit=0,a.data.isFactorNeeded=!1,t(function(){a.data.pwdSubTitle="请输入旧的交易密码",a.data.isPwdShow=!0},200)};a.$watch("data.sigOnPwdCommit",function(o,e){if(o!==e)if(1==a.data.step){a.data.oldPassword=a.data.para.personal_identify_no.substr(-6,5),a.data.oldPassword+="X"==a.data.para.personal_identify_no.substr(-1,1)||"x"==a.data.para.personal_identify_no.substr(-1,1)?"0":a.data.para.personal_identify_no.substr(-1,1);var r=h(a.data.oldPassword);if(a.vm.formData.confirmPassword.MD5!=r)return a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.textHead="交易密码错误",a.data.outValue.hideClose=!0,a.data.outValue.oneButtonText="重试",void(a.data.outValue.popClose=function(t){1==t&&(a.data.isPwdShow=!0)});a.data.step=2,t(function(){a.data.isPwdKeyboardShow=!0},200)}else if(2==a.data.step){if(!n.isPasswordStrongEnough(a.vm.formData.confirmPassword.MD5)||n.isPasswordWithUserBirthday(a.vm.formData.confirmPassword.MD5,a.data.para.personal_identify_no)||n.isPasswordWithUserPhone(a.vm.formData.confirmPassword.MD5,a.data.para.phone_no))return n.makeToast(STRING_TABLE.PASSWORD_TOO_WEAK,"short"),a.data.isPwdKeyboardShow=!1,void t(function(){a.data.isPwdKeyboardShow=!0},200);a.data.pwdStep2=a.vm.formData.confirmPassword.MD5,a.data.isPwdKeyboardShow=!1,a.data.step=3,t(function(){a.data.isPwdKeyboardShow=!0},200)}else 3==a.data.step&&(a.data.pwdStep2!==a.vm.formData.confirmPassword.MD5?(n.makeToast("两次输入不一致","short"),a.data.isPwdKeyboardShow=!1,a.data.step=2,t(function(){a.data.isPwdKeyboardShow=!0},200)):(a.data.para.password=d.encrypt(a.vm.formData.confirmPassword.originPwd+"11111111"),a.data.isPwdKeyboardShow=!1,_()))});var _=function(){var d={};d.personal_name=a.data.para.personal_name,d.personal_identify_no=a.data.para.personal_identify_no,d.personal_identify_type="01",d.phone_no=a.data.para.phone_no,d.phone_check_num=a.data.para.phone_check_num,d.otp_sec_id=a.data.para.otpSession,d.password=a.data.para.password,d.origin_password=a.data.oldPassword,d.face_id=u.getFaceId(),a.data.showLoading=!0,s.requestActiveAccount(d).then(function(){return i.exchangeWebankToken()},function(a){return n.makeToast(a.ret_msg,"short"),i.reject()}).then(function(){return p.setUserStatus(e.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT),LoginService.getLoginBankData()},function(){return i.reject()}).then(function(){a.data.showLoading=!1,o.path("/"+f.getSucceedPage()),f.clearRegister(),t(function(){n.makeToast("代发工资账户已可正常使用")},500)},function(){a.data.showLoading=!1,f.clearRegister(),o.path("/default")})};a.back=function(){o.path("/register3")},m()}]);app.controller("LoginController",["$scope","$location","$http","GLOBAL_CONSTANT","essential","envService","$timeout","utils","cache","$stateParams","cgiService","LoginService","RegisterService","HandPasswordService","localStorageService",function(e,t,n,o,a,i,r,u,c,s,g,l,d,T,h){e.data={};var f=function(){e.data.showLoading=!1,_(),m(),S(),O(),T.setCheckHandWhenLoginFlag(!0),e.data.isHideBack=!1,s.flag&&"noBack"==s.flag&&(e.data.isHideBack=!0)},_=function(){e.data.isWXInstalled=!0,a.isWXInstalled().then(function(t){"false"==t.isWXInstalled&&(e.data.isWXInstalled=!1)})},m=function(){isReviewVer&&(e.data.isInReview=!0)},S=function(){var e={};e.username="",e.picurl="../img/tx@2x.png",e.platform="",e.openid="",e.token="",c.setUserInfo(e)},p=function(){var e={};e.module_id="login",e.obj_id="",e.data_list=[];var t={};t.has_reg=c.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_LOGIN?"0":"1",e.data_list.push(t),g.requestReportError(e)},k=function(){e.data.showLoading=!0,a.exchangeWebankToken().then(function(e){return c.setUserStatus(4&parseInt(e.status)?o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT:o.ACCOUNT_STATE.USER_STATE_LOGIN),a.getToken()},function(){return e.data.showLoading=!1,a.reject()}).then(function(e){return c.setUserInfo(e),c.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?(h.set("isReg","true"),l.getLoginBankData()):a.resolve()},function(){return a.reject()}).then(function(){e.data.showLoading=!1,c.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_LOGIN?(g.requestReportUserWithoutReg(),"accountSettings"==l.getSucceedPage()?t.path("/"+l.getSucceedPage()):(d.setCallbackPage(l.getSucceedPage(),l.getBackPage()),t.path("/register")),l.setCallbackPage("","")):T.startHandPassword(l.getSucceedPage())},function(){u.goToErrorPage()}).then(function(){p()})};e.login_wx=function(){u.clickButtonReport("login_weixin"),a.loginWX().then(function(){k()},function(){u.makeToast("登录失败，请稍后重新尝试")})},e.login_qq=function(){u.clickButtonReport("login_qq"),a.loginQQ().then(function(){k()},function(){u.makeToast("登录失败，请稍后重新尝试")})},e.OtpButtonController="i-s",e.checkTimeoutInfo=!1,e.loginButtonController="login-w";var N=function(){e.OtpButtonController="i-s off",r(C,2e3)},C=function(){e.OtpButtonController="i-s"},A=function(){return e.checkNumTimeout-=1,e.checkNumTimeout<=0?(e.checkTimeoutInfo=!1,document.removeEventListener("pause",E,!1),void document.removeEventListener("resume",v,!1)):void r(function(){A()},1e3)},E=function(){var t=new Date;e.pausetime=t.getTime()},v=function(){var t=new Date;e.resumetime=t.getTime(),e.checkNumTimeout-=Math.round((e.resumetime-e.pausetime)/1e3),e.checkNumTimeout<0&&(e.checkNumTimeout=0)};e.getOtp=function(){if("i-s off"!=e.OtpButtonController){if(N(),!u.isValidPhoneNumber(e.data.phoneNumber))return void u.makeToast(STRING_TABLE.INVALID_PHONE_NO,"short");var t={};t.phone_no=e.data.phoneNumber;var o={headers:{Cookie:"dcnNo=KA0; userId=userId; webankToken=hjpl_getotp_unverifytoken"}},a=i.getEnvVariable().CGI_PREFIX+"user/register_phone_check_num";n.post(a,t,o).then(function(){e.checkTimeoutInfo=!0,e.checkTimeoutButton=!1,e.checkNumTimeout=60,document.addEventListener("pause",E,!1),document.addEventListener("resume",v,!1),A()},function(){u.makeToast(err.ret_msg,"short")})}};var I=function(){e.loginButtonController="login-w off",r(U,2e3)},U=function(){e.loginButtonController="login-w"};e.login_phone=function(){if("login-w off"!=e.loginButtonController){if(I(),!u.isValidPhoneNumber(e.data.phoneNumber))return void u.makeToast(STRING_TABLE.INVALID_PHONE_NO,"short");if(!u.isValidPhoneOtpNumber(e.data.otpNumber))return void u.makeToast(STRING_TABLE.INVALID_OTP,"short");var r={};r.phone_no=e.data.phoneNumber,r.phone_check_num=e.data.otpNumber;var s={headers:{Cookie:"dcnNo=1A0; userId=userId; webankToken=webankToken"}},g=i.getEnvVariable().CGI_PREFIX+"app/login/phone_login";n.post(g,r,s).then(function(t){c.setUserStatus(t.data.ret_data.account_status&&4==t.data.ret_data.account_status?o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT:o.ACCOUNT_STATE.USER_STATE_LOGIN);var n={};n.openid=e.data.phoneNumber,n.token=e.data.phoneNumber,n.picUrl="../img/tx@2x.png";var i=e.data.phoneNumber+"";if(i&&i.length>7){var r=i.substring(7);n.userName="手机用户"+r}return a.setPhoneLoginInfo(n)},function(e){return u.makeToast(e.data.ret_msg),a.reject()}).then(function(){return a.getToken()},function(){return a.reject()}).then(function(t){return c.setUserInfo(t),e.data.showLoading=!0,c.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT?l.getLoginBankData():a.resolve()},function(){return a.reject()}).then(function(){e.data.showLoading=!1,c.getUserStatus()==o.ACCOUNT_STATE.USER_STATE_LOGIN?"accountSettings"==l.getSucceedPage()?t.path("/"+l.getSucceedPage()):(d.setCallbackPage(l.getSucceedPage(),l.getBackPage()),t.path("/register")):t.path("/"+l.getSucceedPage()),l.setCallbackPage("","")},function(){u.logMessage("[登陆流程]拉取数据失败")})}},e.back=function(){e.data.isHideBack||(t.path("/"+l.getBackPage()),l.setCallbackPage("home","default"))};var O=function(){l.getData()&&("qq"==l.getData().plat&&e.login_qq(),"weixin"==l.getData().plat&&e.login_wx(),l.setData(null))};f()}]);app.controller("BindNewCardController",["$scope","$timeout","$location","GLOBAL_CONSTANT","essential","utils","cgiService","$stateParams","cache","CheckFaceService","BindNewCardService","webankCommonService",function(t,e,n,o,a,r,u,i,s,d,c,m){if(t.step=1,t.data={},t.data.maskClass="p-mask hide",c.getBankCardNum()&&(t.data.bankCard=c.getBankCardNum()),c.getPhoneNum()&&(t.data.bindPhoneNumber=c.getPhoneNum()),m.getValidBandCardList().length>=5)t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="最多只能绑5张卡，不能再绑了",t.outValue.oneButtonText="知道了",t.outValue.popClose=function(t){1==t&&c.backPage()};else if(t.faceId=d.getFaceId(),!d.isFaceIdValid()){var p=s.getCacheInfo("personalInfo").bind_cards_list;p&&p.length&&p.length>=1&&(t.outValue={},t.outValue.showPop=!0,t.outValue.oneLineTextLeft="为了您的账户安全，需要您先通过人脸验证",t.outValue.twoButtonText1="取消",t.outValue.twoButtonText2="立即验证",t.outValue.popClose=function(t){2==t?d.goPage():(1==t||0==t)&&c.backPage()})}t.isAgreed=!0;var h=s.getCacheInfo("personalInfo");h&&(t.data.userName=h.name),t.step2ButtonController="btn-c off",t.showBankIcon=!1,t.changeBankCard=function(){if(t.step2ButtonController="btn-c off",t.data.bankCard.length<6&&(t.showInputBankCardTips=!1,t.showBankIcon=!1),t.data.bankCard&&""!=t.data.bankCard){if(!r.isNumber(t.data.bankCard))return t.showInputBankCardTips=!0,void(t.inputBankCardTipsContent=STRING_TABLE.INCORRECT_BANK_CARD_NO);t.data.bankCard.length>=6&&l(),6==t.data.bankCard.length&&u.requestBankInfo(t.data.bankCard).then(function(e){return 10!=e.ret_data.card_typeid?(t.showInputBankCardTips=!0,t.inputBankCardTipsContent="暂不支持信用卡",void(t.step2ButtonController="btn-c off")):(t.cardTypeId=e.ret_data.card_typeid,t.cardType=e.ret_data.card_type,t.bankName=e.ret_data.bank_name,t.bankImg="../img/bankHead/yh-"+(e.ret_data.clear_no_pbc||0)+"@2x.png",void(t.showBankIcon=!0))},function(e){return e.ret_code==o.CGI_RET.CGI_UNUSED_CARD||e.ret_code==o.CGI_RET.CGI_UNUSED_CARD_2?(t.showInputBankCardTips=!0,t.inputBankCardTipsContent="暂不支持该银行",void(t.step2ButtonController="btn-c off")):void 0})}},t.blurBankCard=function(){c.setBankCardNum(t.data.bankCard)},t.changePhone=function(){if(t.showInputPhoneTips=!1,t.step2ButtonController="btn-c off",t.data.bindPhoneNumber&&""!=t.data.bindPhoneNumber){var e=r.isValidPhoneInput(t.data.bindPhoneNumber);"fail"==e?(t.showInputPhoneTips=!0,t.inputTelTipsContent="请使用真实电话，方便接收正确验证码"):"finish"==e&&l()}},t.blurPhone=function(){c.setPhoneNum(t.data.bindPhoneNumber)};var l=function(){r.isNumber(t.data.bankCard)&&r.isValidPhoneNumber(t.data.bindPhoneNumber)&&!t.showInputBankCardTips&&!t.showInputPhoneTips&&(t.step2ButtonController="btn-c")};t.onClickStep2=function(){if("btn-c off"!=t.step2ButtonController){if(!t.isAgreed)return void r.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL,"short");var e={};e.phone_no=t.data.bindPhoneNumber,e.usage_id=o.OPT_TYPE.BIND_CARD,t.step2ButtonController="btn-c off",u.requestRegisterOTP(e).then(function(){t.step2ButtonController="btn-c",t.checkTimeoutButton=!1,t.checkNumTimeout=60,document.addEventListener("pause",C,!1),document.addEventListener("resume",f,!1),k(),t.step=2},function(e){t.step2ButtonController="btn-c",r.makeToast(e.ret_msg,"short")}),a.readSMSVerifyCode().then(function(e){t.data.otpNum=e.smsCode,t.changeOtp()})}},t.checkTimeoutButton=!0,t.checkNumTimeout=60;var C=function(){var e=new Date;t.pausetime=e.getTime()},f=function(){var e=new Date;t.resumetime=e.getTime(),t.checkNumTimeout-=Math.round((t.resumetime-t.pausetime)/1e3),t.checkNumTimeout<0&&(t.checkNumTimeout=0)},k=function(){return t.checkNumTimeout-=1,t.checkNumTimeout<=0?(t.checkTimeoutButton=!0,document.removeEventListener("pause",C,!1),void document.removeEventListener("resume",f,!1)):void e(function(){k()},1e3)};t.OtpButtonController="register-yz-btn",t.onClickOtp=function(){var e={};e.phone_no=t.data.bindPhoneNumber,t.OtpButtonController="register-yz-btn off",u.requestRegisterOTP(e).then(function(){t.OtpButtonController="register-yz-btn",t.checkTimeoutButton=!1,t.checkNumTimeout=60,document.addEventListener("pause",C,!1),document.addEventListener("resume",f,!1),k()},function(e){t.OtpButtonController="register-yz-btn",r.makeToast(e.ret_msg,"short")}),a.readSMSVerifyCode().then(function(e){t.data.otpNum=e.smsCode,t.changeOtp()})},t.step3ButtonController="btn-c off",t.data.otpNum="",t.changeOtp=function(){if(t.showInputOtpTips=!1,t.step3ButtonController="btn-c off",t.data.otpNum&&""!=t.data.otpNum){var e=r.isValidPhoneOtpInput(t.data.otpNum);"fail"==e?(t.showInputOtpTips=!0,t.inputOtpTipsContent="验证码不正确"):"finish"==e&&(t.step3ButtonController="btn-c")}},t.confirmBindBankCard=function(){if("btn-c off"!=t.step3ButtonController){if(!r.isValidPhoneNumber(t.data.bindPhoneNumber))return void r.makeToast(STRING_TABLE.INVALID_PHONE_NO,"short");if(!r.isNumber(t.data.bankCard))return void r.makeToast(STRING_TABLE.INVALID_CARD_NO,"short");if(!r.isValidPhoneOtpNumber(t.data.otpNum))return void r.makeToast(STRING_TABLE.INVALID_OTP,"short");t.step3ButtonController="btn-c off";var e={};e.other_name=t.data.userName,e.other_card_no=t.data.bankCard,e.other_phone_no=t.data.bindPhoneNumber,e.other_phone_check_num=t.data.otpNum,e.face_id=t.faceId,c.setBankCardNum(""),c.setPhoneNum(""),u.requestBindCard(e).then(function(){return t.step3ButtonController="btn-c",u.requestPersonalInfo()},function(e){return t.step3ButtonController="btn-c",r.makeToast(e.ret_msg,"short"),a.reject()}).then(function(){r.makeToast("添加银行卡成功","short"),c.backPage()})}},t.onClickTips=function(){t.data.maskClass="p-mask show",t.data.maskTitle="绑卡说明",t.data.maskDetail="暂支持工行、农行、中行、建行、交行、中信、招行、广发、光大、平安、民生、兴业、华夏、浦发、邮储、上海银行的储蓄卡。暂不支持信用卡。"},t.onClickCancelMask=function(){t.data.maskClass="p-mask hide"},t.back=function(){2==t.step?(t.step=1,l()):(c.setBankCardNum(""),c.setPhoneNum(""),c.backPage())}}]);app.controller("CommunityHomeController",["$scope","$timeout","envService","essential","$sce","$location","$document","$http","utils","cache","GLOBAL_CONSTANT","LoginService","messageService","$interval","$ionicScrollDelegate",function(t,o,e,i,a,n,l,c,r,s,p,m,u,d,f){function h(o){var i=o.indexOf("JSON_BEGIN")+10,n=o.indexOf("JSON_END"),l=JSON.parse(o.substring(i,n));t.topicData=l,t.topicData.imgUrl=e.getEnvVariable().BBS_URL_PREFIX+"/"+l.imgUrl;var r=e.getEnvVariable().BBS_URL_PREFIX+"/source/plugin/mobile/mobile.php?module=viewthread&version=4&ordertype=1&page=1&tid="+l.tid;c.get(a.trustAsResourceUrl(r)).success(function(o){var i=o.Variables.postlist,a=0;t.topicData.allCommentList=new Array(i.length-1);for(var n in i)if(1!=i[n].first){var l={};l.avatarUrl=e.getEnvVariable().BBS_URL_PREFIX+"/uc_server/avatar.php?uid="+i[n].authorid+"&size=small",l.userName=i[n].author,l.position=i[n].position+"楼",l.time=i[n].dateline,l.context=i[n].message,l.likeCount=i[n].supportnum,l.mylike=0==i[n].supported?!1:!0,l.verifiedUid=i[n].verified,l.pid=i[n].pid,t.topicData.allCommentList[a++]=l}s.setTopicDataInfo(t.topicData),T.resize()})}function C(){var o=e.getEnvVariable().BBS_URL_PREFIX;s.getUserStatus()>=p.ACCOUNT_STATE.USER_STATE_LOGIN?i.getToken().then(function(e){o+="qq"==e.platform?"/qqlogin.php?mod=login&op=callback&isapi=1&openid=":"/wechatlogin.php?mod=login&op=callback&isapi=1&openid=",o+=e.openid,o+="&accesstoken=",o+=e.token,t.url=o,c.get(a.trustAsResourceUrl(o)).success(function(o){h(o),t.showMain=!0,t.$broadcast("scroll.refreshComplete")})}):(o+="/forum.php",t.url=o,c.get(a.trustAsResourceUrl(o)).success(function(o){h(o),t.showMain=!0,t.$broadcast("scroll.refreshComplete")}))}t.status=s.getUserStatus(),t.showMain=!1,t.topicData={},t.topicData.imgUrl="",t.topicData.articleTitle="",t.topicData.articleContext="",t.topicData.commentCount=0,t.topicData.hotCommentList=new Array(1),t.topicData.allCommentList=new Array(1);var g={};g.avatarUrl=" ",g.userName=" ",g.floor=" ",g.time=" ",g.context=" ",g.likeCount=0,t.topicData.hotCommentList[0]=g,t.topicData.allCommentList[0]=g,t.data={},t.trustSrc=function(t){return a.trustAsResourceUrl(t)};var v=function(){r.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),o(function(){n.path("/login").replace()},1e3)},T=f.$getByHandle("mainScroll");t.outValue={showPop:!1,oneLineTextDefault:STRING_TABLE.BEGIN_TO_LOGIN,oneButtonText:STRING_TABLE.GO,textHead:"提示",popClose:function(t){1==t&&(m.setCallbackPage("community","community"),n.path("/login"))}},t.initPage=function(){o(function(){t.showMain||r.goToErrorPage()},5e3),C()};var S=s.getTopicDataInfo();null==S?t.initPage():(t.showMain=!0,t.topicData=S,o(function(){T.resize()},500)),t.showSendBox=!1,t.nmFlag=!1,t.onClickMore=function(){r.clickButtonReport("community_more");var o={};o.fid=t.topicData.fid,n.path("community-forumdisplay").search(o)},t.onClickViewThread=function(){r.clickButtonReport("community_view");var o={};o.fid=t.topicData.fid,o.tid=t.topicData.tid,n.path("community-viewthread").search(o)},t.onClickLike=function(o,i){if(r.clickButtonReport("community_like"),s.getUserStatus()<p.ACCOUNT_STATE.USER_STATE_LOGIN)return void v();var n=e.getEnvVariable().BBS_URL_PREFIX+"/plugin.php?id=wq_topic&mod=postreview&tid="+t.topicData.tid+"&pid="+o+"&hash="+i+"&handlekey=zanbtn&inajax=1&loc=1";c.post(a.trustAsResourceUrl(n),"{}").success(function(e){for(var i in t.topicData.allCommentList)t.topicData.allCommentList[i].pid==o&&(t.topicData.allCommentList[i].mylike=t.topicData.allCommentList[i].mylike?!1:!0,1==t.topicData.allCommentList[i].mylike?t.topicData.allCommentList[i].likeCount++:t.topicData.allCommentList[i].likeCount--);for(var i in t.topicData.hotCommentList)t.topicData.hotCommentList[i].pid==o&&(t.topicData.hotCommentList[i].mylike=t.topicData.hotCommentList[i].mylike?!1:!0,1==t.topicData.hotCommentList[i].mylike?t.topicData.hotCommentList[i].likeCount++:t.topicData.hotCommentList[i].likeCount--);s.setTopicDataInfo(t.topicData)})},t.onClickReply=function(){if(r.clickButtonReport("community_submit"),s.getUserStatus()<p.ACCOUNT_STATE.USER_STATE_LOGIN)return void v();if(t.data.commentReply.length<5)return void r.makeToast("请至少输入5个字");t.showSendBox=!1;var o=e.getEnvVariable().BBS_URL_PREFIX+"/forum.php?mod=post&action=reply&fid="+t.topicData.fid+"&tid="+t.topicData.tid+"&extra=&replysubmit=yes",i=1==t.nmFlag?1:0;c({method:"POST",url:a.trustAsResourceUrl(o),data:$.param({formhash:t.topicData.formHash,isanonymous:i,message:t.data.commentReply,replysubmit:"发送"}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){t.data.commentReply="";try{h(o)}catch(e){r.makeToast("是不是说了什么不该说的？")}s.setTopicDataInfo(t.topicData)})},t.onClickAssetTab=function(){t.status==p.ACCOUNT_STATE.USER_STATE_GUEST||t.status==p.ACCOUNT_STATE.USER_STATE_LOGIN?n.path("/default").replace():n.path("/home").replace()},t.onClickTransferTab=function(){r.clickButtonReport("index_transfer"),n.path("/transHome")},t.onClickFinancialTab=function(){n.path("/financialRecommend").replace()};var D=function(){u.getRedPoint().then(function(o){t.classRedPoint=o?"title-avatar msg":"title-avatar"},function(){})},_=null;D(),_=d(function(){D()},1e5),t.$on("$destroy",function(){d.cancel(_),_=null}),t.onClickSettingsBtn=function(){u.clickRedPoint(),n.path("/accountSettings/community").replace()};var L=2;t.loadMoreData=function(){if(null!=t.topicData.allCommentList&&t.topicData.allCommentList.length>0)if(g=t.topicData.allCommentList[t.topicData.allCommentList.length-1],null!=g)if("1楼"!=g.position){var i=e.getEnvVariable().BBS_URL_PREFIX+"/source/plugin/mobile/mobile.php?module=viewthread&version=4&ordertype=1&page="+L+"&tid="+t.topicData.tid,n=null;n&&(o.cancel(n),n=null),n=o(function(){t.$broadcast("scroll.infiniteScrollComplete")},5e3),c.get(a.trustAsResourceUrl(i)).success(function(i){var a=i.Variables.postlist;for(var l in a)if(1!=a[l].first){var c={};c.avatarUrl=e.getEnvVariable().BBS_URL_PREFIX+"/uc_server/avatar.php?uid="+a[l].authorid+"&size=small",c.userName=a[l].author,c.position=a[l].position+"楼",c.time=a[l].dateline,c.context=a[l].message,c.likeCount=a[l].supportnum,c.mylike=0==a[l].supported?!1:!0,c.verifiedUid=a[l].verified,c.pid=a[l].pid,t.topicData.allCommentList.push(c)}t.$broadcast("scroll.infiniteScrollComplete"),o(function(){T.resize()},100),n&&(o.cancel(n),n=null),L++}).error(function(){n&&(o.cancel(n),n=null),t.$broadcast("scroll.infiniteScrollComplete")})}else t.$broadcast("scroll.infiniteScrollComplete");else t.$broadcast("scroll.infiniteScrollComplete");else t.$broadcast("scroll.infiniteScrollComplete")},t.scrolling=function(t,o){t*=-1,o*=-1,t>=o-10&&loadMoreData()},t.onTouchEnd=function(o){o.y>45&&t.initPage()},t.back=function(){n.path("/home")},t.restoreWindowScroll=function(){window.pageYOffset&&0!=window.pageYOffset&&window.scrollTo(0,0)},t.onClickPane=function(){t.nmFlag=!t.nmFlag},t.onClickWantReply=function(){var e=0,i=function(){8!=e&&(e+=1,t.showSendBox=!0,o(i,100))};i()}}]);app.controller("CommunityForumDisplayController",["$scope","$timeout","$window","envService","essential","$sce","$location","$document","$http","utils","cache","GLOBAL_CONSTANT",function(a,o,t,n,i,e,r,c,s,u,l,f){function m(o){var o=o.replace(/&nbsp;/g," "),t=o.indexOf("JSON_BEGIN")+10,i=o.indexOf("JSON_END"),e=JSON.parse(o.substring(t,i));a.forumData=e;for(k in a.forumData.forumlist)a.forumData.forumlist[k].backgroundImage=n.getEnvVariable().BBS_URL_PREFIX+"/"+a.forumData.forumlist[k].backgroundImage}a.showMain=!0,a.showLoading=!0,a.listData={};var d=r.search();a.back=function(){t.history.back()},o(function(){1==a.showLoading&&(u.goToErrorPage(),a.showLoading=!1)},5e3);var p=n.getEnvVariable().BBS_URL_PREFIX;p+="/forum.php?mod=forumdisplay&fid="+d.fid+"&mobile=2",s.get(e.trustAsResourceUrl(p)).success(function(o){m(o),a.showLoading=!1}),a.onClickViewThread=function(a,o){var t={fid:a,tid:o};r.path("community-viewthread").search(t)},a.onClickAssetTab=function(){a.status==f.ACCOUNT_STATE.USER_STATE_GUEST||a.status==f.ACCOUNT_STATE.USER_STATE_LOGIN?r.path("/default").replace():r.path("/home").replace()},a.onClickFinancialTab=function(){r.path("/financialRecommend").replace()},a.onClickSettingsBtn=function(){r.path("/accountSettings").replace()}}]);app.controller("CommunityViewThreadController",["$scope","$timeout","envService","essential","$sce","$location","$document","$window","$http","utils","cache","GLOBAL_CONSTANT","LoginService","$ionicScrollDelegate",function(t,e,a,i,o,n,r,l,s,c,m,p,u,d){function h(e){var i=e.indexOf("JSON_BEGIN")+10,n=e.indexOf("JSON_END"),r=JSON.parse(e.substring(i,n));t.topicData=r,t.topicData.backgroundImage=a.getEnvVariable().BBS_URL_PREFIX+"/"+r.backgroundImage;var l=a.getEnvVariable().BBS_URL_PREFIX+"/source/plugin/mobile/mobile.php?module=viewthread&version=4&ordertype=1&page=1&tid="+g.tid;s.get(o.trustAsResourceUrl(l)).success(function(e){var i=e.Variables.postlist,o=0;t.topicData.allCommentList=new Array(i.length-1);for(var n in i)if(1!=i[n].first){var r={};r.avatarUrl=a.getEnvVariable().BBS_URL_PREFIX+"/uc_server/avatar.php?uid="+i[n].authorid+"&size=small",r.userName=i[n].author,r.position=i[n].position+"楼",r.time=i[n].dateline,r.context=i[n].message,r.likeCount=i[n].supportnum,r.mylike=0==i[n].supported?!1:!0,r.verifiedUid=i[n].verified,t.topicData.allCommentList[o++]=r,r.pid=i[n].pid}f.resize(),t.$broadcast("scroll.refreshComplete")})}t.showMain=!0,t.showLoading=!0,t.topicData={},t.topicData.backgroundImage="",t.topicData.articleTitle="",t.topicData.articleContext="",t.topicData.commentCount=0,t.topicData.hotCommentList=new Array(1),t.topicData.allCommentList=new Array(1);var C={};C.avatarUrl=" ",C.userName=" ",C.floor=" ",C.time=" ",C.context=" ",C.likeCount=0,t.topicData.hotCommentList[0]=C,t.topicData.allCommentList[0]=C;var f=d.$getByHandle("mainScroll");t.data={},t.back=function(){l.history.back()},t.trustSrc=function(t){return o.trustAsResourceUrl(t)},t.outValue={showPop:!1,oneLineTextDefault:STRING_TABLE.BEGIN_TO_LOGIN,oneButtonText:STRING_TABLE.GO,textHead:"提示",popClose:function(t){1==t&&(u.setCallbackPage("community","community－viewthread"),n.path("/login"))}},e(function(){1==t.showLoading&&(onError(),c.goToErrorPage(),t.showLoading=!1)},5e3);var g=n.search(),v=a.getEnvVariable().BBS_URL_PREFIX;v+="/forum.php?mod=viewthread&tid="+g.tid,t.url=v,s.get(o.trustAsResourceUrl(v)).success(function(e){h(e),t.showLoading=!1}),t.showSendBox=!1,t.nmFlag=!1,t.onClickMore=function(){var t={};t.fid=g.fid,n.path("community-forumdisplay").search(t)},t.onClickLike=function(e,i){if(m.getUserStatus()<p.ACCOUNT_STATE.USER_STATE_LOGIN)return u.setCallbackPage("community","community-viewthread"),void n.path("/login");var r=a.getEnvVariable().BBS_URL_PREFIX+"/plugin.php?id=wq_topic&mod=postreview&tid="+g.tid+"&pid="+e+"&hash="+i+"&handlekey=zanbtn&inajax=1&loc=1";s.post(o.trustAsResourceUrl(r),"{}").success(function(a){for(var i in t.topicData.allCommentList)t.topicData.allCommentList[i].pid==e&&(t.topicData.allCommentList[i].mylike=t.topicData.allCommentList[i].mylike?!1:!0,1==t.topicData.allCommentList[i].mylike?t.topicData.allCommentList[i].likeCount++:t.topicData.allCommentList[i].likeCount--);for(var i in t.topicData.hotCommentList)t.topicData.hotCommentList[i].pid==e&&(t.topicData.hotCommentList[i].mylike=t.topicData.hotCommentList[i].mylike?!1:!0,1==t.topicData.hotCommentList[i].mylike?t.topicData.hotCommentList[i].likeCount++:t.topicData.hotCommentList[i].likeCount--)})},t.onClickReply=function(){if(m.getUserStatus()<p.ACCOUNT_STATE.USER_STATE_LOGIN)return u.setCallbackPage("community","community-viewthread"),void n.path("/login");if(t.data.commentReply.length<5)return void c.makeToast("请至少输入5个字");t.showSendBox=!1;var e=a.getEnvVariable().BBS_URL_PREFIX+"/forum.php?mod=post&action=reply&fid="+g.fid+"&tid="+g.tid+"&extra=&replysubmit=yes",i=1==t.nmFlag?1:0;s({method:"POST",url:o.trustAsResourceUrl(e),data:$.param({formhash:t.topicData.formHash,isanonymous:i,message:t.data.commentReply,replysubmit:"发送"}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){h(t)})},t.onClickAssetTab=function(){n.path("/home").replace()},t.onClickFinancialTab=function(){n.path("/financialRecommend").replace()},t.onClickSettingsBtn=function(){n.path("/accountSettings").replace()},t.onClickEdit=function(){t.showSendBox=!0},t.onClickPane=function(){t.nmFlag=!t.nmFlag};var L=2;t.loadMoreData=function(){if(null!=t.topicData.allCommentList&&t.topicData.allCommentList.length>0&&(C=t.topicData.allCommentList[t.topicData.allCommentList.length-1],null!=C&&"1楼"!=C.position)){var e=a.getEnvVariable().BBS_URL_PREFIX+"/source/plugin/mobile/mobile.php?module=viewthread&version=4&ordertype=1&page="+L+"&tid="+t.topicData.tid;s.get(o.trustAsResourceUrl(e)).success(function(e){var i=e.Variables.postlist;for(var o in i)if(1!=i[o].first){var n={};n.avatarUrl=a.getEnvVariable().BBS_URL_PREFIX+"/uc_server/avatar.php?uid="+i[o].authorid+"&size=small",n.userName=i[o].author,n.position=i[o].position+"楼",n.time=i[o].dateline,n.context=i[o].message,n.likeCount=i[o].supportnum,n.mylike=0==i[o].supported?!1:!0,n.verifiedUid=i[o].verified,n.pid=i[o].pid,t.topicData.allCommentList.push(n)}f.resize(),t.$broadcast("scroll.refreshComplete"),L++})}}}]);app.config(["$httpProvider","$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,t,r,o){t.state("tabs",{url:"","abstract":!0,templateUrl:"templates/tabs.html"}).state("tabs.default",{url:"/",views:{home:{templateUrl:"default.html",controller:"DefaultPageController"}}}).state("tabs.financialRecommend",{url:"/financialRecommend",views:{home:{templateUrl:"financial/financial-recommend.html",controller:"FinancialRecommendController"}}}).state("tabs.transRecord",{url:"/transRecord",views:{home:{templateUrl:"common/trans-record.html",controller:"TransRecordController"}}}).state("tabs.login",{url:"/login",views:{home:{templateUrl:"register/login-we.html",controller:"LoginController"}}}).state("tabs.loginWithFlag",{url:"/login/:flag",views:{home:{templateUrl:"register/login-we.html",controller:"LoginController"}}}).state("tabs.monetaryProductIntro",{url:"/monetaryProductIntro/:prodCode",views:{home:{templateUrl:"financial/monetary-product-intro.html",controller:"MonetaryProductIntroductionController"}}}).state("tabs.register",{url:"/register",views:{home:{templateUrl:"register/register1.html",controller:"RegisterController1"}}}).state("tabs.register2",{url:"/register2",views:{home:{templateUrl:"register/register2.html",controller:"RegisterController2"}}}).state("tabs.register3",{url:"/register3",views:{home:{templateUrl:"register/register3.html",controller:"RegisterController3"}}}).state("tabs.register4",{url:"/register4",views:{home:{templateUrl:"register/register4.html",controller:"RegisterController4"}}}).state("tabs.bindNewCard",{url:"/bindNewCard",views:{home:{templateUrl:"register/bind-new-card.html",controller:"BindNewCardController"}}}).state("tabs.registerAndBindCard",{url:"/registerAndBindCard",views:{home:{templateUrl:"register/register-bind-card1.html",controller:"RegisterBindCardController1"}}}).state("tabs.registerAndBindCard2",{url:"/registerAndBindCard2",views:{home:{templateUrl:"register/register-bind-card2.html",controller:"RegisterBindCardController2"}}}).state("tabs.registerAndBindCard3",{url:"/registerAndBindCard3",views:{home:{templateUrl:"register/register-bind-card3.html",controller:"RegisterBindCardController3"}}}).state("tabs.defaultPage",{url:"/default",views:{home:{templateUrl:"default.html",controller:"DefaultPageController"}}}).state("tabs.defaultPageWithFrom",{url:"/default/:from",views:{home:{templateUrl:"default.html",controller:"DefaultPageController"}}}).state("tabs.welcome2",{url:"/welcome2",views:{home:{templateUrl:"welcome_v2.html",controller:"WelcomeControllerV2"}}}).state("tabs.checkFace",{url:"/checkFace",views:{home:{templateUrl:"common/face-a.html",controller:"CheckFaceController"}}}).state("tabs.checkFaceWithEcif",{url:"/checkFace/:ecif",views:{home:{templateUrl:"common/face-a.html",controller:"CheckFaceController"}}}).state("tabs.checkFaceFailed",{url:"/checkFaceFailed",views:{home:{templateUrl:"common/face-b.html",controller:"CheckFaceController"}}}).state("tabs.managePassword",{url:"/managePassword",views:{home:{templateUrl:"common/setting-manage-password.html",controller:"ManagePasswordController"}}}).state("tabs.checkPhone",{url:"/checkPhone",views:{home:{templateUrl:"common/check-phone.html",controller:"CheckPhoneController"}}}).state("tabs.bindInfo",{url:"/bindInfo",views:{home:{templateUrl:"common/setting-bind-info.html",controller:"BindInfoController"}}}).state("tabs.accountSettingsWithCallback",{url:"/accountSettings/:originPage",views:{home:{templateUrl:"common/setting-home.html",controller:"AccountSettingsController"}}}).state("tabs.accountSettings",{url:"/accountSettings",views:{home:{templateUrl:"common/setting-home.html",controller:"AccountSettingsController"}}}).state("tabs.home",{url:"/home",views:{home:{templateUrl:"asset/home.html",controller:"HomeController"}}}).state("tabs.homeNeedRefresh",{url:"/home/:needRefresh",views:{home:{templateUrl:"asset/home.html",controller:"HomeController"}}}).state("tabs.transferPlanResult",{url:"/transferPlanResult",views:{home:{templateUrl:"common/plan-result.html",controller:"TransPlanResultController"}}}).state("tabs.myFinancialForTab",{url:"/myFinancial/:tab",views:{home:{templateUrl:"financial/my-financial.html",controller:"MyFinancialProductsController"}}}).state("tabs.myFinancial",{url:"/myFinancial",views:{home:{templateUrl:"financial/my-financial.html",controller:"MyFinancialProductsController"}}}).state("tabs.combinedFinancial0",{url:"/combinedFinancial0",views:{home:{templateUrl:"combined/combined-financial-step-0.html",controller:"CombinedFinancialController0"}}}).state("tabs.combinedFinancial1",{url:"/combinedFinancial1",views:{home:{templateUrl:"combined/combined-financial-step-1.html",controller:"CombinedFinancialController1"}}}).state("tabs.combinedFinancial2",{url:"/combinedFinancial2",views:{home:{templateUrl:"combined/combined-financial-step-2.html",controller:"CombinedFinancialController2"}}}).state("tabs.combinedFinancial2Amount",{url:"/combinedFinancial2/:amount",views:{home:{templateUrl:"combined/combined-financial-step-2.html",controller:"CombinedFinancialController2"}}}).state("tabs.combinedFinancial3",{url:"/combinedFinancial3",views:{home:{templateUrl:"combined/combined-financial-step-3.html",controller:"CombinedFinancialController3"}}}).state("tabs.combinedFinancial3Amount",{url:"/combinedFinancial3/:amount",views:{home:{templateUrl:"combined/combined-financial-step-3.html",controller:"CombinedFinancialController3"}}}).state("tabs.combinedPurchaseResult",{url:"/combinedPurchaseResult",views:{home:{templateUrl:"combined/combined-purchase-result.html",controller:"CombinedPurchaseResultController"}}}).state("tabs.insuranceMyProdDetailProdCode",{url:"/insuranceMyProdDetail/:prodCode",views:{home:{templateUrl:"financial/insurance/insurance-my-product-details.html",controller:"InsuranceMyProductDetailsController"}}}).state("tabs.insurancePurchaseProdCode",{url:"/insurancePurchase/:prodCode",views:{home:{templateUrl:"financial/insurance/insurance-purchase.html",controller:"InsurancePurchaseController"}}}).state("tabs.insurancePurchaseResultResultIdResultMsg",{url:"/insurancePurchaseResult/:resultId/:resultMsg",views:{home:{templateUrl:"financial/insurance/insurance-purchase-result.html",controller:"InsurancePurchaseResultController"}}}).state("tabs.insuranceProductDetailsOnSaleCode",{url:"/insuranceProductDetails/:onSaleCode",views:{home:{templateUrl:"financial/insurance/insurance-product-details.html",controller:"InsuranceProductDetailsController"}}}).state("tabs.insuranceProductDetailsOnSaleCodeHideButton",{url:"/insuranceProductDetails/:onSaleCode/:isHideButton",views:{home:{templateUrl:"financial/insurance/insurance-product-details.html",controller:"InsuranceProductDetailsController"}}}).state("tabs.insuranceProductIntroductionOnSaleCode",{url:"/insuranceProductIntroduction/:onSaleCode",views:{home:{templateUrl:"financial/insurance/insurance-product-introduction.html",controller:"InsuranceProductIntroductionController"}}}).state("tabs.stockProductDetailOnSaleCode",{url:"/stockProductDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-product-detail.html",controller:"StockProductDetailController"}}}).state("tabs.stockProductDetailOnSaleCodeHideButton",{url:"/stockProductDetail/:onSaleCode/:isHideButton",views:{home:{templateUrl:"financial/stock/stock-product-detail.html",controller:"StockProductDetailController"}}}).state("tabs.stockMyProductDetailOnSaleCode",{url:"/stockMyProductDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-my-product-detail.html",controller:"StockMyProductDetailController"}}}).state("tabs.stockPurchaseOnSaleCode",{url:"/stockPurchase/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-purchase.html",controller:"StockPurchaseController"}}}).state("tabs.stockPurchaseResult",{url:"/stockPurchaseResult",views:{home:{templateUrl:"financial/stock/stock-purchase-result.html",controller:"StockPurchaseResultController"}}}).state("tabs.stockRedeemOnSaleCode",{url:"/stockRedeem/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-redeem.html",controller:"StockRedeemController"}}}).state("tabs.stockRedeemResult",{url:"/stockRedeemResult",views:{home:{templateUrl:"financial/stock/stock-redeem-result.html",controller:"StockRedeemResultController"}}}).state("tabs.stockCleanValueHistoryOnSaleCodeHistoryList",{url:"/stockCleanValueHistory/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-history-clean-value.html",controller:"StockHistoryCleanValueController"}}}).state("tabs.stockTransRates",{url:"/stockTransRates/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-trans-rates.html",controller:"StockTransRatesController"}}}).state("tabs.stockTransRules",{url:"/stockTransRules/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-trans-rules.html",controller:"StockTransRulesController"}}}).state("tabs.stockProdManager",{url:"/stockProdManager/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-prod-manager.html",controller:"StockProdManagerController"}}}).state("tabs.stockMoreDetail",{url:"/stockMoreDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-more-detail.html",controller:"StockMoreDetailController"}}}).state("tabs.stockAssetDetail",{url:"/stockAssetDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-asset-detail.html",controller:"StockAssetDetailController"}}}).state("tabs.stockConfirmPurchaseDetail",{url:"/stockConfirmPurchaseDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-confirm-purchase-detail.html",controller:"StockConfirmPurchaseDetailController"}}}).state("tabs.stockConfirmRedeemDetail",{url:"/stockConfirmRedeemDetail/:onSaleCode",views:{home:{templateUrl:"financial/stock/stock-confirm-redeem-detail.html",controller:"StockConfirmRedeemDetailController"}}}).state("tabs.stockCancelResult",{url:"/stockCancelResult",views:{home:{templateUrl:"financial/stock/stock-cancel-result.html",controller:"StockCancelResultController"}}}).state("tabs.monetaryMyProdDetailProdCodeFromHome",{url:"/monetaryMyProdDetailFromHome/:prodCode",views:{home:{templateUrl:"financial/monetary-my-product-details.html",controller:"MonetaryMyProductDetailsController"}}}).state("tabs.monetaryMyProdDetailProdCode",{url:"/monetaryMyProdDetail/:prodCode",views:{home:{templateUrl:"financial/monetary-my-product-details.html",controller:"MonetaryMyProductDetailsController"}}}).state("tabs.monetaryPurchaseProdCode",{url:"/monetaryPurchase/:prodCode",views:{home:{templateUrl:"financial/monetary-purchase.html",controller:"MonetaryPurchaseController"}}}).state("tabs.monetaryRedeemProdCode",{url:"/monetaryRedeem/:prodCode",views:{home:{templateUrl:"financial/monetary-redeem.html",controller:"MonetaryRedeemController"}}}).state("tabs.monetaryPurchaseResult",{url:"/monetaryPurchaseResult",views:{home:{templateUrl:"financial/monetary-purchase-result.html",controller:"MonetaryPurchaseResultController"}}}).state("tabs.monetaryRedeemResult",{url:"/monetaryRedeemResult",views:{home:{templateUrl:"financial/monetary-redeem-result.html",controller:"MonetaryRedeemResultController"}}}).state("tabs.monetaryHistorySevenDaysIncomeRateProdCode",{url:"/monetaryHistorySevenDaysIncomeRate/:prodCode",views:{home:{templateUrl:"financial/monetary-history-seven-days-income-rate.html",controller:"MonetaryHistorySevenDaysIncomeRateController"}}}).state("tabs.monetaryHistoryIncomeTenThousandProdCode",{url:"/monetaryHistoryIncomeTenThousand/:prodCode",views:{home:{templateUrl:"financial/monetary-history-ten-thousand-income.html",controller:"MonetaryHistoryTenThousandController"}}}).state("tabs.monetaryMoreDetails",{url:"/monetaryMoreDetails",views:{home:{templateUrl:"financial/monetary-product-introduction.html",controller:"MonetaryMoreDetailsController"}}}).state("tabs.monetaryMoreIncomeRules",{url:"/monetaryMoreIncomeRules/:onSaleCode",views:{home:{templateUrl:"financial/monetary-income-rules.html",controller:"MonetaryIncomeRulesController"}}}).state("tabs.unbindOpenID",{url:"/unbindOpenID",views:{home:{templateUrl:"common/setting-unbind.html",controller:"UnbindOpenIDController"}}}).state("tabs.bindingCardMng",{url:"/bindingCardMng",views:{home:{templateUrl:"common/setting-binding-card.html",controller:"BindingCardMngController"}}}).state("tabs.viewCardInfo",{url:"/viewCardInfo",views:{home:{templateUrl:"common/setting-binding-card-detail.html",controller:"ViewCardInfoController"}}}).state("tabs.changePasswordOldPassword",{url:"/changePassword/:oldPassword",views:{home:{templateUrl:"common/setting-change-password.html",controller:"ChangePasswdController"}}}).state("tabs.resetPasswd",{url:"/resetPasswd",views:{home:{templateUrl:"common/setting-reset-password.html",controller:"ResetPasswdController"}}}).state("tabs.about",{url:"/about",views:{home:{templateUrl:"common/setting-about.html",controller:"AboutController"}}}).state("tabs.webankCard",{url:"/webankCard",views:{home:{templateUrl:"common/webank-card.html",controller:"WebankCardController"}}}).state("tabs.support",{url:"/support",views:{home:{templateUrl:"common/setting-support.html",controller:"AccountSettingsController"}}}).state("tabs.agreementDetailType",{url:"/agreementDetail/:type",views:{home:{templateUrl:"common/agreement.html",controller:"AgreementController"}}}).state("tabs.help",{url:"/help",views:{home:{templateUrl:"common/setting-help.html",controller:"HelpController"}}}).state("tabs.helpDetailIndex",{url:"/helpDetail/:index",views:{home:{templateUrl:"common/setting-help-detail.html",controller:"HelpController"}}}).state("tabs.riskAssessmentResult",{url:"/riskAssessmentResult",views:{home:{templateUrl:"common/setting-risk-assess.html",controller:"RiskAssessmentController"}}}).state("tabs.messageCenter",{url:"/messageCenter",views:{home:{templateUrl:"common/setting-message-center.html",controller:"MessageCenterController"}}}).state("tabs.settingInfo",{url:"/settingInfo",views:{home:{templateUrl:"common/setting-info.html",controller:"SettingInfoController"}}}).state("tabs.announcement",{url:"/announcement",views:{home:{templateUrl:"common/announcement.html",controller:"AnnouncementController"}}}).state("tabs.phone",{url:"/phone",views:{home:{templateUrl:"common/info-phone.html",controller:"InfoPhoneController"}}}).state("tabs.resetPhone",{url:"/resetPhone",views:{home:{templateUrl:"common/info-reset-phone.html",controller:"InfoResetPhoneController"}}}).state("tabs.community",{url:"/community",views:{community:{templateUrl:"community/community-home.html",controller:"CommunityHomeController"}}}).state("tabs.community-forumdisplay",{url:"/community-forumdisplay",views:{community:{templateUrl:"community/community-forumdisplay.html",controller:"CommunityForumDisplayController"}}}).state("tabs.community-viewthread",{url:"/community-viewthread",views:{community:{templateUrl:"community/community-viewthread.html",controller:"CommunityViewThreadController"}}}).state("tabs.income",{url:"/income",views:{home:{templateUrl:"asset/income-history.html",controller:"IncomeHistoryController"}}}).state("tabs.translogLogType",{url:"/translog/:logType",views:{home:{templateUrl:"common/check-trans-log.html",controller:"TransLogController"}}}).state("tabs.baseAccountTranseferOut",{url:"/baseAccountTranseferOut",views:{home:{templateUrl:"common/base-account-transfer-out.html",controller:"BaseAccountTransferOutController"}}}).state("tabs.baseAccountTranseferOutResult",{url:"/baseAccountTranseferOutResult",views:{home:{templateUrl:"common/base-account-transfer-out-result.html",controller:"BaseAccountTransferResultController"}}}).state("tabs.thanksForFace",{url:"/thanksForFace",views:{home:{templateUrl:"activity/face/thanks.html",controller:"BaseAccountTransferResultController"}}}).state("tabs.inviteCode",{url:"/inviteCode",views:{home:{templateUrl:"activity/invite/inviteCode.html",controller:"InviteController"}}}).state("tabs.inviteCodeShareShareCode",{url:"/inviteCodeShare/:shareCode",views:{home:{templateUrl:"activity/invite/inviteCodeShare.html",controller:"InviteShareController"}}}).state("tabs.handPassword",{url:"/handPassword/:handmode/:paypass",views:{home:{templateUrl:"common/handpassword.html",controller:"HandPasswordController"}}}).state("tabs.error",{url:"/error",views:{home:{templateUrl:"error.html",controller:"ErrorController"}}}).state("tabs.transHomeWithParam",{url:"/transHome/:param",views:{home:{templateUrl:"transfer/transfer-home.html",controller:"TransferHomeController"}}}).state("tabs.transHome",{url:"/transHome",views:{home:{templateUrl:"transfer/transfer-home.html",controller:"TransferHomeController"}}}).state("tabs.transIn",{url:"/transIn",views:{home:{templateUrl:"transfer/trans-in.html",controller:"TransferInController"}}}).state("tabs.transInResult",{url:"/transInResult",views:{home:{templateUrl:"transfer/trans-in-result.html",controller:"TransferInResultController"}}}).state("tabs.transOut",{url:"/transOut",views:{home:{templateUrl:"transfer/trans-out.html",controller:"TransferOutController"}}}).state("tabs.transOutResult",{url:"/transOutResult",views:{home:{templateUrl:"transfer/trans-out-result.html",controller:"TransferOutResultController"}}}).state("tabs.makePlan",{url:"/plan",views:{home:{templateUrl:"transfer/plan.html",controller:"PlanController"}}}).state("tabs.modifyPlan",{url:"/plan/:planInfo",views:{home:{templateUrl:"transfer/plan.html",controller:"PlanController"}}}).state("tabs.PlanResult",{url:"/planResult",views:{home:{templateUrl:"transfer/plan-result.html",controller:"PlanResultController"}}}).state("tabs.PlanResult2",{url:"/planResult/:planResultObj",views:{home:{templateUrl:"transfer/plan-result.html",controller:"PlanResultController"}}}).state("tabs.PlanSalary",{url:"/planSalary",views:{home:{templateUrl:"transfer/plan-salary.html",controller:"SalaryPlanController"}}}).state("tabs.ModifyPlanSalary",{url:"/planSalary/:salaryInfo",views:{home:{templateUrl:"transfer/plan-salary.html",controller:"SalaryPlanController"}}}).state("tabs.PlanMortgage",{url:"/planMortgage",views:{home:{templateUrl:"transfer/plan-mortgate.html",controller:"MortgagePlanController"}}}).state("tabs.ModifyPlanMortgage",{url:"/planMortgage/:salaryInfo",views:{home:{templateUrl:"transfer/plan-mortgate.html",controller:"MortgagePlanController"}}}),r.otherwise("/"),o.views.maxCache(0),o.views.swipeBackEnabled(!1),o.platform.android.scrolling.jsScrolling(!0)}]),app.config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self","https://*.webank.com/*","http://*.webank.com/*","https://*.webankcdn.net/*","http://*.webankcdn.net/*"])}]),app.config(["$httpProvider",function(e){-1==navigator.userAgent.indexOf("iPhone")?AppInfo.getAppInfo(function(t){var r={device_id:t.deviceID,root_flag:t.rootFlag,app_sign:t.appSign};e.defaults.headers.common={"Content-Type":"application/json",params:JSON.stringify(r)}}):e.defaults.headers.common={"Content-Type":"application/json"}}]);var gCurrentScope,onDeviceReady=function(){angular.bootstrap(document,["myApp"])};document.addEventListener("deviceready",onDeviceReady,!1),app.run(["$rootScope","$location","$document","$timeout","essential","HandPasswordService","$interval","cache","GLOBAL_CONSTANT","$ionicPlatform",function(e,t,r,o,l,n,a,s,i,c){e.$on("$stateChangeStart",function(e,t,r,o){o&&o.url&&Statistics.reportPageEnd(o.url)}),e.$on("$stateChangeSuccess",function(e,t){t&&t.url&&Statistics.reportPageStart(t.url),o(function(){var e=angular.element(document.getElementById("appHomeView")).scope();e||(e=angular.element(document.getElementById("appFinancialView")).scope()),e||(e=angular.element(document.getElementById("appTransferView")).scope()),e||(e=angular.element(document.getElementById("appCommunityView")).scope()),e&&(gCurrentScope=e.$$childHead)},1200)}),o(function(){navigator.splashscreen.hide()},1e4);var m,u=null,d=function(){tracelog("app切换到后台");var e=new Date;m=e.getTime();var r=t.path();s.getUserStatus()==i.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT&&r.indexOf("handPassword")<=0&&(u=a(function(){tracelog("切换到手势页面"),n.goPage(n.getDefPara()),a.cancel(u),u=null},6e4),tracelog("开启手势密码切换定时器"))},h=function(){tracelog("app切换到前台"),null!=u&&(a.cancel(u),u=null);var e=new Date,t=e.getTime();tracelog("resumeTime:"+t+", pauseAppTime:"+m),Math.round((t-m)/1e3)>30&&l.exchangeWebankToken().then(function(){tracelog("app回到前台，换取登录态成功")},function(){tracelog("app回到前台，换取登录态失败, 再试一次"),Statistics.reportEvent("resumeGetWBToken",null),o(function(){l.exchangeWebankToken().then(function(){tracelog("app回到前台，第二次换取登录态成功")},function(){Statistics.reportEvent("resumeGetWBToken2",null),tracelog("app回到前台，第二次换取登录态失败")})},2e3)})},p=function(){tracelog("app切换网络"),l.exchangeWebankToken().then(function(){tracelog("切换网络，换取登录态成功")},function(){tracelog("切换网络，换取登录态失败")})};document.addEventListener("pause",d,!1),document.addEventListener("resume",h,!1),document.addEventListener("online",p,!1);var C=function(){-1!=navigator.userAgent.indexOf("iPhone")&&l.getVersionInReview().then(function(e){"true"==e.isVersionInReview&&(isReviewVer=!0)})};C(),c.registerBackButtonAction(function(){gCurrentScope&&gCurrentScope.back?(gCurrentScope.back(),gCurrentScope.$apply()):gCurrentScope&&gCurrentScope.func&&gCurrentScope.func.back&&(gCurrentScope.func.back(),gCurrentScope.$apply())},100),c.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&window.cordova.plugins.Keyboard.disableScroll(!0)}),console.log=function(){}}]);app.controller("TestController",["$scope","$location","envService","$timeout",function(e,n,t,o){e.TestLogin=function(){WebankLogin.login(function(){alert("succeed!")},function(){alert("failed!")})},e.onSelectEnv=function(e){t.setEnv(e),navigator.splashscreen.show(),o(function(){navigator.splashscreen.hide()},1e4)},e.TestToken=function(){WebankToken.getToken(function(e){for(var n in e)alert(n+"  "+e[n])})},e.TestAppInfo=function(){AppInfo.getAppInfo(function(e){for(var n in e)alert(n+"  "+e[n])})},e.TestReportStartPage=function(){Statistics.reportPageStart("PageName1")},e.TestReportEndPage=function(){Statistics.reportPageEnd("PageName1")},e.TestReportEvent=function(){Statistics.reportEvent("eventid1","param1")},e.TestRequestData=function(){var e={debug:"1"};e.personal_name="王蒙",e.personal_identify_no="210212198705162010",e.personal_identify_type="01",e.phone_no="13751197892"},e.TestCommand=function(){var e={};e.CmdID="exchangeWebankToken",CommandChannel.execute(e,function(){alert("succeed")},function(){alert("failed")})},e.TestSupport=function(){n.path("/support")},e.TestLoginStatus=function(){WebankLogin.login(function(){WebankToken.getToken(function(e){if("qq"===e.platform){var n={};n.CmdID="exchangeWebankToken",n.OpenID=e.userName,n.AccessToken=e.token,CommandChannel.execute(n,function(e){if(""==e.ecif)alert("请先绑卡开户");else{alert("ecif返回，准备发请求:user/verify");var n={debug:"1"};n.personal_name="王蒙",n.personal_identify_no="210212198705162010",n.personal_identify_type="01",n.phone_no="13751197892"}},function(){})}else e[!1]},function(){})},function(){})},e.TestSetPasswd=function(){var e={};e.user_pwd="123456"},e.FaceTest=function(){var e={};e.CmdID="faceVerify",CommandChannel.execute(e,function(e){alert("status:"+e.status+"  errorcode:"+e.errorCode+" message:"+e.message+" faceNcRate:"+e.faceNcRate+"faceid:"+e[""])},function(){alert("failed")})},o(function(){navigator.splashscreen.hide()},10)}]);app.controller("BindingCardMngController",["$scope","$timeout","$location","GLOBAL_CONSTANT","cgiService","utils","cache","BindNewCardService","$stateParams","$interval","BindingCardDetailService",function(n,a,e,c,o,i,t,r,d,b,_){n.isPwdShow=!1,n.pwdSubTitle="输入密码验证身份",n.back=function(){e.path("/accountSettings")},n.mainCardInfo={isBasic:!0,amount:0,number:"",bankName:STRING_TABLE.WEBANK_CARD_DESC};var u=function(){var a=t.getCacheInfo("wealth");a&&a.basic_account&&(n.mainCardInfo.amount=a.basic_account.available_amount)},l=void 0,f=function(){l=b(function(){o.requestUserWealth().then(function(){u()})},3e4)};u(),f(),n.cardList=[];var s={102100099996:"#c94941",103100000026:"#20977f",104100000004:"#c94941",105100000017:"#445c95",301290000007:"#4447b0",302100011000:"#c94941",306581000003:"#c94941",303100000006:"#9b50b3",308584000013:"#af4846",313584099990:"#df8448",305100000013:"#445c95",309391000011:"#445c95",310290000013:"#4447b0",403100000004:"#21995c",313290000017:"#5e7ee2",0:"#af4846",313100000013:"#c94941"},g=t.getCacheInfo("personalInfo");if(null!=g){n.mainCardInfo.bandName=STRING_TABLE.WEBANK_CARD_DESC;var m=g.bind_cards_list,C=0;for(k in m)if(0!=m[k].status){var h={};h.numberMask="**** **** **** "+m[k].other_account.substring(12),h.number=m[k].other_account,h.bankName=m[k].other_bank_name,h.cardType=m[k].other_card_type,h.cardBinCode=m[k].other_bank_bin_code,h.bankImg="../img/bankHead/yh-"+(m[k].other_bank_bin_code||0)+"@2x.png",h.bankBgImg="../img/bankHead/yh-"+(m[k].other_bank_bin_code||0)+"@bg.png",h.cardStyle={"background-color":s[m[k].other_bank_bin_code||0]||s[0]},n.cardList[C++]=h}n.mainCardInfo.number=g.webank_card_no}n.onClickViewCardInfoBtn=function(n){_.goPage(null,n)},n.onClickAddCard=function(){i.clickButtonReport("card_add"),r.goPage()},n.$on("$destroy",function(){angular.isDefined(l)&&(b.cancel(l),l=void 0)})}]);app.controller("ViewCardInfoController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","cache","webankCommonService","$interval","ResetPasswdService","BindingCardDetailService","TransferHomeService","TransRecordService",function(e,n,o,a,t,i,c,r,u,s,d,l,m){e.showMenu=!1;var f=o.search();gBankLimit&&gBankLimit[f.cardBinCode]&&(e.singleTransactionLimit=gBankLimit[f.cardBinCode].perOne,e.singleDayLimit=gBankLimit[f.cardBinCode].perDay),e.numberMask=f.numberMask,e.bankName=f.bankName,e.cardType=f.cardType,e.bankImg=f.bankImg,e.bankBgImg=f.bankBgImg,e.number=f.number,e.isBasic=f.isBasic,e.cardStyle=f.cardStyle;var g=function(){var n=c.getCacheInfo("wealth");n&&n.basic_account&&(e.mainCardInfo.amount=n.basic_account.available_amount)},b=void 0,w=function(){b=u(function(){i.requestUserWealth().then(function(){g()})},3e4)};e.isBasic&&(e.mainCardInfo={isBasic:f.isBasic,amount:f.amount,number:f.number,bankName:f.bankName},w()),e.queryClick=function(){m.goPage()},e.exchangeClick=function(){o.path("/baseAccountTranseferOut")},e.onClickCancelMenu=function(){e.showMenu=!1},e.onClickMenu=function(){e.showMenu=!0},e.onClickUnBind=function(){e.showMenu=!1,e.pwdSubTitle="解绑银行卡",e.isPwdShow=!0},e.$watch("sigOnPwdCommit",function(n,o){n!==o&&(e.isPwdShow=!1,h())});var h=function(){var n={};n.other_card_no=f.number,n.user_pwd=e.vm.formData.confirmPassword.RSA;var o=c.getCacheInfo("personalInfo");n.other_phone_no=o?o.phone_no:"13800000000",i.requestUnbindCard(n).then(function(){for(var e in o.bind_cards_list)o.bind_cards_list[e].other_branch==f.cardBinCode&&o.bind_cards_list.splice(e,1);t.makeToast("解绑卡成功"),i.requestPersonalInfo(),l.goPage()},function(n){r.isRetCodePwd(n.ret_code)?r.isRetCodePwdRetry(n.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=n.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(n){1==n?e.isPwdShow=!0:2==n&&s.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=n.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&s.goPage()}):t.makeToast(n.ret_msg)})};e.back=function(){d.backPage()},e.$on("$destroy",function(){angular.isDefined(b)&&(u.cancel(b),b=void 0)})}]);app.controller("AboutController",["$scope","cache","$location","GLOBAL_CONSTANT","utils","$http","AgreementService","AboutService","essential",function(e,o,n,t,a,c,i,r,s){e.data={};var u="android",l=function(){a.isiOSDevice()?(c.get("../package.json").success(function(o){e.H5Version=o.version}),u="iPhone"):c.get("../android-h5-version.json").success(function(o){e.H5Version=o.version});var n=o.getDeviceInfo();e.nativeVersion=n.versionString,e.showAdvice=!1,o.getUserStatus()&&o.getUserStatus()>=t.ACCOUNT_STATE.USER_STATE_LOGIN&&(e.showAdvice=!1),e.data.clickCount=0};e.onClickScore=function(){a.makeToast("没做好，点了也没用","short")},e.onClickWelcome=function(){n.path("/welcome")},e.onClickWelcome2=function(){n.path("/welcome2")},e.onClickAdvice=function(){if(o.getUserInfo()&&o.getUserInfo().username&&o.getUserInfo().picurl&&o.getUserInfo().openid){var e=o.getUserInfo().openid,n=o.getUserInfo().username,t=o.getUserInfo().picurl||"../img/tx@2x.png",c=encodeURIComponent(n),i=encodeURIComponent(t),r="RexQ9858",s=e+r,l=a.md5(s).toUpperCase(),d=["openid="+e];d.push("nickname="+c),d.push("headimgurl="+i),d.push("token="+l);var f=d.join("&"),g=a.des(f,r);"0"==g[0]&&"x"==g[1]&&(g=g.slice(2));var p={fid:1133,data:g},k=angular.toJson(p),h="http://support.qq.com/touch/?fid=1133&p=cmts&t=1414572627&clientInfo=%E4%BC%97%E5%BD%93%E5%AE%B6&osVersion=8.1&clientVersion=1.3.0&os=";h+=u,h+="%20OS&netType=1&imei=c3abf2eff6b12ab06b8f771f0f9488b4#cmts";var v=window.open(h,"_blank","location=no,closebuttoncaption=返回");v.addEventListener("loaderror",function(){a.makeToast("系统繁忙，页面错误，请重试","short"),v.close()});var C=!1;v.addEventListener("loadstop",function(e){if(C&&e.url.search("authCallback")>0){C=!1;var o="window.authFinish(true,"+k+")";v.executeScript({code:o})}}),v.addEventListener("loadstart",function(e){e.url.search("authCallback")>0&&(C=!0)})}},e.onClickUpdate=function(){a.makeToast("没做好，点了也没用","short")},e.onClickAgreement=function(){i.goPage(3)},e.back=function(){r.backPage()},e.onClickWeBank=function(){e.data.clickCount++,10==e.data.clickCount&&(a.makeToast("别点了！","short"),d()),20==e.data.clickCount&&(e.data.traceLog=gTraceLog,enableDebugLog=!0,s.enableDebugLog("true"))};var d=function(){getStockProdConfig(!0),getStockProdDetail(),getInsuranceProdConfig(!0),getFinancialProduct()};l()}]);app.controller("ChangePasswdController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","$stateParams","$RSA","cache","essential","ChangePasswdService",function(o,e,t,n,r,i,a,s,u,m,d){var c=a.oldPassword,f=1;o.showStep=function(o){return f==o},o.showTitle=function(){return 1==f?"验证手机号":"修改交易密码"};var w=0,h=0,P=u.getCacheInfo("personalInfo");P&&(w=P.phone_no||0,h=P.birthday||0,o.placePhoneNumber=1*(w||""),o.phoneNumber=1*(w||""),r.isValidPhoneNumber(P.phone_no)&&e(function(){o.onGetOTP()},200)),o.isPwdKeyboardShow=!1,o.otpTimeOutShow=!0,o.data={},o.otpButtonController="btn";var T=function(){o.otpButtonController="btn off",e(l,2e3)},l=function(){o.otpButtonController="btn"};o.loginButtonController="btn-c";var p=function(){o.loginButtonController="btn-c off",e(S,2e3)},S=function(){o.loginButtonController="btn-c"},b=function(){var e=new Date;o.pausetime=e.getTime()},v=function(){var e=new Date;o.resumetime=e.getTime(),o.checkNumTimeout-=Math.round((o.resumetime-o.pausetime)/1e3),o.checkNumTimeout<0&&(o.checkNumTimeout=0)},N=function(){return o.checkNumTimeout-=1,o.checkNumTimeout<=0?(o.otpTimeOutShow=!0,document.removeEventListener("pause",b,!1),void document.removeEventListener("resume",v,!1)):void e(function(){N()},1e3)};o.onGetOTP=function(){if("btn off"!=o.otpTimeOutShow){if(T(),!r.isValidPhoneNumber(o.phoneNumber))return void r.makeToast(STRING_TABLE.INVALID_PHONE_NO);m.readSMSVerifyCode().then(function(e){o.data.placeOtp=e.smsCode,o.data.otp=e.smsCode});var e={};e.phone_no=o.phoneNumber,i.requestRegisterOTP(e).then(function(){o.otpTimeOutShow=!1,o.checkNumTimeout=60,document.addEventListener("pause",b,!1),document.addEventListener("resume",v,!1),N()},function(o){r.makeToast(o.ret_msg,"short")})}},o.onClickNext=function(){if("btn-c off"!=o.loginButtonController){if(p(),!r.isValidPhoneNumber(o.phoneNumber))return void r.makeToast(STRING_TABLE.INVALID_PHONE_NO);if(!r.isValidPhoneOtpNumber(o.data.otp))return void r.makeToast(STRING_TABLE.INVALID_OTP);o.pwdSubTitle="请输入新的交易密码",f=2,o.isPwdKeyboardShow=!0}};var _=function(){var e={};e.user_old_pwd=s.encrypt(c+o.vm.formData.confirmPassword.randomFactor),e.user_pwd=o.vm.formData.confirmPassword.RSA,e.phone_check_num=o.data.otp,i.requestModifyPassword(e).then(function(){r.makeToast("密码修改成功"),o.back()},function(e){r.makeToast(e.ret_msg),o.back()})};o.$watch("sigOnPwdCommit",function(t){if(void 0!=t)if(2==f){if(!r.isPasswordStrongEnough(o.vm.formData.confirmPassword.MD5)||r.isPasswordWithUserBirthday(o.vm.formData.confirmPassword.MD5,h)||r.isPasswordWithUserPhone(o.vm.formData.confirmPassword.MD5,w))return r.makeToast(STRING_TABLE.PASSWORD_TOO_WEAK,"short"),o.isPwdKeyboardShow=!1,void e(function(){o.isPwdKeyboardShow=!0},200);if(c==o.vm.formData.confirmPassword.originPwd)return r.makeToast(STRING_TABLE.PASSWORD_SAME_OLD,"short"),o.isPwdKeyboardShow=!1,void e(function(){o.isPwdKeyboardShow=!0},200);o.originPwd=o.vm.formData.confirmPassword.originPwd,o.isPwdKeyboardShow=!1,f=3,e(function(){o.isPwdKeyboardShow=!0},200)}else 3==f&&(o.originPwd!==o.vm.formData.confirmPassword.originPwd?(r.makeToast("两次输入不一致","short"),o.isPwdKeyboardShow=!1,f=2,e(function(){o.isPwdKeyboardShow=!0},200)):(o.password=s.encrypt(o.vm.formData.confirmPassword.originPwd+"11111111"),o.isPwdKeyboardShow=!1,_()))}),o.back=function(){d.backPage()}}]);app.controller("ResetPasswdController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","essential","cache","$RSA","ResetPasswdService","CheckFaceService",function(e,t,n,a,o,i,r,u,s,d,c){var m=1,f=!0,h=0,p=0,P=u.getCacheInfo("personalInfo");P&&(h=P.phone_no||0,p=P.birthday||0),e.data={},e.showStep=function(e){return m==e},e.showNextBtn=function(){return 3>m},e.classNextBtn=function(){return f?"btn-c off":"btn-c"},e.onClickNext=function(){if(1==m){if(!o.isValidName(e.data.regName))return;if(!o.isValidIDCardNumber(e.data.regIDCard))return;m++,f=!0,e.phoneNumber=1*(h||""),o.isValidPhoneNumber(P.phone_no)&&t(function(){g=!1,e.onGetOTP()},200)}else if(2==m){if(!o.isValidPhoneOtpNumber(e.data.regPhoneCheckNumber))return;m++,t(function(){e.isPwdKeyboardShow=!0},10)}},e.showTitle=function(){return["","验证身份","验证手机号","设置新的交易密码","设置新的交易密码"][m]},e.changeName=function(){if(e.inputNameTipsContent="",f=!0,e.data.regName&&""!=e.data.regName){var t=o.isValidNameInput(e.data.regName);"fail"==t?e.inputNameTipsContent="请输入真实姓名":"finish"==t&&l()}},e.changeIDCard=function(){if(e.inputIDCardTipsContent="",f=!0,e.data.regIDCard&&""!=e.data.regIDCard){var t=o.isValidIDCardInput(e.data.regIDCard);"fail"==t?e.inputIDCardTipsContent="身份证号不正确，快检查检查":"finish"==t&&(o.isValidIDCardNumber(e.data.regIDCard)?l():e.inputIDCardTipsContent="身份证号不正确，快检查检查")}},e.changeOtp=function(){if(e.inputOtpTipsContent="",f=!0,e.data.regPhoneCheckNumber&&""!=e.data.regPhoneCheckNumber){var t=o.isValidPhoneOtpInput(e.data.regPhoneCheckNumber);"fail"==t?e.inputOtpTipsContent="验证码不正确":"finish"==t&&l()}},e.checkTimeoutButton=!0,e.onGetOTP=function(){if(!g){r.readSMSVerifyCode().then(function(t){e.data.regPhoneCheckNumber=t.smsCode,l()});var n={};n.phone_no=e.phoneNumber,n.usage_id=a.OPT_TYPE.RESET_PASS,g=!0,i.requestRegisterOTP(n).then(function(){e.checkTimeoutButton=!1,e.checkNumTimeout=60,document.addEventListener("pause",u,!1),document.addEventListener("resume",s,!1),d(),g=!1},function(e){o.makeToast(e.ret_msg),g=!1});var u=function(){var t=new Date;e.pausetime=t.getTime()},s=function(){var t=new Date;e.resumetime=t.getTime(),e.checkNumTimeout-=Math.round((e.resumetime-e.pausetime)/1e3),e.checkNumTimeout<0&&(e.checkNumTimeout=0)},d=function(){return e.checkNumTimeout-=1,e.checkNumTimeout<=0?(e.checkTimeoutButton=!0,document.removeEventListener("pause",u,!1),void document.removeEventListener("resume",s,!1)):void t(function(){d()},1e3)}}};var g=!1;e.classOtpBtn=function(){return g?"register-yz-btn off":"register-yz-btn"},e.$watch("sigOnPwdCommit",function(n){if(void 0!=n)if(3==m){if(!o.isPasswordStrongEnough(e.vm.formData.confirmPassword.MD5)||o.isPasswordWithUserBirthday(e.vm.formData.confirmPassword.MD5,p)||o.isPasswordWithUserPhone(e.vm.formData.confirmPassword.MD5,h))return o.makeToast(STRING_TABLE.PASSWORD_TOO_WEAK,"short"),e.isPwdKeyboardShow=!1,void t(function(){e.isPwdKeyboardShow=!0},200);e.originPwd=e.vm.formData.confirmPassword.originPwd,e.isPwdKeyboardShow=!1,m++,t(function(){e.isPwdKeyboardShow=!0},200)}else 4==m&&(e.originPwd!==e.vm.formData.confirmPassword.originPwd?(o.makeToast("两次输入不一致","short"),e.isPwdKeyboardShow=!1,m=3,t(function(){e.isPwdKeyboardShow=!0},200)):(e.password=s.encrypt(e.vm.formData.confirmPassword.originPwd+"11111111"),e.isPwdKeyboardShow=!1,w()))});var w=function(){var t={};t.personal_identify_type="01",t.user_pwd=e.vm.formData.confirmPassword.RSA,t.phone_no=e.phoneNumber,t.phone_check_num=e.data.regPhoneCheckNumber,C?t.face_id=C:(t.personal_name=e.data.regName,t.personal_identify_no=e.data.regIDCard.toUpperCase()),i.requestSetPassword(t).then(function(){o.makeToast("密码重置成功"),e.back()},function(t){o.makeToast(t.ret_msg),e.back()})},l=function(){1==m?o.isValidName(e.data.regName)&&o.isValidIDCardNumber(e.data.regIDCard)&&(f=!1):2==m&&o.isValidPhoneNumber(e.phoneNumber)&&o.isValidPhoneOtpNumber(e.data.regPhoneCheckNumber)&&(f=!1)},N=function(){var t=!1,n=u.getCacheInfo("personalInfo");n&&n.acct_type&&1*n.acct_type==4&&(t=!0),t&&(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="需要先通过人脸验证，是否继续？",e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="立即验证",e.outValue.popClose=function(e){2==e?c.goPage():d.backPage()})},C="",b=c.getBackData();b&&b.back?(C=b.faceId,c.setBackData(null),C||N()):N(),C&&(d.setData(null),m=2,f=!0,e.phoneNumber=1*(h||""),o.isValidPhoneNumber(P.phone_no)&&t(function(){g=!1,e.onGetOTP()},200)),e.back=function(){d.backPage()}}]);app.controller("TransLogController",["$scope","$location","GLOBAL_CONSTANT","homeService","utils","cgiService","$stateParams","TransLogService",function(t,e,a,r,n,o,s,d){t.logType=s.logType,t.showFinancial="all"==t.logType,t.redeemOrderList=[],t.purchaseOrderList=[],t.orderList=[],t.clsAll="on",t.clsPurchase="",t.clsRedeem="",t.showLoading=!1,t.onClickAll=function(){n.clickButtonReport("finance_detail_all"),t.clsAll="on",t.clsPurchase="",t.clsRedeem=""},t.onClickPurchase=function(){n.clickButtonReport("finance_detail_buy"),t.clsAll="",t.clsPurchase="on",t.clsRedeem=""},t.onClickRedeem=function(){n.clickButtonReport("finance_detail_sell"),t.clsAll="",t.clsPurchase="",t.clsRedeem="on"},t.dtStart=new Date,t.dtStart.setDate(t.dtStart.getDate()-7),t.dtEnd=new Date;new Date;t.onSelectDateStart=function(){var e={date:t.dtStart,maxDate:new Date,mode:"date"};datePicker.show(e,function(e){e&&t.dtStart!=e&&(t.dtStart=e,i(t.dtStart,t.dtEnd))})},t.onSelectDateEnd=function(){var e={date:new Date,maxDate:new Date,mode:"date"};datePicker.show(e,function(e){e&&t.dtEnd!=e&&(t.dtEnd=e,i(t.dtStart,t.dtEnd))})};var c=function(){var e=function(t,e){return t.date!=e.date?e.date-t.date:e.serno-t.serno};t.orderList.sort(e),t.purchaseOrderList.sort(e),t.redeemOrderList.sort(e)},i=function(e,a){var r=n.getYYYYMMDDStringByDate(e),o=n.getYYYYMMDDStringByDate(a);t.showLoading=!0,"all"==t.logType?f(r,o):"baseAccount"==t.logType&&S(r,o)};t.hasLog=function(){return"on"==t.clsAll?t.orderList.length>0:"on"==t.clsPurchase?t.purchaseOrderList.length>0:"on"==t.clsRedeem?t.redeemOrderList.length>0:void 0};var _=function(t){return 0==t||1==t?"处理中":2==t||4==t||6==t?"失败":""},u=function(e){var a={},r=gMonetrayProdCodeToProdDetailInfo[e.prod_code];if(r&&(a.remark="购买 货币基金("+r.prodName+")"),a.status=_(e.trans_status),a.cardNo=e.card_no,a.serno=e.trans_serno,a.amount=parseFloat(e.trans_amt).toFixed(2),a.date=e.trans_date,e.bank_name&&e.acct_no){var n=e.card_type||" ";a.bankDesc=e.bank_name+n+"("+e.acct_no.substr(e.acct_no.length-4)+") 付款"}t.purchaseOrderList.push(a),t.orderList.push(a)},l=function(e){var a={},r=gMonetrayProdCodeToProdDetailInfo[e.prod_code];if(r&&(a.remark="赎回 货币基金("+r.prodName+")"),a.status=_(e.trans_status),a.date=e.trans_date,a.serno=e.trans_serno,a.amount=parseFloat(e.trans_amt).toFixed(2),e.bank_name&&e.acct_no){var n=e.card_type||" ";a.bankDesc="到 "+e.bank_name+" "+n+"("+e.acct_no.substr(e.acct_no.length-4)+")"}t.redeemOrderList.push(a),t.orderList.push(a)},p=function(e){var a={},r=gStockProdCodeToProdDetailInfo[e.prod_code];if(a.remark="购买 ",r?a.remark=a.remark+"股票基金("+r.onSaleDesc+")":a.remark+="理财产品",a.status=_(e.trans_status),a.date=e.trans_date,a.serno=e.trans_serno,a.amount=parseFloat(e.trans_amt).toFixed(2),e.bank_name&&e.acct_no){var n=e.card_type||" ";a.bankDesc=e.bank_name+""+n+"("+e.acct_no.substr(e.acct_no.length-4)+") 付款"}t.purchaseOrderList.push(a),t.orderList.push(a)},m=function(e){var a={},r=gStockProdCodeToProdDetailInfo[e.prod_code];if(a.remark="赎回 ",r?a.remark=a.remark+"股票基金("+r.onSaleDesc+")":a.remark+="理财产品",a.status=_(e.trans_status),a.date=e.trans_date,a.serno=e.trans_serno,a.amount=parseFloat(e.trans_amt).toFixed(2),e.bank_name&&e.acct_no){var n=e.card_type||" ";a.bankDesc="到 "+e.bank_name+" "+n+"("+e.acct_no.substr(e.acct_no.length-4)+")"}t.redeemOrderList.push(a),t.orderList.push(a)},h=function(e){var a={},r=gProdCodeToProdDetailInfo[e.prod_code];if(a.remark="购买 ",r?a.remark=a.remark+r.onSaleDesc+"("+r.valueDate.substr(4,4)+")期":a.remark+="理财产品",a.status=_(e.trans_status),a.date=e.trans_date,a.serno=e.trans_serno,a.amount=parseFloat(e.trans_amt).toFixed(2),e.bank_name&&e.acct_no){var n=e.card_type||" ";a.bankDesc=e.bank_name+""+n+"("+e.acct_no.substr(e.acct_no.length-4)+") 付款"}t.purchaseOrderList.push(a),t.orderList.push(a)},L=function(e){var a={};a.remark="转入",a.date=e.trans_date,a.amount=parseFloat(e.trans_amt).toFixed(2),t.purchaseOrderList.push(a),t.orderList.push(a)},k=function(e){var a={};a.remark="转出",a.date=e.trans_date,a.amount=parseFloat(e.trans_amt).toFixed(2),t.redeemOrderList.push(a),t.orderList.push(a)},f=function(e,r){o.requestAllTransList(e,r).then(function(e){t.redeemOrderList=[],t.purchaseOrderList=[],t.orderList=[];var r=e.ret_data.product_list;for(var n in r){var o=r[n];o.trans_type==a.TRANS_LOG_TYPE.PURCHASE?u(o):o.trans_type==a.TRANS_LOG_TYPE.REDEEM?l(o):o.trans_type==a.TRANS_LOG_TYPE.INSURANCE?h(o):o.trans_type==a.TRANS_LOG_TYPE.STOCK_PURCHASE?p(o):o.trans_type==a.TRANS_LOG_TYPE.STOCK_REDEEM?m(o):o.trans_type==a.TRANS_LOG_TYPE.STOCK_CANCEL}c()},function(){}).then(function(){t.showLoading=!1})},S=function(e,r){o.requestWebankAccountTransList(e,r).then(function(e){t.redeemOrderList=[],t.purchaseOrderList=[],t.orderList=[];var r=e.ret_data.product_list;for(var n in r){var o=r[n];o.trans_type==a.TRANS_LOG_TYPE.TRANS_IN?L(o):o.trans_type==a.TRANS_LOG_TYPE.TRANS_OUT&&k(o),c()}},function(){}).then(function(){t.showLoading=!1})};t.back=function(){var a=d.getCallbackPage();return a?(d.setCallbackPage(null),void e.path("/"+a)):void e.path("all"==t.logType?"/accountSettings":"/bindingCardMng")},i(t.dtStart,t.dtEnd)}]);app.controller("BaseAccountTransferOutController",["$scope","cgiService","utils","cache","webankCommonService","GLOBAL_CONSTANT","essential","$location","BindNewCardService","CheckPhoneService","ResetPasswdService","BindingCardDetailService",function(a,e,o,t,n,r,c,s,d,i,u,f){a.cardInfo={},a.bindCardList=n.getValidBandCardList(),a.isPayWayShow=!1,a.isPwdShow=!1,a.sigOnPwdCommit=0,a.showLoading=!1,a.bindCardList.length>0&&(a.cardInfo.cardNo=a.bindCardList[0].other_account,a.cardInfo.cardType=a.bindCardList[0].other_card_type,a.cardInfo.bankName=a.bindCardList[0].other_bank_name);var l=t.getCacheInfo("wealth"),m=n.parseRawWealthData_V2(l),w=parseFloat(m.BankAmount);isNaN(w)||(a.currentDeposit=w.toFixed(2)),a.onSelectPayWay=function(){a.isPayWayShow=!0};var h=!1,p=t.getCacheInfo("personalInfo");p&&p.acct_type&&1*p.acct_type==4&&(h=!0),a.onClickRedeem=function(e){if(e.stopPropagation(),!o.isValidTransferAmount(a.data.transAmount))return void o.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT);if(!a.cardInfo.cardNo)return void o.makeToast(STRING_TABLE.PLEASE_SELECT_TRANS_WAY);var t="向";t+=a.cardInfo.bankName,t+=a.cardInfo.cardType,t+=o.abridgeAccountNumber(a.cardInfo.cardNo),t+="转账",a.pwdSubTitle=t,a.pwdTransDesc=parseFloat(a.data.transAmount).toFixed(2)+"元",a.isPwdShow=!0},a.$watch("sigOnPwdCommit",function(e,t){e!==t&&(o.logMessage("用户输入密码完毕,RSA:"+a.vm.formData.confirmPassword),a.isPwdShow=!1,N())});var g=i.getData();g&&g.phone&&g.otp&&N(),a.bindNewCard=function(){d.goPage()};var T=function(a){s.path("/baseAccountTranseferOutResult").search(a).replace()},N=function(){a.showLoading=!0,a.remark||(a.remark="转出");var o={};o.bankName=a.cardInfo.bankName,o.cardNo=a.cardInfo.cardNo,o.transAmount=a.data.transAmount,o.remark=a.remark,o.userName=a.cardInfo.userName,o.cardType=a.cardInfo.cardType,h&&g&&g.phone&&g.otp,e.requestBaseAccountTransOut(a.cardInfo.userName,a.cardInfo.bankName,a.cardInfo.cardNo,a.data.transAmount,a.vm.formData.confirmPassword.RSA,a.remark).then(function(e){o.result=e.ret_code,n.isProcessingState(e.ret_code)?n.checkProcessingState(r.ORDER_QUERY_TYPE.TRANSOUT,e.ret_data.trans_serno).then(function(e){a.showLoading=!1,o.result=e,T(o)}):(a.showLoading=!1,T(o))},function(e){a.showLoading=!1,o.result=e.ret_code,o.totalAmount=a.currentDeposit,o.failReason=e.ret_msg,n.isRetCodePwd(e.ret_code)?n.isRetCodePwdRetry(e.ret_code)?(a.outValue={},a.outValue.showPop=!0,a.outValue.oneLineTextLeft=e.ret_msg,a.outValue.twoButtonText1="重试",a.outValue.twoButtonText2="忘记密码",a.outValue.popClose=function(e){1==e?a.isPwdShow=!0:2==e&&u.goPage()}):(a.outValue={},a.outValue.showPop=!0,a.outValue.oneLineTextLeft=e.ret_msg,a.outValue.twoButtonText1="取消",a.outValue.twoButtonText2="忘记密码",a.outValue.popClose=function(a){1==a||2==a&&u.goPage()}):T(o)})};a.back=function(){f.goPage()}}]);app.controller("BaseAccountTransferResultController",["$scope","utils","cache","$location","GLOBAL_CONSTANT","cgiService",function(n,o,t,c,e,s){s.requestUserWealth().then(function(){},function(){}),n.isSuccShow=!1,n.isFailedShow=!1,n.isProcShow=!1,n.transInfo=c.search(),n.today=o.getTodayStirng(),n.transInfo&&(n.transInfo.result===e.CGI_RET.CGI_PROCESSING?n.isProcShow=!0:n.transInfo.result===e.CGI_RET.CGI_SUCCESS||n.transInfo.result==e.CGI_RET.CGI_SUCCESS_2?n.isSuccShow=!0:n.isFailedShow=!0),n.onClickFinshBtn=function(){c.path("/home").replace()},n.back=function(){}}]);app.controller("RiskAssessmentController",["$scope","cgiService","utils","$timeout","$location","riskAssessmentService","cache","$rootScope",function(n,s,a,e,t,o,p){var i=100,r=[{head:"",Title:"",data:[],index:i,scoreArr:[]},{head:"",Title:"1.您目前的职业状况是？ ",data:[" A.无业或退休<span>（0分）</span>"," B.自由职业或佣金收入<span>（4分）</span>"," C.自营事业<span>（6分）</span>"," D.机关、事业单位或社会团体人员<span>（8分）</span>"," E.企业职工<span>（10分）</span>"],index:i,scoreArr:[0,4,6,8,10]},{head:"",Title:"2.您的家庭年收入为（税后折合人民币）？ ",data:[" A.5万元以下<span>（0分）</span>"," B.5-20万元<span>（2分）</span>"," C.20-50万元<span>（3分）</span>"," D.50-100万元<span>（4分）</span>"," E.100万元以上<span>（5分）</span>"],index:i,scoreArr:[0,2,3,4,5]},{head:"",Title:"3. 在您每年的家庭收入中，可用于金融投资（储蓄存款除外）的比例为？",data:[" A.10%以下 <span>（0分）</span>"," B.10%-25%<span>（2分）</span>"," C.25%-50% <span>（4分）</span>"," D.50%以上<span>（5分）</span>"],index:i,scoreArr:[0,2,4,5]},{head:"",Title:"4.哪项最能说明您的投资经验？ ",data:[" A.只投资过存款、国债<span>（0分）</span>"," B.大部分投资于存款、国债等，较少投资于股票、基金等风险产品<span>（2分）</span>"," C.资产均衡地分布于存款、国债、银行理财产品、信托产品、股票、基金等<span>（4分）</span>"," D.大部分投资于股票、基金、外汇等风险产品，较少投资于存款、国债<span>（6分）</span>"],index:i,scoreArr:[0,2,4,6]},{head:"",Title:"5.您有多少年投资风险产品的经验（如：股票、基金、外汇、金融衍生产品等）？",data:["A.没有经验<span>（0分）</span>","B.2年以下<span>（2分）</span>","C.2-5年<span>（6分）</span>","D.5-8年<span>（8分）</span>","E.8年以上<span>（10分）</span>"],index:i,scoreArr:[0,2,6,8,10]},{head:"",Title:"6.哪项描述最符合您的股票投资经验和认识？",data:["A.没有经验，不了解股票的运作<span>（-2分）</span>","B.一定经验，较大程度依赖股评、朋友推荐等<span>（0分）</span>","C.丰富经验，大部分投资都基于技术面分析<span>（2分）</span>","D.专业经验，大部分投资都基于技术面和基本面的全面分析<span>（4分）</span>"],index:i,scoreArr:[-2,0,2,4]},{head:"",Title:"7.哪项描述最符合您的投资态度和目的？",data:[" A.厌恶风险，不希望本金损失，希望获得稳定回报<span>（0分）</span>"," B.保守投资，不希望本金损失，愿意承担一定幅度的收益波动<span>（4分）</span>"," C.寻求较高收益，愿意承担有限本金损失<span>（8分）</span>"," D.希望赚取高回报，愿意承担较大本金损失<span>（10分）</span>"],index:i,scoreArr:[0,4,8,10]},{head:"",Title:"8.您有10万元本金，以下投资情况，您会选择哪一种？",data:[" A.100%的机会获得1%本金的收益，并保证本金<span>（0分）</span>"," B.50%的机会获得5%本金的收益，并有较高可能保本<span>（4分）</span>"," C.25%的机会获得50%本金的收益，并有一定的可能损失本金<span>（6分）</span>"," D.10%的机会获得100%本金的收益，并有较高可能损失本金<span>（10分）</span>"],index:i,scoreArr:[0,4,6,10]},{head:"",Title:"9.短期投资（不超过1年）出现何种波动时，您会明显焦虑？",data:[" A.本金无损失，但收益未达预期<span>（-1分）</span>"," B.本金5%以下损失<span>（0分）</span>"," C.本金5%-20％损失<span>（2分）</span>"," D.本金20-50％损失<span>（4分）</span>"," E.本金50％以上损失<span>（5分）</span>"],index:i,scoreArr:[-1,0,2,4,5]},{head:"",Title:"10.长期投资（1年以上）出现何种波动时，您会明显焦虑？",data:[" A.本金无损失，但收益未达预期<span>（-1分）</span>"," B.本金5%以下损失<span>（0分）</span>"," C.本金5%-20％损失<span>（2分）</span>"," D.本金20-50％损失<span>（4分）</span>"," E.本金50％以上损失<span>（5分）</span>"],index:i,scoreArr:[-1,0,2,4,5]},{head:"",Title:"11.投资于理财、股票、基金等金融投资品（不含存款和国债）时，您可接受的最长投资期限是？",data:["A.1年以下<span>（4分）</span>","B.1-3年<span>（6分）</span>","C.3-5年<span>（8分）</span>","D.5年以上<span>（10分）</span>"],index:i,scoreArr:[4,6,8,10]},{head:"",Title:"12.如您打算购买保险，最符合您对保险的需求是？",data:["A.基础类：满足基本保险需求，考虑意外险、人身险、财产险、医疗险等<span>（0分）</span>","B.储蓄投资类：准备教育金与养老金、资产的传承与分配<span>（5分）</span>","C.理财型投资类：实现保障和投资的双重需求<span>（10分）</span>"],index:i,scoreArr:[0,5,10]}],d=0,c=function(s){d=1*(s||0);var a=["低","低、较低","低、较低、中等","低、较低、中等、较高","低、较低、中等、较高和高"];n.riskType=gRiskArr[d],n.riskProduct="适合购买"+a[d]+"风险等级产品"},u=function(){n.showData=r[n.showIndex],n.isNextPageCheck=n.showData.index<i?!0:!1};n.submitClass="btn-c off",n.isNextPageCheck=!1,n.pageNum=r.length;var l=o.getQuery();o.setQuery({}),1*l.riskLevel>=0?(n.showIndex=r.length,c(1*l.riskLevel)):(n.showIndex=0,u());var h=null;n.itemClick=function(s){r[n.showIndex].index=s,h=e(function(){n.nextClick()},200)},n.isActive=function(s){return r[n.showIndex]&&r[n.showIndex].index==s},n.prevClick=function(){h&&(e.cancel(h),h=null),7==n.showIndex?(n.showIndex-=3,u()):n.showIndex>0&&(n.showIndex--,u())},n.nextClick=function(){return h&&(e.cancel(h),h=null),r[n.showIndex].index<0||r[n.showIndex].index>r[n.showIndex].data.length?void a.makeToast(STRING_TABLE.INVALID_SELECT,"short"):void(4==n.showIndex&&0==n.showData.index?(r[5].index=0,r[6].index=0,n.showIndex+=3,u()):n.showIndex<r.length-1?(n.showIndex++,u()):n.showIndex==r.length-1&&(n.submitClass="btn-c"))},n.clickBegin=function(){n.showIndex++,u()};var x=o.getData(),A=function(e,t,i){n.showLoading=!0,s.requestSubmitAssessmet({score:e,cust_risk_level:t,answer_list:i}).then(function(s){return n.showLoading=!1,d=1*s.ret_data.cust_risk_level,p.setCacheInfo("assessment",{cust_risk_level:s.ret_data.cust_risk_level}),x&&1==x.riskStatus?(x.riskStatus=2,void o.backPage()):(n.showIndex++,void c(s.ret_data.cust_risk_level))},function(){n.showLoading=!1,a.makeToast(STRING_TABLE.DEFAULT_ERR_DESC,"short")})};n.clickSubmit=function(){if(n.submitClass.search("off")>0)return void a.makeToast("请选择后再提交","short");for(var s=0,e=[],t=["A","B","C","D","E","F","G"],o=1;o<r.length;o++)s+=r[o].scoreArr[r[o].index],e.push(t[r[o].index]);var p=0;10>=s?p=0:30>=s?p=1:50>=s?p=2:70>=s?p=3:90>=s&&(p=4),n.outValue={},n.outValue.showPop=!0,n.outValue.textHead="本次评估结果 <span class='og'>"+gRiskArr[p]+"</span>",n.outValue.oneLineTextLeft="本人保证以上所填全部信息为本人真实的意思表示，并接受贵行评估意见，点击确认视为签名确认",n.outValue.twoButtonText1="重新评测",n.outValue.twoButtonText2="确认",n.outValue.popClose=function(a){1==a?n.clickReassessment():2==a&&A(s,p,e.join(","))}},n.clickSeeProduct=function(){a.clickButtonReport("fengxian_shihe"),t.path("/financialRecommend")},n.clickReassessment=function(){a.clickButtonReport("fengxian_again"),$.each(r,function(n,s){s.index=i}),n.showIndex=0,n.submitClass="btn-c off",u()},n.back=function(){n.showIndex<r.length&&n.showIndex>0?(n.outValue={},n.outValue.showPop=!0,n.outValue.oneLineTextLeft="本次风险评估未完成，终止后将不保存当前进度，确定终止？",n.outValue.twoButtonText1="终止",n.outValue.twoButtonText2="继续评估",n.outValue.popClose=function(n){1==n&&o.backPage()}):o.backPage()}}]);app.controller("SettingInfoController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","cgiService","cache","essential","riskAssessmentService","UnbindOpenIDService","ChangePasswdService","webankCommonService","ResetPasswdService","InfoPhoneService",function(e,n,t,i,o,s,u,r,a,c,l,w,g,d){s.requestQueryRegUids().then(function(e){},function(){}),e.weixinQQ=null,e.weixinQQ={weixin:{plat:"weixin",status:0,username:"weixinname测试中，等cgi",str:"未绑定",picurl:""},qq:{plat:"qq",status:1,username:"qq测试中，等cgi",str:"未绑定",picurl:""}};for(item in e.weixinQQ)1*e.weixinQQ[item].status==1&&(e.weixinQQ[item].str=e.weixinQQ[item].username);e.onClickBindAccount=function(n){e.weixinQQ[n]&&c.goPage("","",{weixinQQ:e.weixinQQ[n]})},e.bindPhoneNumber="";var f=u.getCacheInfo("personalInfo");if(f){var P=f.phone_no;e.bindPhoneNumber=P}e.onClickPhone=function(){d.goPage(null,null,{phone:e.bindPhoneNumber})},e.isInReview=!1,-1!=navigator.userAgent.indexOf("iPhone")&&r.getVersionInReview().then(function(n){"true"==n.isVersionInReview&&(e.isInReview=!0)}),e.isPwdShow=!1,e.onClickPasswdMngBtn=function(){e.pwdSubTitle="修改交易密码",e.isPwdShow=!0};var m=function(){var n={};n.user_old_pwd=e.vm.formData.confirmPassword.RSA,n.user_pwd=n.user_old_pwd,s.requestVerifyPassword(n).then(function(){l.goPage(e.vm.formData.confirmPassword.originPwd)},function(n){w.isRetCodePwd(n.ret_code)?w.isRetCodePwdRetry(n.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=n.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(n){1==n?e.isPwdShow=!0:2==n&&g.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=n.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&g.goPage()}):o.makeToast(n.ret_msg)})};e.$watch("sigOnPwdCommit",function(n,t){n!==t&&(e.isPwdShow=!1,m())}),e.onClickResetPasswdBtn=function(){g.goPage()},e.onClickRiskAssessmentBtn=function(){a.setData({}),a.setQuery(p),a.goPage()};var p={riskLevel:-1,riskDescrip:"未评估"},v=u.getCacheInfo("assessment");v?(e.accessStr=gRiskArr[v.cust_risk_level],p.riskLevel=v.cust_risk_level,p.riskDescrip=gRiskArr[v.cust_risk_level]):e.accessStr="未评估",e.back=function(){t.path("/accountSettings")}}]);app.controller("MessageCenterController",["$scope","GLOBAL_CONSTANT","$location","messageService","$timeout","$ionicScrollDelegate",function(e,t,o,n,s,a){e.messageList=[],e.showEmpty=!1,e.noMoreData=!1,e.showLoading=!1;var i=null;i=s(function(){e.showEmpty=!0,e.showLoading=!1},2e3);var l=a.$getByHandle("mainScroll"),c=!0;c=!1,e.showLoading=!0,n.getMessageList().then(function(t){i&&(s.cancel(i),i=null),e.messageList=t,e.showLoading=!1,s(function(){c=!0,l.resize()},50),e.showEmpty=!1},function(){}),e.outValue={showPop:!1,oneLineTextLeft:"确定要清空所有消息？",twoButtonText1:"取消",twoButtonText2:"确定",popClose:function(t){2==t&&(e.messageList=[],n.clearMessage())}},e.clearAll=function(){e.outValue.showPop=!0},e.clickMsg=function(e){n.reportReadMessage(e.msgid),e.status="R",e.url_scheme&&e.url_scheme.length>0&&o.path(e.url_scheme)},e.getStyle=function(e){return"R"==e.status?{"padding-bottom":"10px",position:"relative"}:void 0},e.getClass=function(e){return"U"==e.status?"title":void 0},e.loadMoreData=function(){c=!1,n.getMessageList(!0).then(function(t){e.noMoreData=!n.getIsMoreData(),e.messageList=t,e.$broadcast("scroll.infiniteScrollComplete"),s(function(){c=!0,l.resize()},50)},function(){})},e.back=function(){n.backPage()}}]);app.controller("TransPlanResultController",["$scope","utils","cgiService","GLOBAL_CONSTANT","homeService","essential","$location",function(e,s,c,l,t,r,n){e.result=n.search(),e.freqDesc=e.result.dateDesc,1==e.result.isRepeated&&(e.freqDesc=e.freqDesc+"起，每月"+e.result.dateDesc.slice(-2)+"日"),e.onClickFinshBtn=function(){n.path("/plan").replace()}}]);app.controller("PurchasePlanController",["$scope","utils","cgiService","GLOBAL_CONSTANT","homeService","essential","$location","webankCommonService","cache","$stateParams","BindNewCardService","$timeout","PlanService","ResetPasswdService",function(e,t,o,a,n,r,c,d,i,u,s,l,f,p){var m=d.parseRawWealthData_V2(i.getCacheInfo("wealth")),_=gMonetrayProdCodeToProdDetailInfo[gMonetaryOnSaleInfo[0].prod_code];e.prodName="",e.prodCode=0,e.planDesc="货币基金",_&&(e.prodName=_.prodName,e.prodCode=_.prodCode,e.planDesc=e.planDesc+" ("+e.prodName+")"),e.isPwdShow=!1,e.baseAccountAmount=m.BankAmount,e.isPayWayShow=!1,e.isAgreed=!1,e.agreementDesc="服务协议及风险提示",e.agreementCallback=function(){var t="https://www.webankcdn.net/s/hj/appconf/common/fund/gjzq_fund_proto.pdf";e.openPdf(t)},e.webankAccount={},e.webankAccount.amount=m.BankAmount,e.webankAccount.isShow=!0,e.webankAccount.isAvaliable=!0,e.webankAccount.isWebankAccountSelected=!0,e.cardInfo={},e.bindCardList=d.getValidBandCardList(),e.onSelectPayWay=function(){e.isPayWayShow=!0,e.isPwdShow=!1};var w=function(){var o=parseFloat(e.amount);return!isNaN(o)&&o>=0&&t.isValidTransferAmount(e.amount)},b=function(){parseFloat(m.BankAmount)<parseFloat(e.amount)&&e.bindCardList.length>0&&(e.webankAccount.isWebankAccountSelected=!1,e.cardInfo.bankBinCode=e.bindCardList[0].other_bank_bin_code,e.cardInfo.userName=e.bindCardList[0].other_name,e.cardInfo.cardNo=e.bindCardList[0].other_account,e.cardInfo.cardTypeCode=e.bindCardList[0].other_card_type_code,e.cardInfo.cardType=e.bindCardList[0].other_card_type,e.cardInfo.bankName=e.bindCardList[0].other_bank_name)};e.checkInputAmount=function(){w()?(e.showInputAmountTips=!1,e.webankAccount.isWebankAccountSelected&&b()):(e.showInputAmountTips=!0,e.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT),e.amount=parseFloat(parseFloat(e.amount).toFixed(2)),T()};var T=function(){e.amount&&e.dt&&void 0!==e.isRepeated&&e.isAgreed?(e.btnCls="btn-c",l(function(){e.$apply()},0)):e.btnCls="btn-c off"};T();var k=new Date;k.setDate(k.getDate()+1),e.showSelectFreq=!1,e.hasOldPlan=!1;var A=JSON.parse(u.plan?u.plan:"{}");if(A&&A.id){if(e.hasOldPlan=!0,e.amount=parseFloat(A.amount),A.useWebankCard)e.webankAccount.isWebankAccountSelected=!0;else{e.webankAccount.isWebankAccountSelected=!1,e.cardInfo.bankBinCode=A.bank_no,e.cardInfo.cardNo=A.cardNo;var g=i.getCacheInfo("personalInfo");if(g&&g.bind_cards_list)for(var C in g.bind_cards_list)if(g.bind_cards_list[C].other_account===A.cardNo){e.cardInfo.userName=g.bind_cards_list[C].other_name,e.cardInfo.cardType=g.bind_cards_list[C].other_card_type,e.cardInfo.bankName=g.bind_cards_list[C].other_bank_name,e.cardInfo.bankBinCode=g.bind_cards_list[C].other_bank_bin_code;break}}e.prodName=_?_.prodName:"未知理财产品",e.dt=t.getDateByYYYYMMDDString(A.nextTime),"0"==A.isRepeat?(e.isRepeated=0,e.freqDesc="仅此一次"):(e.isRepeated=1,e.freqDesc="每月一次")}e.onClickAgreement=function(){T()},e.onClickCloseFrequencySelector=function(){e.showSelectFreq=!1},e.onClickOnlyOnce=function(){e.freqDesc="仅此一次",e.isRepeated=0,e.showSelectFreq=!1,T()},e.onClickRepeatPerMonth=function(){e.freqDesc="每月一次",e.isRepeated=1,e.showSelectFreq=!1,e.dt&&e.dt.getDate()>28&&(e.dt=null),T()},e.onSelectFreq=function(){e.showSelectFreq=!0},e.onSelectDate=function(){var o,a={date:k,minDate:k.valueOf(),mode:"date"},n={date:k,minDate:k,mode:"date"};o=t.isiOSDevice()?n:a,datePicker.show(o,function(o){if(void 0==e.isRepeated)return void t.makeToast(STRING_TABLE.PLEASE_SELECT_PURCHASE_FREQUENCY);if(1==e.isRepeated&&o&&o.getDate()>28)return void t.makeToast(STRING_TABLE.INVALID_PLAN_DATE);if(o){e.dt=o;{o.getDate()}e.$apply()}T()})},e.getTransDateDesc=function(){if(e.dt&&void 0!=e.isRepeated){var o=t.getYYYYMMDDStringByDate(e.dt,"-");return e.isRepeated?"将于每月"+e.dt.getDate()+"日23:59之前执行，"+o+"执行第一期":"将在"+o+"当天23:59之前执行"}};var D=function(o,a){e.showLoading=!1;var n={};e.webankAccount.isWebankAccountSelected?n.bankName="微众银行卡":(n.cardNo=e.cardInfo.cardNo,n.cardType=e.cardInfo.cardType,n.bankName=e.cardInfo.bankName),n.isRepeated=e.isRepeated,n.freqDesc=e.freqDesc,n.dateDesc=t.getYYYYMMDDStringByDate(e.dt,"-"),n.typeDesc="购买",A&&A.id?"modify"==L?n.actionType="修改":"del"==L&&(n.actionType="删除"):n.actionType="添加",n.amount=parseFloat(e.amount).toFixed(2),n.msg=a,n.status=o?"success":"failed",n.nextDate=t.getYYYYMMDDStringByDate(e.dt),c.path("/transferPlanResult").search(n).replace()},S=function(t){o.requestAddTransPlan(t).then(function(e){D(!0,e.ret_msg)},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&p.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&p.goPage()}):D(!1,t.ret_msg)})},h=function(t){o.requestModifyTransPlan(t).then(function(e){D(!0,e.ret_msg)},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&p.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&p.goPage()}):D(!1,t.ret_msg)})},N=function(t){o.requestDeleteTransPlan(t).then(function(){c.path("/plan")},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&p.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&p.goPage()}):D(!1,t.ret_msg)})},P=function(){if(e.webankAccount.isWebankAccountSelected)return!1;var t=gBankLimit[e.cardInfo.bankBinCode];return t&&parseFloat(e.amount)>t.perOne?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="超过银行卡限额，"+e.cardInfo.bankName+e.cardInfo.cardType+"单笔"+t.perOne+"，单日"+t.perDay,e.outValue.oneButtonText="知道了",e.outValue.popClose=function(){},!0):!1},I=function(){return e.amount&&w()?e.freqDesc?e.dt?e.isAgreed?P()?!1:!0:(t.makeToast(STRING_TABLE.PLEASE_CHECK_AGREE_USER_PROTOCOL),!1):(t.makeToast(STRING_TABLE.INVALID_DATE),!1):(t.makeToast(STRING_TABLE.INVALID_FREQUENCY),!1):(t.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},L="",V=function(){e.showLoading=!0,e.remark||(e.remark=e.prodName);var o={};o.job_type=1,o.use_webank_card=e.webankAccount.isWebankAccountSelected,o.card_no=e.cardInfo.cardNo,o.amount=e.amount,o.next_time=t.getYYYYMMDDStringByDate(e.dt),o.is_repeat=e.isRepeated,o.password=e.vm.formData.confirmPassword.RSA,o.bank_no=e.cardInfo.bankBinCode,o.bank_name=e.cardInfo.bankName,o.product_code=e.prodCode,o.remark=e.remark,A&&A.id?(o.id=A.id,"modify"==L?h(o):"del"==L&&N(o)):S(o)},R=function(){if(!I())return!1;var o=t.getYYYYMMDDStringByDate(e.dt,"-");e.isRepeated&&(o=o+"起，每月"+e.dt.getDate()+"日"),e.pwdSubTitle=o+"购买"+e.prodName,e.pwdTransDesc=parseFloat(e.amount).toFixed(2)+"元";var a="使用";e.webankAccount.isWebankAccountSelected?a+=STRING_TABLE.WEBANK_CARD:(a+=e.cardInfo.bankName,a+=e.cardInfo.cardType,a+=t.abridgeAccountNumber(e.cardInfo.cardNo)),a+="付款",e.payWayDesc=a,e.isPwdShow=!0};e.onClickAddPlan=function(){"btn-c off"!=e.btnCls&&(L="add",R())},e.onClickDeletePlan=function(){L="del",e.pwdSubTitle="删除计划",e.isPwdShow=!0};var y=function(){if(e.amount==A.amount&&t.getYYYYMMDDStringByDate(e.dt)==A.nextTime&&A.isRepeat==e.isRepeated){if(A.useWebankCard==e.webankAccount.isWebankAccountSelected)return!1;if(e.cardInfo.cardNo==A.cardNo)return!1}return!0};e.onClickModifyPlan=function(){if("btn-c off"!=e.btnCls){if(!y())return void t.makeToast(STRING_TABLE.PLAN_NOT_MODIFIED);L="modify",R()}},e.back=function(){var e=f.getCallbackPage();f.setCallbackPage(""),c.path(e?e:"/plan")},e.$watch("sigOnPwdCommit",function(t,o){t!==o&&(e.isPwdShow=!1,V())}),e.bindNewCard=function(){s.goPage()}}]);app.controller("RedeemPlanController",["$scope","utils","cgiService","GLOBAL_CONSTANT","homeService","essential","$location","webankCommonService","cache","$stateParams","BindNewCardService","$timeout","ResetPasswdService",function(e,t,o,a,n,c,r,d,u,i,s,l,f){var p=d.parseRawWealthData_V2(u.getCacheInfo("wealth")),m=gMonetrayProdCodeToProdDetailInfo[gMonetaryOnSaleInfo[0].prod_code];e.prodName="",e.planDesc="货币基金",e.prodCode=0,m&&(e.prodName=m.prodName,e.prodCode=m.prodCode,e.planDesc=e.planDesc+" ("+e.prodName+")"),e.isPwdShow=!1,e.baseAccountAmount=p.BankAmount,e.isPayWayShow=!1,e.webankAccount={},e.webankAccount.amount=p.BankAmount,e.webankAccount.isShow=!0,e.webankAccount.isAvaliable=!0,e.webankAccount.isWebankAccountSelected=!0,e.cardInfo={},e.bindCardList=d.getValidBandCardList(),e.onSelectPayWay=function(){e.isPayWayShow=!0,e.isPwdShow=!1};var w=function(){var o=parseFloat(e.amount);return""!=e.amount&&e.amount&&!isNaN(o)&&o>=0&&t.isValidTransferAmount(e.amount)},b=function(){parseFloat(p.BankAmount)<parseFloat(e.amount)&&e.bindCardList.length>0&&(e.webankAccount.isWebankAccountSelected=!1,e.cardInfo.bankBinCode=e.bindCardList[0].other_bank_bin_code,e.cardInfo.userName=e.bindCardList[0].other_name,e.cardInfo.cardNo=e.bindCardList[0].other_account,e.cardInfo.cardTypeCode=e.bindCardList[0].other_card_type_code,e.cardInfo.cardType=e.bindCardList[0].other_card_type,e.cardInfo.bankName=e.bindCardList[0].other_bank_name)};e.checkInputAmount=function(){w()?(e.showInputAmountTips=!1,e.webankAccount.isWebankAccountSelected&&b()):(e.showInputAmountTips=!0,e.inputAmountTipsContent=STRING_TABLE.INVALID_TRANS_AMOUNT),e.amount=parseFloat(parseFloat(e.amount).toFixed(2)),A()};var _=new Date;_.setDate(_.getDate()+1),e.showSelectFreq=!1,e.hasOldPlan=!1;var T=JSON.parse(i.plan?i.plan:"{}");if(T&&T.id){if(e.hasOldPlan=!0,e.amount=parseFloat(T.amount),T.useWebankCard)e.webankAccount.isWebankAccountSelected=!0;else{e.webankAccount.isWebankAccountSelected=!1,e.cardInfo.bankBinCode=T.bank_no,e.cardInfo.cardNo=T.cardNo;var k=u.getCacheInfo("personalInfo");if(k&&k.bind_cards_list)for(var D in k.bind_cards_list)if(k.bind_cards_list[D].other_account===T.cardNo){e.cardInfo.userName=k.bind_cards_list[D].other_name,e.cardInfo.cardType=k.bind_cards_list[D].other_card_type,e.cardInfo.bankName=k.bind_cards_list[D].other_bank_name,e.cardInfo.bankBinCode=k.bind_cards_list[D].other_bank_bin_code;break}}e.prodName=m?m.prodName:"未知理财产品",e.dt=t.getDateByYYYYMMDDString(T.nextTime);var g=e.dt.getDate();e.planDateDesc=10>g?"0"+g+"日":""+g+"日","0"==T.isRepeat?(e.isRepeated=0,e.freqDesc="仅此一次"):(e.isRepeated=1,e.freqDesc="每月一次")}e.getTransDateDesc=function(){if(e.dt&&void 0!=e.isRepeated){var o=t.getYYYYMMDDStringByDate(e.dt,"-");return e.isRepeated?"每月"+e.dt.getDate()+"日23:59之前执行，"+o+"执行第一期":o+" 23:59之前执行"}},e.onClickCloseFrequencySelector=function(){e.showSelectFreq=!1},e.onClickOnlyOnce=function(){e.freqDesc="仅此一次",e.isRepeated=0,e.showSelectFreq=!1,A()},e.onClickRepeatPerMonth=function(){e.freqDesc="每月一次",e.isRepeated=1,e.showSelectFreq=!1,e.dt&&e.dt.getDate()>28&&(e.dt=null),A()},e.onSelectFreq=function(){e.showSelectFreq=!0},e.onSelectDate=function(){var o,a={date:_,minDate:_.valueOf(),mode:"date"},n={date:_,minDate:_,mode:"date"};o=t.isiOSDevice()?n:a,datePicker.show(o,function(o){if(1==e.isRepeated&&o&&o.getDate()>28)return void t.makeToast(STRING_TABLE.INVALID_PLAN_DATE);if(o){e.dt=o;var a=o.getDate();e.planDateDesc=a+"日",l(function(){e.$apply()},100)}A()})};var A=function(){e.amount&&e.dt&&void 0!==e.isRepeated?(e.btnCls="btn-c",l(function(){e.$apply()},100)):e.btnCls="btn-c off"};A();var h=function(o,a){e.showLoading=!1;var n={};e.webankAccount.isWebankAccountSelected?n.bankName="微众卡":(n.cardNo=e.cardInfo.cardNo,n.cardType=e.cardInfo.cardType,n.bankName=e.cardInfo.bankName),n.freqDesc=e.freqDesc,n.dateDesc=t.getYYYYMMDDStringByDate(e.dt,"-"),n.isRepeated=e.isRepeated,n.typeDesc="取出",T&&T.id?"modify"==V?n.actionType="修改":"del"==V&&(n.actionType="删除"):n.actionType="添加",n.amount=parseFloat(e.amount).toFixed(2),n.msg=a,n.status=o?"success":"failed",n.nextDate=t.getYYYYMMDDStringByDate(e.dt),r.path("/transferPlanResult").search(n).replace()},S=function(t){o.requestAddTransPlan(t).then(function(e){h(!0,e.ret_msg)},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&f.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&f.goPage()}):h(!1,t.ret_msg)})},C=function(t){o.requestModifyTransPlan(t).then(function(e){h(!0,e.ret_msg)},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&f.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&f.goPage()}):h(!1,t.ret_msg)})},N=function(t){o.requestDeleteTransPlan(t).then(function(){r.path("/plan")},function(t){e.showLoading=!1,d.isRetCodePwd(t.ret_code)?d.isRetCodePwdRetry(t.ret_code)?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="重试",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(t){1==t?e.isPwdShow=!0:2==t&&f.goPage()}):(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft=t.ret_msg,e.outValue.twoButtonText1="取消",e.outValue.twoButtonText2="忘记密码",e.outValue.popClose=function(e){1==e||2==e&&f.goPage()}):h(!1,t.ret_msg)})},I=function(){if(e.webankAccount.isWebankAccountSelected)return!1;var t=gBankLimit[e.cardInfo.bankBinCode];return t&&parseFloat(e.amount)>t.perOne?(e.outValue={},e.outValue.showPop=!0,e.outValue.oneLineTextLeft="超过银行卡限额，"+e.cardInfo.bankName+e.cardInfo.cardType+"单笔"+t.perOne+"，单日"+t.perDay,e.outValue.oneButtonText="知道了",e.outValue.popClose=function(){},!0):!1},P=function(){return e.amount&&w()?e.freqDesc?e.dt?I()?!1:!0:(t.makeToast(STRING_TABLE.INVALID_DATE),!1):(t.makeToast(STRING_TABLE.INVALID_FREQUENCY),!1):(t.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},V="",y=function(){e.showLoading=!0,e.remark||(e.remark=e.prodName);var o={};o.job_type=2,o.use_webank_card=e.webankAccount.isWebankAccountSelected,o.card_no=e.cardInfo.cardNo,o.amount=e.amount,o.next_time=t.getYYYYMMDDStringByDate(e.dt),o.is_repeat=e.isRepeated,o.password=e.vm.formData.confirmPassword.RSA,o.bank_no=e.cardInfo.bankBinCode,o.bank_name=e.cardInfo.bankName,o.product_code=e.prodCode,o.remark=e.remark,T&&T.id?(o.id=T.id,"modify"==V?C(o):"del"==V&&N(o)):S(o)},L=function(){if(!P())return!1;var o=t.getYYYYMMDDStringByDate(e.dt,"-");e.isRepeated&&(o=o+"起，每月"+e.dt.getDate()+"日"),e.pwdSubTitle=o+"取出"+e.prodName,e.pwdTransDesc=parseFloat(e.amount).toFixed(2)+"元";var a="至";e.webankAccount.isWebankAccountSelected?a+=STRING_TABLE.WEBANK_CARD:(a+=e.cardInfo.bankName,a+=e.cardInfo.cardType,a+=t.abridgeAccountNumber(e.cardInfo.cardNo)),e.payWayDesc=a,e.isPwdShow=!0};e.onClickAddPlan=function(){"btn-c off"!=e.btnCls&&(V="add",L())},e.onClickDeletePlan=function(){V="del",e.pwdSubTitle="删除计划",e.isPwdShow=!0};var R=function(){if(e.amount==T.amount&&t.getYYYYMMDDStringByDate(e.dt)==T.nextTime&&T.isRepeat==e.isRepeated){if(T.useWebankCard==e.webankAccount.isWebankAccountSelected)return!1;if(e.cardInfo.cardNo==T.cardNo)return!1}return!0};e.onClickModifyPlan=function(){if("btn-c off"!=e.btnCls){if(!R())return void t.makeToast(STRING_TABLE.PLAN_NOT_MODIFIED);V="modify",L()}},e.back=function(){r.path("/plan")},e.$watch("sigOnPwdCommit",function(t,o){t!==o&&(e.isPwdShow=!1,y())}),e.bindNewCard=function(){s.goPage()}}]);app.controller("TransRecordController",["$scope","cgiService","utils","cache","TransRecordService","$timeout","GLOBAL_CONSTANT","$ionicScrollDelegate",function(t,e,n,a,s,r,i,o){var c=t.data={},u=o.$getByHandle("myScroll");c.tabData={all:{timeStart:"",timeEnd:"",timeOpt:0,timeShow:!1,operationOpt:0,operationShow:!1,startTime:null,endTime:null},financial:{timeStart:"",timeEnd:"",timeOpt:0,timeShow:!1,operationOpt:0,operationShow:!1,startTime:null,endTime:null},deposit:{timeStart:"",timeEnd:"",timeOpt:0,timeShow:!1,operationOpt:0,operationShow:!1,startTime:null,endTime:null},depositPlus:{timeStart:"",timeEnd:"",timeOpt:0,timeShow:!1,operationOpt:0,operationShow:!1,startTime:null,endTime:null}},c.tab="all";var l=s.getData();l&&l.tab&&(c.tab=l.tab),c.tab="all";var _=c.tabData[c.tab],d=function(){e.requestUserWealth().then(function(){},function(){})},m=function(){d(),p(),b()},p=function(){_.startTime||(_.startTime=new Date((new Date).setDate((new Date).getDate()-7)),c.dtStart=_.startTime),_.endTime||(_.endTime=new Date,c.dtEnd=_.endTime)},f="week";t.onClickTimeSelect=function(t){c.dtStart=new Date,c.dtEnd=new Date,"week"==t?c.dtStart.setDate(c.dtStart.getDate()-7):"month"==t?c.dtStart.setDate(c.dtStart.getDate()-30):"month3"==t&&c.dtStart.setDate(c.dtStart.getDate()-90),f=t,_.startTime=c.dtStart,_.endTime=c.dtEnd,b(!0)},t.onClassTimeSelect=function(t){return t==f?"q on":"q"},t.onClassOption=function(t){return"time"==t?c.tabData[c.tab].timeShow?"show-w":"close":c.tabData[c.tab].operationShow?"op-t show-w":"op-t close"},t.onClassMenu=function(t){return t==_.operationOpt?"px-b on":"px-b"},t.onClickTime=function(e){var a=(new Date).getTime();if(n.isiOSDevice()&&(a=new Date),"start"==e){var s={date:_.startTime,maxDate:a,mode:"date"};datePicker.show(s,function(e){e&&_.startTime!=e&&(_.startTime=e,c.dtStart=e,f="none",t.$apply())})}else{var s={date:_.endTime,maxDate:a,mode:"date"};datePicker.show(s,function(e){e&&_.endTime!=e&&(_.endTime=e,c.dtEnd=e,f="none",t.$apply())})}},t.onClickTimeSubmit=function(){b(!0)},t.showFix=function(){return"all"!=c.tab},t.onClickItem=function(t){t.showSubList=!t.showSubList},t.onClassItem=function(t){var e="";return("出错"==t.status||"失败"==t.status)&&(e="close"),t.showSubList&&(e="show-w"),e},t.onClassStatus=function(t){return"处理中"==t.status||"已受理"==t.status?"po error":"出错"==t.status?"po error":"失败"==t.status?"po fail":"po"},t.onIfItem=function(t){return"出错"==t.status?!0:!1},t.onIfItem1=function(t){return"失败"==t.status?!0:!1},t.onIfDown=function(t){return"出错"==t.status||"失败"==t.status?!0:!1},c.all=!1,c.webank=!1,c.depositPlusList=[],c.depositList=[],c.financialList=[],c.allList=[],c.renderList=[];var h=a.getCacheInfo("personalInfo"),L="";h&&(L=h.webank_card_no);var T=null,S=null,b=function(t){T&&(r.cancel(T),T=null),t?c.showLoading=!0:(S&&(r.cancel(S),S=null),S=r(function(){c.showLoading=!0},500)),T=r(function(){c.showLoading=!1},1e4),t&&(c.depositPlusList=[],c.depositList=[],c.financialList=[],c.allList=[]);var e=_.startTime.getTime(),a=_.endTime.getTime();_.startTime>_.endTime&&(e=_.endTime.getTime(),a=_.startTime.getTime());var s=n.getYYYYMMDDStringByDate(new Date(e-432e6)),i=n.getYYYYMMDDStringByDate(new Date(a+432e6));w=[],D(s,i,t),g(s,i,t)},g=function(t,n,a){return c.all&&!a?(T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),void(c.showLoading=!1)):void e.requestAllTransList(t,n).then(function(t){if(c.all=!0,t&&t.ret_data&&t.ret_data.product_list){var e=t.ret_data.product_list;for(var n in e){var a=e[n];a.trans_type==i.TRANS_LOG_TYPE.PURCHASE?E(a):a.trans_type==i.TRANS_LOG_TYPE.REDEEM?O(a):a.trans_type==i.TRANS_LOG_TYPE.INSURANCE?y(a):a.trans_type==i.TRANS_LOG_TYPE.STOCK_PURCHASE?C(a):a.trans_type==i.TRANS_LOG_TYPE.STOCK_REDEEM?Y(a):a.trans_type==i.TRANS_LOG_TYPE.STOCK_CANCEL}k("other")}},function(){T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),c.showLoading=!1}).then(function(){T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),c.showLoading=!1})},D=function(t,n,a){return c.webank&&!a?(T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),void(c.showLoading=!1)):void e.requestWebankAccountTransList(t,n).then(function(t){c.webank=!0;var e=t.ret_data.product_list;for(var n in e){var a=e[n];a.trans_type==i.TRANS_LOG_TYPE.TRANS_IN?N(a):a.trans_type==i.TRANS_LOG_TYPE.TRANS_OUT&&R(a)}k("webank")},function(){T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),c.showLoading=!1}).then(function(){T&&(r.cancel(T),T=null),S&&(r.cancel(S),S=null),c.showLoading=!1})},v=function(){var t=[],e=new Date(_.startTime.getFullYear(),_.startTime.getMonth(),_.startTime.getDate()).getTime(),a=new Date(_.endTime.getFullYear(),_.endTime.getMonth(),_.endTime.getDate()).getTime(),s=e;e>a&&(e=a,a=s),a=new Date(a+864e5).getTime(),$.each(c.allList,function(s,r){if(r.date&&r.date.length>=8){var i=n.getDateByYYYYMMDDString(r.date).getTime();i>=e&&a>i&&t.push(r)}}),c.renderList=t,r(function(){u.resize()},50)},w=[],k=function(t){if("webank"==t?w[0]=t:"other"==t&&(w[1]=t),w[0]&&w[1]){var e=function(t,e){return t.date!=e.date?e.date-t.date:t.time!=e.time?e.time-t.time:e.serno-t.serno},n=[],a=[],s={};$.each(c.financialList,function(t,e){s[e.trans_serno]=1,e.subList=[],$.each(c.depositList,function(t,n){n.trans_serno==e.trans_serno&&e.subList.push(n)}),$.each(c.depositPlusList,function(t,n){n.trans_serno==e.trans_serno&&e.subList.push(n)})}),$.each(c.depositPlusList,function(t,e){s[e.trans_serno]||a.push(e)}),c.depositPlusList=a,$.each(c.depositPlusList,function(t,e){s[e.trans_serno]=1,e.subList=[],$.each(c.depositList,function(t,n){n.trans_serno==e.trans_serno&&e.subList.push(n)})}),$.each(c.depositList,function(t,e){s[e.trans_serno]||n.push(e)}),$.each(c.depositPlusList,function(t,e){if(e.subList.length>0){var n=[];$.each(e.subList,function(t,a){"失败"==a.status?e.status="出错":n.push(a)}),e.subList.sort(function(t){return"失败"==t.status?1:void 0}),"出错"==e.status}}),$.each(c.financialList,function(t,e){if(e.subList.length>0){var n=[];$.each(e.subList,function(t,a){"失败"==a.status?e.status="出错":n.push(a)}),e.subList.sort(function(t){return"失败"==t.status?1:void 0}),"出错"==e.status}}),c.depositList=n,c.allList=c.financialList.concat(c.depositList,c.depositPlusList),c.allList.sort(e),w[0]&&w[1]&&v()}},P=function(t){return 0==t?"处理中":1==t?"已受理":2==t||4==t||6==t||9==t?"失败":5==t?"已撤单":""},E=function(t){var e={};if(e.remark=t.self_tranc_desc,e.preFix="+",e.status=P(t.trans_status),e.cardNo=t.card_no,e.serno=t.trans_serno,e.amountStr=A(t.trans_amt,2)+"元",e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,t.bank_name&&t.acct_no){var n=t.card_type||" ";e.bankDesc=t.bank_name+n+"("+t.acct_no.substr(t.acct_no.length-4)+") 付款"}c.depositPlusList.push(e)},O=function(t){var e={};if(e.remark=t.self_tranc_desc,e.preFix="-",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.serno=t.trans_serno,e.amountStr=A(t.trans_amt,2)+"元",e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,t.bank_name&&t.acct_no){var n=t.card_type||" ";e.bankDesc="到 "+t.bank_name+" "+n+"("+t.acct_no.substr(t.acct_no.length-4)+")"}c.depositPlusList.push(e)},C=function(t){var e={};e.remark=t.self_tranc_desc;var n=gStockProdCodeToProdDetailInfo[t.prod_code];if(n&&(e.remark=e.remark.replace(/股基|定期/,n.onSaleDesc)),e.preFix="+",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.serno=t.trans_serno,e.amountStr=A(t.trans_amt,2)+"元",e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,t.bank_name&&t.acct_no){var a=t.card_type||" ";e.bankDesc=t.bank_name+""+a+"("+t.acct_no.substr(t.acct_no.length-4)+") 付款"}c.financialList.push(e),c.allList.push(e)},Y=function(t){var e={};e.remark=t.self_tranc_desc;var n=gStockProdCodeToProdDetailInfo[t.prod_code];if(n&&(e.remark=e.remark.replace(/股基|定期/,n.onSaleDesc)),e.preFix="-",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.serno=t.trans_serno,e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,e.amountStr=1*t.trans_amt>0?A(t.trans_amt,2)+"元":A(t.applicationvol)+"份",t.bank_name&&t.acct_no){var a=t.card_type||" ";e.bankDesc="到 "+t.bank_name+" "+a+"("+t.acct_no.substr(t.acct_no.length-4)+")"}c.financialList.push(e),c.allList.push(e)},y=function(t){var e={};e.remark=t.self_tranc_desc;var n=gProdCodeToProdDetailInfo[t.prod_code];if(n&&e.remark&&(e.remark=e.remark.replace(/股基|定期/,n.onSaleDesc+"("+n.valueDate.substr(4,4)+")期")),e.preFix="+",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.serno=t.trans_serno,e.amountStr=A(t.trans_amt,2)+"元",e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,t.bank_name&&t.acct_no){var a=t.card_type||" ";e.bankDesc=t.bank_name+""+a+"("+t.acct_no.substr(t.acct_no.length-4)+") 付款"}c.financialList.push(e),c.allList.push(e)},A=function(t,e){for(var n=parseFloat(t).toFixed(e||0),a=n.split("."),s=a[0].split("").reverse(),r="",i=0;i<s.length;i++)r+=s[i]+((i+1)%3==0&&i+1!=s.length?",":"");return r=r.split("").reverse().join(""),void 0!=a[1]&&(r+="."+a[1]),r},N=function(t){var e={};e.remark=t.self_tranc_desc,e.preFix="+",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.amountStr=A(t.trans_amt,2)+"元",e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,c.depositList.push(e),c.allList.push(e)},R=function(t){var e={};e.remark=t.self_tranc_desc,e.preFix="-",e.status=P(t.trans_status),e.date=t.trans_date,e.time=t.trans_time,e.dateStr=I(t.trans_date,t.trans_time),e.amountStr=A(t.trans_amt,2)+"元",e.trans_serno=t.trans_serno,e.errLog=t.ori_rtn_desc,c.depositList.push(e),c.allList.push(e)},I=function(t,e){var n="";return t&&t.length>=8&&(n+=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2),e&&e.length>=4&&(n+=" "+e.substr(0,2)+":"+e.substr(2,2))),n};m(),t.back=function(){s.backPage()}}]);app.controller("TransferHomeController",["$scope","$location","$stateParams","utils","cgiService","essential","GLOBAL_CONSTANT","cache","messageService","$interval","BindNewCardService","BindingCardDetailService","WebankCardService","TransferOutService","TransferInService","$timeout","LoginService","$ionicViewSwitcher","TransRecordService",function(n,a,t,e,o,i,r,c,s,l,u,g,d,m,f,_,p,h,k){var T=n.data={},C=n.func={},S=t.param,b=null,y=function(n){var a={};a.lastModifyTimestamp=n.last_modify_timestamp,a.name=n.remark,a.jobType=n.job_type,a.amount=parseFloat(n.amount).toFixed(2),a.typeDesc=1==n.job_type||3==n.job_type?"转入"+a.amount+"元":"转出"+a.amount+"元",a.nextTime=n.next_time,a.isRepeat=n.is_repeat,a.producCode=n.product_code,a.id=n.id,a.bankName=n.bank_name,a.bankNo=n.bank_no,a.cardNo=n.card_no;var t=e.getDateByYYYYMMDDString(a.nextTime);t&&(a.dateDesc=1==a.isRepeat?"每月"+t.getDate()+"日":e.getYYYYMMDDStringByDate(t,"-")),T.commonPlanList.push(a)},v=function(n){for(var a in n)n[a].categry&&1==n[a].categry?(T.salaryPlan={},T.salaryPlan.amountDesc="转入"+parseFloat(n[a].amount).toFixed(2)+"元",T.salaryPlan.dateDesc="每月"+e.getDateByYYYYMMDDString(n[a].next_time).getDate()+"日",T.salaryPlan.planInfo=n[a]):n[a].categry&&2==n[a].categry?(T.mortgage={},T.mortgage.amountDesc="转出"+parseFloat(n[a].amount).toFixed(2)+"元",T.mortgage.dateDesc="每月"+e.getDateByYYYYMMDDString(n[a].next_time).getDate()+"日",T.mortgage.planInfo=n[a]):y(n[a]);T.commonPlanList.sort(function(n,a){return n.lastModifyTimestamp-a.lastModifyTimestamp})},P=function(n){v(n.ret_data),c.setCacheInfo("planList",n.ret_data)},A=function(){},D=function(){T.showLoading=!1},R=function(){var n=c.getUserStatus();n==r.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT&&(T.showLoading=!0,o.requestTransPlans().then(P,A).then(D))},B=function(){z(),b=l(function(){z()},1e5),_(function(){T.showLoading=!1},15e3);var n=c.getCacheInfo("planList");n&&"updatePlan"!=S?v(n):R(),L()},L=function(){if(n.data.status=c.getUserStatus(),n.data.status==r.ACCOUNT_STATE.USER_STATE_HAS_ACCOUNT){n.data.isLogin=!0,n.data.isHasAccount=!0;var a=c.getUserInfo();n.data.avatarUrl=a.picurl||"../img/tx@2x.png"}else if(n.data.status==r.ACCOUNT_STATE.USER_STATE_LOGIN){n.data.isLogin=!0,n.data.isHasAccount=!1;var a=c.getUserInfo();n.data.avatarUrl=a.picurl||"../img/tx@2x.png"}else n.data.isLogin=!1,n.data.isHasAccount=!1};T.commonPlanList=[],T.salaryPlan=null,T.mortgagePlan=null,T.mainCard={num:0},T.cardList=[];var M={102100099996:"#c94941",103100000026:"#20977f",104100000004:"#c94941",105100000017:"#445c95",301290000007:"#4447b0",302100011000:"#c94941",306581000003:"#c94941",303100000006:"#9b50b3",308584000013:"#af4846",313584099990:"#df8448",305100000013:"#445c95",309391000011:"#445c95",310290000013:"#4447b0",403100000004:"#21995c",313290000017:"#5e7ee2",304100040000:"#af4846",0:"#af4846",313100000013:"#c94941"},N=c.getCacheInfo("personalInfo");if(null!=N){N.webank_card_no&&(T.mainCard.number=N.webank_card_no,T.mainCard.bankName="微众卡",T.mainCard.num=1,T.mainCard.bankImg="../img/bankHead/yh-0@2x.png");var U=N.bind_cards_list,x=0;for(var I in U)if(0!=U[I].status){var E={};E.numberMask="**** **** **** "+U[I].other_account.substring(12),E.number=U[I].other_account,E.bankName=U[I].other_bank_name,E.cardType=U[I].other_card_type,E.cardBinCode=U[I].other_bank_bin_code,E.bankImg="../img/bankHead/yh-"+(U[I].other_bank_bin_code||0)+"@2x.png",E.bankBgImg="../img/bankHead/yh-"+(U[I].other_bank_bin_code||0)+"@bg.png",E.cardStyle={"background-color":M[U[I].other_bank_bin_code||0]||M[0]},T.cardList[x++]=E}}C.isUserRegistered=function(){var n=c.getUserStatus();return n!=r.ACCOUNT_STATE.USER_STATE_GUEST&&n!=r.ACCOUNT_STATE.USER_STATE_LOGIN},C.onClickTransferOut=function(){e.clickButtonReport("zhuanzhang_zhuanchu"),m.goPage()},C.onClickTransferIn=function(){e.clickButtonReport("zhuanzhang_zhuanru"),f.goPage()},n.onClickViewCardInfoBtn=function(n){g.goPage(null,n)},C.onClickBindNewCard=function(){e.clickButtonReport("zhuanzhang_tianjiaka"),u.goPage()},C.onClickAssetTab=function(){if(h.nextTransition("none"),C.isUserRegistered()){var n={};n.refresh=!0,a.path("/home").search(n)}else a.path("/default")},C.onClickSettingsBtn=function(){h.nextDirection("back"),e.clickButtonReport("index_home"),s.clickRedPoint(),a.path("/accountSettings/transHome")},C.onClickFinancialTab=function(){h.nextTransition("none"),e.clickButtonReport("index_finance"),a.path("/financialRecommend").replace()},C.onClickCommunity=function(){e.clickButtonReport("index_community"),a.path("/community")},C.onClickTransLog=function(){k.goPage()},C.back=function(){},C.onClickMakePlan=function(){return e.clickButtonReport("zhuanzhang_zidingyi"),T.commonPlanList.length>=5?void e.makeToast("对不起，最多只能制定5个转账计划"):void a.path("/plan")},C.onClickCommonPlan=function(n){a.path("/plan/"+JSON.stringify(n))},C.onClickSalaryPlan=function(){e.clickButtonReport("zhuanzhang_gongzi"),a.path("/planSalary")},C.onClickMortgagePlan=function(){e.clickButtonReport("zhuanzhang_fangdai"),a.path("/planMortgage")},C.onClickModifySalaryPlan=function(n){a.path("/planSalary").search(n)},C.onClickModifyMortgagePlan=function(n){a.path("/planMortgage").search(n)},C.onClickLoginRegin=function(){e.makeToast(STRING_TABLE.BEGIN_TO_LOGIN,"short"),_(function(){p.setCallbackPage("transHome","transHome"),a.path("/login")},1e3)},T.showMsgDot=!1;var z=function(){s.getRedPoint().then(function(n){T.showMsgDot=n?!0:!1})};n.onClickMainCard=function(){d.goPage()},n.$on("$destroy",function(){b&&l.cancel(b),b=null}),B()}]);app.controller("TransferInController",["$scope","$location","$stateParams","utils","cgiService","essential","cache","webankCommonService","GLOBAL_CONSTANT","BindNewCardService","ResetPasswdService","TransferInService","MonetaryService","MonetaryIncomeRulesService",function(t,a,n,e,c,o,r,u,A,s,i,T,_,D){var l=t.data={},d=t.func={},p=r.getCacheInfo("wealth"),y=u.parseRawWealthData_V2(p),C={},P=!1,f=function(){l.isAgreed=!0,l.agreementDesc="服务协议及风险提示",l.agreementCode=gMonetaryOnSaleInfo[0].prod_code},R=function(){var t="",a=null,n=new Date;0==n.getDay()||6==n.getDay()?(a=e.getNextWorkDay(2),a.setDate(a.getDate()+1)):n.getHours()<15?(a=e.getNextWorkDay(1),a.setDate(a.getDate()+1)):(a=e.getNextWorkDay(2),a.setDate(a.getDate()+1)),t=a.getMonth()+1+"-"+a.getDate()+" ("+e.getWeekdayByDate(a)+")",l.currentPlusAccountDesc=t},m=function(){return l.payAccountData.ctrlData.accountType},N=function(){return l.recvAccountData.ctrlData.accountType},E=function(){return N()==A.ACCOUNT_TYPE.WEBANK_CARD?"微众卡":N()==A.ACCOUNT_TYPE.CURRENT_PLUS?"活期+":""},h=function(){if(m()==A.ACCOUNT_TYPE.WEBANK_CARD)return"微众卡";if(m()==A.ACCOUNT_TYPE.CURRENT_PLUS)return"活期+";var t="";return t+=l.payAccountData.otherBankAccount.cardInfo.bankName,t+=l.payAccountData.otherBankAccount.cardInfo.cardType,t+=e.abridgeAccountNumber(l.payAccountData.otherBankAccount.cardInfo.cardNo)},k=function(t){l.showLoading=!1,C.result=t.retCode,t.retCode==A.CGI_RET.CGI_UNKNOW_ERROR?I(t.retMsg):v()},w=function(t,a){u.checkProcessingState(t,a).then(k)},S=function(){if(l.payAccountData.ctrlData.accountType!=A.ACCOUNT_TYPE.OTHER_BANK_CARD)return!1;var t=gBankLimit[l.payAccountData.otherBankAccount.cardInfo.bankBinCode];return t?parseFloat(l.amount)>t.perOne?(l.outValue={},l.outValue.showPop=!0,l.outValue.oneLineTextLeft="超过银行卡限额，"+l.payAccountData.otherBankAccount.cardInfo.bankName+l.payAccountData.otherBankAccount.cardInfo.cardType+"单笔"+t.perOne,parseFloat(t.perDay)>0&&(l.outValue.oneLineTextLeft+="，单日"+t.perDay),l.outValue.oneButtonText="知道了",l.outValue.popClose=function(){},!0):void 0:!1},g=function(){if(l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD){if(parseFloat(y.BankAmount)<parseFloat(l.amount))return e.makeToast("微众卡余额不足"),!1}else if(l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS&&parseFloat(y.HJAmount)<parseFloat(l.amount))return e.makeToast("活期+余额不足"),!1;return!0},B=function(t,a){u.isRetCodePwdRetry(t)?(l.outValue={},l.outValue.showPop=!0,l.outValue.oneLineTextLeft=a,l.outValue.twoButtonText1="重试",l.outValue.twoButtonText2="忘记密码",l.outValue.popClose=function(t){1==t?l.isPwdShow=!0:2==t&&i.goPage()}):(l.outValue={},l.outValue.showPop=!0,l.outValue.oneLineTextLeft=a,l.outValue.twoButtonText1="取消",l.outValue.twoButtonText2="忘记密码",l.outValue.popClose=function(t){1==t||2==t&&i.goPage()})},v=function(){a.path("/transInResult").search(C)},U=function(t){C.result=t.ret_code,u.isProcessingState(t.ret_code)?w(A.ORDER_QUERY_TYPE.PURCHASE,t.ret_data.trans_serno):(l.showLoading=!1,v())},L=function(t){l.showLoading=!1,C.result=t.ret_code,C.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?B(t.ret_code,t.ret_msg):I(t.ret_msg)},O=function(t){C.result=t.ret_code,u.isProcessingState(t.ret_code)?w(A.ORDER_QUERY_TYPE.TRANSIN,t.ret_data.trans_serno):(l.showLoading=!1,v())},I=function(t){return l.outValue={},l.outValue.showPop=!0,l.outValue.oneLineTextLeft=t,l.outValue.oneButtonText="知道了",l.outValue.popClose=function(){},!0},b=function(t){l.showLoading=!1,C.result=t.ret_code,C.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?B(t.ret_code,t.ret_msg):I(t.ret_msg)},Y=function(t){C.result=t.ret_code,u.isProcessingState(t.ret_code)?w(A.ORDER_QUERY_TYPE.REDEEM,t.ret_data.trans_serno):(l.showLoading=!1,v())},V=function(t){l.showLoading=!1,C.result=t.ret_code,C.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?B(t.ret_code,t.ret_msg):I(t.ret_msg)},W=function(){var a={};a.use_webank_card=!0,a.user_pwd=t.vm.formData.confirmPassword.RSA,a.transaction_amount=l.amount,a.product_code=gMonetaryOnSaleInfo[0].prod_code,a.remark="赎回货基",c.requestRedeemMonetaryFund(a).then(Y,V)},x=function(){var a=l.payAccountData.otherBankAccount.cardInfo,n={};l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD?n.use_webank_card=!0:(n.use_webank_card=!1,n.bank_code=a.bankBinCode,n.card_no=a.cardNo),n.transaction_amount=l.amount,n.product_code=gMonetaryOnSaleInfo[0].prod_code,n.user_pwd=t.vm.formData.confirmPassword.RSA,n.remark="购买货基",c.requestPurchaseMonetaryFund(n).then(U,L)},K=function(){var a=l.payAccountData.otherBankAccount.cardInfo;c.requestBaseAccountTransIn(a.userName,a.cardNo,a.bankName,a.bankBinCode,l.amount,t.vm.formData.confirmPassword.RSA).then(O,b)},F=function(){C.transType=l.transType,C.payAccountDesc=h(),C.recvAccountDesc=E(),C.transAmount=l.amount,C.accountType=l.recvAccountData.ctrlData.accountType,C.recvAccountData=l.recvAccountData,C.payAccountData=l.payAccountData,l.showLoading=!0,l.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD&&l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.OTHER_BANK_CARD?K():l.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS?x():l.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD&&l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS&&W()},M=function(){l.pwdSubTitle="转入"+E(),l.pwdTransDesc=parseFloat(l.amount).toFixed(2)+"元";var t="使用";t+=h(),t+="付款",l.payWayDesc=t,l.isPwdShow=!0},H=function(){return e.isValidTransferAmount(l.amount)&&l.amount?l.isAgreed?l.payAccountData.otherBankAccount.otherAccountList?!0:(e.makeToast(STRING_TABLE.INVALID_PAY_ACCOUNT),!1):(e.makeToast("请勾选用户协议"),!1):(e.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},J=function(){return l.amount&&l.isAgreed},G=function(){l.recvAccountData={},l.recvAccountData.currentPlus={},l.recvAccountData.currentPlus.amount=y.HJAmount,l.recvAccountData.currentPlus.priority=1,l.recvAccountData.currentPlus.isAvaliable=!0,l.recvAccountData.webankAccount={},l.recvAccountData.webankAccount.priority=2,l.recvAccountData.webankAccount.amount=y.BankAmount,l.recvAccountData.webankAccount.isAvaliable=!0,l.recvAccountData.ctrlData={},l.recvAccountData.ctrlData.title="请选择收款账户",l.recvAccountData.ctrlData.canBindNewCard=!1,l.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS,l.payAccountData={},l.payAccountData.ctrlData={},l.payAccountData.ctrlData.title="请选择付款账户",l.payAccountData.ctrlData.canBindNewCard=!0,l.payAccountData.otherBankAccount={};var t=u.getValidBandCardList();l.payAccountData.otherBankAccount.cardInfo={},l.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.OTHER_BANK_CARD,t&&t.length>0?(l.payAccountData.otherBankAccount.otherAccountList=t,l.payAccountData.otherBankAccount.cardInfo.bankBinCode=t[0].other_bank_bin_code,l.payAccountData.otherBankAccount.cardInfo.userName=t[0].other_name,l.payAccountData.otherBankAccount.cardInfo.cardNo=t[0].other_account,l.payAccountData.otherBankAccount.cardInfo.cardTypeCode=t[0].other_card_type_code,l.payAccountData.otherBankAccount.cardInfo.cardType=t[0].other_card_type,l.payAccountData.otherBankAccount.cardInfo.bankName=t[0].other_bank_name):l.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.INVALID_TYPE,l.transType==A.TRANS_TYPE.WEBANK_CARD?(l.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.WEBANK_CARD,l.payAccountData.currentPlus={},l.payAccountData.currentPlus.amount=y.HJAmount,l.payAccountData.currentPlus.priority=1,l.payAccountData.currentPlus.isAvaliable=!0):l.transType==A.TRANS_TYPE.CURRENT_PLUS?(l.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS,l.payAccountData.webankAccount={},l.payAccountData.webankAccount.priority=2,l.payAccountData.webankAccount.amount=y.BankAmount,l.payAccountData.webankAccount.isAvaliable=!0):l.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS},$=function(){l.transDesc=l.transType==A.TRANS_TYPE.WEBANK_CARD?"您可以将绑定银行卡中的资金转入到微众卡中，获得更高收益":l.transType==A.TRANS_TYPE.CURRENT_PLUS?"您可以将绑定银行卡中的资金转入到活期+中，获得更高收益":"您可以将绑定银行卡中的资金转入到活期+或微众卡中，获得更高收益"},q=function(){var t=null;l.transType==A.TRANS_TYPE.WEBANK_CARD?t="webankCard":l.transType==A.TRANS_TYPE.CURRENT_PLUS&&(t="monetaryMyProdDetail/"+gMonetaryOnSaleInfo[0].prod_code),C.callback=l.callback=t},Q=function(){l.currentPlusPurchaseLimitDesc="",l.currentPlusRedeemLimitDesc="";for(var t in p.financial_products){var a=p.financial_products[t];if(a.prod_type==A.PROD_TYPE.HJ){l.currentPlusPurchaseLimitDesc="今天还可转入到活期+ "+(parseInt(a.tol_d_in_num)-parseInt(a.day_tot_buy_num))+"次，",l.currentPlusRedeemLimitDesc="今天还可从活期+转出 "+(parseInt(a.tol_d_max_out_num)-parseInt(a.day_tot_redeem_num))+"次，";break}}},z=function(){q(),G(),$(),R(),f(),Q()};l.isPwdShow=!1,l.isPwdAutoShow=!1,l.transType=T.getData()&&T.getData().type,T.setData(null),l.ACCOUNT_TYPE=A.ACCOUNT_TYPE,d.getRecvAccount=function(){return l.recvAccountData.ctrlData.accountType},d.getPayAccount=function(){return l.payAccountData.ctrlData.accountType},d.getCurrentBankLimit=function(){var t=gBankLimit[l.payAccountData.otherBankAccount.cardInfo.bankBinCode];return t?t.perOne:-1},d.bindCard=function(){T.saveSession(l),s.goPage()},d.onSelectPayWay=function(){d.showPaymentAccountSelector()},d.onSelectReceiveWay=function(){d.isRecvAccountShown()&&d.showReceivableAccountSelector()},d.onClickConfirmTransIn=function(){e.clickButtonReport("zhuanru_zhuanru"),H()&&(S()||g()&&M())},d.onPwdSelectPayWay=function(){l.isPwdShow?(l.isPwdAutoShow=!0,l.isPwdShow=!1):l.isPwdAutoShow=!1,P=!0,d.showPaymentAccountSelector()},d.checkConfirmBtnState=function(){return J()?"btn-c":"btn-c off"},d.onPayAccountSelected=function(){P&&(P=!1,M())},d.back=function(){T.backPage()},t.$watch("sigOnPwdCommit",function(t,a){t!==a&&(l.isPwdShow=!1,F())}),d.isRecvAccountShown=function(){return l.transType!=A.TRANS_TYPE.WEBANK_CARD&&l.transType!=A.TRANS_TYPE.CURRENT_PLUS},d.onClickTransAll=function(){l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS?l.amount=parseFloat(y.HJAmount):l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD&&(l.amount=parseFloat(y.BankAmount))},d.getAmountPlaceHolder=function(){return l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS?"最多转入"+parseFloat(y.HJAmount).toFixed(2)+"元":l.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD?"最多转入"+parseFloat(y.BankAmount).toFixed(2)+"元":"建议转入100.00以上"},d.onClickCurrentPlusDetails=function(){if(gMonetaryOnSaleInfo.length>0){var t=gMonetaryOnSaleInfo[0].prod_code;D.goPage(t)}},null!=T.getSession()&&(l=t.data=T.getSession(),T.clearSession()),z()}]);app.controller("TransferOutController",["$scope","$location","$stateParams","utils","cgiService","essential","cache","webankCommonService","GLOBAL_CONSTANT","BindNewCardService","ResetPasswdService","TransferOutService","MonetaryService","MonetaryIncomeRulesService",function(t,a,c,e,n,o,r,u,A,s,i,_,D,T){var d=t.data={},l=t.func={},y=r.getCacheInfo("wealth"),p=u.parseRawWealthData_V2(y),P={},C=!1,f=function(){var t=null,a=new Date;0==a.getDay()||6==a.getDay()?(t=e.getNextWorkDay(2),t.setDate(t.getDate()+1)):a.getHours()<15?(t=e.getNextWorkDay(1),t.setDate(t.getDate()+1)):(t=e.getNextWorkDay(2),t.setDate(t.getDate()+1)),d.currentPlusAccountDesc=t.getMonth()+1+"-"+t.getDate()+" ("+e.getWeekdayByDate(t)+")"},m=function(){var t=0;return d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD?t=p.BankAmount:d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS&&(t=p.HJAmount),t},R=function(){d.recvAccountData={},d.recvAccountData.ctrlData={},d.recvAccountData.ctrlData.title="请选择收款账户",d.recvAccountData.ctrlData.canBindNewCard=!0;var t=u.getValidBandCardList();d.recvAccountData.otherBankAccount={},d.recvAccountData.otherBankAccount.cardInfo={},d.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.OTHER_BANK_CARD,t&&t.length>0?(d.recvAccountData.otherBankAccount.otherAccountList=t,d.recvAccountData.otherBankAccount.cardInfo.bankBinCode=t[0].other_bank_bin_code,d.recvAccountData.otherBankAccount.cardInfo.userName=t[0].other_name,d.recvAccountData.otherBankAccount.cardInfo.cardNo=t[0].other_account,d.recvAccountData.otherBankAccount.cardInfo.cardTypeCode=t[0].other_card_type_code,d.recvAccountData.otherBankAccount.cardInfo.cardType=t[0].other_card_type,d.recvAccountData.otherBankAccount.cardInfo.bankName=t[0].other_bank_name):d.recvAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.INVALID_TYPE,d.payAccountData={},d.payAccountData.webankAccount={},d.payAccountData.webankAccount.priority=0,d.payAccountData.webankAccount.amount=p.BankAmount,d.payAccountData.webankAccount.isAvaliable=!0,d.payAccountData.currentPlus={},d.payAccountData.currentPlus.amount=p.HJAmount,d.payAccountData.currentPlus.priority=1,d.payAccountData.currentPlus.isAvaliable=!0,d.payAccountData.ctrlData={},d.payAccountData.ctrlData.title="请选择付款账户",d.payAccountData.ctrlData.canBindNewCard=!1,d.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS,d.transType==A.TRANS_TYPE.WEBANK_CARD?(d.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.WEBANK_CARD,d.canPwdFrameChangePayWay=!1,d.recvAccountData.currentPlus={},d.recvAccountData.currentPlus.amount=p.HJAmount,d.recvAccountData.currentPlus.priority=1,d.recvAccountData.currentPlus.isAvaliable=!0):d.transType==A.TRANS_TYPE.CURRENT_PLUS?(d.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS,d.canPwdFrameChangePayWay=!1,d.recvAccountData.webankAccount={},d.recvAccountData.webankAccount.priority=2,d.recvAccountData.webankAccount.amount=p.BankAmount,d.recvAccountData.webankAccount.isAvaliable=!0):d.payAccountData.ctrlData.accountType=A.ACCOUNT_TYPE.CURRENT_PLUS},N=function(){if(d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD){if(parseFloat(p.BankAmount)<parseFloat(d.amount))return e.makeToast("微众卡余额不足"),!1}else if(d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS&&parseFloat(p.HJAmount)<parseFloat(d.amount))return e.makeToast("活期+余额不足"),!1;return!0},h=function(){d.transDesc=d.transType==A.TRANS_TYPE.WEBANK_CARD?"您可以将微众卡中的资金转出到绑定银行卡，实时到账":d.transType==A.TRANS_TYPE.CURRENT_PLUS?"您可以将活期+中的资金转出到绑定银行卡，实时到账":"您可以将活期+和微众卡中的资金转出到绑定银行卡，实时到账"},E=function(){var t="最多转出";t+=m(),t+="元",d.maxTransAmountDesc=t},v=function(){return d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD?"微众卡":d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS?"活期+":""},w=function(){if(d.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD)return"微众卡";if(d.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS)return"活期+";var t="";return t+=d.recvAccountData.otherBankAccount.cardInfo.bankName,t+=d.recvAccountData.otherBankAccount.cardInfo.cardType,t+=e.abridgeAccountNumber(d.recvAccountData.otherBankAccount.cardInfo.cardNo)},S=function(){var t="转出到";t+=w(),d.pwdSubTitle=t,d.pwdTransDesc=parseFloat(d.amount).toFixed(2)+"元";var a="使用";a+=v(),a+="付款",d.payWayDesc=a,d.isPwdShow=!0},g=function(){a.path("/transOutResult").search(P)},k=function(t){return d.outValue={},d.outValue.showPop=!0,d.outValue.oneLineTextLeft=t,d.outValue.oneButtonText="知道了",d.outValue.popClose=function(){},!0},U=function(t){d.showLoading=!1,P.result=t.retCode,t.retCode==A.CGI_RET.CGI_UNKNOW_ERROR?k(t.retMsg):g()},B=function(t,a){u.checkProcessingState(t,a).then(U)},O=function(t,a){u.isRetCodePwdRetry(t)?(d.outValue={},d.outValue.showPop=!0,d.outValue.oneLineTextLeft=a,d.outValue.twoButtonText1="重试",d.outValue.twoButtonText2="忘记密码",d.outValue.popClose=function(t){1==t?d.isPwdShow=!0:2==t&&i.goPage()}):(d.outValue={},d.outValue.showPop=!0,d.outValue.oneLineTextLeft=a,d.outValue.twoButtonText1="取消",d.outValue.twoButtonText2="忘记密码",d.outValue.popClose=function(t){1==t||2==t&&i.goPage()})},b=function(t){P.result=t.ret_code,u.isProcessingState(t.ret_code)?B(A.ORDER_QUERY_TYPE.REDEEM,t.ret_data.trans_serno):(d.showLoading=!1,g())},L=function(t){d.showLoading=!1,P.result=t.ret_code,P.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?O(t.ret_code,t.ret_msg):k(t.ret_msg)},Y=function(t){d.showLoading=!1,P.result=t.ret_code,P.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?O(t.ret_code,t.ret_msg):k(t.ret_msg)},I=function(t){P.result=t.ret_code,u.isProcessingState(t.ret_code)?B(A.ORDER_QUERY_TYPE.PURCHASE,t.ret_data.trans_serno):(d.showLoading=!1,g())},W=function(){var a={};a.use_webank_card=!0,a.transaction_amount=d.amount,a.product_code=gMonetaryOnSaleInfo[0].prod_code,a.user_pwd=t.vm.formData.confirmPassword.RSA,a.remark="购买货基",n.requestPurchaseMonetaryFund(a).then(I,Y)},V=function(){var a=d.recvAccountData.otherBankAccount.cardInfo,c={};d.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD?c.use_webank_card=!0:(c.use_webank_card=!1,c.bank_code=a.bankBinCode,c.card_no=a.cardNo),c.user_pwd=t.vm.formData.confirmPassword.RSA,c.transaction_amount=d.amount,c.product_code=gMonetaryOnSaleInfo[0].prod_code,c.remark="赎回货基",n.requestRedeemMonetaryFund(c).then(b,L)},K=function(t){P.result=t.ret_code,u.isProcessingState(t.ret_code)?B(A.ORDER_QUERY_TYPE.TRANSOUT,t.ret_data.trans_serno):(d.showLoading=!1,g())},M=function(t){d.showLoading=!1,P.result=t.ret_code,P.failReason=t.ret_msg,u.isRetCodePwd(t.ret_code)?O(t.ret_code,t.ret_msg):k(t.ret_msg)},x=function(){var a=d.recvAccountData.otherBankAccount.cardInfo;n.requestBaseAccountTransOut(a.userName,a.bankName,a.cardNo,d.amount,t.vm.formData.confirmPassword.RSA,"单笔转出").then(K,M)},F=function(){d.showLoading=!0,P.transAmount=d.amount,P.accountType=d.recvAccountData.ctrlData.accountType,P.bankName=d.recvAccountData.otherBankAccount.cardInfo.bankName,P.cardNo=d.recvAccountData.otherBankAccount.cardInfo.cardNo,P.cardType=d.recvAccountData.otherBankAccount.cardInfo.cardType,P.payAccountDesc=v(),P.recvAccountDesc=w(),P.transType=d.transType,P.payAccountData=d.payAccountData,P.recvAccountData=d.recvAccountData,d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD&&d.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.OTHER_BANK_CARD?x():d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS?V():d.payAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.WEBANK_CARD&&d.recvAccountData.ctrlData.accountType==A.ACCOUNT_TYPE.CURRENT_PLUS&&W()},H=function(){return e.isValidTransferAmount(d.amount)&&d.amount?d.isAgreed?d.recvAccountData.otherBankAccount.otherAccountList?!0:(e.makeToast(STRING_TABLE.INVALID_RECV_ACCOUNT),!1):(e.makeToast("请勾选用户协议"),!1):(e.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},G=function(){var t=null;d.transType==A.TRANS_TYPE.WEBANK_CARD?t="webankCard":d.transType==A.TRANS_TYPE.CURRENT_PLUS&&(t="monetaryMyProdDetail/"+gMonetaryOnSaleInfo[0].prod_code),P.callback=d.callback=t},J=function(){d.currentPlusPurchaseLimitDesc="",d.currentPlusRedeemLimitDesc="";for(var t in y.financial_products){var a=y.financial_products[t];if(a.prod_type==A.PROD_TYPE.HJ){d.currentPlusPurchaseLimitDesc="今天还可转入到活期+ "+(parseInt(a.tol_d_in_num)-parseInt(a.day_tot_buy_num))+"次，",d.currentPlusRedeemLimitDesc="今天还可从活期+转出 "+(parseInt(a.tol_d_max_out_num)-parseInt(a.day_tot_redeem_num))+"次，";break}}},$=function(){d.isAgreed=!0,d.agreementDesc="服务协议及风险提示",d.agreementCode=gMonetaryOnSaleInfo[0].prod_code},q=function(){G(),R(),h(),E(),f(),J(),$()},Q=function(){return d.amount&&d.isAgreed};d.isPwdShow=!1,d.isPwdAutoShow=!1,d.canPwdFrameChangePayWay=!0,d.transType=_.getData()&&_.getData().type,_.setData(null),d.ACCOUNT_TYPE=A.ACCOUNT_TYPE,l.getPayAccount=function(){return d.payAccountData.ctrlData.accountType},l.getRecvAccount=function(){return d.recvAccountData.ctrlData.accountType},l.checkConfirmBtnState=function(){return Q()?"btn-c":"btn-c off"},l.bindCard=function(){_.saveSession(d),s.goPage()},l.onSelectPayWay=function(){l.isPayAccountShown()&&l.showPaymentAccountSelector()},l.onSelectReceiveWay=function(){l.showReceivableAccountSelector()},l.onClickConfirmTransOut=function(){e.clickButtonReport("zhuanchu_zhuanchu"),H()&&N()&&S()},l.onPwdSelectPayWay=function(){d.isPwdShow?(d.isPwdAutoShow=!0,d.isPwdShow=!1):d.isPwdAutoShow=!1,C=!0,l.showPaymentAccountSelector()},l.onPayAccountSelected=function(){C&&(C=!1,S()),E()},l.onClickTransAll=function(){d.amount=parseFloat(m())},l.back=function(){_.backPage()},l.isPayAccountShown=function(){return d.transType!=A.TRANS_TYPE.WEBANK_CARD&&d.transType!=A.TRANS_TYPE.CURRENT_PLUS},l.onClickCurrentPlusDetails=function(){if(gMonetaryOnSaleInfo.length>0){var t=gMonetaryOnSaleInfo[0].prod_code;T.goPage(t)}},t.$watch("sigOnPwdCommit",function(t,a){t!==a&&(d.isPwdShow=!1,F())}),null!=_.getSession()&&(d=t.data=_.getSession(),_.clearSession()),q()}]);app.controller("TransferInResultController",["$scope","$location","$stateParams","utils","GLOBAL_CONSTANT","essential","cgiService","TransRecordService",function(a,t,e,c,r,n,o,D){var l=a.data={},u=a.func={},s=t.search();t.search("");var i=s.result,T=s.accountType,A=s.transType;if(l.failReason=s.failReason,l.state=c.getTransactionStateByCode(i),l.transAmount=s.transAmount,l.recvAccountDesc=s.recvAccountDesc,l.payAccountDesc=s.payAccountDesc,l.callback=s.callback,l.payAccountData=s.payAccountData,l.recvAccountData=s.recvAccountData,l.today=new Date,l.ACCOUNT_TYPE=r.ACCOUNT_TYPE,l.TRANS_STATE=r.TRANS_STATE,l.showPlus=!1,T==r.ACCOUNT_TYPE.CURRENT_PLUS){l.showPlus=!0,l.valueDate=new Date;var v=new Date;0==v.getDay()||6==v.getDay()?(l.valueDate=c.getNextWorkDay(2),l.arrivalDate=c.getNextWorkDay(2),l.arrivalDate.setDate(l.arrivalDate.getDate()+1)):v.getHours()<15?(l.valueDate=c.getNextWorkDay(1),l.arrivalDate=c.getNextWorkDay(1),l.arrivalDate.setDate(l.arrivalDate.getDate()+1)):(l.valueDate=c.getNextWorkDay(2),l.arrivalDate=c.getNextWorkDay(2),l.arrivalDate.setDate(l.arrivalDate.getDate()+1))}o.requestUserWealth().then(function(){},function(){}),u.onClickFinish=function(){t.path(l.callback?"/"+l.callback:"/transHome")},u.getRecvAccount=function(){return l.recvAccountData.ctrlData.accountType},u.getPayAccount=function(){return l.payAccountData.ctrlData.accountType},u.onClickTransLog=function(){var a="";a=A==r.TRANS_TYPE.WEBANK_CARD?"webankCard":A==r.TRANS_TYPE.CURRENT_PLUS?"monetaryMyProdDetail/"+gMonetaryOnSaleInfo[0].prod_code:"transHome",D.goPage("","","",a)}}]);app.controller("TransferOutResultController",["$scope","$location","$stateParams","utils","GLOBAL_CONSTANT","essential","cgiService","TransRecordService",function(a,c,t,n,e,o,r,u){var s=a.data={},l=a.func={},A=c.search();c.search("");var T=A.result,i=A.transType;s.failReason=A.failReason,s.state=n.getTransactionStateByCode(T),s.transAmount=A.transAmount,s.payAccountDesc=A.payAccountDesc,s.recvAccountDesc=A.recvAccountDesc,s.callback=A.callback,s.payAccountData=A.payAccountData,s.recvAccountData=A.recvAccountData,s.ACCOUNT_TYPE=e.ACCOUNT_TYPE,s.TRANS_STATE=e.TRANS_STATE,r.requestUserWealth().then(function(){},function(){}),l.onClickFinish=function(){c.path(s.callback?"/"+s.callback:"/transHome")},l.onClickTransLog=function(){n.clickButtonReport("transfer_trans");var a="";a=i==e.TRANS_TYPE.WEBANK_CARD?"webankCard":i==e.TRANS_TYPE.CURRENT_PLUS?"monetaryMyProdDetail/"+gMonetaryOnSaleInfo[0].prod_code:"transHome",u.goPage("","","",a)},l.getPayAccount=function(){return s.payAccountData.ctrlData.accountType},l.getRecvAccount=function(){return s.recvAccountData.ctrlData.accountType}}]);app.controller("PlanController",["$rootScope","$scope","cgiService","GLOBAL_CONSTANT","homeService","webankCommonService","utils","$location","$http","envService","$timeout","cache","essential","LoginService","$interval","$stateParams","messageService","CheckFaceService","HandPasswordService","TransRecordService","dataService","BindNewCardService","ResetPasswdService","PlanService",function(a,t,n,c,e,o,r,u,A,i,D,T,l,d,p,s,N,m,O,_,y,f,C,S){var R=t.data={},k=t.func={},h=T.getCacheInfo("wealth"),E=o.parseRawWealthData_V2(h),v=null;s.planInfo&&(v=JSON.parse(s.planInfo));var F={NONE:0,TRANS_IN:1,TRANS_OUT:2},B={NONE:0,ADD:1,MODIFY:2,DELETE:3},I=F.NONE,P=B.NONE,g=new Date;g.setDate(g.getDate()+1);var Y=0,b=null,w=null,U={};U.otherBankAccount={},U.otherBankAccount.cardInfo={};var L={},V={},M=function(){J(),x()},J=function(){V.currentPlus={},V.currentPlus.amount=E.HJAmount,V.currentPlus.priority=1,V.currentPlus.isAvaliable=!0,V.webankAccount={},V.webankAccount.priority=2,V.webankAccount.amount=E.BankAmount,V.webankAccount.isAvaliable=!0;var a=o.getValidBandCardList();V.otherBankAccount={},V.otherBankAccount.cardInfo={},V.otherBankAccount.priority=3,a&&a.length>0&&(V.otherBankAccount.otherAccountList=a,V.otherBankAccount.cardInfo.bankBinCode=a[0].other_bank_bin_code,V.otherBankAccount.cardInfo.userName=a[0].other_name,V.otherBankAccount.cardInfo.cardNo=a[0].other_account,V.otherBankAccount.cardInfo.cardTypeCode=a[0].other_card_type_code,V.otherBankAccount.cardInfo.cardType=a[0].other_card_type,V.otherBankAccount.cardInfo.bankName=a[0].other_bank_name),V.ctrlData={},V.ctrlData.title="请选择收款账户",V.ctrlData.canBindNewCard=!0,L.currentPlus={},L.currentPlus.amount=E.HJAmount,L.currentPlus.priority=1,L.currentPlus.isAvaliable=!0,L.webankAccount={},L.webankAccount.priority=2,L.webankAccount.amount=E.BankAmount,L.webankAccount.isAvaliable=!0,L.ctrlData={},L.ctrlData.title="请选择账户",a&&a.length>0&&(U.otherBankAccount.otherAccountList=a,U.otherBankAccount.cardInfo.bankBinCode=a[0].other_bank_bin_code,U.otherBankAccount.cardInfo.userName=a[0].other_name,U.otherBankAccount.cardInfo.cardNo=a[0].other_account,U.otherBankAccount.cardInfo.cardTypeCode=a[0].other_card_type_code,U.otherBankAccount.cardInfo.cardType=a[0].other_card_type,U.otherBankAccount.cardInfo.bankName=a[0].other_bank_name),U.ctrlData={},U.ctrlData.title="选择账户",U.ctrlData.canBindNewCard=!0},x=function(){if(v){R.hasOldPlan=!0,R.planName=v.name,R.amount=parseFloat(v.amount),R.dt=r.getDateByYYYYMMDDString(v.nextTime),R.isRepeated=parseInt(v.isRepeat);var a=null;1==v.jobType?(R.payAccountDataOnForm=JSON.parse(JSON.stringify(U)),R.payAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.OTHER_BANK_CARD,R.recvAccountDataOnForm=JSON.parse(JSON.stringify(L)),R.recvAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.CURRENT_PLUS,a=R.payAccountDataOnForm.otherBankAccount.cardInfo,I=F.TRANS_IN):2==v.jobType?(R.recvAccountDataOnForm=JSON.parse(JSON.stringify(U)),R.recvAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.OTHER_BANK_CARD,R.payAccountDataOnForm=JSON.parse(JSON.stringify(L)),R.payAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.CURRENT_PLUS,a=R.recvAccountDataOnForm.otherBankAccount.cardInfo,I=F.TRANS_OUT):3==v.jobType?(R.payAccountDataOnForm=JSON.parse(JSON.stringify(U)),R.payAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.OTHER_BANK_CARD,R.recvAccountDataOnForm=JSON.parse(JSON.stringify(L)),R.recvAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.WEBANK_CARD,a=R.payAccountDataOnForm.otherBankAccount.cardInfo,I=F.TRANS_IN):4==v.jobType&&(R.recvAccountDataOnForm=JSON.parse(JSON.stringify(U)),R.recvAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.OTHER_BANK_CARD,R.payAccountDataOnForm=JSON.parse(JSON.stringify(L)),R.payAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.WEBANK_CARD,a=R.recvAccountDataOnForm.otherBankAccount.cardInfo,I=F.TRANS_OUT),a&&(a.cardNo=v.cardNo,a.bankBinCode=v.bankNo,a.bankName=v.bankName),$()&&(R.exchangeBtnClass=""),w=R.recvAccountDataOnForm,b=R.payAccountDataOnForm,j(),q()}else R.payAccountDataOnForm.ctrlData={},R.recvAccountDataOnForm.ctrlData={},R.payAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.INVALID_TYPE,R.recvAccountDataOnForm.ctrlData.accountType=c.ACCOUNT_TYPE.INVALID_TYPE,H()},H=function(){var a=T.getCacheInfo("planList");if(a){for(var t in a)(!a[t].categry||1!=a[t].categry&&2!=a[t].categry)&&Y++;switch(Y){case 0:R.defaultName="计划A";break;case 1:R.defaultName="计划B";break;case 2:R.defaultName="计划C";break;case 3:R.defaultName="计划D";break;case 4:R.defaultName="计划E"}}},q=function(){R.freqDesc=R.isRepeated?"每月一次":"仅此一次"},K=function(){var a=!0;return a=a&&R.recvAccountDataOnForm.ctrlData,a=a&&R.recvAccountDataOnForm.ctrlData.accountType,a=a&&R.recvAccountDataOnForm.ctrlData.accountType!=c.ACCOUNT_TYPE.INVALID_TYPE},W=function(){var a=!0;return a=a&&R.payAccountDataOnForm.ctrlData,a=a&&R.payAccountDataOnForm.ctrlData.accountType,a=a&&R.payAccountDataOnForm.ctrlData.accountType!=c.ACCOUNT_TYPE.INVALID_TYPE},$=function(){return W()&&K()},j=function(){return R.dt?void(R.tranDateDesc=R.isRepeated?"每月"+R.dt.getDate()+"日":r.getYYYYMMDDStringByDate(R.dt,"-")):void(R.tranDateDesc="")},G=function(){var a=parseFloat(R.amount);return!isNaN(a)&&a>=0&&r.isValidTransferAmount(R.amount)},Q=function(){if(R.payAccountDataOnForm.ctrlData.accountType!=c.ACCOUNT_TYPE.OTHER_BANK_CARD)return!1;var a=gBankLimit[R.payAccountDataOnForm.otherBankAccount.cardInfo.bankBinCode];return a?parseFloat(R.amount)>a.perOne?(R.outValue={},R.outValue.showPop=!0,R.outValue.oneLineTextLeft="超过银行卡限额，"+R.payAccountDataOnForm.otherBankAccount.cardInfo.bankName+R.payAccountDataOnForm.otherBankAccount.cardInfo.cardType+"单笔"+a.perOne,parseFloat(a.perDay)>0&&(R.outValue.oneLineTextLeft+="，单日"+a.perDay),R.outValue.oneButtonText="知道了",R.outValue.popClose=function(){},!0):void 0:!1},z=function(){return P==B.DELETE?!0:R.planName&&R.planName.length>8?(r.makeToast("计划名最多8个字符"),!1):R.amount&&G()?R.freqDesc?R.dt?Q()?!1:!0:(r.makeToast(STRING_TABLE.INVALID_DATE),!1):(r.makeToast(STRING_TABLE.INVALID_FREQUENCY),!1):(r.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},X=function(){var a="";return R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?a="活期+":R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.WEBANK_CARD?a="微众卡":R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD&&(a+=R.recvAccountDataOnForm.otherBankAccount.cardInfo.bankName,a+=R.recvAccountDataOnForm.otherBankAccount.cardInfo.cardType,a+=r.abridgeAccountNumber(R.recvAccountDataOnForm.otherBankAccount.cardInfo.cardNo)),a},Z=function(){var a="";return R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?a="活期+":R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.WEBANK_CARD?a="微众卡":R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD&&(a+=R.payAccountDataOnForm.otherBankAccount.cardInfo.bankName,a+=R.payAccountDataOnForm.otherBankAccount.cardInfo.cardType,a+=r.abridgeAccountNumber(R.payAccountDataOnForm.otherBankAccount.cardInfo.cardNo)),a},at=function(){return I==F.TRANS_IN?"转入到"+X():I==F.TRANS_OUT?"从"+Z()+"转出":""},tt=function(){var a=r.getYYYYMMDDStringByDate(R.dt,"-");if(R.isRepeated&&(a=a+"起，每月"+R.dt.getDate()+"日"),R.pwdTransDesc=parseFloat(R.amount).toFixed(2)+"元",I==F.TRANS_IN){a+="转入到",R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?R.pwdSubTitle=a+"活期+":R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.WEBANK_CARD&&(R.pwdSubTitle=a+"微众卡");var t="使用";t+=R.payAccountDataOnForm.otherBankAccount.cardInfo.bankName,t+=R.payAccountDataOnForm.otherBankAccount.cardInfo.cardType,t+=r.abridgeAccountNumber(R.payAccountDataOnForm.otherBankAccount.cardInfo.cardNo),t+="付款",R.payWayDesc=t}else if(I==F.TRANS_OUT){var t=a+"从";R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?t+="活期+":R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.WEBANK_CARD&&(t+="微众卡"),t+="转出",R.pwdSubTitle=t,R.payWayDesc=""}},nt=function(){P==B.DELETE?(R.pwdSubTitle="删除计划",R.pwdTransDesc="",R.payWayDesc=""):tt(),R.isPwdShow=!0},ct=function(){var a=!1;return a=a||R.planName!=v.name,a=a||parseFloat(R.amount)!=parseFloat(v.amount),a=a||r.getYYYYMMDDStringByDate(R.dt)!=v.nextTime,a=a||parseInt(R.isRepeated)!=parseInt(v.isRepeat),a=a||b.ctrlData.accountType!=R.payAccountDataOnForm.ctrlData.accountType,a=a||w.ctrlData.accountType!=R.recvAccountDataOnForm.ctrlData.accountType,b.ctrlData.accountType==R.payAccountDataOnForm.ctrlData.accountType&&b.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD&&(a=a||b.otherBankAccount.cardInfo!=R.payAccountDataOnForm.otherBankAccount.cardInfo),w.ctrlData.accountType==R.recvAccountDataOnForm.ctrlData.accountType&&w.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD&&(a=a||w.otherBankAccount.cardInfo!=R.recvAccountDataOnForm.otherBankAccount.cardInfo),a},et=function(){return P!=B.MODIFY||ct()?z()?void nt():!1:(r.makeToast(STRING_TABLE.PLEASE_COMMIT_AFTER_MODIFY,"short"),!1)},ot=function(a){o.isRetCodePwdRetry(a.ret_code)?(R.outValue={},R.outValue.showPop=!0,R.outValue.oneLineTextLeft=a.ret_msg,R.outValue.twoButtonText1="重试",R.outValue.twoButtonText2="忘记密码",R.outValue.popClose=function(a){1==a?R.isPwdShow=!0:2==a&&C.goPage()}):(R.outValue={},R.outValue.showPop=!0,R.outValue.oneLineTextLeft=a.ret_msg,R.outValue.twoButtonText1="取消",R.outValue.twoButtonText2="忘记密码",R.outValue.popClose=function(a){1==a||2==a&&C.goPage()})},rt=function(){R.showLoading=!1;var a={};a.payInfo=JSON.stringify(R.payAccountDataOnForm),a.recvInfo=JSON.stringify(R.recvAccountDataOnForm),a.isRepeated=R.isRepeated,a.nextTime=r.getYYYYMMDDStringByDate(R.dt),j(),a.dateDesc=R.tranDateDesc,a.planDesc="存取计划",a.amount=R.amount,u.path("/planResult").search(a)},ut=function(a){R.showLoading=!1,o.isRetCodePwd(a.ret_code)?ot(a):r.makeToast(a.ret_msg)},At=function(){r.makeToast("删除计划成功"),u.path("/transHome/updatePlan")},it=function(a){n.requestAddTransPlan(a).then(rt,ut)},Dt=function(a){v&&(a.id=v.id),n.requestModifyTransPlan(a).then(rt,ut)},Tt=function(a){v&&(a.id=v.id),n.requestDeleteTransPlan(a).then(At,ut)},lt=function(){R.showLoading=!0;var a=null;gMonetaryOnSaleInfo.length>0&&(a=gMonetaryOnSaleInfo[0]);var n={};if(I==F.TRANS_IN?(R.recvAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?(n.job_type=1,a&&(n.product_code=a.prod_code,n.product_name=a.prod_name)):n.job_type=3,n.bank_no=R.payAccountDataOnForm.otherBankAccount.cardInfo.bankBinCode,n.bank_name=R.payAccountDataOnForm.otherBankAccount.cardInfo.bankName,n.card_no=R.payAccountDataOnForm.otherBankAccount.cardInfo.cardNo):(R.payAccountDataOnForm.ctrlData.accountType==c.ACCOUNT_TYPE.CURRENT_PLUS?(n.job_type=2,n.product_code=a.prod_code,n.product_name=a.prod_name):n.job_type=4,n.bank_no=R.recvAccountDataOnForm.otherBankAccount.cardInfo.bankBinCode,n.bank_name=R.recvAccountDataOnForm.otherBankAccount.cardInfo.bankName,n.card_no=R.recvAccountDataOnForm.otherBankAccount.cardInfo.cardNo),n.use_webank_card=!1,n.amount=R.amount,n.next_time=r.getYYYYMMDDStringByDate(R.dt),n.is_repeat=R.isRepeated,n.password=t.vm.formData.confirmPassword.RSA,n.remark=R.planName,P==B.ADD){if(Y>=5)return void r.makeToast("对不起，最多只能制定5个转账计划");n.remark||(n.remark=R.defaultName),it(n)}else P==B.MODIFY?Dt(n):P==B.DELETE&&Tt(n)},dt=function(){if(R.dt&&void 0!=R.isRepeated&&null!=R.isRepeated){var a=r.getYYYYMMDDStringByDate(R.dt,"-");R.freqDetail=R.isRepeated?"每月"+R.dt.getDate()+"日23:59前"+at()+"，"+a+"执行第1期":a+" 23:59前"+at()}else R.freqDetail=""};R.showSelectFreq=!1,R.recvAccountData={},R.payAccountData={},R.exchangeBtnClass="off",R.recvAccountDataOnForm={},R.payAccountDataOnForm={},R.tranDateDesc="",R.defaultName="",k.back=function(){u.path("/transHome")},k.onClickSelectRecvAccount=function(){I==F.NONE?R.recvAccountData=V:I==F.TRANS_IN?R.recvAccountData=W()?L:V:I==F.TRANS_OUT&&(R.recvAccountData=W()?U:V),R.recvAccountData.ctrlData.title="请选择收款账户",D(function(){k.showReceivableAccountSelector()},50)},k.onClickSelectPayAccount=function(){I==F.NONE?R.payAccountData=V:I==F.TRANS_IN?R.payAccountData=K()?U:V:I==F.TRANS_OUT&&(R.payAccountData=K()?L:V),R.payAccountData.ctrlData.title="请选择付款账户",D(function(){k.showPaymentAccountSelector()},50)},k.onRecvAccountSelected=function(){I=R.recvAccountData.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD?F.TRANS_OUT:F.TRANS_IN,R.recvAccountDataOnForm=JSON.parse(JSON.stringify(R.recvAccountData)),$()&&(R.exchangeBtnClass=""),dt()},k.onPayAccountSelected=function(){I=R.payAccountData.ctrlData.accountType==c.ACCOUNT_TYPE.OTHER_BANK_CARD?F.TRANS_IN:F.TRANS_OUT,R.payAccountDataOnForm=JSON.parse(JSON.stringify(R.payAccountData)),$()&&(R.exchangeBtnClass=""),dt()},k.onSelectFreq=function(){R.showSelectFreq=!0},k.onClickCloseFrequencySelector=function(){R.showSelectFreq=!1},k.onClickOnlyOnce=function(){R.freqDesc="仅此一次",R.isRepeated=0,R.showSelectFreq=!1,j(),dt()},k.onClickRepeatPerMonth=function(){R.freqDesc="每月一次",R.isRepeated=1,R.showSelectFreq=!1,j(),dt()},k.bindCard=function(){S.saveSession(R),f.goPage()},k.onClickExchangeAccounts=function(){if($()){var a=null;a=R.payAccountDataOnForm,R.payAccountDataOnForm=R.recvAccountDataOnForm,R.recvAccountDataOnForm=a,I==F.TRANS_IN?I=F.TRANS_OUT:I==F.TRANS_OUT&&(I=F.TRANS_IN),dt()}},k.onPwdSelectPayWay=function(){R.isPwdShow?(R.isPwdAutoShow=!0,R.isPwdShow=!1):R.isPwdAutoShow=!1,isChangingAccount=!0,k.onClickSelectPayAccount()},k.onSelectRepeatedDay=function(a,t){R.dt=S.getNextPlanExecuteDate(t),j(),dt()},k.onSelectDate=function(){if(void 0==R.isRepeated)return void r.makeToast(STRING_TABLE.PLEASE_SELECT_PURCHASE_FREQUENCY);if(R.isRepeated)k.showDaySelect();else{var a,n={date:g,minDate:g.valueOf(),mode:"date"},c={date:g,minDate:g,mode:"date"};a=r.isiOSDevice()?c:n,datePicker.show(a,function(a){return void 0==R.isRepeated?void r.makeToast(STRING_TABLE.PLEASE_SELECT_PURCHASE_FREQUENCY):1==R.isRepeated&&a&&a.getDate()>28?void r.makeToast(STRING_TABLE.INVALID_PLAN_DATE):void(a&&(R.dt=a,j(),t.$apply()))})}},k.onClickConfirm=function(){r.clickButtonReport("zidingyijihua_queding"),P=v?B.MODIFY:B.ADD,et()},k.onClickDeletePlan=function(){P=B.DELETE,et()},t.$watch("sigOnPwdCommit",function(a,t){a!==t&&(R.isPwdShow=!1,lt())}),t.$watch("data.isRepeated",function(a,t){1==a&&0==t&&(R.dt=null),dt(),j()}),null!=S.getSession()&&(R=t.data=S.getSession(),S.clearSession()),M()}]);app.controller("PlanResultController",["$rootScope","$scope","cgiService","GLOBAL_CONSTANT","homeService","webankCommonService","utils","$location","$http","envService","$timeout","cache","essential","LoginService","$interval","$stateParams","messageService","CheckFaceService","HandPasswordService","TransRecordService","dataService",function(e,a,t,n,c,r,o,s,i,p,d,l,u,T,v,N){var S=a.data={},f=a.func={},h=null;if(N.planResultObj&&(h=JSON.parse(N.planResultObj)),h||(h=s.search()),h){S.planDesc=h.planDesc,S.amount=h.amount,S.dateDesc=h.dateDesc,S.isRepeated=h.isRepeated;var D=JSON.parse(h.payInfo),y=JSON.parse(h.recvInfo);if(S.payType=D.ctrlData.accountType,S.recvType=y.ctrlData.accountType,S.payType==n.ACCOUNT_TYPE.OTHER_BANK_CARD&&(S.bankName=D.otherBankAccount.cardInfo.bankName,S.cardNo=D.otherBankAccount.cardInfo.cardNo,S.cardType=D.otherBankAccount.cardInfo.cardType),S.recvType==n.ACCOUNT_TYPE.OTHER_BANK_CARD&&(S.bankName=y.otherBankAccount.cardInfo.bankName,S.cardNo=y.otherBankAccount.cardInfo.cardNo,S.cardType=y.otherBankAccount.cardInfo.cardType),S.today=new Date,S.nextDate=o.getDateByYYYYMMDDString(h.nextTime),S.isRepeated){var A=S.nextDate.getMonth()+2;A>12&&(A-=12),10>A&&(A="0"+A);var m=S.nextDate.getDate();10>m&&(m="0"+m),S.dateStrAfterNext=A+"-"+m}}var k=function(e){l.setCacheInfo("planList",e.ret_data)};t.requestTransPlans().then(k),f.onClickFinish=function(){s.path("/transHome")}}]);app.controller("SalaryPlanController",["$rootScope","$scope","cgiService","GLOBAL_CONSTANT","homeService","webankCommonService","utils","$location","$http","envService","$timeout","cache","essential","LoginService","$interval","$stateParams","messageService","CheckFaceService","HandPasswordService","TransRecordService","dataService","PlanService","BindNewCardService","SalaryPlanService",function(a,t,e,n,o,c,r,u,i,d,s,D,l,p,A,f,h,y,_,m,T,S,k,B){var g=t.data={},w=t.func={},v=u.search();u.search("");var P={NONE:0,ADD:1,MODIFY:2,DELETE:3},I=P.NONE,N=new Date;N.setDate(N.getDate()+1);var C=function(){if(!g.dt)return void(g.tranDateDetailDesc="为了确保转入成功，请选择发工资的后一天");var a=r.getYYYYMMDDStringByDate(g.dt,"-");g.tranDateDetailDesc="每月"+g.dt.getDate()+"日23:59前转入到活期+，"+a+"执行第1期",g.tranDateDesc="每月"+g.dt.getDate()+"日"},Y=function(){var a=parseFloat(g.amount);return!isNaN(a)&&a>=0&&r.isValidTransferAmount(g.amount)},E=function(){var a=!1;return a=a||r.getYYYYMMDDStringByDate(g.dt)!=v.next_time,a=a||parseFloat(g.amount)!=parseFloat(v.amount),a=a||g.payAccountData.otherBankAccount.cardInfo.cardNo!=v.card_no},b=function(){if(g.payAccountData.ctrlData.accountType!=n.ACCOUNT_TYPE.OTHER_BANK_CARD)return!1;var a=gBankLimit[g.payAccountData.otherBankAccount.cardInfo.bankBinCode];return a?parseFloat(g.amount)>a.perOne?(g.outValue={},g.outValue.showPop=!0,g.outValue.oneLineTextLeft="超过银行卡限额，"+g.payAccountData.otherBankAccount.cardInfo.bankName+g.payAccountData.otherBankAccount.cardInfo.cardType+"单笔"+a.perOne,parseFloat(a.perDay)>0&&(g.outValue.oneLineTextLeft+="，单日"+a.perDay),g.outValue.oneButtonText="知道了",g.outValue.popClose=function(){},!0):void 0:!1},L=function(){return I==P.DELETE?!0:g.amount&&Y()?g.dt?b()?!1:!0:(r.makeToast(STRING_TABLE.INVALID_DATE),!1):(r.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},O=function(){return I!=P.MODIFY||E()?L()?void M():!1:(r.makeToast(STRING_TABLE.PLEASE_COMMIT_AFTER_MODIFY,"short"),!1)},M=function(){if(I==P.DELETE)g.pwdSubTitle="删除计划",g.pwdTransDesc="",g.payWayDesc="";else{var a=r.getYYYYMMDDStringByDate(g.dt,"-");g.pwdSubTitle=a+"起,"+g.tranDateDesc+"存工资到活期+",g.pwdTransDesc=parseFloat(g.amount).toFixed(2)+"元";var t="使用";t+=g.payAccountData.otherBankAccount.cardInfo.bankName,t+=g.payAccountData.otherBankAccount.cardInfo.cardType,t+=r.abridgeAccountNumber(g.payAccountData.otherBankAccount.cardInfo.cardNo),t+="付款",g.payWayDesc=t}g.isPwdShow=!0},V=function(){g.showLoading=!1;var a={};a.payInfo=JSON.stringify(g.payAccountData);var t={};t.ctrlData={},t.ctrlData.accountType=n.ACCOUNT_TYPE.CURRENT_PLUS,a.recvInfo=JSON.stringify(t),a.isRepeated=1,a.nextTime=r.getYYYYMMDDStringByDate(g.dt),C(),a.dateDesc=g.tranDateDesc,a.planDesc="存工资",a.amount=g.amount,u.path("/planResult").search(a)},R=function(a){c.isRetCodePwdRetry(a.ret_code)?(g.outValue={},g.outValue.showPop=!0,g.outValue.oneLineTextLeft=a.ret_msg,g.outValue.twoButtonText1="重试",g.outValue.twoButtonText2="忘记密码",g.outValue.popClose=function(a){1==a?g.isPwdShow=!0:2==a&&ResetPasswdService.goPage()}):(g.outValue={},g.outValue.showPop=!0,g.outValue.oneLineTextLeft=a.ret_msg,g.outValue.twoButtonText1="取消",g.outValue.twoButtonText2="忘记密码",g.outValue.popClose=function(a){1==a||2==a&&ResetPasswdService.goPage()})},x=function(a){g.showLoading=!1,c.isRetCodePwd(a.ret_code)?R(a):r.makeToast(a.ret_msg)},F=function(){r.makeToast("计划删除成功"),u.path("/transHome/updatePlan")},$=function(a){v&&(a.id=v.id),e.requestDeleteTransPlan(a).then(F,x)},U=function(a){v&&(a.id=v.id),e.requestModifyTransPlan(a).then(V,x)},H=function(a){e.requestAddTransPlan(a).then(V,x)},q=function(){g.showLoading=!0;var a=null;gMonetaryOnSaleInfo.length>0&&(a=gMonetaryOnSaleInfo[0]);var e={};e.job_type=1,a&&(e.product_code=a.prod_code,e.product_name=a.prod_name),e.bank_no=g.payAccountData.otherBankAccount.cardInfo.bankBinCode,e.bank_name=g.payAccountData.otherBankAccount.cardInfo.bankName,e.card_no=g.payAccountData.otherBankAccount.cardInfo.cardNo,e.use_webank_card=!1,e.amount=g.amount,e.next_time=r.getYYYYMMDDStringByDate(g.dt),e.is_repeat=1,e.password=t.vm.formData.confirmPassword.RSA,e.remark="定期存工资",e.categry=1,I==P.MODIFY?U(e):I==P.ADD?H(e):I==P.DELETE&&$(e)},G=function(){if(v){if(!v.id)return void(v=null);g.hasOldPlan=!0,g.dt=r.getDateByYYYYMMDDString(v.next_time),g.amount=parseFloat(v.amount),C();for(var a in J){var t=J[a];if(t.other_account==v.card_no){g.payAccountData.otherBankAccount.cardInfo.bankBinCode=t.other_bank_bin_code,g.payAccountData.otherBankAccount.cardInfo.userName=t.other_name,g.payAccountData.otherBankAccount.cardInfo.cardNo=t.other_account,g.payAccountData.otherBankAccount.cardInfo.cardTypeCode=t.other_card_type_code,g.payAccountData.otherBankAccount.cardInfo.cardType=t.other_card_type,g.payAccountData.otherBankAccount.cardInfo.bankName=t.other_bank_name;break}}}},W=function(){G(),C()};g.payAccountData={},g.payAccountData.ctrlData={},g.payAccountData.ctrlData.title="请选择付款账户",g.payAccountData.ctrlData.accountType=n.ACCOUNT_TYPE.OTHER_BANK_CARD,g.payAccountData.ctrlData.canBindNewCard=!0,g.payAccountData.otherBankAccount={};var J=c.getValidBandCardList();g.payAccountData.otherBankAccount.cardInfo={},J&&J.length>0&&(g.payAccountData.otherBankAccount.otherAccountList=J,g.payAccountData.otherBankAccount.cardInfo.bankBinCode=J[0].other_bank_bin_code,g.payAccountData.otherBankAccount.cardInfo.userName=J[0].other_name,g.payAccountData.otherBankAccount.cardInfo.cardNo=J[0].other_account,g.payAccountData.otherBankAccount.cardInfo.cardTypeCode=J[0].other_card_type_code,g.payAccountData.otherBankAccount.cardInfo.cardType=J[0].other_card_type,g.payAccountData.otherBankAccount.cardInfo.bankName=J[0].other_bank_name),g.hasOldPlan=!1,w.back=function(){u.path("/transHome")},w.onClickMySalaryCard=function(){w.showPaymentAccountSelector()},w.onClickSalaryDate=function(){w.showSelect()},t.headerText="请选择日期",t.callback=function(a){},w.onPwdSelectPayWay=function(){g.isPwdShow?(g.isPwdAutoShow=!0,g.isPwdShow=!1):g.isPwdAutoShow=!1,w.showPaymentAccountSelector()},w.onClickConfirm=function(){r.clickButtonReport("gongzi_queding"),I=v?P.MODIFY:P.ADD,O()},w.onClickDeletePlan=function(){I=P.DELETE,O()},w.canCommit=function(){return g.dt&&g.amount},w.isiOS=function(){return r.isiOSDevice()},w.isAndroid=function(){return!r.isiOSDevice()},w.onSelectNumber=function(a,t){g.dt=S.getNextPlanExecuteDate(t),C()},t.$watch("sigOnPwdCommit",function(a,t){a!==t&&(g.isPwdShow=!1,q())}),w.bindCard=function(){B.saveSession(g),k.goPage()},null!=B.getSession()&&(g=t.data=B.getSession(),B.clearSession()),W()}]);app.controller("MortgagePlanController",["$rootScope","$scope","cgiService","GLOBAL_CONSTANT","homeService","webankCommonService","utils","$location","$http","envService","$timeout","cache","essential","LoginService","$interval","$stateParams","messageService","CheckFaceService","HandPasswordService","TransRecordService","dataService","PlanService","BindNewCardService","MortgatePlanService",function(t,e,a,n,o,c,r,u,i,d,s,D,l,A,f,h,v,_,m,S,T,g,k,p){var w=e.data={},B=e.func={},P=u.search();u.search("");var I={NONE:0,ADD:1,MODIFY:2,DELETE:3},N=I.NONE,C=new Date;C.setDate(C.getDate()+1);var y=function(){if(!w.dt)return void(w.tranDateDetailDesc="为了确保转出成功，请选择还贷日的前一天");var t=r.getYYYYMMDDStringByDate(w.dt,"-");w.tranDateDetailDesc="每月"+w.dt.getDate()+"日23:59前从活期+转出，"+t+"执行第1期",w.tranDateDesc="每月"+w.dt.getDate()+"日"},Y=function(){var t=parseFloat(w.amount);return!isNaN(t)&&t>=0&&r.isValidTransferAmount(w.amount)},E=function(){return N==I.DELETE?!0:w.amount&&Y()?w.dt?!0:(r.makeToast(STRING_TABLE.INVALID_DATE),!1):(r.makeToast(STRING_TABLE.INVALID_TRANS_AMOUNT),!1)},M=function(){var t=!1;return t=t||r.getYYYYMMDDStringByDate(w.dt)!=P.next_time,t=t||parseFloat(w.amount)!=parseFloat(P.amount),t=t||w.recvAccountData.otherBankAccount.cardInfo.cardNo!=P.card_no},b=function(){return N!=I.MODIFY||M()?E()?void L():!1:(r.makeToast(STRING_TABLE.PLEASE_COMMIT_AFTER_MODIFY,"short"),!1)},L=function(){if(N==I.DELETE)w.pwdSubTitle="删除计划",w.pwdTransDesc="",w.payWayDesc="";else{var t=r.getYYYYMMDDStringByDate(w.dt,"-");w.pwdSubTitle=t+"起，"+w.tranDateDesc+"从活期+转出",w.pwdTransDesc=parseFloat(w.amount).toFixed(2)+"元"}w.isPwdShow=!0},O=function(){w.showLoading=!1;var t={};t.recvInfo=JSON.stringify(w.recvAccountData);var e={};e.ctrlData={},e.ctrlData.accountType=n.ACCOUNT_TYPE.CURRENT_PLUS,t.payInfo=JSON.stringify(e),t.isRepeated=1,t.nextTime=r.getYYYYMMDDStringByDate(w.dt),y(),t.dateDesc=w.tranDateDesc,t.planDesc="还房贷",t.amount=w.amount,u.path("/planResult").search(t)},R=function(t){w.showLoading=!1,c.isRetCodePwd(t.ret_code)?G(t):r.makeToast(t.ret_msg)},V=function(){r.makeToast("计划删除成功"),u.path("/transHome/updatePlan")},x=function(t){P&&(t.id=P.id),a.requestDeleteTransPlan(t).then(V,R)},F=function(t){P&&(t.id=P.id),a.requestModifyTransPlan(t).then(O,R)},$=function(t){a.requestAddTransPlan(t).then(O,R)},U=function(){w.showLoading=!0;var t=null;gMonetaryOnSaleInfo.length>0&&(t=gMonetaryOnSaleInfo[0]);var a={};a.job_type=2,t&&(a.product_code=t.prod_code,a.product_name=t.prod_name),a.bank_no=w.recvAccountData.otherBankAccount.cardInfo.bankBinCode,a.bank_name=w.recvAccountData.otherBankAccount.cardInfo.bankName,a.card_no=w.recvAccountData.otherBankAccount.cardInfo.cardNo,a.use_webank_card=!1,a.amount=w.amount,a.next_time=r.getYYYYMMDDStringByDate(w.dt),a.is_repeat=1,a.password=e.vm.formData.confirmPassword.RSA,a.remark="定期还房贷",a.categry=2,N==I.MODIFY?F(a):N==I.ADD?$(a):N==I.DELETE&&x(a)},q=function(){if(P){if(!P.id)return void(P=null);w.hasOldPlan=!0,w.dt=r.getDateByYYYYMMDDString(P.next_time),w.amount=parseFloat(P.amount),y();for(var t in J){var e=J[t];if(e.other_account==P.card_no){w.recvAccountData.otherBankAccount.cardInfo.bankBinCode=e.other_bank_bin_code,w.recvAccountData.otherBankAccount.cardInfo.userName=e.other_name,w.recvAccountData.otherBankAccount.cardInfo.cardNo=e.other_account,w.recvAccountData.otherBankAccount.cardInfo.cardTypeCode=e.other_card_type_code,w.recvAccountData.otherBankAccount.cardInfo.cardType=e.other_card_type,w.recvAccountData.otherBankAccount.cardInfo.bankName=e.other_bank_name;break}}}},G=function(t){c.isRetCodePwdRetry(t.ret_code)?(w.outValue={},w.outValue.showPop=!0,w.outValue.oneLineTextLeft=t.ret_msg,w.outValue.twoButtonText1="重试",w.outValue.twoButtonText2="忘记密码",w.outValue.popClose=function(t){1==t?w.isPwdShow=!0:2==t&&ResetPasswdService.goPage()}):(w.outValue={},w.outValue.showPop=!0,w.outValue.oneLineTextLeft=t.ret_msg,w.outValue.twoButtonText1="取消",w.outValue.twoButtonText2="忘记密码",w.outValue.popClose=function(t){1==t||2==t&&ResetPasswdService.goPage()})},H=function(){q(),y()};w.recvAccountData={},w.recvAccountData.ctrlData={},w.recvAccountData.ctrlData.title="请选择付款账户",w.recvAccountData.ctrlData.accountType=n.ACCOUNT_TYPE.OTHER_BANK_CARD,w.recvAccountData.ctrlData.canBindNewCard=!0,w.recvAccountData.otherBankAccount={};var J=c.getValidBandCardList();w.recvAccountData.otherBankAccount.cardInfo={},J&&J.length>0&&(w.recvAccountData.otherBankAccount.otherAccountList=J,w.recvAccountData.otherBankAccount.cardInfo.bankBinCode=J[0].other_bank_bin_code,w.recvAccountData.otherBankAccount.cardInfo.userName=J[0].other_name,w.recvAccountData.otherBankAccount.cardInfo.cardNo=J[0].other_account,w.recvAccountData.otherBankAccount.cardInfo.cardTypeCode=J[0].other_card_type_code,w.recvAccountData.otherBankAccount.cardInfo.cardType=J[0].other_card_type,w.recvAccountData.otherBankAccount.cardInfo.bankName=J[0].other_bank_name),w.hasOldPlan=!1,B.back=function(){u.path("/transHome")},B.onClickMyCard=function(){B.showReceivableAccountSelector()},B.onClickDate=function(){B.showSelect()},B.onSelectNumber=function(t,e){w.dt=g.getNextPlanExecuteDate(e),y()},B.onPwdSelectPayWay=function(){w.isPwdShow?(w.isPwdAutoShow=!0,w.isPwdShow=!1):w.isPwdAutoShow=!1,B.showPaymentAccountSelector()},B.onClickConfirm=function(){r.clickButtonReport("fangdai_queding"),N=P?I.MODIFY:I.ADD,b()},B.onClickDeletePlan=function(){N=I.DELETE,b()},B.canCommit=function(){return w.dt&&w.amount},e.$watch("sigOnPwdCommit",function(t,e){t!==e&&(w.isPwdShow=!1,U())}),B.bindCard=function(){p.saveSession(w),k.goPage()},null!=p.getSession()&&(w=e.data=p.getSession(),p.clearSession()),H()}]);app.controller("HandPasswordController",["$scope","$timeout","$location","GLOBAL_CONSTANT","utils","essential","cache","HandPasswordService","$stateParams","LoginService","ResetPasswdService","webankCommonService","cgiService",function(a,t,e,n,s,o,d,i,u,c,g,C,l){function r(){var t=$(window).get(0).innerWidth,e=0;e=t>360?300:5*t/6,a.IDCanvasData.canvasWidth=e,a.IDCanvasData.canvasHeight=e,a.IDCanvasData.preCanvasWidth=50,a.IDCanvasData.preCanvasHeight=50,a.IDCanvasData.mode=1,a.IDCanvasData.checkpwd="",a.IDCanvasData.settingTempPwd="",a.IDCanvasData.settingStep=1,a.IDCanvasData.lock=!1,a.data.settingMsgClass="msg",a.data.settingMsgContent="",a.data.checkMsgClass="msg",a.data.checkMsgContent="",a.data.headImg="",a.data.nickName="",a.data.showCheckModeClass=!1,a.data.showSettingModeClass=!1,a.data.resetClass="hz hide",a.data.showLoading=!1,a.IDCanvasData.setStatusListener=function(t){a.IDCanvasData.statusListener=t},"checkHand"==k?D():"setHand"==k&&p()}function D(){a.IDCanvasData.mode=2,a.IDCanvasData.checkpwd=P,a.data.showCheckModeClass=!0,a.data.showSettingModeClass=!1,a.data.resetPassClass="flex",a.IDCanvasData.lock=i.gethandpassLock(),t(function(){a.data.headImg=d.getUserInfo().picurl||"../img/tx@2x.png",a.data.nickName=d.getUserInfo().username},200),1==a.IDCanvasData.lock&&t(function(){m("您已经连续5次输错手势密码，手势密码已失效"),h()},200)}function p(){a.IDCanvasData.mode=1,a.IDCanvasData.settingStep=1,a.data.showCheckModeClass=!1,a.data.showSettingModeClass=!0,a.data.resetPassClass="hpw-con hide",a.data.resetClass="hz hide",f("为了您的隐私安全,请设置手势密码")}function w(){a.IDCanvasData.mode=1,a.IDCanvasData.settingStep=2,a.data.resetClass="hz"}function h(){a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft="您已经连续5次输错手势密码，手势密码已失效",a.data.outValue.twoButtonText1="忘记手势密码",a.data.outValue.twoButtonText2="换号登录",a.data.outValue.popClose=function(t){1==t?(a.data.pwdSubTitle="修改手势密码",a.data.isPwdShow=!0):2==t&&I()}}function v(e){a.data.settingMsgClass="msg w",a.data.settingMsgContent=e,t(function(){a.$apply()},10)}function f(e){a.data.settingMsgClass="msg",a.data.settingMsgContent=e,t(function(){a.$apply()},10)}function m(e){a.data.checkMsgClass="msg w",a.data.checkMsgContent=e,t(function(){a.$apply()},10)}function I(){o.logout().then(function(){d.clear(),d.setUserStatus(n.ACCOUNT_STATE.USER_STATE_GUEST);var a={};a.username="",a.picurl="../img/tx@2x.png",a.platform="",a.openid="",a.token="",d.setUserInfo(a),e.path("/login")},function(){})}a.data={};var P=i.getLocalHandpwd(),k=u.handmode?u.handmode:"",T=u.paypass?u.paypass:"";a.IDCanvasData={};var S=0;a.IDCanvasData.onEnteredPassword=function(e,n){1==a.IDCanvasData.mode?1==a.IDCanvasData.settingStep?4>n?v("至少连接4个点"):(f("再次绘制图案进行确认"),a.IDCanvasData.settingTempPwd=e,w()):a.IDCanvasData.settingTempPwd==e?(i.setLoacalHandPwd(a.IDCanvasData.settingTempPwd),i.setHandpassLock(!1),a.data.showLoading=!0,l.requestUpdateHandPassword(a.IDCanvasData.settingTempPwd,0,T).then(function(){s.makeToast("手势密码设置成功"),a.data.showLoading=!1,t(function(){i.finishSetting()},500)},function(t){s.makeToast(t.ret_msg),a.data.showLoading=!1,i.backPage()})):v("两次输入图案不同"):2==a.IDCanvasData.mode&&(P==e?(S=0,t(function(){i.finishCheck()},500)):(S++,5==S?(i.setHandpassLock(!0),a.IDCanvasData.lock=!0,m("您已经连续5次输错手势密码，手势密码已失效"),h()):m("输入错误，您还可以输入"+(5-S)+"次")))},a.IDCanvasData.onTouchStart=function(){v(""),f(""),m("")},a.IDCanvasData.onTouchEnd=function(){};var L=function(){var t={};t.user_old_pwd=a.vm.formData.confirmPassword.RSA,t.user_pwd=t.user_old_pwd;var e=t.user_old_pwd;l.requestVerifyPassword(t).then(function(){i.goPage(i.getSettingHandPara(e))},function(t){tempTan_pass="",C.isRetCodePwd(t.ret_code)?C.isRetCodePwdRetry(t.ret_code)?(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="重试",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(t){1==t?a.data.isPwdShow=!0:2==t&&g.goPage()}):(a.data.outValue={},a.data.outValue.showPop=!0,a.data.outValue.oneLineTextLeft=t.ret_msg,a.data.outValue.twoButtonText1="取消",a.data.outValue.twoButtonText2="忘记密码",a.data.outValue.popClose=function(a){1==a||2==a&&g.goPage()}):s.makeToast(t.ret_msg)})};a.$watch("data.sigOnPwdCommit",function(t,e){t!==e&&(a.data.isPwdShow=!1,L())}),a.onClickResetHandPass=function(){a.data.pwdSubTitle="修改手势密码",a.data.isPwdShow=!0,s.clickButtonReport("gesture-gorget")},a.onClickRelogin=function(){I(),s.clickButtonReport("gesture-other")},a.onClickResetToStep1=function(){a.IDCanvasData.statusListener.onInit(),p()},r()}]);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},r=function(t,e,s){i.call(this,t,e,s),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=r.prototype.render},n=1e-10,a=i._internals,o=a.isSelector,h=a.isArray,l=r.prototype=i.to({},.1,{}),_=[];r.version="1.16.1",l.constructor=r,l.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=i.killTweensOf,r.getTweensOf=i.getTweensOf,r.lagSmoothing=i.lagSmoothing,r.ticker=i.ticker,r.render=i.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var s,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(s in t)this.vars[s]=t[s];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||n){this._initted=!1,this._init();for(var o,h=1/(1-r),l=this._firstPT;l;)o=l.s+l.c,l.c*=h,l.s=o-l.c,l=l._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var s,r,o,h,l,u,p,c,f=this._dirty?this.totalDuration():this._totalDuration,m=this._time,d=this._totalTime,g=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=f?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>y||y===n)&&y!==t&&(i=!0,y>n&&(r="onReverseComplete")),this._rawPrevTime=c=!e||t||y===t?t:n)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==d||0===v&&y>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=c=!e||t||y===t?t:n)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:0>this._time&&(this._time=0)),this._easeType?(l=this._time/v,u=this._easeType,p=this._easePower,(1===u||3===u&&l>=.5)&&(l=1-l),3===u&&(l*=2),1===p?l*=l:2===p?l*=l*l:3===p?l*=l*l*l:4===p&&(l*=l*l*l*l),this.ratio=1===u?1-l:2===u?l:.5>this._time/v?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/v)),m===this._time&&!i&&g===this._cycle)return void(d!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=d,this._rawPrevTime=y,this._cycle=g,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/v):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===d&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==d||s)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_)),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||_)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||_),0===v&&this._rawPrevTime===n&&c!==n&&(this._rawPrevTime=0))},r.to=function(t,e,i){return new r(t,e,i)},r.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new r(t,e,i)},r.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new r(t,e,s)},r.staggerTo=r.allTo=function(t,e,n,a,l,u,p){a=a||0;var c,f,m,d,g=n.delay||0,v=[],y=function(){n.onComplete&&n.onComplete.apply(n.onCompleteScope||this,arguments),l.apply(p||this,u||_)};for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t))),t=t||[],0>a&&(t=s(t),t.reverse(),a*=-1),c=t.length-1,m=0;c>=m;m++){f={};for(d in n)f[d]=n[d];f.delay=g,m===c&&l&&(f.onComplete=y),v[m]=new r(t[m],e,f),g+=a}return v},r.staggerFrom=r.allFrom=function(t,e,i,s,n,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,r.staggerTo(t,e,i,s,n,a,o)},r.staggerFromTo=r.allFromTo=function(t,e,i,s,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,r.staggerTo(t,e,s,n,a,o,h)},r.delayedCall=function(t,e,i,s,n){return new r(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:s,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:s,immediateRender:!1,useFrames:n,overwrite:0})},r.set=function(t,e){return new r(t,0,e)},r.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var u=function(t,e){for(var s=[],r=0,n=t._first;n;)n instanceof i?s[r++]=n:(e&&(s[r++]=n),s=s.concat(u(n,e)),r=s.length),n=n._next;return s},p=r.getAllTweens=function(e){return u(t._rootTimeline,e).concat(u(t._rootFramesTimeline,e))};r.killAll=function(t,i,s,r){null==i&&(i=!0),null==s&&(s=!0);var n,a,o,h=p(0!=r),l=h.length,_=i&&s&&r;for(o=0;l>o;o++)a=h[o],(_||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},r.killChildTweensOf=function(t,e){if(null!=t){var n,l,_,u,p,c=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=s(t)),h(t))for(u=t.length;--u>-1;)r.killChildTweensOf(t[u],e);else{n=[];for(_ in c)for(l=c[_].target.parentNode;l;)l===t&&(n=n.concat(c[_].tweens)),l=l.parentNode;for(p=n.length,u=0;p>u;u++)e&&n[u].totalTime(n[u].totalDuration()),n[u]._enabled(!1,!1)}}};var c=function(t,i,s,r){i=i!==!1,s=s!==!1,r=r!==!1;for(var n,a,o=p(r),h=i&&s&&r,l=o.length;--l>-1;)a=o[l],(h||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&a.paused(t)};return r.pauseAll=function(t,e,i){c(!0,t,e,i)},r.resumeAll=function(t,e,i){c(!1,t,e,i)},r.globalTimeScale=function(e){var s=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||n,s._startTime=r-(r-s._startTime)*s._timeScale/e,s=t._rootFramesTimeline,r=i.ticker.frame,s._startTime=r-(r-s._startTime)*s._timeScale/e,s._timeScale=t._rootTimeline._timeScale=e,e):s._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},r},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,_=n.lazyRender,u=[],p=_gsScope._gsDefine.globals,c=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=a.pauseCallback=function(t,e,i,s){var n,a=t._timeline,o=a._totalTime,h=t._startTime,l=0>t._rawPrevTime||0===t._rawPrevTime&&a._reversed,_=l?0:r,p=l?r:0;if(e||!this._forcingPlayhead){for(a.pause(h),n=t._prev;n&&n._startTime===h;)n._rawPrevTime=p,n=n._prev;for(n=t._next;n&&n._startTime===h;)n._rawPrevTime=_,n=n._next;e&&e.apply(s||a,i||u),(this._forcingPlayhead||!a._paused)&&a.seek(o)}},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.16.1",d.constructor=s,d.kill()._gc=d._forcingPlayhead=!1,d.to=function(t,e,s,r){var n=s.repeat&&p.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&p.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&p.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,h,l,_){var u,p=new s({onComplete:h,onCompleteParams:l,onCompleteScope:_,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=m(t)),n=n||0,0>n&&(t=m(t),t.reverse(),n*=-1),u=0;t.length>u;u++)r.startAt&&(r.startAt=c(r.startAt)),p.to(t[u],e,c(r),u*n);return this.add(p,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var l,_,u,p,c,f;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=n,_=r.length,u=0;_>u;u++)h(p=r[u])&&(p=new s({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(c=this,f=c.rawTime()>r._startTime;c._timeline;)f&&c._timeline.smoothChildTiming?c.totalTime(c._totalTime,!0):c._gc&&c._enabled(!0,!1),c=c._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,f,["{self}",e,s,r],this);return n.data="isPause",this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,h,p=this._dirty?this.totalDuration():this._totalDuration,c=this._time,f=this._startTime,m=this._timeScale,d=this._paused;if(t>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=p+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==c&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&t>0&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u)),this._time>=c)for(s=this._first;s&&(a=s._next,!this._paused||d);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||d);)(s._active||c>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;this._onUpdate&&(e||(l.length&&_(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u))),o&&(this._gc||(f===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(n&&(l.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||u)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var s=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,n=[],a=e._internals,o=a.lazyTweens,h=a.lazyRender,l=new i(null,null,1,0),_=s.prototype=new t;return _.constructor=s,_.kill()._gc=!1,s.version="1.16.1",_.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},_.addCallback=function(t,i,s,r){return this.add(e.delayedCall(0,t,s,r),i)},_.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,r=this._parseTimeOrLabel(e);--s>-1;)i[s]._startTime===r&&i[s]._enabled(!1,!1);return this},_.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},_.tweenTo=function(t,i){i=i||{};var s,r,a,o={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)o[r]=i[r];return o.time=this._parseTimeOrLabel(t),s=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,a=new e(this,s,o),o.onStart=function(){a.target.paused(!0),a.vars.time!==a.target.time()&&s===a.duration()&&a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||a,i.onStartParams||n)},a},_.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=i.immediateRender!==!1;var s=this.tweenTo(e,i);return s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},_.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,a,l,_,u,p,c=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,m=this._time,d=this._totalTime,g=this._startTime,v=this._timeScale,y=this._rawPrevTime,T=this._paused,x=this._cycle;if(t>=c)this._locked||(this._totalTime=c,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(a=!0,_="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>y||y===r)&&y!==t&&this._first&&(u=!0,y>r&&(_="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===f&&y!==r&&(y>0||0>t&&y>=0)&&!this._locked)&&(_="onReverseComplete",a=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=a=!0,_="onReverseComplete"):y>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:r,0===t&&a)for(s=this._first;s&&0===s._startTime;)s._duration||(a=!1),s=s._next;t=0,this._initted||(u=!0)}else 0===f&&0>y&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(p=f+this._repeatDelay,this._cycle=this._totalTime/p>>0,0!==this._cycle&&this._cycle===this._totalTime/p&&this._cycle--,this._time=this._totalTime-this._cycle*p,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):0>this._time?this._time=t=0:t=this._time));if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!==(1&x),b=w===(this._yoyo&&0!==(1&this._cycle)),P=this._totalTime,S=this._cycle,R=this._rawPrevTime,O=this._time;if(this._totalTime=x*f,x>this._cycle?w=!w:this._totalTime+=f,this._time=m,this._rawPrevTime=0===f?y-1e-4:y,this._cycle=x,this._locked=!0,m=w?0:f,this.render(m,e,0===f),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||n),b&&(m=w?f+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!T)return;this._time=O,this._totalTime=P,this._cycle=S,this._rawPrevTime=R}if(!(this._time!==m&&this._first||i||u))return void(d!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||n)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||n)),this._time>=m)for(s=this._first;s&&(l=s._next,!this._paused||T);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=l;else for(s=this._last;s&&(l=s._prev,!this._paused||T);)(s._active||m>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=l;this._onUpdate&&(e||(o.length&&h(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||n))),_&&(this._locked||this._gc||(g===this._startTime||v!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(a&&(o.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[_]&&this.vars[_].apply(this.vars[_+"Scope"]||this,this.vars[_+"Params"]||n)))},_.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,r,n=[],a=this.getChildren(t,e,i),o=0,h=a.length;for(s=0;h>s;s++)r=a[s],r.isActive()&&(n[o++]=r);return n},_.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;s>e;e++)if(i[e].time>t)return i[e].name;return null},_.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},_.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},_.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},_.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},_.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},_.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},_.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},_.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},_.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},_.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},s},!0),function(){var t=180/Math.PI,e=[],i=[],s=[],r={},n=_gsScope._gsDefine.globals,a=function(t,e,i,s){this.a=t,this.b=e,this.c=i,this.d=s,this.da=s-t,this.ca=i-t,this.ba=e-t},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",h=function(t,e,i,s){var r={a:t},n={},a={},o={c:s},h=(t+e)/2,l=(e+i)/2,_=(i+s)/2,u=(h+l)/2,p=(l+_)/2,c=(p-u)/8;return r.b=h+(t-h)/4,n.b=u+c,r.c=n.a=(r.b+n.b)/2,n.c=a.a=(u+p)/2,a.b=p-c,o.b=_+(s-_)/4,a.c=o.a=(a.b+o.b)/2,[r,n,a,o]},l=function(t,r,n,a,o){var l,_,u,p,c,f,m,d,g,v,y,T,x,w=t.length-1,b=0,P=t[0].a;for(l=0;w>l;l++)c=t[b],_=c.a,u=c.d,p=t[b+1].d,o?(y=e[l],T=i[l],x=.25*(T+y)*r/(a?.5:s[l]||.5),f=u-(u-_)*(a?.5*r:0!==y?x/y:0),m=u+(p-u)*(a?.5*r:0!==T?x/T:0),d=u-(f+((m-f)*(3*y/(y+T)+.5)/4||0))):(f=u-.5*(u-_)*r,m=u+.5*(p-u)*r,d=u-(f+m)/2),f+=d,m+=d,c.c=g=f,c.b=0!==l?P:P=c.a+.6*(c.c-c.a),c.da=u-_,c.ca=g-_,c.ba=P-_,n?(v=h(_,P,g,u),t.splice(b,1,v[0],v[1],v[2],v[3]),b+=4):b++,P=m;c=t[b],c.b=P,c.c=P+.4*(c.d-P),c.da=c.d-c.a,c.ca=c.c-c.a,c.ba=P-c.a,n&&(v=h(c.a,P,c.c,c.d),t.splice(b,1,v[0],v[1],v[2],v[3]))},_=function(t,s,r,n){var o,h,l,_,u,p,c=[];if(n)for(t=[n].concat(t),h=t.length;--h>-1;)"string"==typeof(p=t[h][s])&&"="===p.charAt(1)&&(t[h][s]=n[s]+Number(p.charAt(0)+p.substr(2)));if(o=t.length-2,0>o)return c[0]=new a(t[0][s],0,0,t[-1>o?0:1][s]),c;for(h=0;o>h;h++)l=t[h][s],_=t[h+1][s],c[h]=new a(l,0,0,_),r&&(u=t[h+2][s],e[h]=(e[h]||0)+(_-l)*(_-l),i[h]=(i[h]||0)+(u-_)*(u-_));return c[h]=new a(t[h][s],0,0,t[h+1][s]),c},u=function(t,n,a,h,u,p){var c,f,m,d,g,v,y,T,x={},w=[],b=p||t[0];u="string"==typeof u?","+u+",":o,null==n&&(n=1);for(f in t[0])w.push(f);if(t.length>1){for(T=t[t.length-1],y=!0,c=w.length;--c>-1;)if(f=w[c],Math.abs(b[f]-T[f])>.05){y=!1;break}y&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=i.length=s.length=0,c=w.length;--c>-1;)f=w[c],r[f]=-1!==u.indexOf(","+f+","),x[f]=_(t,f,r[f],p);for(c=e.length;--c>-1;)e[c]=Math.sqrt(e[c]),i[c]=Math.sqrt(i[c]);if(!h){for(c=w.length;--c>-1;)if(r[f])for(m=x[w[c]],v=m.length-1,d=0;v>d;d++)g=m[d+1].da/i[d]+m[d].da/e[d],s[d]=(s[d]||0)+g*g;for(c=s.length;--c>-1;)s[c]=Math.sqrt(s[c])}for(c=w.length,d=a?4:1;--c>-1;)f=w[c],m=x[f],l(m,n,a,h,r[f]),y&&(m.splice(0,d),m.splice(m.length-d,d));return x},p=function(t,e,i){e=e||"soft";var s,r,n,o,h,l,_,u,p,c,f,m={},d="cubic"===e?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||d+1>t.length)throw"invalid Bezier data";for(p in t[0])v.push(p);for(l=v.length;--l>-1;){for(p=v[l],m[p]=h=[],c=0,u=t.length,_=0;u>_;_++)s=null==i?t[_][p]:"string"==typeof(f=t[_][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),g&&_>1&&u-1>_&&(h[c++]=(s+h[c-2])/2),h[c++]=s;for(u=c-d+1,c=0,_=0;u>_;_+=d)s=h[_],r=h[_+1],n=h[_+2],o=2===d?0:h[_+3],h[c++]=f=3===d?new a(s,r,n,o):new a(s,(2*r+s)/3,(2*r+n)/3,n);h.length=c}return m},c=function(t,e,i){for(var s,r,n,a,o,h,l,_,u,p,c,f=1/i,m=t.length;--m>-1;)for(p=t[m],n=p.a,a=p.d-n,o=p.c-n,h=p.b-n,s=r=0,_=1;i>=_;_++)l=f*_,u=1-l,s=r-(r=(l*l*a+3*u*(l*o+u*h))*l),c=m*i+_-1,e[c]=(e[c]||0)+s*s},f=function(t,e){e=e>>0||6;var i,s,r,n,a=[],o=[],h=0,l=0,_=e-1,u=[],p=[];for(i in t)c(t[i],a,e);for(r=a.length,s=0;r>s;s++)h+=Math.sqrt(a[s]),n=s%e,p[n]=h,n===_&&(l+=h,n=s/e>>0,u[n]=p,o[n]=l,h=0,p=[]);return{length:l,lengths:o,segments:u}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var s,r,n,a,o,h=e.values||[],l={},_=h[0],c=e.autoRotate||i.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(s in _)this._props.push(s);for(n=this._props.length;--n>-1;)s=this._props[n],this._overwriteProps.push(s),r=this._func[s]="function"==typeof t[s],l[s]=r?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),o||l[s]!==h[0][s]&&(o=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):p(h,e.type,l),this._segCount=this._beziers[s].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),n=c.length;--n>-1;){for(a=0;3>a;a++)s=c[n][a],this._func[s]="function"==typeof t[s]?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]:!1;
s=c[n][2],this._initialRotations[n]=this._func[s]?this._func[s].call(this._target):this._target[s]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,s,r,n,a,o,h,l,_,u,p=this._segCount,c=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(_=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&p-1>r){for(l=p-1;l>r&&e>=(this._l2=_[++r]););this._l1=_[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(this._l1>e&&r>0){for(;r>0&&(this._l1=_[--r])>=e;);0===r&&this._l1>e?this._l1=0:r++,this._l2=_[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&u.length-1>r){for(l=u.length-1;l>r&&e>=(this._s2=u[++r]););this._s1=u[r-1],this._si=r}else if(this._s1>e&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&this._s1>e?this._s1=0:r++,this._s2=u[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?p-1:p*e>>0,o=(e-i*(1/p))*p;for(s=1-o,r=this._props.length;--r>-1;)n=this._props[r],a=this._beziers[n][i],h=(o*o*a.da+3*s*(o*a.ca+s*a.ba))*o+a.a,this._round[n]&&(h=Math.round(h)),c[n]?f[n](h):f[n]=h;if(this._autoRotate){var d,g,v,y,T,x,w,b=this._autoRotate;for(r=b.length;--r>-1;)n=b[r][2],x=b[r][3]||0,w=b[r][4]===!0?1:t,a=this._beziers[b[r][0]],d=this._beziers[b[r][1]],a&&d&&(a=a[i],d=d[i],g=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,g+=(y-g)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=d.a+(d.b-d.a)*o,T=d.b+(d.c-d.b)*o,v+=(T-v)*o,T+=(d.c+(d.d-d.c)*o-T)*o,h=m?Math.atan2(T-v,y-g)*w+x:this._initialRotations[r],c[n]?f[n](h):f[n]=h)}}}),d=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=h,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=n.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,s=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,n,a,o,h){e instanceof Array&&(e={values:e}),h=new m;var l,_,u,p=e.values,c=p.length-1,f=[],d={};if(0>c)return o;for(l=0;c>=l;l++)u=i(t,p[l],a,o,h,c!==l),f[l]=u.end;for(_ in e)d[_]=e[_];return d.values=f,o=new r(t,"bezier",0,0,u.pt,2),o.data=u,o.plugin=h,o.setRatio=s,0===d.autoRotate&&(d.autoRotate=!0),!d.autoRotate||d.autoRotate instanceof Array||(l=d.autoRotate===!0?0:Number(d.autoRotate),d.autoRotate=null!=u.end.left?[["left","top","rotation",l,!1]]:null!=u.end.x?[["x","y","rotation",l,!1]]:!1),d.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),h._onInitTween(u.proxy,d,a._tween),o}})}},d._roundProps=function(t,e){for(var i=this._overwriteProps,s=i.length;--s>-1;)(t[i[s]]||t.bezier||t.bezierThrough)&&(this._round[i[s]]=e)},d._kill=function(t){var e,i,s=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=s.length;--i>-1;)s[i]===e&&s.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,s,r,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,h={},l=a.prototype=new t("css");l.constructor=a,a.version="1.16.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var _,u,p,c,f,m,d=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,S=/([A-Z])/g,R=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,C=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,z=Math.PI/180,F=180/Math.PI,I={},N=document,X=function(t){return N.createElementNS?N.createElementNS("http://www.w3.org/1999/xhtml",t):N.createElement(t)},L=X("div"),E=X("img"),Y=a._internals={_specialProps:h},B=navigator.userAgent,U=function(){var t=B.indexOf("Android"),e=X("a");return p=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===t||Number(B.substr(t+8,1))>3),f=p&&6>Number(B.substr(B.indexOf("Version/")+8,1)),c=-1!==B.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),j=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(t){window.console&&void 0},q="",W="",Z=function(t,e){e=e||L;var i,s,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;--s>-1&&void 0===r[i[s]+t];);return s>=0?(W=3===s?"ms":i[s],q="-"+W.toLowerCase()+"-",W+t):null},G=N.defaultView?N.defaultView.getComputedStyle:function(){},$=a.getStyle=function(t,e,i,s,r){var n;return U||"opacity"!==e?(!s&&t.style[e]?n=t.style[e]:(i=i||G(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==r||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:r):j(t)},Q=Y.convertToPixels=function(t,i,s,r,n){if("px"===r||!r)return s;if("auto"===r||!s)return 0;var o,h,l,_=A.test(i),u=t,p=L.style,c=0>s;if(c&&(s=-s),"%"===r&&-1!==i.indexOf("border"))o=s/100*(_?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+$(t,"position")+";line-height:0;","%"!==r&&u.appendChild)p[_?"borderLeftWidth":"borderTopWidth"]=s+r;else{if(u=t.parentNode||N.body,h=u._gsCache,l=e.ticker.frame,h&&_&&h.time===l)return h.width*s/100;p[_?"width":"height"]=s+r}u.appendChild(L),o=parseFloat(L[_?"offsetWidth":"offsetHeight"]),u.removeChild(L),_&&"%"===r&&a.cacheWidths!==!1&&(h=u._gsCache=u._gsCache||{},h.time=l,h.width=100*(o/s)),0!==o||n||(o=Q(t,i,s,r,!0))}return c?-o:o},H=Y.calculateOffset=function(t,e,i){if("absolute"!==$(t,"position",i))return 0;var s="left"===e?"Left":"Top",r=$(t,"margin"+s,i);return t["offset"+s]-(Q(t,e,parseFloat(r),r.replace(T,""))||0)},K=function(t,e){var i,s,r,n={};if(e=e||G(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||be===r)&&(n[r.replace(R,k)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||we===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(R,k)]=e[i]);return U||(n.opacity=j(t)),s=Me(t,e,!1),n.rotation=s.rotation,n.skewX=s.skewX,n.scaleX=s.scaleX,n.scaleY=s.scaleY,n.x=s.x,n.y=s.y,Se&&(n.z=s.z,n.rotationX=s.rotationX,n.rotationY=s.rotationY,n.scaleZ=s.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,s,r){var n,a,o,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(h[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:H(t,a),void 0!==l[a]&&(o=new ce(l,a,l[a],o)));if(s)for(a in s)"className"!==a&&(h[a]=s[a]);return{difs:h,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=te[e],n=r.length;for(i=i||G(t,null);--n>-1;)s-=parseFloat($(t,"padding"+r[n],i,!0))||0,s-=parseFloat($(t,"border"+r[n]+"Width",i,!0))||0;return s},se=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),s=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===s?"50%":"0":"center"===r&&(r="50%"),("center"===s||isNaN(parseFloat(s))&&-1===(s+"").indexOf("="))&&(s="50%"),t=s+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==s.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===s.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(s.replace(y,"")),e.oy=parseFloat(r.replace(y,"")),e.v=t),e||t},re=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,s){var r,n,a,o,h,l=1e-6;return null==t?o=e:"number"==typeof t?o=t:(r=360,n=t.split("_"),h="="===t.charAt(1),a=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:F)-(h?0:e),n.length&&(s&&(s[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(0|a/r)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(0|a/r)*r)),o=e+a),l>o&&o>-l&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},le=a.parseColor=function(t){var e,i,s,r,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+e+e+i+i+s+s),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(d),r=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=he(r+1/3,e,i),t[1]=he(r,e,i),t[2]=he(r-1/3,e,i),t):(t=t.match(d)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},_e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in oe)_e+="|"+l+"\\b";_e=RegExp(_e+")","gi");var ue=function(t,e,i,s){if(null==t)return function(t){return t};var r,n=e?(t.match(_e)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",_=a.length,u=_>0?a[0].replace(d,""):"";return _?r=e?function(t){var e,p,c,f;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(f=t.replace(M,"|").split("|"),c=0;f.length>c;c++)f[c]=r(f[c]);return f.join(",")}if(e=(t.match(_e)||[n])[0],p=t.split(e).join("").match(v)||[],c=p.length,_>c--)for(;_>++c;)p[c]=i?p[0|(c-1)/2]:a[c];return o+p.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,p;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(n=t.replace(M,"|").split("|"),p=0;n.length>p;p++)n[p]=r(n[p]);return n.join(",")}if(e=t.match(v)||[],p=e.length,_>p--)for(;_>++p;)e[p]=i?e[0|(p-1)/2]:a[p];return o+e.join(l)+h}:function(t){return t}},pe=function(t){return t=t.split(","),function(e,i,s,r,n,a,o){var h,l=(i+"").split(" ");for(o={},h=0;4>h;h++)o[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return r.parse(e,o,n,a)}},ce=(Y._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,r,n=this.data,a=n.proxy,o=n.firstMPT,h=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):h>e&&e>-h&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,s=1;i.l>s;s++)r+=i["xn"+s]+i["xs"+(s+1)];i.e=r}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,s,r){this.t=t,this.p=e,this.v=i,this.r=r,s&&(s._prev=this,this._next=s)}),fe=(Y._parseToProxy=function(t,e,i,s,r,n){var a,o,h,l,_,u=s,p={},c={},f=i._transform,m=I;for(i._transform=null,I=e,s=_=i.parse(t,e,s,r),I=m,n&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));s&&s!==u;){if(1>=s.type&&(o=s.p,c[o]=s.s+s.c,p[o]=s.s,n||(l=new ce(s,"s",o,l,s.r),s.c=0),1===s.type))for(a=s.l;--a>0;)h="xn"+a,o=s.p+"_"+h,c[o]=s.data[h],p[o]=s[h],n||(l=new ce(s,h,o,l,s.rxp[h]));s=s._next}return{proxy:p,end:c,firstMPT:l,pt:_}},Y.CSSPropTween=function(t,e,s,r,a,o,h,l,_,u,p){this.t=t,this.p=e,this.s=s,this.c=r,this.n=h||e,t instanceof fe||n.push(this.n),this.r=l,this.type=o||0,_&&(this.pr=_,i=!0),this.b=void 0===u?s:u,this.e=void 0===p?s+r:p,a&&(this._next=a,a._prev=this)}),me=a.parseComplex=function(t,e,i,s,r,n,a,o,h,l){i=i||n||"",a=new fe(t,e,0,0,a,l?2:1,null,!1,o,i,s),s+="";var u,p,c,f,m,v,y,T,x,w,b,S,R=i.split(", ").join(",").split(" "),O=s.split(", ").join(",").split(" "),k=R.length,A=_!==!1;for((-1!==s.indexOf(",")||-1!==i.indexOf(","))&&(R=R.join(" ").replace(M,", ").split(" "),O=O.join(" ").replace(M,", ").split(" "),k=R.length),k!==O.length&&(R=(n||"").split(" "),k=R.length),a.plugin=h,a.setRatio=l,u=0;k>u;u++)if(f=R[u],m=O[u],T=parseFloat(f),T||0===T)a.appendXtra("",T,re(m,T),m.replace(g,""),A&&-1!==m.indexOf("px"),!0);else if(r&&("#"===f.charAt(0)||oe[f]||P.test(f)))S=","===m.charAt(m.length-1)?"),":")",f=le(f),m=le(m),x=f.length+m.length>6,x&&!U&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[u]).join("transparent")):(U||(x=!1),a.appendXtra(x?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],x?",":S,!0),x&&(f=4>f.length?1:f[3],a.appendXtra("",f,(4>m.length?1:m[3])-f,S,!1)));else if(v=f.match(d)){if(y=m.match(g),!y||y.length!==v.length)return a;for(c=0,p=0;v.length>p;p++)b=v[p],w=f.indexOf(b,c),a.appendXtra(f.substr(c,w-c),Number(b),re(y[p],b),"",A&&"px"===f.substr(w+b.length,2),0===p),c=w+b.length;a["xs"+a.l]+=f.substr(c)}else a["xs"+a.l]+=a.l?" "+f:f;if(-1!==s.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,u=1;a.l>u;u++)S+=a["xs"+u]+a.data["xn"+u];a.e=S+a["xs"+u]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},de=9;for(l=fe.prototype,l.l=l.pr=0;--de>0;)l["xn"+de]=0,l["xs"+de]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,i,s,r,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=s||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new fe(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(s||""),a)};var ge=function(t,e){e=e||{},this.p=e.prefix?Z(t)||t:t,h[t]=h[this.p]=this,this.format=e.formatter||ue(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ve=Y._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,r,n=t.split(","),a=e.defaultValue;for(i=i||[a],s=0;n.length>s;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||a,r=new ge(n[s],e)},ye=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ve(t,{parser:function(t,i,s,r,n,a,l){var _=o.com.greensock.plugins[e];return _?(_._cssRegister(),h[s].parse(t,i,s,r,n,a,l)):(V("Error: "+e+" js file not loaded."),n)}})}};l=ge.prototype,l.parseComplex=function(t,e,i,s,r,n){var a,o,h,l,_,u,p=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),h=i.replace(M,"|").split("|")):p&&(o=[e],h=[i])),h){for(l=h.length>o.length?h.length:o.length,a=0;l>a;a++)e=o[a]=o[a]||this.dflt,i=h[a]=h[a]||this.dflt,p&&(_=e.indexOf(p),u=i.indexOf(p),_!==u&&(-1===u?o[a]=o[a].split(p).join(""):-1===_&&(o[a]+=" "+p)));e=o.join(", "),i=h.join(", ")}return me(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,r,n)},l.parse=function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format($(t,this.p,r,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ve(t,{parser:function(t,s,r,n,a,o){var h=new fe(t,r,0,0,a,2,r,!1,i);return h.plugin=o,h.setRatio=e(t,s,n._tween,r),h},priority:i})},a.useSVGTransformAttr=p;var Te,xe="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),we=Z("transform"),be=q+"transform",Pe=Z("transformOrigin"),Se=null!==Z("perspective"),Re=Y.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Se?a.defaultForce3D||"auto":!1},Oe=window.SVGElement,ke=function(t,e,i){var s,r=N.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(s in i)r.setAttributeNS(null,s.replace(n,"$1-$2").toLowerCase(),i[s]);return e.appendChild(r),r},Ae=N.documentElement,Ce=function(){var t,e,i,s=m||/Android/i.test(B)&&!window.chrome;return N.createElementNS&&!s&&(t=ke("svg",Ae),e=ke("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Pe]="50% 50%",e.style[we]="scaleX(0.5)",s=i===e.getBoundingClientRect().width&&!(c&&Se),Ae.removeChild(t)),s}(),De=function(t,e,i,s){var r,n;s&&(n=s.split(" ")).length||(r=t.getBBox(),e=se(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*r.width:parseFloat(e[0]))+r.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*r.height:parseFloat(e[1]))+r.y]),i.xOrigin=parseFloat(n[0]),i.yOrigin=parseFloat(n[1]),t.setAttribute("data-svg-origin",n.join(" "))},Me=Y.getTransform=function(t,e,i,s){if(t._gsTransform&&i&&!s)return t._gsTransform;var n,o,h,l,_,u,p,c,f,m,d=i?t._gsTransform||new Re:new Re,g=0>d.scaleX,v=2e-5,y=1e5,T=Se?parseFloat($(t,Pe,e,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,x=parseFloat(a.defaultTransformPerspective)||0;if(we?o=$(t,be,e,!0):t.currentStyle&&(o=t.currentStyle.filter.match(C),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),d.x||0,d.y||0].join(","):""),n=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,d.svg=!!(Oe&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),d.svg&&(n&&-1!==(t.style[we]+"").indexOf("matrix")&&(o=t.style[we],n=!1),De(t,$(t,Pe,r,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Te=a.useSVGTransformAttr||Ce,h=t.getAttribute("transform"),n&&h&&-1!==h.indexOf("matrix")&&(o=h,n=0)),!n){for(h=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],l=h.length;--l>-1;)_=Number(h[l]),h[l]=(u=_-(_|=0))?(0|u*y+(0>u?-.5:.5))/y+_:_;if(16===h.length){var w,b,P,S,R,O=h[0],k=h[1],A=h[2],D=h[3],M=h[4],z=h[5],I=h[6],N=h[7],X=h[8],L=h[9],E=h[10],Y=h[12],B=h[13],U=h[14],j=h[11],V=Math.atan2(I,E);d.zOrigin&&(U=-d.zOrigin,Y=X*U-h[12],B=L*U-h[13],U=E*U+d.zOrigin-h[14]),d.rotationX=V*F,V&&(S=Math.cos(-V),R=Math.sin(-V),w=M*S+X*R,b=z*S+L*R,P=I*S+E*R,X=M*-R+X*S,L=z*-R+L*S,E=I*-R+E*S,j=N*-R+j*S,M=w,z=b,I=P),V=Math.atan2(X,E),d.rotationY=V*F,V&&(S=Math.cos(-V),R=Math.sin(-V),w=O*S-X*R,b=k*S-L*R,P=A*S-E*R,L=k*R+L*S,E=A*R+E*S,j=D*R+j*S,O=w,k=b,A=P),V=Math.atan2(k,O),d.rotation=V*F,V&&(S=Math.cos(-V),R=Math.sin(-V),O=O*S+M*R,b=k*S+z*R,z=k*-R+z*S,I=A*-R+I*S,k=b),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(0|Math.sqrt(O*O+k*k)*y+.5)/y,d.scaleY=(0|Math.sqrt(z*z+L*L)*y+.5)/y,d.scaleZ=(0|Math.sqrt(I*I+E*E)*y+.5)/y,d.skewX=0,d.perspective=j?1/(0>j?-j:j):0,d.x=Y,d.y=B,d.z=U,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*O-d.yOrigin*M),d.y-=d.yOrigin-(d.yOrigin*k-d.xOrigin*z))}else if(!(Se&&!s&&h.length&&d.x===h[4]&&d.y===h[5]&&(d.rotationX||d.rotationY)||void 0!==d.x&&"none"===$(t,"display",e))){var q=h.length>=6,W=q?h[0]:1,Z=h[1]||0,G=h[2]||0,Q=q?h[3]:1;d.x=h[4]||0,d.y=h[5]||0,p=Math.sqrt(W*W+Z*Z),c=Math.sqrt(Q*Q+G*G),f=W||Z?Math.atan2(Z,W)*F:d.rotation||0,m=G||Q?Math.atan2(G,Q)*F+f:d.skewX||0,Math.abs(m)>90&&270>Math.abs(m)&&(g?(p*=-1,m+=0>=f?180:-180,f+=0>=f?180:-180):(c*=-1,m+=0>=m?180:-180)),d.scaleX=p,d.scaleY=c,d.rotation=f,d.skewX=m,Se&&(d.rotationX=d.rotationY=d.z=0,d.perspective=x,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*W-d.yOrigin*Z),d.y-=d.yOrigin-(d.yOrigin*Q-d.xOrigin*G))}d.zOrigin=T;for(l in d)v>d[l]&&d[l]>-v&&(d[l]=0)}return i&&(t._gsTransform=d,d.svg&&(Te&&t.style[we]?Ne(t.style,we):!Te&&t.getAttribute("transform")&&t.removeAttribute("transform"))),d},ze=function(t){var e,i,s=this.data,r=-s.rotation*z,n=r+s.skewX*z,a=1e5,o=(0|Math.cos(r)*s.scaleX*a)/a,h=(0|Math.sin(r)*s.scaleX*a)/a,l=(0|Math.sin(n)*-s.scaleY*a)/a,_=(0|Math.cos(n)*s.scaleY*a)/a,u=this.t.style,p=this.t.currentStyle;if(p){i=h,h=-l,l=-i,e=p.filter,u.filter="";var c,f,d=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+h+", M21="+l+", M22="+_,w=s.x+d*s.xPercent/100,b=s.y+g*s.yPercent/100;if(null!=s.ox&&(c=(s.oxp?.01*d*s.ox:s.ox)-d/2,f=(s.oyp?.01*g*s.oy:s.oy)-g/2,w+=c-(c*o+f*h),b+=f-(c*l+f*_)),v?(c=d/2,f=g/2,y+=", Dx="+(c-(c*o+f*h)+w)+", Dy="+(f-(c*l+f*_)+b)+")"):y+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(D,y):y+" "+e,(0===t||1===t)&&1===o&&0===h&&0===l&&1===_&&(v&&-1===y.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var P,S,R,O=8>m?1:-1;for(c=s.ieOffsetX||0,f=s.ieOffsetY||0,s.ieOffsetX=Math.round((d-((0>o?-o:o)*d+(0>h?-h:h)*g))/2+w),s.ieOffsetY=Math.round((g-((0>_?-_:_)*g+(0>l?-l:l)*d))/2+b),de=0;4>de;de++)S=ee[de],P=p[S],i=-1!==P.indexOf("px")?parseFloat(P):Q(this.t,S,parseFloat(P),P.replace(T,""))||0,R=i!==s[S]?2>de?-s.ieOffsetX:-s.ieOffsetY:2>de?c-s.ieOffsetX:f-s.ieOffsetY,u[S]=(s[S]=Math.round(i-R*(0===de||2===de?1:O)))+"px"}}},Fe=Y.set3DTransformRatio=Y.setTransformRatio=function(t){var e,i,s,r,n,a,o,h,l,_,u,p,f,m,d,g,v,y,T,x,w,b,P,S=this.data,R=this.t.style,O=S.rotation,k=S.rotationX,A=S.rotationY,C=S.scaleX,D=S.scaleY,M=S.scaleZ,F=S.x,I=S.y,N=S.z,X=S.svg,L=S.perspective,E=S.force3D;if(!((1!==t&&0!==t||"auto"!==E||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&E||N||L||A||k)||Te&&X||!Se)return void(O||S.skewX||X?(O*=z,b=S.skewX*z,P=1e5,e=Math.cos(O)*C,r=Math.sin(O)*C,i=Math.sin(O-b)*-D,n=Math.cos(O-b)*D,b&&"simple"===S.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v),X&&(F+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),I+=S.yOrigin-(S.xOrigin*r+S.yOrigin*n),m=1e-6,m>F&&F>-m&&(F=0),m>I&&I>-m&&(I=0)),T=(0|e*P)/P+","+(0|r*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+F+","+I+")",X&&Te?this.t.setAttribute("transform","matrix("+T):R[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+T):R[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+D+","+F+","+I+")");if(c&&(m=1e-4,m>C&&C>-m&&(C=M=2e-5),m>D&&D>-m&&(D=M=2e-5),!L||S.z||S.rotationX||S.rotationY||(L=0)),O||S.skewX)O*=z,d=e=Math.cos(O),g=r=Math.sin(O),S.skewX&&(O-=S.skewX*z,d=Math.cos(O),g=Math.sin(O),"simple"===S.skewType&&(v=Math.tan(S.skewX*z),v=Math.sqrt(1+v*v),d*=v,g*=v)),i=-g,n=d;else{if(!(A||k||1!==M||L||X))return void(R[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+F+"px,"+I+"px,"+N+"px)"+(1!==C||1!==D?" scale("+C+","+D+")":""));e=n=1,i=r=0}l=1,s=a=o=h=_=u=0,p=L?-1/L:0,f=S.zOrigin,m=1e-6,x=",",w="0",O=A*z,O&&(d=Math.cos(O),g=Math.sin(O),o=-g,_=p*-g,s=e*g,a=r*g,l=d,p*=d,e*=d,r*=d),O=k*z,O&&(d=Math.cos(O),g=Math.sin(O),v=i*d+s*g,y=n*d+a*g,h=l*g,u=p*g,s=i*-g+s*d,a=n*-g+a*d,l*=d,p*=d,i=v,n=y),1!==M&&(s*=M,a*=M,l*=M,p*=M),1!==D&&(i*=D,n*=D,h*=D,u*=D),1!==C&&(e*=C,r*=C,o*=C,_*=C),(f||X)&&(f&&(F+=s*-f,I+=a*-f,N+=l*-f+f),X&&(F+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),I+=S.yOrigin-(S.xOrigin*r+S.yOrigin*n)),m>F&&F>-m&&(F=w),m>I&&I>-m&&(I=w),m>N&&N>-m&&(N=0)),T=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",T+=(m>e&&e>-m?w:e)+x+(m>r&&r>-m?w:r)+x+(m>o&&o>-m?w:o),T+=x+(m>_&&_>-m?w:_)+x+(m>i&&i>-m?w:i)+x+(m>n&&n>-m?w:n),k||A?(T+=x+(m>h&&h>-m?w:h)+x+(m>u&&u>-m?w:u)+x+(m>s&&s>-m?w:s),T+=x+(m>a&&a>-m?w:a)+x+(m>l&&l>-m?w:l)+x+(m>p&&p>-m?w:p)+x):T+=",0,0,0,0,1,0,",T+=F+x+I+x+N+x+(L?1+-N/L:1)+")",R[we]=T};l=Re.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=0,l.scaleX=l.scaleY=l.scaleZ=1,ve("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,s,n,o,h){if(s._lastParsedTransform===h)return n;s._lastParsedTransform=h;var l,_,u,p,c,f,m,d=s._transform=Me(t,r,!0,h.parseTransform),g=t.style,v=1e-6,y=xe.length,T=h,x={};if("string"==typeof T.transform&&we)u=L.style,u[we]=T.transform,u.display="block",u.position="absolute",N.body.appendChild(L),l=Me(L,null,!1),N.body.removeChild(L);else if("object"==typeof T){if(l={scaleX:ne(null!=T.scaleX?T.scaleX:T.scale,d.scaleX),scaleY:ne(null!=T.scaleY?T.scaleY:T.scale,d.scaleY),scaleZ:ne(T.scaleZ,d.scaleZ),x:ne(T.x,d.x),y:ne(T.y,d.y),z:ne(T.z,d.z),xPercent:ne(T.xPercent,d.xPercent),yPercent:ne(T.yPercent,d.yPercent),perspective:ne(T.transformPerspective,d.perspective)},m=T.directionalRotation,null!=m)if("object"==typeof m)for(u in m)T[u]=m[u];else T.rotation=m;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(l.x=0,l.xPercent=ne(T.x,d.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(l.y=0,l.yPercent=ne(T.y,d.yPercent)),l.rotation=ae("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:d.rotation,d.rotation,"rotation",x),Se&&(l.rotationX=ae("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":d.rotationX||0,d.rotationX,"rotationX",x),l.rotationY=ae("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":d.rotationY||0,d.rotationY,"rotationY",x)),l.skewX=null==T.skewX?d.skewX:ae(T.skewX,d.skewX),l.skewY=null==T.skewY?d.skewY:ae(T.skewY,d.skewY),(_=l.skewY-d.skewY)&&(l.skewX+=_,l.rotation+=_)}for(Se&&null!=T.force3D&&(d.force3D=T.force3D,f=!0),d.skewType=T.skewType||d.skewType||a.defaultSkewType,c=d.force3D||d.z||d.rotationX||d.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,c||null==T.scale||(l.scaleZ=1);--y>-1;)i=xe[y],p=l[i]-d[i],(p>v||-v>p||null!=T[i]||null!=I[i])&&(f=!0,n=new fe(d,i,d[i],p,n),i in x&&(n.e=x[i]),n.xs0=0,n.plugin=o,s._overwriteProps.push(n.n));return p=T.transformOrigin,d.svg&&(p||T.svgOrigin)&&(De(t,se(p),l,T.svgOrigin),n=new fe(d,"xOrigin",d.xOrigin,l.xOrigin-d.xOrigin,n,-1,"transformOrigin"),n.b=d.xOrigin,n.e=n.xs0=l.xOrigin,n=new fe(d,"yOrigin",d.yOrigin,l.yOrigin-d.yOrigin,n,-1,"transformOrigin"),n.b=d.yOrigin,n.e=n.xs0=l.yOrigin,p=Te?null:"0px 0px"),(p||Se&&c&&d.zOrigin)&&(we?(f=!0,i=Pe,p=(p||$(t,i,r,!1,"50% 50%"))+"",n=new fe(g,i,0,0,n,-1,"transformOrigin"),n.b=g[i],n.plugin=o,Se?(u=d.zOrigin,p=p.split(" "),d.zOrigin=(p.length>2&&(0===u||"0px"!==p[2])?parseFloat(p[2]):u)||0,n.xs0=n.e=p[0]+" "+(p[1]||"50%")+" 0px",n=new fe(d,"zOrigin",0,0,n,-1,n.n),n.b=u,n.xs0=n.e=d.zOrigin):n.xs0=n.e=p):se(p+"",d)),f&&(s._transformType=d.svg&&Te||!c&&3!==this._transformType?2:3),n},prefix:!0}),ve("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ve("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,h,l,_,u,p,c,f,m,d,g,v,y,T,x,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(m=parseFloat(t.offsetWidth),d=parseFloat(t.offsetHeight),o=e.split(" "),h=0;b.length>h;h++)this.p.indexOf("border")&&(b[h]=Z(b[h])),u=_=$(t,b[h],r,!1,"0px"),-1!==u.indexOf(" ")&&(_=u.split(" "),u=_[0],_=_[1]),p=l=o[h],c=parseFloat(u),v=u.substr((c+"").length),y="="===p.charAt(1),y?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),g=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),g=p.substr((f+"").length)),""===g&&(g=s[i]||v),g!==v&&(T=Q(t,"borderLeft",c,v),x=Q(t,"borderTop",c,v),"%"===g?(u=100*(T/m)+"%",_=100*(x/d)+"%"):"em"===g?(w=Q(t,"borderLeft",1,"em"),u=T/w+"em",_=x/w+"em"):(u=T+"px",_=x+"px"),y&&(p=parseFloat(u)+f+g,l=parseFloat(_)+f+g)),a=me(P,b[h],u+" "+_,p+" "+l,!1,"0px",a);return a},prefix:!0,formatter:ue("0px 0px 0px 0px",!1,!0)}),ve("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,n,a){var o,h,l,_,u,p,c="background-position",f=r||G(t,null),d=this.format((f?m?f.getPropertyValue(c+"-x")+" "+f.getPropertyValue(c+"-y"):f.getPropertyValue(c):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==d.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=$(t,"backgroundImage").replace(O,""),p&&"none"!==p)){for(o=d.split(" "),h=g.split(" "),E.setAttribute("src",p),l=2;--l>-1;)d=o[l],_=-1!==d.indexOf("%"),_!==(-1!==h[l].indexOf("%"))&&(u=0===l?t.offsetWidth-E.width:t.offsetHeight-E.height,o[l]=_?parseFloat(d)/100*u+"px":100*(parseFloat(d)/u)+"%");d=o.join(" ")}return this.parseComplex(t.style,d,g,n,a)},formatter:se}),ve("backgroundSize",{defaultValue:"0 0",formatter:se}),ve("perspective",{defaultValue:"0px",prefix:!0}),ve("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ve("transformStyle",{prefix:!0}),ve("backfaceVisibility",{prefix:!0}),ve("userSelect",{prefix:!0}),ve("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),ve("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ve("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,n,a){var o,h,l;return 9>m?(h=t.currentStyle,l=8>m?" ":",",o="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(o=this.format($(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ve("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ve("autoRound,strictUnits",{parser:function(t,e,i,s,r){return r}}),ve("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format($(t,"borderTopWidth",r,!1,"0px")+" "+$(t,"borderTopStyle",r,!1,"solid")+" "+$(t,"borderTopColor",r,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(_e)||["#000"])[0]}}),ve("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ve("float,cssFloat,styleFloat",{parser:function(t,e,i,s,r){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new fe(n,a,0,0,r,-1,i,!1,0,n[a],e)}});var Ie=function(t){var e,i=this.t,s=i.filter||$(this.data,"filter")||"",r=0|this.s+this.c*t;100===r&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!$(this.data,"filter")):(i.filter=s.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+r+")"),-1===s.indexOf("pacity")?0===r&&this.xn1||(i.filter=s+" alpha(opacity="+r+")"):i.filter=s.replace(x,"opacity="+r))};ve("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,n,a){var o=parseFloat($(t,"opacity",r,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),l&&1===o&&"hidden"===$(t,"visibility",r)&&0!==e&&(o=0),U?n=new fe(h,"opacity",o,e-o,n):(n=new fe(h,"opacity",100*o,100*(e-o),n),n.xn1=l?1:0,h.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Ie),l&&(n=new fe(h,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",s._overwriteProps.push(n.n),s._overwriteProps.push(i)),n}});var Ne=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Xe=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ne(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)
};ve("className",{parser:function(t,e,s,n,a,o,h){var l,_,u,p,c,f=t.getAttribute("class")||"",m=t.style.cssText;if(a=n._classNamePT=new fe(t,s,0,0,a,2),a.setRatio=Xe,a.pr=-11,i=!0,a.b=f,_=K(t,r),u=t._gsClassPT){for(p={},c=u.data;c;)p[c.p]=1,c=c._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=J(t,_,K(t),h,p),t.setAttribute("class",f),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=n.parse(t,l.difs,a,o)}});var Le=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,r,n,a=this.t.style,o=h.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),s=e.length;--s>-1;)i=e[s],h[i]&&(h[i].parse===o?r=!0:i="transformOrigin"===i?Pe:h[i].p),Ne(a,i);r&&(Ne(a,we),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ve("clearProps",{parser:function(t,e,s,r,n){return n=new fe(t,s,0,0,n,2),n.setRatio=Le,n.e=e,n.pr=-10,n.data=r._tween,i=!0,n}}),l="bezier,throwProps,physicsProps,physics2D".split(","),de=l.length;de--;)ye(l[de]);l=a.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,_=e.autoRound,i=!1,s=e.suffixMap||a.suffixMap,r=G(t,""),n=this._overwriteProps;var l,c,m,d,g,v,y,T,x,b=t.style;if(u&&""===b.zIndex&&(l=$(t,"zIndex",r),("auto"===l||""===l)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(d=b.cssText,l=K(t,r),b.cssText=d+";"+e,l=J(t,l,K(t)).difs,!U&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,b.cssText=d),this._firstPT=c=e.className?h.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(x=3===this._transformType,we?p&&(u=!0,""===b.zIndex&&(y=$(t,"zIndex",r),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),f&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):b.zoom=1,m=c;m&&m._next;)m=m._next;T=new fe(t,"transform",0,0,null,2),this._linkCSSP(T,null,m),T.setRatio=we?Fe:ze,T.data=this._transform||Me(t,r,!0),T.tween=o,T.pr=-1,n.pop()}if(i){for(;c;){for(v=c._next,m=d;m&&m.pr>c.pr;)m=m._next;(c._prev=m?m._prev:g)?c._prev._next=c:d=c,(c._next=m)?m._prev=c:g=c,c=v}this._firstPT=d}return!0},l.parse=function(t,e,i,n){var a,o,l,u,p,c,f,m,d,g,v=t.style;for(a in e)c=e[a],o=h[a],o?i=o.parse(t,c,a,this,i,n,e):(p=$(t,a,r)+"",d="string"==typeof c,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||d&&P.test(c)?(d||(c=le(c),c=(c.length>3?"rgba(":"rgb(")+c.join(",")+")"),i=me(v,a,p,c,!0,"transparent",i,0,n)):!d||-1===c.indexOf(" ")&&-1===c.indexOf(",")?(l=parseFloat(p),f=l||0===l?p.substr((l+"").length):"",(""===p||"auto"===p)&&("width"===a||"height"===a?(l=ie(t,a,r),f="px"):"left"===a||"top"===a?(l=H(t,a,r),f="px"):(l="opacity"!==a?0:1,f="")),g=d&&"="===c.charAt(1),g?(u=parseInt(c.charAt(0)+"1",10),c=c.substr(2),u*=parseFloat(c),m=c.replace(T,"")):(u=parseFloat(c),m=d?c.replace(T,""):""),""===m&&(m=a in s?s[a]:f),c=u||0===u?(g?u+l:u)+m:e[a],f!==m&&""!==m&&(u||0===u)&&l&&(l=Q(t,a,l,f),"%"===m?(l/=Q(t,a,100,"%")/100,e.strictUnits!==!0&&(p=l+"%")):"em"===m?l/=Q(t,a,1,"em"):"px"!==m&&(u=Q(t,a,u,m),m="px"),g&&(u||0===u)&&(c=u+l+m)),g&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==v[a]&&(c||"NaN"!=c+""&&null!=c)?(i=new fe(v,a,u||l||0,0,i,-1,a,!1,0,p,c),i.xs0="none"!==c||"display"!==a&&-1===a.indexOf("Style")?c:p):V("invalid "+a+" tween value: "+e[a]):(i=new fe(v,a,l,u-l,i,0,a,_!==!1&&("px"===m||"zIndex"===a),0,p,c),i.xs0=m)):i=me(v,a,p,c,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},l.setRatio=function(t){var e,i,s,r=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):n>e&&e>-n&&(e=0),r.type)if(1===r.type)if(s=r.l,2===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,s=1;r.l>s;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(t),r=r._next},l._enableTransforms=function(t){this._transform=this._transform||Me(this._target,r,!0),this._transformType=this._transform.svg&&Te||!t&&3!==this._transformType?2:3};var Ee=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,i){var s=this._firstPT=new fe(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=Ee,s.data=this},l._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},l._kill=function(e){var i,s,r,n=e;if(e.autoAlpha||e.alpha){n={};for(s in e)n[s]=e[s];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var Ye=function(t,e,i){var s,r,n,a;if(t.slice)for(r=t.length;--r>-1;)Ye(t[r],e,i);else for(s=t.childNodes,r=s.length;--r>-1;)n=s[r],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Ye(n,e,i)};return a.cascadeTo=function(t,i,s){var r,n,a,o,h=e.to(t,i,s),l=[h],_=[],u=[],p=[],c=e._internals.reservedProps;for(t=h._targets||h.target,Ye(t,_,p),h.render(i,!0,!0),Ye(t,u),h.render(0,!0,!0),h._enabled(!0),r=p.length;--r>-1;)if(n=J(p[r],_[r],u[r]),n.firstMPT){n=n.difs;for(a in s)c[a]&&(n[a]=s[a]);o={};for(a in n)o[a]=_[r][a];l.push(e.fromTo(p[r],i,o,n))}return l},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,s=this._tween,r=s.vars.roundProps instanceof Array?s.vars.roundProps:s.vars.roundProps.split(","),n=r.length,a={},o=s._propLookup.roundProps;--n>-1;)a[r[n]]=1;for(n=r.length;--n>-1;)for(t=r[n],e=s._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:s._firstPT===e&&(s._firstPT=i),e._next=e._prev=null,s._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,s){this._addTween(t,e,i,i+s,e,!0),this._overwriteProps.push(e)}}(),_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(t,e){var i,s,r;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={},this._start={},this._end={};for(i in e)this._start[i]=this._proxy[i]=s=t.getAttribute(i),r=this._addTween(this._proxy,i,parseFloat(s),e[i],i),this._end[i]=r?r.s+r.c:e[i],this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,s=i.length,r=1===t?this._end:t?this._proxy:this._start;--s>-1;)e=i[s],this._target.setAttribute(e,r[e]+"")}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,s,r,n,a,o,h=e.useRadians===!0?2*Math.PI:360,l=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),s=o[0],r=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),n=this.finals[i]="string"==typeof s&&"="===s.charAt(1)?r+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,a=n-r,o.length&&(s=o.join("_"),-1!==s.indexOf("short")&&(a%=h,a!==a%(h/2)&&(a=0>a?a+h:a-h)),-1!==s.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(0|a/h)*h:-1!==s.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(0|a/h)*h)),(a>l||-l>a)&&(this._addTween(t,i,r,r+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,s,r=_gsScope.GreenSockGlobals||_gsScope,n=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=n._class,l=function(e,i){var s=h("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},_=t.register||function(){},u=function(t,e,i,s){var r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return _(r,t),r},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},c=function(e,i){var s=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},f=u("Back",c("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),c("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),c("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),d=m.prototype=new t;return d.constructor=m,d.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),d.config=m.config=function(t,e,i){return new m(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),d=e.prototype=new t,d.constructor=e,d.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},d.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,s,r,n,a,o,h=e.taper||"none",l=[],_=0,u=0|(e.points||20),c=u,f=e.randomize!==!1,m=e.clamp===!0,d=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--c>-1;)i=f?Math.random():1/u*c,s=d?d.getRatio(i):i,"none"===h?r=g:"out"===h?(n=1-i,r=n*n*g):"in"===h?r=i*i*g:.5>i?(n=2*i,r=.5*n*n*g):(n=2*(1-i),r=.5*n*n*g),f?s+=Math.random()*r-.5*r:c%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:0>s&&(s=0)),l[_++]={x:i,y:s};for(l.sort(function(t,e){return t.x-e.x}),o=new p(1,1,null),c=u;--c>-1;)a=l[c],o=new p(a.x,a.y,o);this._prev=new p(0,0,0!==o.t?o:o.next)},!0),d=i.prototype=new t,d.constructor=i,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},d.config=function(t){return new i(t)},i.ease=new i,u("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),s=function(e,i,s){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r},u("Elastic",s("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),s("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),u("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),_(r.SlowMo,"SlowMo","ease,"),_(i,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,h=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},l=h("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},p=function(){},c=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),f={},m=function(s,r,n,a){this.sc=f[s]?f[s].sc:[],f[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(l){for(var _,u,p,c,d=r.length,g=d;--d>-1;)(_=f[r[d]]||new m(r[d],[])).gsClass?(o[d]=_.gsClass,g--):l&&_.sc.push(this);if(0===g&&n)for(u=("com.greensock."+s).split("."),p=u.pop(),c=h(u.join("."))[p]=this.gsClass=n.apply(n,o),a&&(i[p]=c,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return c}):s===e&&"undefined"!=typeof module&&module.exports&&(module.exports=c)),d=0;this.sc.length>d;d++)this.sc[d].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new m(t,e,i,s)},g=l._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var v=[0,0,1,1],y=[],T=g("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?v.concat(e):v},!0),x=T.map={},w=T.register=function(t,e,i,s){for(var r,n,a,o,h=e.split(","),_=h.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=h[_],r=s?g("easing."+n,null,!0):l.easing[n]||{},a=u.length;--a>-1;)o=u[a],x[n+"."+o]=x[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=T.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,w(new T(null,null,1,r),n,"easeOut",!0),w(new T(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),w(new T(null,null,3,r),n,"easeInOut");x.linear=l.easing.Linear.easeIn,x.swing=l.easing.Quad.easeInOut;var b=g("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,h,l=this._listeners[t],_=0;for(null==l&&(this._listeners[t]=l=[]),h=l.length;--h>-1;)n=l[h],n.c===e&&n.s===i?l.splice(h,1):0===_&&r>n.pr&&(_=h+1);l.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return void s.splice(i,1)},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var P=t.requestAnimationFrame,S=t.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},O=R();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!P;)P=t[s[r]+"RequestAnimationFrame"],S=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];g("Ticker",function(t,e){var i,s,r,n,h,l=this,u=R(),c=e!==!1&&P,f=500,m=33,d="tick",g=function(t){var e,a,o=R()-O;o>f&&(u+=o-m),O+=o,l.time=(O-u)/1e3,e=l.time-h,(!i||e>0||t===!0)&&(l.frame++,h+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(g)),a&&l.dispatchEvent(d)};b.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(t,e){f=t||1/_,m=Math.min(e,f,0)},l.sleep=function(){null!=r&&(c&&S?S(r):clearTimeout(r),s=p,r=null,l===a&&(o=!1))},l.wake=function(){null!==r?l.sleep():l.frame>10&&(O=R()-f+5),s=0===i?p:c&&P?P:function(t){return setTimeout(t,0|1e3*(h-l.time)+1)},l===a&&(o=!0),g(2)},l.fps=function(t){return arguments.length?(i=t,n=1/(i||60),h=this.time+n,void l.wake()):i},l.useRAF=function(t){return arguments.length?(l.sleep(),c=t,void l.fps(i)):c},l.fps(t),setTimeout(function(){c&&5>l.frame&&l.useRAF(!1)},1500)}),n=l.Ticker.prototype=new l.events.EventDispatcher,n.constructor=l.Ticker;var k=g("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,j){o||a.wake();var i=this.vars.useFrames?U:j;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=k.ticker=new l.Ticker,n=k.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var A=function(){o&&R()-O>2e3&&a.wake(),setTimeout(A,2e3)};A(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=c(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),F.length&&q())}return this},n.progress=n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var C=g("core.SimpleTimeline",function(t){k.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=C.prototype=new k,n.constructor=C,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var D=g("TweenLite",function(e,i,s){if(k.call(this,i,s),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?B[D.defaultOverwrite]:"number"==typeof h?h>>0:B[h],(o||e instanceof Array||e.push&&c(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=W(n,this,!1),1===h&&this._siblings[r].length>1&&G(n,this,null,1,this._siblings[r])):(n=a[r--]=D.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=W(e,this,!1),1===h&&this._siblings.length>1&&G(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),M=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},z=function(t,e){var i,s={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!X[i]||X[i]&&X[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=D.prototype=new k,n.constructor=D,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,D.version="1.16.1",D.defaultEase=n._ease=new T(null,null,1,1),D.defaultOverwrite="auto",D.ticker=a,D.autoSleep=120,D.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},D.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(D.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var F=[],I={},N=D._internals={isArray:c,isSelector:M,lazyTweens:F},X=D._plugins={},L=N.tweenLookup={},E=0,Y=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},B={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},U=k._rootFramesTimeline=new C,j=k._rootTimeline=new C,V=30,q=N.lazyRender=function(){var t,e=F.length;for(I={};--e>-1;)t=F[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};j._startTime=a.time,U._startTime=a.frame,j._active=U._active=!0,setTimeout(q,1),k._updateRoot=D.render=function(){var t,e,i;if(F.length&&q(),j.render((a.time-j._startTime)*j._timeScale,!1,!1),U.render((a.frame-U._startTime)*U._timeScale,!1,!1),F.length&&q(),a.frame>=V){V=a.frame+(parseInt(D.autoSleep,10)||120);for(i in L){for(e=L[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[i]}if(i=j._first,(!i||i._paused)&&D.autoSleep&&!U._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",k._updateRoot);var W=function(t,e,i){var s,r,n=t._gsTweenID;if(L[n||(t._gsTweenID=n="t"+E++)]||(L[n]={target:t,tweens:[]}),e&&(s=L[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return L[n].tweens},Z=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=D.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},G=function(t,e,i,s,r){var n,a,o,h;if(1===s||s>=4){for(h=r.length,n=0;h>n;n++)if((o=r[n])!==e)o._gc||Z(o,e)&&o._enabled(!1,!1)&&(a=!0);else if(5===s)break;return a}var l,u=e._startTime+_,p=[],c=0,f=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(l=l||$(e,0,f),0===$(o,l,f)&&(p[c++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((f||!o._initted)&&2e-10>=u-o._startTime||(p[c++]=o)));for(n=c;--n>-1;)if(o=p[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!Z(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},$=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,h=!!n.immediateRender,l=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=h&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=D.to(this.target,0,r),h)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(s in n)Y[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&n.lazy!==!1,i.immediateRender=h,this._startAt=D.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof T?l:"function"==typeof l?new T(l,n.easeParams):x[l]||D.defaultEase:D.defaultEase,n.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&D._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,h,l,_;if(null==e)return!1;I[e._gsTweenID]&&q(),this.vars.css||e.style&&e!==t&&e.nodeType&&X.css&&this.vars.autoCSS!==!1&&z(this.vars,e);for(n in this.vars){if(_=this.vars[n],Y[n])_&&(_ instanceof Array||_.push&&c(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(X[n]&&(h=new X[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:h._priority},a=h._overwriteProps.length;--a>-1;)i[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(o=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[n]=l={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pg:!1,pr:0},l.s=l.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),l.c="string"==typeof _&&"="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*Number(_.substr(2)):Number(_)-l.s||0;l&&l._next&&(l._next._prev=l)}return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&G(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(I[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>l||l===_&&"isPause"!==this.data)&&l!==t&&(i=!0,l>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===h&&l>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/h,p=this._easeType,c=this._easePower;
(1===p||3===p&&u>=.5)&&(u=1-u),3===p&&(u*=2),1===c?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),this.ratio=1===p?1-u:2===p?u:.5>t/h?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=l,F.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/h):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||y),0===h&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var s,r,n,a,o,h,l,_,u;if((c(e)||M(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s])&&(h=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(l=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(n in l)o[n]&&(u||(u=[]),u.push(n));if(!Z(this,i,e,u))return!1}for(n in l)(a=o[n])&&(a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},n.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],k.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=W(s[i],this,!0);else this._siblings=W(this.target,this,!0)}return k.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new D(t,e,s)},D.delayedCall=function(t,e,i,s,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:s,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:s,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,s,r,n;if((c(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(D.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=W(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=D.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var Q=g("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Q.prototype},!0);if(n=Q.prototype,Q.version="1.10.1",Q.API=2,n._firstPT=null,n._addTween=function(t,e,i,s,r,n){var a,o;return null!=s&&(a="number"==typeof s||"="!==s.charAt(1)?Number(s)-i:parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:n},o._next&&(o._next._prev=o),o):void 0},n.setRatio=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},Q.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===Q.API&&(X[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){Q.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new Q(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,Q.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in f)f[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");var Countdown={countdown_interval:null,total_seconds:0,init:function(){this.$={hours:$(".countdown").find(".bloc-time.hours .figure"),minutes:$(".countdown").find(".bloc-time.min .figure"),seconds:$(".countdown").find(".bloc-time.sec .figure")},this.values={hours:this.$.hours.parent().attr("data-init-value"),minutes:this.$.minutes.parent().attr("data-init-value"),seconds:this.$.seconds.parent().attr("data-init-value")},this.total_seconds=60*this.values.hours*60+60*this.values.minutes+this.values.seconds,this.count()},cleanTimer:function(){clearInterval(this.countdown_interval)},count:function(){var t=this,e=this.$.hours.eq(0),n=this.$.hours.eq(1),s=this.$.minutes.eq(0),i=this.$.minutes.eq(1),o=this.$.seconds.eq(0),a=this.$.seconds.eq(1);this.countdown_interval=setInterval(function(){t.total_seconds>0?(--t.values.seconds,t.values.minutes>=0&&t.values.seconds<=0&&(t.values.seconds=59,--t.values.minutes),t.values.hours>=0&&t.values.minutes<=0&&(t.values.minutes=59,--t.values.hours),t.checkHour(t.values.hours,e,n),t.checkHour(t.values.minutes,s,i),t.checkHour(t.values.seconds,o,a),--t.total_seconds):clearInterval(t.countdown_interval)},1e3)},animateFigure:function(t,e){var n=t.find(".top"),s=t.find(".bottom"),i=t.find(".top-back"),o=t.find(".bottom-back");i.find("span").html(e),o.find("span").html(e),TweenMax.to(n,.8,{rotationX:"-180deg",transformPerspective:300,ease:Quart.easeOut,onComplete:function(){n.html(e),s.html(e),TweenMax.set(n,{rotationX:0})}}),TweenMax.to(i,.8,{rotationX:0,transformPerspective:300,ease:Quart.easeOut,clearProps:"all"})},checkHour:function(t,e,n){var s=t.toString().charAt(0),i=t.toString().charAt(1),o=e.find(".top").html(),a=n.find(".top").html();t>=10?(o!==s&&this.animateFigure(e,s),a!==i&&this.animateFigure(n,i)):("0"!==o&&this.animateFigure(e,0),a!==s&&this.animateFigure(n,s))}};!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"===n||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(at.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=ht[e]={};return Z.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(bt,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?Z.parseJSON(n):n}catch(i){}yt.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;r>n;n++)vt.set(e[n],"globalEval",!t||vt.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(vt.hasData(e)&&(o=vt.access(e),s=vt.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(t,i,l[i][n])}yt.hasData(e)&&(a=yt.access(e),u=Z.extend({},a),yt.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Nt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$t[e];return n||(n=x(e,t),"none"!==n&&n||(Wt=(Wt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Wt[0].contentDocument,t.write(),t.close(),n=x(e,t),Wt.detach()),$t[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_t(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Bt.test(s)&&It.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Gt.length;i--;)if(t=Gt[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(e,n+Tt[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Tt[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Tt[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Tt[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Tt[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_t(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(e,t,o),(0>i||null==i)&&(i=e.style[t]),Bt.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(o[s]=vt.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[s]=vt.access(r,"olddisplay",b(r.nodeName)))):(i=Ct(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qt=void 0}),Qt=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Tt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nn[t]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ct(e),g=vt.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?vt.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Kt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=vt.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;vt.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tn.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qt||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qt||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);s>o;o++)if(r=tn[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===bn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||kn.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},et=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,nt=/-([\da-z])/gi,rt=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(tt,"ms-").replace(nt,rt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;s>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;s>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(et,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;s>o;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;s>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i):void 0},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var it=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=yt.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(bt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xt.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(m){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?et(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return et(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>a;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;i>r&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&y(e.slice(a,r)),i>r&&y(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ft=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=new RegExp(st),dt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(Nt){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},P=[],F=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=vt.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",st)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=vt.test(H.compareDocumentPosition),M=t||vt.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?et(j,e)-et(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?et(j,e)-et(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(ft,"='$1']"),!(!w.matchesSelector||!O||P&&P.test(n)||F&&F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=et(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ut,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){(!r||(i=lt.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in T.filter)!(i=ht[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(wt,Tt),xt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xt.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=it,Z.expr=it.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=it.uniqueSort,Z.text=it.getText,Z.isXMLDoc=it.isXML,Z.contains=it.contains;var ot=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;
if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;n>t;t++)if(Z.contains(i[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ot.test(e)?Z(e):e||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:lt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),st.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ct.prototype=Z.fn,ut=Z(J);var ft=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=ot.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pt[e]||Z.unique(i),ft.test(e)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,ht={};Z.Callbacks=function(e){e="string"==typeof e?ht[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(t){Z.each(t,function(t,n){var r=Z.type(n);"function"===r?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var gt;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(gt.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return gt||(gt=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),gt.promise(t)},Z.ready.promise();var mt=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var vt=new a,yt=new a,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Z.extend({hasData:function(e){return yt.hasData(e)||vt.hasData(e)},data:function(e,t,n){return yt.access(e,t,n)},removeData:function(e,t){yt.remove(e,t)},_data:function(e,t,n){return vt.access(e,t,n)},_removeData:function(e,t){vt.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){yt.set(this,e)}):mt(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=yt.get(o,e),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&yt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){yt.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=vt.get(e,t),n&&(!r||Z.isArray(n)?r=vt.access(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return vt.get(e,n)||vt.access(e,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=vt.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],Ct=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Nt=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var kt="undefined";Q.focusinBubbles="onfocusin"in e;var Et=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==kt&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(dt)||[""],l=t.length;l--;)a=jt.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=vt.hasData(e)&&vt.get(e);if(m&&(u=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(a=jt.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,vt.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Dt.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,Dt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(vt.get(s,"events")||{})[t.type]&&vt.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(vt.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=St.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,t);i||r.addEventListener(e,n,!0),vt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,t)-1;i?vt.access(r,t,i):(r.removeEventListener(e,n,!0),vt.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,qt=/<|&#?\w+;/,Ht=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,Pt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mt.optgroup=Mt.option,Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;d>p;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Lt.exec(i)||["",""])[1].toLowerCase(),a=Mt[s]||Mt._default,o.innerHTML=a[1]+i.replace(At,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Ft.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[vt.expando],i&&(t=vt.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Z.fn.extend({text:function(e){return mt(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return mt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ht.test(e)&&!Mt[(Lt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(At,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Ot.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;l>u;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;o>u;u++)s=i[u],Ft.test(s.type||"")&&!vt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Rt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var Wt,$t={},It=/^margin/,Bt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),_t=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var zt=/^(none|table(?!-c[ea]).+)/,Xt=new RegExp("^("+wt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+wt+")","i"),Vt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Yt&&(i=Yt[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?zt.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Vt,function(){return E(e,t,r)}):E(e,t,r):void 0},set:function(e,n,r){var i=r&&_t(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Tt[r]+t]=o[r]||o[r-2]||o[0];return i}},It.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return mt(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_t(e),i=t.length;i>s;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qt,Jt,Kt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),en=/queueHooks$/,tn=[q],nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Zt.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Zt.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],nn[n]=nn[n]||[],nn[n].unshift(t)},prefilter:function(e,t){t?tn.unshift(e):tn.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||vt.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=vt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&en.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=vt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));
for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qt=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qt=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Jt||(Jt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Jt),Jt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rn,on,sn=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return mt(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===kt?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),on={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=sn[t]||Z.find.attr;sn[t]=function(e,t,r){var i,o;return r||(o=sn[t],sn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,sn[t]=o),i}});var an=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return mt(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||an.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(dt)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(dt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===kt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||e===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(t)>=0)return!0;return!1}});var ln=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Q.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cn=Z.now(),fn=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var pn=/#.*$/,dn=/([?&])_=[^&]*/,hn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},bn={},wn="*/".concat("*"),Tn=e.location.href,Cn=yn.exec(Tn.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tn,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(xn),ajaxTransport:F(bn),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&300>e||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=hn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||Tn)+"").replace(pn,"").replace(vn,Cn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=yn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Cn[1]&&u[2]===Cn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(xn,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!mn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=dn.test(i)?i.replace(dn,"$1_="+cn++):i+(fn.test(i)?"&":"?")+"_="+cn++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+wn+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(bn,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(T){if(!(2>x))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Nn=/%20/g,kn=/\[\]$/,En=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Dn=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Nn,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Dn.test(this.nodeName)&&!Sn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jn=0,An={},Ln={0:200,1223:204},qn=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in An)An[e]()}),Q.cors=!!qn&&"withCredentials"in qn,Q.ajax=qn=!!qn,Z.ajaxTransport(function(e){var t;return Q.cors||qn&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),s=++jn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete An[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Ln[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=An[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Hn=[],On=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Hn.pop()||Z.expando+"_"+cn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(On.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&On.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(On,"$1"+i):t.jsonp!==!1&&(t.url+=(fn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Hn.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=st.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Fn=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Pn=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Pn;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Pn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return mt(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){return n?(n=w(e,t),Bt.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return mt(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Rn=e.jQuery,Mn=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Mn),t&&e.jQuery===Z&&(e.jQuery=Rn),Z},typeof t===kt&&(e.jQuery=e.$=Z),Z});!function(t,e){"function"==typeof define&&define.amd?define("eve",function(){return e()}):"object"==typeof exports?module.exports=e():t.eve=e()}(this,function(){var t,e,r="0.4.2",i="hasOwnProperty",n=/[\.\/]/,a="*",s=function(){},o=function(t,e){return t-e},l={n:{}},h=function(r,i){r=String(r);var n,a=e,s=Array.prototype.slice.call(arguments,2),l=h.listeners(r),u=0,c=[],f={},p=[],d=t;t=r,e=0;for(var g=0,x=l.length;x>g;g++)"zIndex"in l[g]&&(c.push(l[g].zIndex),l[g].zIndex<0&&(f[l[g].zIndex]=l[g]));for(c.sort(o);c[u]<0;)if(n=f[c[u++]],p.push(n.apply(i,s)),e)return e=a,p;for(g=0;x>g;g++)if(n=l[g],"zIndex"in n)if(n.zIndex==c[u]){if(p.push(n.apply(i,s)),e)break;do if(u++,n=f[c[u]],n&&p.push(n.apply(i,s)),e)break;while(n)}else f[n.zIndex]=n;else if(p.push(n.apply(i,s)),e)break;return e=a,t=d,p.length?p:null};return h._events=l,h.listeners=function(t){var e,r,i,s,o,h,u,c,f=t.split(n),p=l,d=[p],g=[];for(s=0,o=f.length;o>s;s++){for(c=[],h=0,u=d.length;u>h;h++)for(p=d[h].n,r=[p[f[s]],p[a]],i=2;i--;)e=r[i],e&&(c.push(e),g=g.concat(e.f||[]));d=c}return g},h.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var r=t.split(n),i=l,a=0,o=r.length;o>a;a++)i=i.n,i=i.hasOwnProperty(r[a])&&i[r[a]]||(i[r[a]]={n:{}});for(i.f=i.f||[],a=0,o=i.f.length;o>a;a++)if(i.f[a]==e)return s;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},h.f=function(t){var e=[].slice.call(arguments,1);return function(){h.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},h.stop=function(){e=1},h.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},h.nts=function(){return t.split(n)},h.off=h.unbind=function(t,e){if(!t)return void(h._events=l={n:{}});var r,s,o,u,c,f,p,d=t.split(n),g=[l];for(u=0,c=d.length;c>u;u++)for(f=0;f<g.length;f+=o.length-2){if(o=[f,1],r=g[f].n,d[u]!=a)r[d[u]]&&o.push(r[d[u]]);else for(s in r)r[i](s)&&o.push(r[s]);g.splice.apply(g,o)}for(u=0,c=g.length;c>u;u++)for(r=g[u];r.n;){if(e){if(r.f){for(f=0,p=r.f.length;p>f;f++)if(r.f[f]==e){r.f.splice(f,1);break}!r.f.length&&delete r.f}for(s in r.n)if(r.n[i](s)&&r.n[s].f){var x=r.n[s].f;for(f=0,p=x.length;p>f;f++)if(x[f]==e){x.splice(f,1);break}!x.length&&delete r.n[s].f}}else{delete r.f;for(s in r.n)r.n[i](s)&&r.n[s].f&&delete r.n[s].f}r=r.n}},h.once=function(t,e){var r=function(){return h.unbind(t,r),e.apply(this,arguments)};return h.on(t,r)},h.version=r,h.toString=function(){return"You are running Eve "+r},h}),function(t,e){"function"==typeof define&&define.amd?define("raphael.core",["eve"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("eve")):t.Raphael=e(t.eve)}(this,function(t){function e(r){if(e.is(r,"function"))return m?r():t.on("raphael.DOMload",r);if(e.is(r,H))return e._engine.create[A](e,r.splice(0,3+e.is(r[0],W))).add(r);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var n=i.pop();return m?n.call(e._engine.create[A](e,i)):t.on("raphael.DOMload",function(){n.call(e._engine.create[A](e,i))})}return e._engine.create[A](e,arguments)}function r(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[B](i)&&(e[i]=r(t[i]));return e}function i(t,e){for(var r=0,i=t.length;i>r;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function n(t,e,r){function n(){var a=Array.prototype.slice.call(arguments,0),s=a.join("␀"),o=n.cache=n.cache||{},l=n.count=n.count||[];return o[B](s)?(i(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[A](e,a),r?r(o[s]):o[s])}return n}function a(){return this.hex}function s(t,e){for(var r=[],i=0,n=t.length;n-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?n-4==i?a[3]={x:+t[0],y:+t[1]}:n-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[n-2],y:+t[n-1]}:n-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function o(t,e,r,i,n){var a=-3*e+9*r-9*i+3*n,s=t*a+6*e-12*r+6*i;return t*s-3*e+3*r}function l(t,e,r,i,n,a,s,l,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var u=h/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;c>g;g++){var x=u*f[g]+u,v=o(x,t,r,n,s),y=o(x,e,i,a,l),m=v*v+y*y;d+=p[g]*I.sqrt(m)}return u*d}function h(t,e,r,i,n,a,s,o,h){if(!(0>h||l(t,e,r,i,n,a,s,o)<h)){var u,c=1,f=c/2,p=c-f,d=.01;for(u=l(t,e,r,i,n,a,s,o,p);V(u-h)>d;)f/=2,p+=(h>u?1:-1)*f,u=l(t,e,r,i,n,a,s,o,p);return p}}function u(t,e,r,i,n,a,s,o){if(!(q(t,r)<D(n,s)||D(t,r)>q(n,s)||q(e,i)<D(a,o)||D(e,i)>q(a,o))){var l=(t*i-e*r)*(n-s)-(t-r)*(n*o-a*s),h=(t*i-e*r)*(a-o)-(e-i)*(n*o-a*s),u=(t-r)*(a-o)-(e-i)*(n-s);if(u){var c=l/u,f=h/u,p=+c.toFixed(2),d=+f.toFixed(2);if(!(p<+D(t,r).toFixed(2)||p>+q(t,r).toFixed(2)||p<+D(n,s).toFixed(2)||p>+q(n,s).toFixed(2)||d<+D(e,i).toFixed(2)||d>+q(e,i).toFixed(2)||d<+D(a,o).toFixed(2)||d>+q(a,o).toFixed(2)))return{x:c,y:f}}}}function c(t,r,i){var n=e.bezierBBox(t),a=e.bezierBBox(r);if(!e.isBBoxIntersect(n,a))return i?0:[];for(var s=l.apply(0,t),o=l.apply(0,r),h=q(~~(s/5),1),c=q(~~(o/5),1),f=[],p=[],d={},g=i?0:[],x=0;h+1>x;x++){var v=e.findDotsAtSegment.apply(e,t.concat(x/h));f.push({x:v.x,y:v.y,t:x/h})}for(x=0;c+1>x;x++)v=e.findDotsAtSegment.apply(e,r.concat(x/c)),p.push({x:v.x,y:v.y,t:x/c});for(x=0;h>x;x++)for(var y=0;c>y;y++){var m=f[x],b=f[x+1],_=p[y],w=p[y+1],k=V(b.x-m.x)<.001?"y":"x",B=V(w.x-_.x)<.001?"y":"x",C=u(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(C){if(d[C.x.toFixed(4)]==C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var S=m.t+V((C[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),T=_.t+V((C[B]-_[B])/(w[B]-_[B]))*(w.t-_.t);S>=0&&1.001>=S&&T>=0&&1.001>=T&&(i?g++:g.push({x:C.x,y:C.y,t1:D(S,1),t2:D(T,1)}))}}return g}function f(t,r,i){t=e._path2curve(t),r=e._path2curve(r);for(var n,a,s,o,l,h,u,f,p,d,g=i?0:[],x=0,v=t.length;v>x;x++){var y=t[x];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(p=[n,a].concat(y.slice(1)),n=p[6],a=p[7]):(p=[n,a,n,a,l,h,l,h],n=l,a=h);for(var m=0,b=r.length;b>m;m++){var _=r[m];if("M"==_[0])s=u=_[1],o=f=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,u,f,u,f],s=u,o=f);var w=c(p,d,i);if(i)g+=w;else{for(var k=0,B=w.length;B>k;k++)w[k].segment1=x,w[k].segment2=m,w[k].bez1=p,w[k].bez2=d;g=g.concat(w)}}}}}return g}function p(t,e,r,i,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+L+this.y+L+this.width+" × "+this.height}function g(t,e,r,i,n,a){function s(t){return((c*t+u)*t+h)*t}function o(t,e){var r=l(t,e);return((d*r+p)*r+f)*r}function l(t,e){var r,i,n,a,o,l;for(n=t,l=0;8>l;l++){if(a=s(n)-t,V(a)<e)return n;if(o=(3*c*n+2*u)*n+h,V(o)<1e-6)break;n-=a/o}if(r=0,i=1,n=t,r>n)return r;if(n>i)return i;for(;i>r;){if(a=s(n),V(a-t)<e)return n;t>a?r=n:i=n,n=(i-r)/2+r}return n}var h=3*e,u=3*(i-e)-h,c=1-h-u,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*a))}function x(t,e){var r=[],i={};if(this.ms=e,this.times=1,t){for(var n in t)t[B](n)&&(i[J(n)]=t[n],r.push(J(n)));r.sort(ue)}this.anim=i,this.top=r[r.length-1],this.percents=r}function v(r,i,n,a,s,o){n=J(n);var l,h,u,c,f,d,x=r.ms,v={},y={},m={};if(a)for(w=0,k=ar.length;k>w;w++){var b=ar[w];if(b.el.id==i.id&&b.anim==r){b.percent!=n?(ar.splice(w,1),u=1):h=b,i.attr(b.totalOrigin);break}}else a=+y;for(var w=0,k=r.percents.length;k>w;w++){if(r.percents[w]==n||r.percents[w]>a*r.top){n=r.percents[w],f=r.percents[w-1]||0,x=x/r.top*(n-f),c=r.percents[w+1],l=r.anim[n];break}a&&i.attr(r.anim[r.percents[w]])}if(l){if(h)h.initstatus=a,h.start=new Date-h.ms*a;else{for(var C in l)if(l[B](C)&&(re[B](C)||i.paper.customAttributes[B](C)))switch(v[C]=i.attr(C),null==v[C]&&(v[C]=ee[C]),y[C]=l[C],re[C]){case W:m[C]=(y[C]-v[C])/x;break;case"colour":v[C]=e.getRGB(v[C]);var S=e.getRGB(y[C]);m[C]={r:(S.r-v[C].r)/x,g:(S.g-v[C].g)/x,b:(S.b-v[C].b)/x};break;case"path":var T=Pe(v[C],y[C]),A=T[1];for(v[C]=T[0],m[C]=[],w=0,k=v[C].length;k>w;w++){m[C][w]=[0];for(var N=1,M=v[C][w].length;M>N;N++)m[C][w][N]=(A[w][N]-v[C][w][N])/x}break;case"transform":var L=i._,F=qe(L[C],y[C]);if(F)for(v[C]=F.from,y[C]=F.to,m[C]=[],m[C].real=!0,w=0,k=v[C].length;k>w;w++)for(m[C][w]=[v[C][w][0]],N=1,M=v[C][w].length;M>N;N++)m[C][w][N]=(y[C][w][N]-v[C][w][N])/x;else{var R=i.matrix||new p,j={_:{transform:L.transform},getBBox:function(){return i.getBBox(1)}};v[C]=[R.a,R.b,R.c,R.d,R.e,R.f],je(j,y[C]),y[C]=j._.transform,m[C]=[(j.matrix.a-R.a)/x,(j.matrix.b-R.b)/x,(j.matrix.c-R.c)/x,(j.matrix.d-R.d)/x,(j.matrix.e-R.e)/x,(j.matrix.f-R.f)/x]}break;case"csv":var I=z(l[C])[P](_),q=z(v[C])[P](_);if("clip-rect"==C)for(v[C]=q,m[C]=[],w=q.length;w--;)m[C][w]=(I[w]-v[C][w])/x;y[C]=I;break;default:for(I=[][E](l[C]),q=[][E](v[C]),m[C]=[],w=i.paper.customAttributes[C].length;w--;)m[C][w]=((I[w]||0)-(q[w]||0))/x}var D=l.easing,V=e.easing_formulas[D];if(!V)if(V=z(D).match(Z),V&&5==V.length){var O=V;V=function(t){return g(t,+O[1],+O[2],+O[3],+O[4],x)}}else V=ce;if(d=l.start||r.start||+new Date,b={anim:r,percent:n,timestamp:d,start:d+(r.del||0),status:0,initstatus:a||0,stop:!1,ms:x,easing:V,from:v,diff:m,to:y,el:i,callback:l.callback,prev:f,next:c,repeat:o||r.times,origin:i.attr(),totalOrigin:s},ar.push(b),a&&!h&&!u&&(b.stop=!0,b.start=new Date-x*a,1==ar.length))return or();u&&(b.start=new Date-b.ms*a),1==ar.length&&sr(or)}t("raphael.anim.start."+i.id,i,r)}}function y(t){for(var e=0;e<ar.length;e++)ar[e].el.paper==t&&ar.splice(e--,1)}e.version="2.1.4",e.eve=t;var m,b,_=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,B="hasOwnProperty",C={doc:document,win:window},S={was:Object.prototype[B].call(C.win,"Raphael"),is:C.win.Raphael},T=function(){this.ca=this.customAttributes={}},A="apply",E="concat",N="ontouchstart"in C.win||C.win.DocumentTouch&&C.doc instanceof DocumentTouch,M="",L=" ",z=String,P="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[P](L),R={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},j=z.prototype.toLowerCase,I=Math,q=I.max,D=I.min,V=I.abs,O=I.pow,Y=I.PI,W="number",G="string",H="array",X=Object.prototype.toString,U=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),$={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=I.round,J=parseFloat,K=parseInt,te=z.prototype.toUpperCase,ee=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},re=e._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},ie=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ne={hs:1,rg:1},ae=/,?([achlmqrstvxz]),?/gi,se=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,oe=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,he=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ue=function(t,e){return J(t)-J(e)},ce=function(t){return t},fe=e._rectPath=function(t,e,r,i,n){return n?[["M",t+n,e],["l",r-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-r,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-i],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",r,0],["l",0,i],["l",-r,0],["z"]]},pe=function(t,e,r,i){return null==i&&(i=r),[["M",t,e],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]]},de=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pe(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return fe(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return fe(e.x,e.y,e.width,e.height)}},ge=e.mapPath=function(t,e){if(!e)return t;var r,i,n,a,s,o,l;for(t=Pe(t),n=0,s=t.length;s>n;n++)for(l=t[n],a=1,o=l.length;o>a;a+=2)r=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=r,l[a+1]=i;return t};if(e._g=C,e.type=C.win.SVGAngle||C.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var xe,ve=C.doc.createElement("div");if(ve.innerHTML='<v:shape adj="1"/>',xe=ve.firstChild,xe.style.behavior="url(#default#VML)",!xe||"object"!=typeof xe.adj)return e.type=M;ve=null}e.svg=!(e.vml="VML"==e.type),e._Paper=T,e.fn=b=T.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return e=j.call(e),"finite"==e?!$[B](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||X.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,r,i,n,a,s){if(null==a){var o=t-i,l=r-n;return o||l?(180+180*I.atan2(-l,-o)/Y+360)%360:0}return e.angle(t,r,a,s)-e.angle(i,n,a,s)},e.rad=function(t){return t%360*Y/180},e.deg=function(t){return Math.round(180*t/Y%360*1e3)/1e3},e.snapTo=function(t,r,i){if(i=e.is(i,"finite")?i:10,e.is(t,H)){for(var n=t.length;n--;)if(V(t[n]-r)<=i)return t[n]}else{t=+t;var a=r%t;if(i>a)return r-a;if(a>t-i)return r-a+t}return r},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*I.random()|0,r="x"==t?e:3&e|8;return r.toString(16)}),e.setWindow=function(r){t("raphael.setWindow",e,C.win,r),C.win=r,C.doc=C.win.document,e._engine.initWin&&e._engine.initWin(C.win)};var ye=function(t){if(e.vml){var r,i=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),r=a.body}catch(s){r=createPopup().document.body}var o=r.createTextRange();ye=n(function(t){try{r.style.color=z(t).replace(i,M);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(n){return"none"}})}else{var l=C.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",C.doc.body.appendChild(l),ye=n(function(t){return l.style.color=t,C.doc.defaultView.getComputedStyle(l,M).getPropertyValue("color")})}return ye(t)},me=function(){return"hsb("+[this.h,this.s,this.b]+")"},be=function(){return"hsl("+[this.h,this.s,this.l]+")"},_e=function(){return this.hex},we=function(t,r,i){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,r=t.g,t=t.r),null==r&&e.is(t,G)){var n=e.getRGB(t);t=n.r,r=n.g,i=n.b}return(t>1||r>1||i>1)&&(t/=255,r/=255,i/=255),[t,r,i]},ke=function(t,r,i,n){t*=255,r*=255,i*=255;var a={r:t,g:r,b:i,hex:e.rgb(t,r,i),toString:_e};return e.is(n,"finite")&&(a.opacity=n),a};e.color=function(t){var r;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(r=e.hsb2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(r=e.hsl2rgb(t),t.r=r.r,t.g=r.g,t.b=r.b,t.hex=r.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(r=e.rgb2hsl(t),t.h=r.h,t.s=r.s,t.l=r.l,r=e.rgb2hsb(t),t.v=r.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=_e,t},e.hsb2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,i=t.o,t=t.h),t*=360;var n,a,s,o,l;return t=t%360/60,l=r*e,o=l*(1-V(t%2-1)),n=a=s=r-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],ke(n,a,s,i)},e.hsl2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(.5>r?r:1-r),o=l*(1-V(t%2-1)),n=a=s=r-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],ke(n,a,s,i)},e.rgb2hsb=function(t,e,r){r=we(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s;return a=q(t,e,r),s=a-D(t,e,r),i=0==s?null:a==t?(e-r)/s:a==e?(r-t)/s+2:(t-e)/s+4,i=(i+360)%6*60/360,n=0==s?0:s/a,{h:i,s:n,b:a,toString:me}},e.rgb2hsl=function(t,e,r){r=we(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s,o,l;return s=q(t,e,r),o=D(t,e,r),l=s-o,i=0==l?null:s==t?(e-r)/l:s==e?(r-t)/l+2:(t-e)/l+4,i=(i+360)%6*60/360,a=(s+o)/2,n=0==l?0:.5>a?l/(2*a):l/(2-2*a),{h:i,s:n,l:a,toString:be}},e._path2string=function(){return this.join(",").replace(ae,"$1")},e._preload=function(t,e){var r=C.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,C.doc.body.removeChild(this)},r.onerror=function(){C.doc.body.removeChild(this)},C.doc.body.appendChild(r),r.src=t},e.getRGB=n(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:a};!(ne[B](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=ye(t));var r,i,n,s,o,l,h=t.match(U);return h?(h[2]&&(n=K(h[2].substring(5),16),i=K(h[2].substring(3,5),16),r=K(h[2].substring(1,3),16)),h[3]&&(n=K((o=h[3].charAt(3))+o,16),i=K((o=h[3].charAt(2))+o,16),r=K((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][P](ie),r=J(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=J(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][P](ie),r=J(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=J(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(r,i,n,s)):h[6]?(l=h[6][P](ie),r=J(l[0]),"%"==l[0].slice(-1)&&(r*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=J(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(r/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(r,i,n,s)):(h={r:r,g:i,b:n,toString:a},h.hex="#"+(16777216|n|i<<8|r<<16).toString(16).slice(1),e.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:a}},e),e.hsb=n(function(t,r,i){return e.hsb2rgb(t,r,i).hex}),e.hsl=n(function(t,r,i){return e.hsl2rgb(t,r,i).hex}),e.rgb=n(function(t,e,r){function i(t){return t+.5|0}return"#"+(16777216|i(r)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var r=Be(t);if(r.arr)return Se(r.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,H)&&e.is(t[0],H)&&(n=Se(t)),n.length||z(t).replace(se,function(t,e,r){var a=[],s=e.toLowerCase();if(r.replace(le,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][E](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][E](a));else for(;a.length>=i[s]&&(n.push([e][E](a.splice(0,i[s]))),i[s]););}),n.toString=e._path2string,r.arr=Se(n),n},e.parseTransformString=n(function(t){if(!t)return null;var r=[];return e.is(t,H)&&e.is(t[0],H)&&(r=Se(t)),r.length||z(t).replace(oe,function(t,e,i){var n=[];j.call(e),i.replace(le,function(t,e){e&&n.push(+e)}),r.push([e][E](n))}),r.toString=e._path2string,r});var Be=function(t){var e=Be.ps=Be.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var r in e)e[B](r)&&r!=t&&(e[r].sleep--,!e[r].sleep&&delete e[r])}),e[t]};e.findDotsAtSegment=function(t,e,r,i,n,a,s,o,l){var h=1-l,u=O(h,3),c=O(h,2),f=l*l,p=f*l,d=u*t+3*c*l*r+3*h*l*l*n+p*s,g=u*e+3*c*l*i+3*h*l*l*a+p*o,x=t+2*l*(r-t)+f*(n-2*r+t),v=e+2*l*(i-e)+f*(a-2*i+e),y=r+2*l*(n-r)+f*(s-2*n+r),m=i+2*l*(a-i)+f*(o-2*a+i),b=h*t+l*r,_=h*e+l*i,w=h*n+l*s,k=h*a+l*o,B=90-180*I.atan2(x-y,v-m)/Y;return(x>y||m>v)&&(B+=180),{x:d,y:g,m:{x:x,y:v},n:{x:y,y:m},start:{x:b,y:_},end:{x:w,y:k},alpha:B}},e.bezierBBox=function(t,r,i,n,a,s,o,l){e.is(t,"array")||(t=[t,r,i,n,a,s,o,l]);var h=ze.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},e.isPointInsideBBox=function(t,e,r){return e>=t.x&&e<=t.x2&&r>=t.y&&r<=t.y2},e.isBBoxIntersect=function(t,r){var i=e.isPointInsideBBox;return i(r,t.x,t.y)||i(r,t.x2,t.y)||i(r,t.x,t.y2)||i(r,t.x2,t.y2)||i(t,r.x,r.y)||i(t,r.x2,r.y)||i(t,r.x,r.y2)||i(t,r.x2,r.y2)||(t.x<r.x2&&t.x>r.x||r.x<t.x2&&r.x>t.x)&&(t.y<r.y2&&t.y>r.y||r.y<t.y2&&r.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,r,i){var n=e.pathBBox(t);return e.isPointInsideBBox(n,r,i)&&f(t,[["M",r,i],["H",n.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Ce=e.pathBBox=function(t){var e=Be(t);if(e.bbox)return r(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Pe(t);for(var i,n=0,a=0,s=[],o=[],l=0,h=t.length;h>l;l++)if(i=t[l],"M"==i[0])n=i[1],a=i[2],s.push(n),o.push(a);else{var u=ze(n,a,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[E](u.min.x,u.max.x),o=o[E](u.min.y,u.max.y),n=i[5],a=i[6]}var c=D[A](0,s),f=D[A](0,o),p=q[A](0,s),d=q[A](0,o),g=p-c,x=d-f,v={x:c,y:f,x2:p,y2:d,width:g,height:x,cx:c+g/2,cy:f+x/2};return e.bbox=r(v),v},Se=function(t){var i=r(t);return i.toString=e._path2string,i},Te=e._pathToRelative=function(t){var r=Be(t);if(r.rel)return Se(r.rel);e.is(t,H)&&e.is(t&&t[0],H)||(t=e.parsePathString(t));var i=[],n=0,a=0,s=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],a=t[0][2],s=n,o=a,l++,i.push(["M",n,a]));for(var h=l,u=t.length;u>h;h++){var c=i[h]=[],f=t[h];if(f[0]!=j.call(f[0]))switch(c[0]=j.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-n).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(var p=1,d=f.length;d>p;p++)c[p]=+(f[p]-(p%2?n:a)).toFixed(3)}else{c=i[h]=[],"m"==f[0]&&(s=f[1]+n,o=f[2]+a);for(var g=0,x=f.length;x>g;g++)i[h][g]=f[g]}var v=i[h].length;switch(i[h][0]){case"z":n=s,a=o;break;case"h":n+=+i[h][v-1];break;case"v":a+=+i[h][v-1];break;default:n+=+i[h][v-2],a+=+i[h][v-1]}}return i.toString=e._path2string,r.rel=Se(i),i},Ae=e._pathToAbsolute=function(t){var r=Be(t);if(r.abs)return Se(r.abs);if(e.is(t,H)&&e.is(t&&t[0],H)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,a=0,o=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],o=n,l=a,h++,i[0]=["M",n,a]);for(var u,c,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,d=t.length;d>p;p++){if(i.push(u=[]),c=t[p],c[0]!=te.call(c[0]))switch(u[0]=te.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+n),u[7]=+(c[7]+a);break;case"V":u[1]=+c[1]+a;break;case"H":u[1]=+c[1]+n;break;case"R":for(var g=[n,a][E](c.slice(1)),x=2,v=g.length;v>x;x++)g[x]=+g[x]+n,g[++x]=+g[x]+a;i.pop(),i=i[E](s(g,f));break;case"M":o=+c[1]+n,l=+c[2]+a;default:for(x=1,v=c.length;v>x;x++)u[x]=+c[x]+(x%2?n:a)}else if("R"==c[0])g=[n,a][E](c.slice(1)),i.pop(),i=i[E](s(g,f)),u=["R"][E](c.slice(-2));else for(var y=0,m=c.length;m>y;y++)u[y]=c[y];switch(u[0]){case"Z":n=o,a=l;break;case"H":n=u[1];break;case"V":a=u[1];break;case"M":o=u[u.length-2],l=u[u.length-1];default:n=u[u.length-2],a=u[u.length-1]}}return i.toString=e._path2string,r.abs=Se(i),i},Ee=function(t,e,r,i){return[t,e,r,i,r,i]},Ne=function(t,e,r,i,n,a){var s=1/3,o=2/3;return[s*t+o*r,s*e+o*i,s*n+o*r,s*a+o*i,n,a]},Me=function(t,e,r,i,a,s,o,l,h,u){var c,f=120*Y/180,p=Y/180*(+a||0),d=[],g=n(function(t,e,r){var i=t*I.cos(r)-e*I.sin(r),n=t*I.sin(r)+e*I.cos(r);return{x:i,y:n}});if(u)B=u[0],C=u[1],w=u[2],k=u[3];else{c=g(t,e,-p),t=c.x,e=c.y,c=g(l,h,-p),l=c.x,h=c.y;var x=(I.cos(Y/180*a),I.sin(Y/180*a),(t-l)/2),v=(e-h)/2,y=x*x/(r*r)+v*v/(i*i);y>1&&(y=I.sqrt(y),r=y*r,i=y*i);var m=r*r,b=i*i,_=(s==o?-1:1)*I.sqrt(V((m*b-m*v*v-b*x*x)/(m*v*v+b*x*x))),w=_*r*v/i+(t+l)/2,k=_*-i*x/r+(e+h)/2,B=I.asin(((e-k)/i).toFixed(9)),C=I.asin(((h-k)/i).toFixed(9));B=w>t?Y-B:B,C=w>l?Y-C:C,0>B&&(B=2*Y+B),0>C&&(C=2*Y+C),o&&B>C&&(B-=2*Y),!o&&C>B&&(C-=2*Y)}var S=C-B;if(V(S)>f){var T=C,A=l,N=h;C=B+f*(o&&C>B?1:-1),l=w+r*I.cos(C),h=k+i*I.sin(C),d=Me(l,h,r,i,a,0,o,A,N,[C,T,w,k])}S=C-B;var M=I.cos(B),L=I.sin(B),z=I.cos(C),F=I.sin(C),R=I.tan(S/4),j=4/3*r*R,q=4/3*i*R,D=[t,e],O=[t+j*L,e-q*M],W=[l+j*F,h-q*z],G=[l,h];if(O[0]=2*D[0]-O[0],O[1]=2*D[1]-O[1],u)return[O,W,G][E](d);d=[O,W,G][E](d).join()[P](",");for(var H=[],X=0,U=d.length;U>X;X++)H[X]=X%2?g(d[X-1],d[X],p).y:g(d[X],d[X+1],p).x;return H},Le=function(t,e,r,i,n,a,s,o,l){var h=1-l;return{x:O(h,3)*t+3*O(h,2)*l*r+3*h*l*l*n+O(l,3)*s,y:O(h,3)*e+3*O(h,2)*l*i+3*h*l*l*a+O(l,3)*o}},ze=n(function(t,e,r,i,n,a,s,o){var l,h=n-2*r+t-(s-2*n+r),u=2*(r-t)-2*(n-r),c=t-r,f=(-u+I.sqrt(u*u-4*h*c))/2/h,p=(-u-I.sqrt(u*u-4*h*c))/2/h,d=[e,o],g=[t,s];return V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=Le(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=Le(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),h=a-2*i+e-(o-2*a+i),u=2*(i-e)-2*(a-i),c=e-i,f=(-u+I.sqrt(u*u-4*h*c))/2/h,p=(-u-I.sqrt(u*u-4*h*c))/2/h,V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=Le(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=Le(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),{min:{x:D[A](0,g),y:D[A](0,d)},max:{x:q[A](0,g),y:q[A](0,d)}}}),Pe=e._path2curve=n(function(t,e){var r=!e&&Be(t);if(!e&&r.curve)return Se(r.curve);for(var i=Ae(t),n=e&&Ae(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,r){var i,n,a={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in a)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][E](Me[A](0,[e.x,e.y][E](t.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*e.x-e.bx,n=2*e.y-e.by):(i=e.x,n=e.y),t=["C",i,n][E](t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][E](Ne(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][E](Ne(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][E](Ee(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][E](Ee(e.x,e.y,t[1],e.y));break;case"V":t=["C"][E](Ee(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][E](Ee(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)u[e]="A",n&&(c[e]="A"),t.splice(e++,0,["C"][E](r.splice(0,6)));t.splice(e,1),g=q(i.length,n&&n.length||0)}},h=function(t,e,r,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],g=q(i.length,n&&n.length||0))},u=[],c=[],f="",p="",d=0,g=q(i.length,n&&n.length||0);g>d;d++){i[d]&&(f=i[d][0]),"C"!=f&&(u[d]=f,d&&(p=u[d-1])),i[d]=o(i[d],a,p),"A"!=u[d]&&"C"==f&&(u[d]="C"),l(i,d),n&&(n[d]&&(f=n[d][0]),"C"!=f&&(c[d]=f,d&&(p=c[d-1])),n[d]=o(n[d],s,p),"A"!=c[d]&&"C"==f&&(c[d]="C"),l(n,d)),h(i,n,a,s,d),h(n,i,s,a,d);var x=i[d],v=n&&n[d],y=x.length,m=n&&v.length;a.x=x[y-2],a.y=x[y-1],a.bx=J(x[y-4])||a.x,a.by=J(x[y-3])||a.y,s.bx=n&&(J(v[m-4])||s.x),s.by=n&&(J(v[m-3])||s.y),s.x=n&&v[m-2],s.y=n&&v[m-1]}return n||(r.curve=Se(i)),n?[i,n]:i},null,Se),Fe=(e._parseDots=n(function(t){for(var r=[],i=0,n=t.length;n>i;i++){var a={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(a.color=e.getRGB(s[1]),a.color.error)return null;a.opacity=a.color.opacity,a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),r.push(a)}for(i=1,n=r.length-1;n>i;i++)if(!r[i].offset){for(var o=J(r[i-1].offset||0),l=0,h=i+1;n>h;h++)if(r[h].offset){l=r[h].offset;break}l||(l=100,h=n),l=J(l);for(var u=(l-o)/(h-i+1);h>i;i++)o+=u,r[i].offset=o+"%"}return r}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Re=(e._tofront=function(t,e){e.top!==t&&(Fe(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Fe(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,r){Fe(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,r){Fe(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var r=Ce(t),i={_:{transform:M},getBBox:function(){return r}};return je(i,e),i.matrix}),je=(e.transformPath=function(t,e){return ge(t,Re(t,e))},e._extractTransform=function(t,r){if(null==r)return t._.transform;r=z(r).replace(/\.{3}|\u2026/g,t._.transform||M);var i=e.parseTransformString(r),n=0,a=0,s=0,o=1,l=1,h=t._,u=new p;if(h.transform=i||[],i)for(var c=0,f=i.length;f>c;c++){var d,g,x,v,y,m=i[c],b=m.length,_=z(m[0]).toLowerCase(),w=m[0]!=_,k=w?u.invert():0;"t"==_&&3==b?w?(d=k.x(0,0),g=k.y(0,0),x=k.x(m[1],m[2]),v=k.y(m[1],m[2]),u.translate(x-d,v-g)):u.translate(m[1],m[2]):"r"==_?2==b?(y=y||t.getBBox(1),u.rotate(m[1],y.x+y.width/2,y.y+y.height/2),n+=m[1]):4==b&&(w?(x=k.x(m[2],m[3]),v=k.y(m[2],m[3]),u.rotate(m[1],x,v)):u.rotate(m[1],m[2],m[3]),n+=m[1]):"s"==_?2==b||3==b?(y=y||t.getBBox(1),u.scale(m[1],m[b-1],y.x+y.width/2,y.y+y.height/2),o*=m[1],l*=m[b-1]):5==b&&(w?(x=k.x(m[3],m[4]),v=k.y(m[3],m[4]),u.scale(m[1],m[2],x,v)):u.scale(m[1],m[2],m[3],m[4]),o*=m[1],l*=m[2]):"m"==_&&7==b&&u.add(m[1],m[2],m[3],m[4],m[5],m[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1}),Ie=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},qe=e._equaliseTransform=function(t,r){r=z(r).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],r=e.parseTransformString(r)||[];
for(var i,n,a,s,o=q(t.length,r.length),l=[],h=[],u=0;o>u;u++){if(a=t[u]||Ie(r[u]),s=r[u]||Ie(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(l[u]=[],h[u]=[],i=0,n=q(a.length,s.length);n>i;i++)i in a&&(l[u][i]=a[i]),i in s&&(h[u][i]=s[i])}return{from:l,to:h}};e._getContainer=function(t,r,i,n){var a;return a=null!=n||e.is(t,"object")?t:C.doc.getElementById(t),null!=a?a.tagName?null==r?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:r,height:i}:{container:1,x:t,y:r,width:i,height:n}:void 0},e.pathToRelative=Te,e._engine={},e.path2curve=Pe,e.matrix=function(t,e,r,i,n,a){return new p(t,e,r,i,n,a)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=I.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,r,i,n,a){var s,o,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,r,n],[e,i,a],[0,0,1]];for(t&&t instanceof p&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(h=0,l=0;3>l;l++)h+=c[s][l]*f[l][o];u[s][o]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new p(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,i){null==e&&(e=t),(r||i)&&this.add(1,0,0,1,r,i),this.add(t,0,0,e,0,0),(r||i)&&this.add(1,0,0,1,-r,-i)},t.rotate=function(t,r,i){t=e.rad(t),r=r||0,i=i||0;var n=+I.cos(t).toFixed(9),a=+I.sin(t).toFixed(9);this.add(n,a,-a,n,r,i),this.add(1,0,0,1,-r,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=I.sqrt(r(n[0])),i(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=I.sqrt(r(n[1])),i(n[1]),t.shear/=t.scaley;var a=-n[0][1],s=n[1][1];return 0>s?(t.rotate=e.deg(I.acos(s)),0>a&&(t.rotate=360-t.rotate)):t.rotate=e.deg(I.asin(a)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[P]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:M)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:M)+(e.rotate?"r"+[e.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(p.prototype);for(var De=function(){this.returnValue=!1},Ve=function(){return this.originalEvent.preventDefault()},Oe=function(){this.cancelBubble=!0},Ye=function(){return this.originalEvent.stopPropagation()},We=function(t){var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,r=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;return{x:t.clientX+r,y:t.clientY+e}},Ge=function(){return C.doc.addEventListener?function(t,e,r,i){var n=function(t){var e=We(t);return r.call(i,t,e.x,e.y)};if(t.addEventListener(e,n,!1),N&&R[e]){var a=function(e){for(var n=We(e),a=e,s=0,o=e.targetTouches&&e.targetTouches.length;o>s;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=a,e.preventDefault=Ve,e.stopPropagation=Ye;break}return r.call(i,e,n.x,n.y)};t.addEventListener(R[e],a,!1)}return function(){return t.removeEventListener(e,n,!1),N&&R[e]&&t.removeEventListener(R[e],a,!1),!0}}:C.doc.attachEvent?function(t,e,r,i){var n=function(t){t=t||C.win.event;var e=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,n=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||De,t.stopPropagation=t.stopPropagation||Oe,r.call(i,t,a,s)};t.attachEvent("on"+e,n);var a=function(){return t.detachEvent("on"+e,n),!0};return a}:void 0}(),He=[],Xe=function(e){for(var r,i=e.clientX,n=e.clientY,a=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,s=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft,o=He.length;o--;){if(r=He[o],N&&e.touches){for(var l,h=e.touches.length;h--;)if(l=e.touches[h],l.identifier==r.el._drag.id){i=l.clientX,n=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u,c=r.el.node,f=c.nextSibling,p=c.parentNode,d=c.style.display;C.win.opera&&p.removeChild(c),c.style.display="none",u=r.el.paper.getElementByPoint(i,n),c.style.display=d,C.win.opera&&(f?p.insertBefore(c,f):p.appendChild(c)),u&&t("raphael.drag.over."+r.el.id,r.el,u),i+=s,n+=a,t("raphael.drag.move."+r.el.id,r.move_scope||r.el,i-r.el._drag.x,n-r.el._drag.y,i,n,e)}},Ue=function(r){e.unmousemove(Xe).unmouseup(Ue);for(var i,n=He.length;n--;)i=He[n],i.el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,r);He=[]},$e=e.el={},Ze=F.length;Ze--;)!function(t){e[t]=$e[t]=function(r,i){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:Ge(this.shape||this.node||C.doc,t,r,i||this)})),this},e["un"+t]=$e["un"+t]=function(r){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!e.is(r,"undefined")&&i[n].f!=r||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}}(F[Ze]);$e.data=function(r,i){var n=he[this.id]=he[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(e.is(r,"object")){for(var a in r)r[B](a)&&this.data(a,r[a]);return this}return t("raphael.data.get."+this.id,this,n[r],r),n[r]}return n[r]=i,t("raphael.data.set."+this.id,this,i,r),this},$e.removeData=function(t){return null==t?he[this.id]={}:he[this.id]&&delete he[this.id][t],this},$e.getData=function(){return r(he[this.id]||{})},$e.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},$e.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Qe=[];$e.drag=function(r,i,n,a,s,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,u=l.clientY,c=C.doc.documentElement.scrollTop||C.doc.body.scrollTop,f=C.doc.documentElement.scrollLeft||C.doc.body.scrollLeft;if(this._drag.id=l.identifier,N&&l.touches)for(var p,d=l.touches.length;d--;)if(p=l.touches[d],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,u=p.clientY;break}this._drag.x=h+f,this._drag.y=u+c,!He.length&&e.mousemove(Xe).mouseup(Ue),He.push({el:this,move_scope:a,start_scope:s,end_scope:o}),i&&t.on("raphael.drag.start."+this.id,i),r&&t.on("raphael.drag.move."+this.id,r),n&&t.on("raphael.drag.end."+this.id,n),t("raphael.drag.start."+this.id,s||a||this,l.clientX+f,l.clientY+c,l)}return this._drag={},Qe.push({el:this,start:l}),this.mousedown(l),this},$e.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},$e.undrag=function(){for(var r=Qe.length;r--;)Qe[r].el==this&&(this.unmousedown(Qe[r].start),Qe.splice(r,1),t.unbind("raphael.drag.*."+this.id));!Qe.length&&e.unmousemove(Xe).unmouseup(Ue),He=[]},b.circle=function(t,r,i){var n=e._engine.circle(this,t||0,r||0,i||0);return this.__set__&&this.__set__.push(n),n},b.rect=function(t,r,i,n,a){var s=e._engine.rect(this,t||0,r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(t,r,i,n){var a=e._engine.ellipse(this,t||0,r||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},b.path=function(t){t&&!e.is(t,G)&&!e.is(t[0],H)&&(t+=M);var r=e._engine.path(e.format[A](e,arguments),this);return this.__set__&&this.__set__.push(r),r},b.image=function(t,r,i,n,a){var s=e._engine.image(this,t||"about:blank",r||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},b.text=function(t,r,i){var n=e._engine.text(this,t||0,r||0,z(i));return this.__set__&&this.__set__.push(n),n},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var r=new hr(t);return this.__set__&&this.__set__.push(r),r.paper=this,r.type="set",r},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(){var t=this.__set__;return delete this.__set__,t},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,r){return e._engine.setSize.call(this,t,r)},b.setViewBox=function(t,r,i,n,a){return e._engine.setViewBox.call(this,t,r,i,n,a)},b.top=b.bottom=null,b.raphael=e;var Je=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,i=r.body,n=r.documentElement,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,o=e.top+(C.win.pageYOffset||n.scrollTop||i.scrollTop)-a,l=e.left+(C.win.pageXOffset||n.scrollLeft||i.scrollLeft)-s;return{y:o,x:l}};b.getElementByPoint=function(t,e){var r=this,i=r.canvas,n=C.doc.elementFromPoint(t,e);if(C.win.opera&&"svg"==n.tagName){var a=Je(i),s=i.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=i.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=i.parentNode&&!n.raphael;)n=n.parentNode;return n==r.canvas.parentNode&&(n=i),n=n&&n.raphael?r.getById(n.raphaelid):null},b.getElementsByBBox=function(t){var r=this.set();return this.forEach(function(i){e.isBBoxIntersect(i.getBBox(),t)&&r.push(i)}),r},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var r=this.bottom;r;){if(t.call(e,r)===!1)return this;r=r.next}return this},b.getElementsByPoint=function(t,e){var r=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&r.push(i)}),r},$e.isPointInside=function(t,r){var i=this.realPath=de[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,r)},$e.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=de[this.type](this),e.bboxwt=Ce(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=de[this.type](this)),e.bbox=Ce(ge(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},$e.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},$e.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},r=e.width/2,i=this.paper,n=i.set(),a=this.realPath||de[this.type](this);a=this.matrix?ge(a,this.matrix):a;for(var s=1;r+1>s;s++)n.push(i.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),opacity:+(e.opacity/r).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};var Ke=function(t,r,i,n,a,s,o,u,c){return null==c?l(t,r,i,n,a,s,o,u):e.findDotsAtSegment(t,r,i,n,a,s,o,u,h(t,r,i,n,a,s,o,u,c))},tr=function(t,r){return function(i,n,a){i=Pe(i);for(var s,o,l,h,u,c="",f={},p=0,d=0,g=i.length;g>d;d++){if(l=i[d],"M"==l[0])s=+l[1],o=+l[2];else{if(h=Ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(r&&!f.start){if(u=Ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],a)return c;f.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!t&&!r)return u=Ke(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=h,s=+l[5],o=+l[6]}c+=l.shift()+l}return f.end=c,u=t?p:r?f:e.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},er=tr(1),rr=tr(),ir=tr(0,1);e.getTotalLength=er,e.getPointAtLength=rr,e.getSubpath=function(t,e,r){if(this.getTotalLength(t)-r<1e-6)return ir(t,e).end;var i=ir(t,r,1);return e?ir(i,e).end:i},$e.getTotalLength=function(){var t=this.getPath();return t?this.node.getTotalLength?this.node.getTotalLength():er(t):void 0},$e.getPointAtLength=function(t){var e=this.getPath();return e?rr(e,t):void 0},$e.getPath=function(){var t,r=e._getPath[this.type];return"text"!=this.type&&"set"!=this.type?(r&&(t=r(this)),t):void 0},$e.getSubpath=function(t,r){var i=this.getPath();return i?e.getSubpath(i,t,r):void 0};var nr=e.easing_formulas={linear:function(t){return t},"<":function(t){return O(t,1.7)},">":function(t){return O(t,.48)},"<>":function(t){var e=.48-t/1.04,r=I.sqrt(.1734+e*e),i=r-e,n=O(V(i),1/3)*(0>i?-1:1),a=-r-e,s=O(V(a),1/3)*(0>a?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:O(2,-10*t)*I.sin(2*(t-.075)*Y/.3)+1},bounce:function(t){var e,r=7.5625,i=2.75;return 1/i>t?e=r*t*t:2/i>t?(t-=1.5/i,e=r*t*t+.75):2.5/i>t?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};nr.easeIn=nr["ease-in"]=nr["<"],nr.easeOut=nr["ease-out"]=nr[">"],nr.easeInOut=nr["ease-in-out"]=nr["<>"],nr["back-in"]=nr.backIn,nr["back-out"]=nr.backOut;var ar=[],sr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},or=function(){for(var r=+new Date,i=0;i<ar.length;i++){var n=ar[i];if(!n.el.removed&&!n.paused){var a,s,o=r-n.start,l=n.ms,h=n.easing,u=n.from,c=n.diff,f=n.to,p=(n.t,n.el),d={},g={};if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*l,n.status=n.initstatus,delete n.initstatus,n.stop&&ar.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/l))/n.anim.top,!(0>o))if(l>o){var x=h(o/l);for(var y in u)if(u[B](y)){switch(re[y]){case W:a=+u[y]+x*l*c[y];break;case"colour":a="rgb("+[lr(Q(u[y].r+x*l*c[y].r)),lr(Q(u[y].g+x*l*c[y].g)),lr(Q(u[y].b+x*l*c[y].b))].join(",")+")";break;case"path":a=[];for(var m=0,b=u[y].length;b>m;m++){a[m]=[u[y][m][0]];for(var _=1,w=u[y][m].length;w>_;_++)a[m][_]=+u[y][m][_]+x*l*c[y][m][_];a[m]=a[m].join(L)}a=a.join(L);break;case"transform":if(c[y].real)for(a=[],m=0,b=u[y].length;b>m;m++)for(a[m]=[u[y][m][0]],_=1,w=u[y][m].length;w>_;_++)a[m][_]=u[y][m][_]+x*l*c[y][m][_];else{var k=function(t){return+u[y][t]+x*l*c[y][t]};a=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==y)for(a=[],m=4;m--;)a[m]=+u[y][m]+x*l*c[y][m];break;default:var C=[][E](u[y]);for(a=[],m=p.paper.customAttributes[y].length;m--;)a[m]=+C[m]+x*l*c[y][m]}d[y]=a}p.attr(d),function(e,r,i){setTimeout(function(){t("raphael.anim.frame."+e,r,i)})}(p.id,p,n.anim)}else{if(function(r,i,n){setTimeout(function(){t("raphael.anim.frame."+i.id,i,n),t("raphael.anim.finish."+i.id,i,n),e.is(r,"function")&&r.call(i)})}(n.callback,p,n.anim),p.attr(f),ar.splice(i--,1),n.repeat>1&&!n.next){for(s in f)f[B](s)&&(g[s]=n.totalOrigin[s]);n.el.attr(g),v(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&v(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}ar.length&&sr(or)},lr=function(t){return t>255?255:0>t?0:t};$e.animateWith=function(t,r,i,n,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=i instanceof x?i:e.animation(i,n,a,s);v(l,o,l.percents[0],null,o.attr());for(var h=0,u=ar.length;u>h;h++)if(ar[h].anim==r&&ar[h].el==t){ar[u-1].start=ar[h].start;break}return o},$e.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},x.prototype.delay=function(t){var e=new x(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},x.prototype.repeat=function(t){var e=new x(this.anim,this.ms);return e.del=this.del,e.times=I.floor(q(t,0))||1,e},e.animation=function(t,r,i,n){if(t instanceof x)return t;(e.is(i,"function")||!i)&&(n=n||i||null,i=null),t=Object(t),r=+r||0;var a,s,o={};for(s in t)t[B](s)&&J(s)!=s&&J(s)+"%"!=s&&(a=!0,o[s]=t[s]);if(a)return i&&(o.easing=i),n&&(o.callback=n),new x({100:o},r);if(n){var l=0;for(var h in t){var u=K(h);t[B](h)&&u>l&&(l=u)}l+="%",!t[l].callback&&(t[l].callback=n)}return new x(t,r)},$e.animate=function(t,r,i,n){var a=this;if(a.removed)return n&&n.call(a),a;var s=t instanceof x?t:e.animation(t,r,i,n);return v(s,a,s.percents[0],null,a.attr()),a},$e.setTime=function(t,e){return t&&null!=e&&this.status(t,D(e,t.ms)/t.ms),this},$e.status=function(t,e){var r,i,n=[],a=0;if(null!=e)return v(t,this,-1,D(e,1)),this;for(r=ar.length;r>a;a++)if(i=ar[a],i.el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;n.push({anim:i.anim,status:i.status})}return t?0:n},$e.pause=function(e){for(var r=0;r<ar.length;r++)ar[r].el.id!=this.id||e&&ar[r].anim!=e||t("raphael.anim.pause."+this.id,this,ar[r].anim)!==!1&&(ar[r].paused=!0);return this},$e.resume=function(e){for(var r=0;r<ar.length;r++)if(ar[r].el.id==this.id&&(!e||ar[r].anim==e)){var i=ar[r];t("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},$e.stop=function(e){for(var r=0;r<ar.length;r++)ar[r].el.id!=this.id||e&&ar[r].anim!=e||t("raphael.anim.stop."+this.id,this,ar[r].anim)!==!1&&ar.splice(r--,1);return this},t.on("raphael.remove",y),t.on("raphael.clear",y),$e.toString=function(){return"Raphaël’s object"};var hr=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;r>e;e++)!t[e]||t[e].constructor!=$e.constructor&&t[e].constructor!=hr||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ur=hr.prototype;ur.push=function(){for(var t,e,r=0,i=arguments.length;i>r;r++)t=arguments[r],!t||t.constructor!=$e.constructor&&t.constructor!=hr||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ur.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ur.forEach=function(t,e){for(var r=0,i=this.items.length;i>r;r++)if(t.call(e,this.items[r],r)===!1)return this;return this};for(var cr in $e)$e[B](cr)&&(ur[cr]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t][A](r,e)})}}(cr));return ur.attr=function(t,r){if(t&&e.is(t,H)&&e.is(t[0],"object"))for(var i=0,n=t.length;n>i;i++)this.items[i].attr(t[i]);else for(var a=0,s=this.items.length;s>a;a++)this.items[a].attr(t,r);return this},ur.clear=function(){for(;this.length;)this.pop()},ur.splice=function(t,e){t=0>t?q(this.length+t,0):t,e=q(0,D(this.length-t,e));var r,i=[],n=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;e>r;r++)n.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var s=a.length;for(r=0;r<s+i.length;r++)this.items[t+r]=this[t+r]=s>r?a[r]:i[r-s];for(r=this.items.length=this.length-=e-s;this[r];)delete this[r++];return new hr(n)},ur.exclude=function(t){for(var e=0,r=this.length;r>e;e++)if(this[e]==t)return this.splice(e,1),!0},ur.animate=function(t,r,i,n){(e.is(i,"function")||!i)&&(n=i||null);var a,s,o=this.items.length,l=o,h=this;if(!o)return this;n&&(s=function(){!--o&&n.call(h)}),i=e.is(i,G)?i:s;var u=e.animation(t,r,i,s);for(a=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,u,u),this.items[l]&&!this.items[l].removed||o--;return this},ur.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ur.getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items.length;n--;)if(!this.items[n].removed){var a=this.items[n].getBBox();t.push(a.x),e.push(a.y),r.push(a.x+a.width),i.push(a.y+a.height)}return t=D[A](0,t),e=D[A](0,e),r=q[A](0,r),i=q[A](0,i),{x:t,y:e,x2:r,y2:i,width:r-t,height:i-e}},ur.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;r>e;e++)t.push(this.items[e].clone());return t},ur.toString=function(){return"Raphaël‘s set"},ur.glow=function(t){var e=this.paper.set();return this.forEach(function(r){var i=r.glow(t);null!=i&&i.forEach(function(t){e.push(t)})}),e},ur.isPointInside=function(t,e){var r=!1;return this.forEach(function(i){return i.isPointInside(t,e)?(r=!0,!1):void 0}),r},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[B](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=K(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[B](n)){var a=t.glyphs[n];if(e.glyphs[n]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[B](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},b.getFont=function(t,r,i,n){if(n=n||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var a=e.fonts[t];if(!a){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var o in e.fonts)if(e.fonts[B](o)&&s.test(o)){a=e.fonts[o];break}}var l;if(a)for(var h=0,u=a.length;u>h&&(l=a[h],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},b.print=function(t,r,i,n,a,s,o,l){s=s||"middle",o=q(D(o||0,1),-1),l=q(D(l||1,3),1);var h,u=z(i)[P](M),c=0,f=0,p=M;if(e.is(n,"string")&&(n=this.getFont(n)),n){h=(a||16)/n.face["units-per-em"];for(var d=n.face.bbox[P](_),g=+d[0],x=d[3]-d[1],v=0,y=+d[1]+("baseline"==s?x+ +n.face.descent:x/2),m=0,b=u.length;b>m;m++){if("\n"==u[m])c=0,k=0,f=0,v+=x*l;else{var w=f&&n.glyphs[u[m-1]]||{},k=n.glyphs[u[m]];c+=f?(w.w||n.w)+(w.k&&w.k[u[m]]||0)+n.w*o:0,f=1}k&&k.d&&(p+=e.transformPath(k.d,["t",c*h,v*h,"s",h,h,g,y,"t",(t-g)/h,(r-y)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var r,i=this.set(),n=0,a=t.length;a>n;n++)r=t[n]||{},w[B](r.type)&&i.push(this[r.type]().attr(r));return i},e.format=function(t,r){var i=e.is(r,H)?[0][E](r):arguments;return t&&e.is(t,G)&&i.length-1&&(t=t.replace(k,function(t,e){return null==i[++e]?M:i[e]})),t||M},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,i){var n=i;return r.replace(e,function(t,e,r,i,a){e=e||i,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return String(e).replace(t,function(t,e){return r(t,e,i)})}}(),e.ninja=function(){return S.was?C.win.Raphael=S.is:delete Raphael,e},e.st=ur,t.on("raphael.DOMload",function(){m=!0}),function(t,r,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(r,i=function(){t.removeEventListener(r,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),e}),function(t,e){"function"==typeof define&&define.amd?define("raphael.svg",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("raphael.core"):t.Raphael)}(this,function(t){if(!t||t.svg){var e="hasOwnProperty",r=String,i=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=t.eve,c="",f=" ",p="http://www.w3.org/1999/xlink",d={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var x=function(i,n){if(n){"string"==typeof i&&(i=x(i));for(var a in n)n[e](a)&&("xlink:"==a.substring(0,6)?i.setAttributeNS(p,a.substring(6),r(n[a])):i.setAttribute(a,r(n[a])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,n){var h="linear",u=e.id+n,f=.5,p=.5,d=e.node,g=e.paper,v=d.style,y=t._g.doc.getElementById(u);if(!y){if(n=r(n).replace(t._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=i(e),p=i(r);var n=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(f-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){var m=n.shift();if(m=-i(m),isNaN(m))return null;var b=[0,0,a.cos(t.rad(m)),a.sin(t.rad(m))],_=1/(s(o(b[2]),o(b[3]))||1);b[2]*=_,b[3]*=_,b[2]<0&&(b[0]=-b[2],b[2]=0),b[3]<0&&(b[1]=-b[3],b[3]=0)}var w=t._parseDots(n);if(!w)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=x(h+"Gradient",{id:u}),e.gradient=y,x(y,"radial"==h?{fx:f,fy:p}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var k=0,B=w.length;B>k;k++)y.appendChild(x("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff","stop-opacity":isFinite(w[k].opacity)?w[k].opacity:1}))}}return x(d,{fill:"url('"+document.location.origin+document.location.pathname+"#"+u+"')",opacity:1,"fill-opacity":1}),v.fill=c,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);x(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},m=function(i,n,a){if("path"==i.type){for(var s,o,l,h,u,f=r(n).toLowerCase().split("-"),p=i.paper,v=a?"end":"start",y=i.node,m=i.attrs,b=m["stroke-width"],_=f.length,w="classic",k=3,B=3,C=5;_--;)switch(f[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[_];break;case"wide":B=5;break;case"narrow":B=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,B+=2,C+=2,l=1,h=a?4:1,u={fill:"none",stroke:m.stroke}):(h=l=k/2,u={fill:m.stroke,stroke:"none"}),i._.arrows?a?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){var S="raphael-marker-"+w,T="raphael-marker-"+v+w+k+B+"-obj"+i.id;t._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(x(x("path"),{"stroke-linecap":"round",d:d[w],id:S})),g[S]=1);var A,E=t._g.doc.getElementById(T);E?(g[T]++,A=E.getElementsByTagName("use")[0]):(E=x(x("marker"),{id:T,markerHeight:B,markerWidth:k,orient:"auto",refX:h,refY:B/2}),A=x(x("use"),{"xlink:href":"#"+S,transform:(a?"rotate(180 "+k/2+" "+B/2+") ":c)+"scale("+k/C+","+B/C+")","stroke-width":(1/((k/C+B/C)/2)).toFixed(4)}),E.appendChild(A),p.defs.appendChild(E),g[T]=1),x(A,u);var N=l*("diamond"!=w&&"oval"!=w);a?(s=i._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-N*b):(s=N*b,o=t.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),u={},u["marker-"+v]="url(#"+T+")",(o||s)&&(u.d=t.getSubpath(m.path,s,o)),x(y,u),i._.arrows[v+"Path"]=S,i._.arrows[v+"Marker"]=T,i._.arrows[v+"dx"]=N,i._.arrows[v+"Type"]=w,i._.arrows[v+"String"]=n}else a?(s=i._.arrows.startdx*b||0,o=t.getTotalLength(m.path)-s):(s=0,o=t.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),i._.arrows[v+"Path"]&&x(y,{d:t.getSubpath(m.path,s,o)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(u in g)if(g[e](u)&&!g[u]){var M=t._g.doc.getElementById(u);M&&M.parentNode.removeChild(M)}}},b={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,i){if(e=b[r(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*n+(o%2?1:-1)*a;x(t.node,{"stroke-dasharray":s.join(",")})}else x(t.node,{"stroke-dasharray":"none"})},w=function(i,a){var l=i.node,u=i.attrs,f=l.style.visibility;l.style.visibility="hidden";for(var d in a)if(a[e](d)){if(!t._availableAttrs[e](d))continue;var g=a[d];switch(u[d]=g,d){case"blur":i.blur(g);break;case"title":var b=l.getElementsByTagName("title");if(b.length&&(b=b[0]))b.firstChild.nodeValue=g;else{b=x("title");var w=t._g.doc.createTextNode(g);b.appendChild(w),l.appendChild(b)}break;case"href":case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){var C=x("a");k.insertBefore(C,l),C.appendChild(l),k=C}"target"==d?k.setAttributeNS(p,"show","blank"==g?"new":g):k.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":m(i,g);break;case"arrow-end":m(i,g,1);break;case"clip-rect":var S=r(g).split(h);if(4==S.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var T=x("clipPath"),A=x("rect");T.id=t.createUUID(),x(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(A),i.paper.defs.appendChild(T),x(l,{"clip-path":"url(#"+T.id+")"}),i.clip=A}if(!g){var E=l.getAttribute("clip-path");if(E){var N=t._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,c));N&&N.parentNode.removeChild(N),x(l,{"clip-path":c}),delete i.clip}}break;case"path":"path"==i.type&&(x(l,{d:g?u.path=t._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!u.fx)break;d="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&y(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!u.fy)break;d="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&y(i),i._.dirty=1;break;case"r":"rect"==i.type?x(l,{rx:g,ry:g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(g/=s(o(i._.sx),o(i._.sy))||1),l.setAttribute(d,g),u["stroke-dasharray"]&&_(i,u["stroke-dasharray"],a),i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"stroke-dasharray":_(i,g,a);break;case"fill":var M=r(g).match(t._ISURL);if(M){T=x("pattern");var L=x("image");T.id=t.createUUID(),x(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),x(L,{x:0,y:0,"xlink:href":M[1]}),T.appendChild(L),function(e){t._preload(M[1],function(){var t=this.offsetWidth,r=this.offsetHeight;x(e,{width:t,height:r}),x(L,{width:t,height:r})})}(T),i.paper.defs.appendChild(T),x(l,{fill:"url(#"+T.id+")"}),i.pattern=T,i.pattern&&y(i);break}var z=t.getRGB(g);if(z.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g)){if("opacity"in u||"fill-opacity"in u){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(P){var F=P.getElementsByTagName("stop");x(F[F.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(a.opacity,"undefined")&&x(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&x(l,{"fill-opacity":u["fill-opacity"]});z[e]("opacity")&&x(l,{"fill-opacity":z.opacity>1?z.opacity/100:z.opacity});case"stroke":z=t.getRGB(g),l.setAttribute(d,z.hex),"stroke"==d&&z[e]("opacity")&&x(l,{"stroke-opacity":z.opacity>1?z.opacity/100:z.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=r(g).charAt())&&v(i,g);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&x(l,{"stroke-opacity":g>1?g/100:g});
case"fill-opacity":if(u.gradient){P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),P&&(F=P.getElementsByTagName("stop"),x(F[F.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=n(g,10)+"px");var R=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[R]=g,i._.dirty=1,l.setAttribute(d,g)}}B(i,a),l.style.visibility=f},k=1.2,B=function(i,a){if("text"==i.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=i.attrs,o=i.node,l=o.firstChild?n(t._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var h,u=r(a.text).split("\n"),f=[],p=0,d=u.length;d>p;p++)h=x("tspan"),p&&x(h,{dy:l*k,x:s.x}),h.appendChild(t._g.doc.createTextNode(u[p])),o.appendChild(h),f[p]=h}else for(f=o.getElementsByTagName("tspan"),p=0,d=f.length;d>p;p++)p?x(f[p],{dy:l*k,x:s.x}):x(f[0],{dy:0});x(o,{x:s.x,y:s.y}),i._.dirty=1;var g=i._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&x(f[0],{dy:v})}},C=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},S=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},T=t.el;S.prototype=T,T.constructor=S,t._engine.path=function(t,e){var r=x("path");e.canvas&&e.canvas.appendChild(r);var i=new S(r,e);return i.type="path",w(i,{fill:"none",stroke:"#000",path:t}),i},T.rotate=function(t,e,n){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},T.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(h),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3])),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this},T.translate=function(t,e){return this.removed?this:(t=r(t).split(h),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},T.transform=function(r){var i=this._;if(null==r)return i.transform;if(t._extractTransform(this,r),this.clip&&x(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&x(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var n=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},T.hide=function(){return this.removed||(this.node.style.display="none"),this},T.show=function(){return this.removed||(this.node.style.display=""),this},T.remove=function(){var e=C(this.node);if(!this.removed&&e.parentNode){var r=this.paper;r.__set__&&r.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),t._tear(this,r),e.parentNode.removeChild(e),this.removeData();for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,r=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(r=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(n){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},r&&(e.display="none")}return t&&this.hide(),i},T.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if("fill"==r&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==r)return this._.transform;for(var s=r.split(h),o={},l=0,c=s.length;c>l;l++)r=s[l],o[r]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return c-1?o:o[s[0]]}if(null==i&&t.is(r,"array")){for(o={},l=0,c=r.length;c>l;l++)o[r[l]]=this.attr(r[l]);return o}if(null!=i){var f={};f[r]=i}else null!=r&&t.is(r,"object")&&(f=r);for(var p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&f[e](p)&&t.is(this.paper.customAttributes[p],"function")){var d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(var g in d)d[e](g)&&(f[g]=d[g])}return w(this,f),this},T.toFront=function(){if(this.removed)return this;var e=C(this.node);e.parentNode.appendChild(e);var r=this.paper;return r.top!=this&&t._tofront(this,r),this},T.toBack=function(){if(this.removed)return this;var e=C(this.node),r=e.parentNode;return r.insertBefore(e,r.firstChild),t._toback(this,this.paper),this.paper,this},T.insertAfter=function(e){if(this.removed||!e)return this;var r=C(this.node),i=C(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),t._insertafter(this,e,this.paper),this},T.insertBefore=function(e){if(this.removed||!e)return this;var r=C(this.node),i=C(e.node||e[0].node);return i.parentNode.insertBefore(r,i),t._insertbefore(this,e,this.paper),this},T.blur=function(e){var r=this;if(0!==+e){var i=x("filter"),n=x("feGaussianBlur");r.attrs.blur=e,i.id=t.createUUID(),x(n,{stdDeviation:+e||1.5}),i.appendChild(n),r.paper.defs.appendChild(i),r._blur=i,x(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},t._engine.circle=function(t,e,r,i){var n=x("circle");t.canvas&&t.canvas.appendChild(n);var a=new S(n,t);return a.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},a.type="circle",x(n,a.attrs),a},t._engine.rect=function(t,e,r,i,n,a){var s=x("rect");t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);return o.attrs={x:e,y:r,width:i,height:n,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",x(s,o.attrs),o},t._engine.ellipse=function(t,e,r,i,n){var a=x("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},s.type="ellipse",x(a,s.attrs),s},t._engine.image=function(t,e,r,i,n,a){var s=x("image");x(s,{x:r,y:i,width:n,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new S(s,t);return o.attrs={x:r,y:i,width:n,height:a,src:e},o.type="image",o},t._engine.text=function(e,r,i,n){var a=x("text");e.canvas&&e.canvas.appendChild(a);var s=new S(a,e);return s.attrs={x:r,y:i,"text-anchor":"middle",text:n,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e&&e.container,i=e.x,n=e.y,a=e.width,s=e.height;if(!r)throw new Error("SVG container not found.");var o,l=x("svg"),h="overflow:hidden;";return i=i||0,n=n||0,a=a||512,s=s||342,x(l,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==r?(l.style.cssText=h+"position:absolute;left:"+i+"px;top:"+n+"px",t._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l)),r=new t._Paper,r.width=a,r.height=s,r.canvas=l,r.clear(),r._left=r._top=0,o&&(r.renderfix=function(){}),r.renderfix(),r},t._engine.setViewBox=function(t,e,r,i,n){u("raphael.setViewBox",this,this._viewBox,[t,e,r,i,n]);var a,o,l=this.getSize(),h=s(r/l.width,i/l.height),c=this.top,p=n?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(h=1),delete this._vbSize,a="0 0 "+this.width+f+this.height):(this._vbSize=h,a=t+f+e+f+r+f+i),x(this.canvas,{viewBox:a,preserveAspectRatio:p});h&&c;)o="stroke-width"in c.attrs?c.attrs["stroke-width"]:1,c.attr({"stroke-width":o}),c._.dirty=1,c._.dirtyT=1,c=c.prev;return this._viewBox=[t,e,r,i,!!n],this},t.prototype.renderfix=function(){var t,e=this.canvas,r=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}var n=-t.e%1,a=-t.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,r.left=this._left+"px"),a&&(this._top=(this._top+a)%1,r.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=x("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=x("defs"))},t.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var A=t.st;for(var E in T)T[e](E)&&!A[e](E)&&(A[E]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(E))}}),function(t,e){"function"==typeof define&&define.amd?define("raphael.vml",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("raphael"):t.Raphael)}(this,function(t){if(!t||t.vml){var e="hasOwnProperty",r=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=t.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},x=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,_={path:1,rect:1,image:1},w={circle:1,ellipse:1},k=function(e){var i=/[ahqstv]/gi,n=t._pathToAbsolute;if(r(e).match(i)&&(n=t._path2curve),i=/[clmz]/g,n==t._pathToAbsolute&&!r(e).match(i)){var s=r(e).replace(x,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=g[e];return r.replace(y,function(t){n&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(a(t*b))}),s+i});return s}var o,l,h=n(e);s=[];for(var u=0,c=h.length;c>u;u++){o=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(var f=1,v=o.length;v>f;f++)l+=a(o[f]*b)+(f!=v-1?",":d);s.push(l)}return s.join(p)},B=function(e,r,i){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(r,i),dy:n.y(r,i)}},C=function(t,e,r,i,n,a){var s=t._,o=t.matrix,u=s.fillpos,c=t.node,f=c.style,d=1,g="",x=b/e,v=b/r;if(f.visibility="hidden",e&&r){if(c.coordsize=l(x)+p+l(v),f.rotation=a*(0>e*r?-1:1),a){var y=B(a,i,n);i=y.dx,n=y.dy}if(0>e&&(g+="x"),0>r&&(g+=" y")&&(d=-1),f.flip=g,c.coordorigin=i*-x+p+n*-v,u||s.fillsize){var m=c.getElementsByTagName(h);m=m&&m[0],c.removeChild(m),u&&(y=B(a,o.x(u[0],u[1]),o.y(u[0],u[1])),m.position=y.dx*d+p+y.dy*d),s.fillsize&&(m.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(r)),c.appendChild(m)}f.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var S=function(t,e,i){for(var n=r(e).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}var u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},T=function(n,l){n.attrs=n.attrs||{};var c=n.node,f=n.attrs,g=c.style,x=_[n.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),v=w[n.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),y=n;for(var m in l)l[e](m)&&(f[m]=l[m]);if(x&&(f.path=t._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||x)&&(c.path=k(~r(f.path).toLowerCase().indexOf("r")?t._pathToAbsolute(f.path):f.path),n._.dirty=1,"image"==n.type&&(n._.fillpos=[f.x,f.y],n._.fillsize=[f.width,f.height],C(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),v){var B=+f.cx,T=+f.cy,E=+f.rx||+f.r||0,N=+f.ry||+f.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((B-E)*b),a((T-N)*b),a((B+E)*b),a((T+N)*b),a(B*b)),n._.dirty=1}if("clip-rect"in l){var L=r(l["clip-rect"]).split(u);if(4==L.length){L[2]=+L[2]+ +L[0],L[3]=+L[3]+ +L[1];var z=c.clipRect||t._g.doc.createElement("div"),P=z.style;P.clip=t.format("rect({1}px {2}px {3}px {0}px)",L),c.clipRect||(P.position="absolute",P.top=0,P.left=0,P.width=n.paper.width+"px",P.height=n.paper.height+"px",c.parentNode.insertBefore(z,c),z.appendChild(c),c.clipRect=z)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){var F=n.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&S(y,l["arrow-start"]),"arrow-end"in l&&S(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var R=c.getElementsByTagName(h),j=!1;if(R=R&&R[0],!R&&(j=R=M(h)),"image"==n.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),(null==R.on||"none"==l.fill||null===l.fill)&&(R.on=!1),R.on&&l.fill){var I=r(l.fill).match(t._ISURL);if(I){R.parentNode==c&&c.removeChild(R),R.rotate=!0,R.src=I[1],R.type="tile";var q=n.getBBox(1);R.position=q.x+p+q.y,n._.fillpos=[q.x,q.y],t._preload(I[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=t.getRGB(l.fill).hex,R.src=d,R.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=r(l.fill).charAt())&&A(y,l.fill,R)&&(f.fill="none",f.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var D=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);D=o(s(D,0),1),R.opacity=D,R.src&&(R.color="none")}c.appendChild(R);var V=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],O=!1;!V&&(O=V=M("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(V.on=!0),("none"==l.stroke||null===l.stroke||null==V.on||0==l.stroke||0==l["stroke-width"])&&(V.on=!1);var Y=t.getRGB(l.stroke);V.on&&l.stroke&&(V.color=Y.hex),D=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+Y.o+1||2)-1);var W=.75*(i(l["stroke-width"])||1);if(D=o(s(D,0),1),null==l["stroke-width"]&&(W=f["stroke-width"]),l["stroke-width"]&&(V.weight=W),W&&1>W&&(D*=W)&&(V.weight=1),V.opacity=D,l["stroke-linejoin"]&&(V.joinstyle=l["stroke-linejoin"]||"miter"),V.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(V.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var G={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};V.dashstyle=G[e](l["stroke-dasharray"])?G[l["stroke-dasharray"]]:d}O&&c.appendChild(V)}if("text"==y.type){y.paper.canvas.style.display=d;var H=y.paper.span,X=100,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=H.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),U=i(f["font-size"]||U&&U[0])||10,g.fontSize=U*X+"px",y.textpath.string&&(H.innerHTML=r(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var $=H.getBoundingClientRect();y.W=f.w=($.right-$.left)/X,y.H=f.h=($.bottom-$.top)/X,y.X=f.x,y.Y=f.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",a(f.x*b),a(f.y*b),a(f.x*b)+1));for(var Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,J=Z.length;J>Q;Q++)if(Z[Q]in l){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},A=function(e,a,s){e.attrs=e.attrs||{};var o=(e.attrs,Math.pow),l="linear",h=".5 .5";if(e.attrs.gradient=a,a=r(a).replace(t._radial_gradient,function(t,e,r){return l="radial",e&&r&&(e=i(e),r=i(r),o(e-.5,2)+o(r-.5,2)>.25&&(r=n.sqrt(.25-o(e-.5,2))*(2*(r>.5)-1)+.5),h=e+p+r),d}),a=a.split(/\s*\-\s*/),"linear"==l){var u=a.shift();if(u=-i(u),isNaN(u))return null}var c=t._parseDots(a);if(!c)return null;if(e=e.shape||e.node,c.length){e.removeChild(s),s.on=!0,s.method="none",s.color=c[0].color,s.color2=c[c.length-1].color;for(var f=[],g=0,x=c.length;x>g;g++)c[g].offset&&f.push(c[g].offset+p+c[g].color);s.colors=f.length?f.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),e.appendChild(s)}return 1},E=function(e,r){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=r,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},N=t.el;E.prototype=N,N.constructor=E,N.transform=function(e){if(null==e)return this._.transform;var i,n=this.paper._viewBoxShift,a=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:d;n&&(i=e=r(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,a+e);var s,o=this.matrix.clone(),l=this.skew,h=this.node,u=~r(this.attrs.fill).indexOf("-"),c=!r(this.attrs.fill).indexOf("url(");if(o.translate(1,1),c||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),u&&s.noRotation||!s.isSimple){h.style.filter=o.toFilter();var f=this.getBBox(),g=this.getBBox(1),x=f.x-g.x,v=f.y-g.y;h.coordorigin=x*-b+p+v*-b,C(this,1,1,x,v,0)}else h.style.filter=d,C(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=d,l.matrix=r(o),l.offset=o.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},N.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(e=n),null==e||null==n){var a=this.getBBox(1);e=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},N.translate=function(t,e){return this.removed?this:(t=r(t).split(u),t.length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},N.scale=function(t,e,n,a){if(this.removed)return this;if(t=r(t).split(u),t.length-1&&(e=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==e&&(e=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,n,a]])),this._.dirtyT=1,this},N.hide=function(){return!this.removed&&(this.node.style.display="none"),this},N.show=function(){return!this.removed&&(this.node.style.display=d),this},N.auxGetBBox=t.el.getBBox,N.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},r=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=r,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=r,e.width=t.width*r,e.height=t.height*r,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},N._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},N.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},N.attr=function(r,i){if(this.removed)return this;if(null==r){var n={};for(var a in this.attrs)this.attrs[e](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(r,"string")){if(r==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=r.split(u),o={},l=0,f=s.length;f>l;l++)r=s[l],o[r]=r in this.attrs?this.attrs[r]:t.is(this.paper.customAttributes[r],"function")?this.paper.customAttributes[r].def:t._availableAttrs[r];return f-1?o:o[s[0]]}if(this.attrs&&null==i&&t.is(r,"array")){for(o={},l=0,f=r.length;f>l;l++)o[r[l]]=this.attr(r[l]);return o}var p;null!=i&&(p={},p[r]=i),null==i&&t.is(r,"object")&&(p=r);for(var d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&p[e](d)&&t.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(var x in g)g[e](x)&&(p[x]=g[x])}p.text&&"text"==this.type&&(this.textpath.string=p.text),T(this,p)}return this},N.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},N.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},N.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},N.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},N.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;return i=i.replace(v,d),0!==+e?(this.attrs.blur=e,r.filter=i+p+f+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var r=M("shape");r.style.cssText=m,r.coordsize=b+p+b,r.coordorigin=e.coordorigin;var i=new E(r,e),n={fill:"none",stroke:"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=d,T(i,n),e.canvas.appendChild(r);var a=M("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(d),i},t._engine.rect=function(e,r,i,n,a,s){var o=t._rectPath(r,i,n,a,s),l=e.path(o),h=l.attrs;return l.X=h.x=r,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,r,i,n){var a=t.path();return a.attrs,a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",T(a,{cx:e,cy:r,rx:i,ry:n}),a},t._engine.circle=function(t,e,r,i){var n=t.path();return n.attrs,n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",T(n,{cx:e,cy:r,r:i}),n},t._engine.image=function(e,r,i,n,a,s){var o=t._rectPath(i,n,a,s),l=e.path(o).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];return u.src=r,l.X=u.x=i,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=r,f.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],c.appendChild(f),C(l,1,1,0,0,0),l},t._engine.text=function(e,i,n,s){var o=M("shape"),l=M("path"),h=M("textpath");i=i||0,n=n||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(i*b),a(n*b),a(i*b)+1),l.textpathok=!0,h.string=r(s),h.on=!0,o.style.cssText=m,o.coordsize=b+p+b,o.coordorigin="0 0";var u=new E(o,e),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=r(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,T(u,c),o.appendChild(h),o.appendChild(l),e.canvas.appendChild(o);var f=M("skew");return f.on=!0,o.appendChild(f),u.skew=f,u.transform(d),u},t._engine.setSize=function(e,r){var i=this.canvas.style;return this.width=e,this.height=r,e==+e&&(e+="px"),r==+r&&(r+="px"),i.width=e,i.height=r,i.clip="rect(0 "+e+" "+r+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,r,i,n,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,r,i,n,a]);var s,o,l=this.getSize(),h=l.width,u=l.height;return a&&(s=u/n,o=h/i,h>i*s&&(e-=(h-i*s)/2/s),u>n*o&&(r-=(u-n*o)/2/o)),this._viewBox=[e,r,i,n,!!a],this._viewBoxShift={dx:-e,dy:-r,scale:l},this.forEach(function(t){t.transform("...")}),this};var M;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),r=e.container,i=e.height,n=e.width,a=e.x,s=e.y;if(!r)throw new Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),h=l.style;return a=a||0,s=s||0,n=n||512,i=i||342,o.width=n,o.height=i,n==+n&&(n+="px"),i==+i&&(i+="px"),o.coordsize=1e3*b+p+1e3*b,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==r?(t._g.doc.body.appendChild(l),h.left=a+"px",h.top=s+"px",h.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var L=t.st;for(var z in N)N[e](z)&&!L[e](z)&&(L[z]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(z))}}),function(t,e){if("function"==typeof define&&define.amd)define("raphael",["raphael.core","raphael.svg","raphael.vml"],function(t){return e(t)});else if("object"==typeof exports){var r=require("raphael.core");require("raphael.svg"),require("raphael.vml"),module.exports=e(r)}}(this,function(t){return t.ninja()});!function(){function t(){var t,e,i=arguments,n={},o=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)n=o(n,i[t]);return n}function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function n(t){return t&&"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function s(t){return fe.log(t)/fe.LN10}function a(t){return fe.pow(10,t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==H&&null!==t}function c(t,e,o){var r,s;if(i(e))h(o)?t.setAttribute(e,o):t&&t.getAttribute&&(s=t.getAttribute(e));else if(h(e)&&n(e))for(r in e)t.setAttribute(r,e[r]);return s}function d(t){return o(t)?t:[t]}function p(t,e){Ce&&!Oe&&e&&e.opacity!==H&&(e.filter="alpha(opacity="+100*e.opacity+")"),si(t.style,e)}function u(t,e,i,n,o){var r=pe.createElement(t);return e&&si(r,e),o&&p(r,{padding:0,border:qe,margin:0}),i&&p(r,i),n&&n.appendChild(r),r}function f(t,e){var i=function(){return H};return i.prototype=new t,si(i.prototype,e),i}function g(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function m(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)}function x(t){return 6e4*($&&$(t)||q||0)}function y(t,e){var i,n=/f$/,o=/\.([0-9])/,r=F.lang;return n.test(t)?(i=t.match(o),i=i?i[1]:-1,null!==e&&(e=de.numberFormat(e,i,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:""))):e=N(t,e),e}function v(t,e){for(var i,n,o,r,s,a,l,h="{",c=!1,d=[];-1!==(l=t.indexOf(h));){if(i=t.slice(0,l),c){for(n=i.split(":"),o=n.shift().split("."),s=o.length,a=e,r=0;s>r;r++)a=a[o[r]];n.length&&(a=y(n.join(":"),a)),d.push(a)}else d.push(i);t=t.slice(l+1),c=!c,h=c?"}":"{"}return d.push(t),d.join("")}function b(t){return fe.pow(10,me(fe.log(t)/fe.LN10))}function k(t,e,i,n,o){var r,s,a=t;for(i=ai(i,1),r=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;s<e.length&&(a=e[s],!(o&&a*i>=t||!o&&r<=(e[s]+(e[s+1]||e[s]))/2));s++);return a*=i}function w(t,e){var i,n,o=t.length;for(n=0;o>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;o>n;n++)delete t[n].ss_i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function S(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function T(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function P(t){Y||(Y=u(Ne)),t&&Y.appendChild(t),Y.innerHTML=""}function C(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ue.console}function M(t){return parseFloat(t.toPrecision(14))}function L(t,e){V=ai(t,e.animation)}function D(){var t=F.global,e=t.useUTC,i=e?"getUTC":"get",n=e?"setUTC":"set";Z=t.Date||window.Date,q=e&&t.timezoneOffset,$=e&&t.getTimezoneOffset,K=function(t,i,n,o,r,s){var a;return e?(a=Z.UTC.apply(0,arguments),a+=x(a)):a=new Z(t,i,ai(n,1),ai(o,0),ai(r,0),ai(s,0)).getTime(),a},J=i+"Minutes",Q=i+"Hours",te=i+"Day",ee=i+"Date",ie=i+"Month",ne=i+"FullYear",oe=n+"Milliseconds",re=n+"Seconds",se=n+"Minutes",ae=n+"Hours",le=n+"Date",he=n+"Month",ce=n+"FullYear"}function I(e){return F=t(!0,F,e),D(),F}function B(){return F}function O(){}function z(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function R(t,e,i,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:ai(e.y,r?4:i?14:-6),x:ai(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}function E(t){var e=t.options,i=e.navigator,n=i.enabled,o=e.scrollbar,r=o.enabled,s=n?i.height:0,a=r?o.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=s,this.scrollbarHeight=a,this.scrollbarEnabled=r,this.navigatorEnabled=n,this.navigatorOptions=i,this.scrollbarOptions=o,this.outlineHeight=s+a,this.init()}function W(t){this.init(t)}var H,X,G,Y,F,N,V,_,U,j,Z,K,q,$,J,Q,te,ee,ie,ne,oe,re,se,ae,le,he,ce,de,pe=document,ue=window,fe=Math,ge=fe.round,me=fe.floor,xe=fe.ceil,ye=fe.max,ve=fe.min,be=fe.abs,ke=fe.cos,we=fe.sin,Ae=fe.PI,Se=2*Ae/360,Te=navigator.userAgent,Pe=ue.opera,Ce=/(msie|trident)/i.test(Te)&&!Pe,Me=8===pe.documentMode,Le=/AppleWebKit/.test(Te),De=/Firefox/.test(Te),Ie=/(Mobile|Android|Windows Phone)/.test(Te),Be="http://www.w3.org/2000/svg",Oe=!!pe.createElementNS&&!!pe.createElementNS(Be,"svg").createSVGRect,ze=De&&parseInt(Te.split("Firefox/")[1],10)<4,Re=!Oe&&!Ce&&!!pe.createElement("canvas").getContext,Ee={},We=0,He=function(){return H},Xe=[],Ge=0,Ye="Highstock",Fe="2.1.7",Ne="div",Ve="absolute",_e="relative",Ue="hidden",je="highcharts-",Ze="visible",Ke="px",qe="none",$e="M",Je="L",Qe=/^[0-9]+$/,ti="",ei="hover",ii="select",ni=["plotTop","marginRight","marginBottom","plotLeft"],oi="stroke-width",ri={};de=ue.Highcharts=ue.Highcharts?C(16,!0):{},de.seriesTypes=ri;var si=de.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},ai=de.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],e!==H&&null!==e)return e},li=de.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};N=function(t,e,i){if(!h(e)||isNaN(e))return"Invalid date";t=ai(t,"%Y-%m-%d %H:%M:%S");var n,o=new Z(e-x(e)),r=o[Q](),s=o[te](),a=o[ee](),l=o[ie](),c=o[ne](),d=F.lang,p=d.weekdays,u=si({a:p[s].substr(0,3),A:p[s],d:g(a),e:a,w:s,b:d.shortMonths[l],B:d.months[l],m:g(l+1),y:c.toString().substr(2,2),Y:c,H:g(r),I:g(r%12||12),l:r%12||12,M:g(o[J]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:g(o.getSeconds()),L:g(ge(e%1e3),3)},de.dateFormats);for(n in u)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof u[n]?u[n](e):u[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},U={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},de.numberFormat=function(t,i,n,o){var r=F.lang,s=+t||0,a=-1===i?ve((s.toString().split(".")[1]||"").length,20):isNaN(i=be(i))?2:i,l=void 0===n?r.decimalPoint:n,h=void 0===o?r.thousandsSep:o,c=0>s?"-":"",d=String(e(s=be(s).toFixed(a))),p=d.length>3?d.length%3:0;return c+(p?d.substr(0,p)+h:"")+d.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+h)+(a?l+be(s-d).toFixed(a).slice(2):"")},_={init:function(t,e,i){e=e||"";var n,o,r,s,a,l=t.shift,h=e.indexOf("C")>-1,c=h?7:3,d=e.split(" "),p=[].concat(i),u=function(t){for(r=t.length;r--;)t[r]===$e&&t.splice(r+1,0,t[r+1],t[r+2],t[r+1],t[r+2])};if(h&&(u(d),u(p)),t.isArea&&(s=d.splice(d.length-6,6),a=p.splice(p.length-6,6)),l<=p.length/c&&d.length===p.length)for(;l--;)p=[].concat(p).splice(0,c).concat(p);if(t.shift=0,d.length)for(n=p.length;d.length<n;)o=[].concat(d).splice(d.length-c,c),h&&(o[c-6]=o[c-2],o[c-5]=o[c-1]),d=d.concat(o);return s&&(d=d.concat(s),p=p.concat(a)),[d,p]},step:function(t,e,i,n){var o,r=[],s=t.length;if(1===i)r=n;else if(s===e.length&&1>i)for(;s--;)o=parseFloat(t[s]),r[s]=isNaN(o)?t[s]:i*parseFloat(e[s]-o)+o;else r=e;return r}},function(t){ue.HighchartsAdapter=ue.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),t.each(["cur","_default","width","height","opacity"],function(e,i){var o,r=n.step;"cur"===i?r=n.prototype:"_default"===i&&t.Tween&&(r=t.Tween.propHooks[i],i="set"),o=r[i],o&&(r[i]=function(t){var n;return t=e?t:this,"align"!==t.prop?(n=t.elem,n.attr?n.attr(t.prop,"cur"===i?H:t.now):o.apply(this,arguments)):void 0})}),li(t.cssHooks.opacity,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),this.addAnimSetter("d",function(t){var i,n=t.elem;t.started||(i=e.init(n,n.d,n.toD),t.start=i[0],t.end=i[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))}),this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){var i,n=t.length;for(i=0;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},t.fn.highcharts=function(){var t,e,n,o="Chart",r=arguments;return this[0]&&(i(r[0])&&(o=r[0],r=Array.prototype.slice.call(r,1)),t=r[0],t!==H&&(t.chart=t.chart||{},t.chart.renderTo=this[0],n=new de[o](t,r[1]),e=this),t===H&&(e=Xe[c(this[0],"data-highcharts-chart")])),e}},addAnimSetter:function(e,i){t.Tween?t.Tween.propHooks[e]={set:i}:t.fx.step[e]=i},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,i){return t(e)[i]()},grep:t.grep,map:function(t,e){for(var i=[],n=0,o=t.length;o>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(e){return t(e).offset()},addEvent:function(e,i,n){t(e).bind(i,n)},removeEvent:function(e,i,n){var o=pe.removeEventListener?"removeEventListener":"detachEvent";pe[o]&&e&&!e[o]&&(e[o]=function(){}),t(e).unbind(i,n)},fireEvent:function(e,i,n,o){var r,s=t.Event(i),a="detached"+i;!Ce&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),si(s,n),e[i]&&(e[a]=e[i],e[i]=null),t.each(["preventDefault","stopPropagation"],function(t,e){var i=s[e];s[e]=function(){try{i.call(s)}catch(t){"preventDefault"===e&&(r=!0)}}}),t(e).trigger(s),e[a]&&(e[i]=e[a],e[a]=null),!o||s.isDefaultPrevented()||r||o(s)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===H&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(e,i,n){var o=t(e);e.style||(e.style={}),i.d&&(e.toD=i.d,i.d=1),o.stop(),i.opacity!==H&&e.attr&&(i.opacity+="px"),e.hasAnim=1,o.animate(i,n)},stop:function(e){e.hasAnim&&t(e).stop()}}}(ue.jQuery);var hi=ue.HighchartsAdapter,ci=hi||{};hi&&hi.init.call(hi,_);var di=ci.adapterRun,pi=ci.getScript,ui=ci.inArray,fi=de.each=ci.each,gi=ci.grep,mi=ci.offset,xi=ci.map,yi=ci.addEvent,vi=ci.removeEvent,bi=ci.fireEvent,ki=ci.washMouseEvent,wi=ci.animate,Ai=ci.stop;F={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":de.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:Ve,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Ve,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:_e,top:"45%"},style:{position:Ve,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Oe,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Ie?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Si=F.plotOptions,Ti=Si.line;D();var Pi=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ci=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Mi=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Li=function(i){function n(t){t&&t.stops?h=xi(t.stops,function(t){return Li(t[1])}):(l=Pi.exec(t),l?c=[e(l[1]),e(l[2]),e(l[3]),parseFloat(l[4],10)]:(l=Ci.exec(t),l?c=[e(l[1],16),e(l[2],16),e(l[3],16),1]:(l=Mi.exec(t),l&&(c=[e(l[1]),e(l[2]),e(l[3]),1]))))}function o(e){var n;return h?(n=t(i),n.stops=[].concat(n.stops),fi(h,function(t,i){n.stops[i]=[n.stops[i][0],t.get(e)]})):n=c&&!isNaN(c[0])?"rgb"===e?"rgb("+c[0]+","+c[1]+","+c[2]+")":"a"===e?c[3]:"rgba("+c.join(",")+")":i,n}function s(t){if(h)fi(h,function(e){e.brighten(t)});else if(r(t)&&0!==t){var i;for(i=0;3>i;i++)c[i]+=e(255*t),c[i]<0&&(c[i]=0),c[i]>255&&(c[i]=255)}return this}function a(t){return c[3]=t,this}var l,h,c=[];return n(i),{get:o,brighten:s,rgba:c,setOpacity:a,raw:i}};O.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textShadow"],init:function(t,e){var i=this;i.element="span"===e?u(e):pe.createElementNS(Be,e),i.renderer=t},animate:function(e,i,n){var o=ai(i,V,!0);return Ai(this),o?(o=t(o,{}),n&&(o.complete=n),wi(this,e,o)):(this.attr(e),n&&n()),this},colorGradient:function(e,i,n){var r,s,a,l,c,d,p,u,f,g,m,x=this.renderer,y=[];if(e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient"),s){a=e[s],l=x.gradients,d=e.stops,f=n.radialReference,o(a)&&(e[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!h(a.gradientUnits)&&(a=t(a,{cx:f[0]-f[2]/2+a.cx*f[2],cy:f[1]-f[2]/2+a.cy*f[2],r:a.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in a)"id"!==g&&y.push(g,a[g]);for(g in d)y.push(d[g]);y=y.join(","),l[y]?m=l[y].attr("id"):(a.id=m=je+We++,l[y]=c=x.createElement(s).attr(a).add(x.defs),c.stops=[],fi(d,function(t){var e;0===t[1].indexOf("rgba")?(r=Li(t[1]),p=r.get("rgb"),u=r.get("a")):(p=t[1],u=1),e=x.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":u}).add(c),c.stops.push(e)})),n.setAttribute(i,"url("+x.url+"#"+m+")")}},applyTextShadow:function(t){var i,n=this.element,o=-1!==t.indexOf("contrast"),r={},s=this.renderer.forExport||n.style.textShadow!==H&&!Ce;o&&(r.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),Le&&(r.textRendering="geometricPrecision"),s?p(n,r):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),fi(t.split(/\s?,\s?/g),function(t){var o,r,s=n.firstChild;t=t.split(" "),o=t[t.length-1],r=t[t.length-2],r&&fi(i,function(t,i){var a;0===i&&(t.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),t.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":je+"text-shadow",fill:o,stroke:o,"stroke-opacity":1/ye(e(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(a,s)})}))},attr:function(t,e){var i,n,o,r,s=this.element,a=this;if("string"==typeof t&&e!==H&&(i=t,t={},t[i]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(i in t)n=t[i],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(t),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return a},updateShadows:function(t,e){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(t,"height"===t?ye(e-(i[n].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,i=c(e,"class")||"";return-1===i.indexOf(t)&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;fi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=ai(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":qe)},crisp:function(t){var e,i,n=this,o={},r=t.strokeWidth||n.strokeWidth||0;i=ge(r)%2/2,t.x=me(t.x||n.x||0)+i,t.y=me(t.y||n.y||0)+i,t.width=me((t.width||n.width||0)-2*i),t.height=me((t.height||n.height||0)-2*i),t.strokeWidth=r;for(e in t)n[e]!==t[e]&&(n[e]=o[e]=t[e]);return o},css:function(t){var i,n,o,r=this,s=r.styles,a={},l=r.element,h="",d=!s;if(t&&t.color&&(t.fill=t.color),s)for(n in t)t[n]!==s[n]&&(a[n]=t[n],d=!0);if(d){if(i=r.textWidth=t&&t.width&&"text"===l.nodeName.toLowerCase()&&e(t.width)||r.textWidth,s&&(t=si(s,a)),r.styles=t,i&&(Re||!Oe&&r.renderer.forExport)&&delete t.width,Ce&&!Oe)p(r.element,t);else{o=function(t,e){return"-"+e.toLowerCase()};for(n in t)h+=n.replace(/([A-Z])/g,o)+":"+t[n]+";";c(l,"style",h)}i&&r.added&&r.renderer.buildText(r)}return r},on:function(t,e){var i=this,n=i.element;return G&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Z.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===Te.indexOf("Android")||Z.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,o=e.scaleX,r=e.scaleY,s=e.inverted,a=e.rotation,l=e.element;s&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(h(o)||h(r))&&t.push("scale("+ai(o,1)+" "+ai(r,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var o,r,s,a,h,c={},d=this.renderer,p=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||i(n))&&(this.alignTo=h=n||"renderer",l(p,this),p.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,h=this.alignTo),n=ai(n,d[h],d),o=t.align,r=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),("right"===o||"center"===o)&&(s+=(n.width-(t.width||0))/{right:1,center:2}[o]),c[e?"translateX":"x"]=ge(s),("bottom"===r||"middle"===r)&&(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),c[e?"translateY":"y"]=ge(a),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t){var e,i,n,o,r,s,a=this,l=a.renderer,h=a.rotation,c=a.element,d=a.styles,p=h*Se,u=a.textStr,f=c.style;if(u!==H&&(s=["",h||0,d&&d.fontSize,c.style.width].join(","),s=""===u||Qe.test(u)?"num:"+u.toString().length+s:u+s),s&&!t&&(e=l.cache[s]),!e){if(c.namespaceURI===Be||l.forExport){try{r=this.fakeTS&&function(t){fi(c.querySelectorAll("."+je+"text-shadow"),function(e){e.style.display=t})},De&&f.textShadow?(o=f.textShadow,f.textShadow=""):r&&r(qe),e=c.getBBox?si({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},o?f.textShadow=o:r&&r("")}catch(g){}(!e||e.width<0)&&(e={width:0,height:0})}else e=a.htmlGetBBox();l.isSVG&&(i=e.width,n=e.height,Ce&&d&&"11px"===d.fontSize&&"16.9"===n.toPrecision(3)&&(e.height=n=14),h&&(e.width=be(n*we(p))+be(i*ke(p)),e.height=be(n*ke(p))+be(i*we(p)))),l.cache[s]=e}return e},show:function(t){return t&&this.element.namespaceURI===Be?this.element.removeAttribute("visibility"):this.attr({visibility:t?"inherit":Ze}),this},hide:function(){return this.attr({visibility:Ue})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,o=n.element||{},r=n.shadows,s=n.renderer.isSVG&&"SPAN"===o.nodeName&&n.parentGroup;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,Ai(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(o),r&&fi(r,function(t){n.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)t=s.parentGroup,n.safeRemoveChild(s.div),delete s.div,s=t;n.alignTo&&l(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,e,i){var n,o,r,s,a,l,h=[],d=this.element;if(t){for(s=ai(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+ai(t.offsetX,1)+", "+ai(t.offsetY,1)+")",n=1;s>=n;n++)o=d.cloneNode(0),r=2*s+1-2*n,c(o,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":r,transform:"translate"+l,fill:qe}),i&&(c(o,"height",ye(c(o,"height")-r,0)),o.cutHeight=r),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=ai(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var i;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=t.length;i--;)t[i]=e(t[i])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=pe.createElementNS(Be,"title"),this.element.appendChild(e)),e.appendChild(pe.createTextNode(String(ai(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},zIndexSetter:function(t,i){var n,o,r,s,a,l=this.renderer,d=this.parentGroup,p=d||l,u=p.element||l.box,f=this.element,g=this.added;if(h(t)&&(f.setAttribute(i,t),t=+t,this[i]===t&&(g=!1),this[i]=t),g){for(t=this.zIndex,t&&d&&(d.handleZ=!0),n=u.childNodes,a=0;a<n.length&&!s;a++)o=n[a],r=c(o,"zIndex"),o!==f&&(e(r)>t||!h(t)&&h(r))&&(u.insertBefore(f,o),s=!0);s||u.appendChild(f)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},O.prototype.yGetter=O.prototype.xGetter,O.prototype.translateXSetter=O.prototype.translateYSetter=O.prototype.rotationSetter=O.prototype.verticalAlignSetter=O.prototype.scaleXSetter=O.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},O.prototype["stroke-widthSetter"]=O.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],O.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var Di=function(){this.init.apply(this,arguments)};Di.prototype={Element:O,init:function(t,e,i,n,o){var r,s,a,l=this,h=location;r=l.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n)),s=r.element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&c(s,"xmlns",Be),l.isSVG=!0,l.box=s,l.boxWrapper=r,l.alignedObjects=[],l.url=(De||Le)&&pe.getElementsByTagName("base").length?h.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(pe.createTextNode("Created with "+Ye+" "+Fe)),l.defs=this.createElement("defs").add(),l.forExport=o,l.gradients={},l.cache={},l.setSize(e,i,!1);var d,u;De&&t.getBoundingClientRect&&(l.subPixelFix=d=function(){p(t,{left:0,top:0}),u=t.getBoundingClientRect(),p(t,{left:xe(u.left)-u.left+Ke,top:xe(u.top)-u.top+Ke})},d(),yi(ue,"resize",d))},getStyle:function(t){return this.style=si({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),T(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&vi(ue,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var i,n,o,r=t.element,s=this,a=s.forExport,l=ai(t.textStr,"").toString(),h=-1!==l.indexOf("<"),d=r.childNodes,u=c(r,"x"),f=t.styles,g=t.textWidth,m=f&&f.lineHeight,x=f&&f.textShadow,y=f&&"ellipsis"===f.textOverflow,v=d.length,b=g&&!t.added&&this.box,k=function(t){return m?e(m):s.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:f&&f.fontSize||s.style.fontSize||12,t).h},w=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)r.removeChild(d[v]);return h||x||y||-1!==l.indexOf(" ")?(n=/<.*style="([^"]+)".*>/,o=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(r),i=h?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],""===i[i.length-1]&&i.pop(),fi(i,function(e,i){var l,h=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),l=e.split("|||"),fi(l,function(e){if(""!==e||1===l.length){var d,m={},x=pe.createElementNS(Be,"tspan");if(n.test(e)&&(d=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(x,"style",d)),o.test(e)&&!a&&(c(x,"onclick",'location.href="'+e.match(o)[1]+'"'),p(x,{cursor:"pointer"})),e=w(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(x.appendChild(pe.createTextNode(e)),h?m.dx=0:i&&null!==u&&(m.x=u),c(x,m),r.appendChild(x),!h&&i&&(!Oe&&a&&p(x,{display:"block"}),c(x,"dy",k(x))),g){for(var v,b,A,S,T=e.replace(/([^\^])-/g,"$1- ").split(" "),P=l.length>1||i||T.length>1&&"nowrap"!==f.whiteSpace,C=[],M=k(x),L=1,D=t.rotation,I=e,B=I.length;(P||y)&&(T.length||C.length);)t.rotation=0,S=t.getBBox(!0),A=S.width,!Oe&&s.forExport&&(A=s.measureSpanWidth(x.firstChild.data,t.styles)),v=A>g,void 0===b&&(b=v),y&&b?(B/=2,""===I||!v&&.5>B?T=[]:(v&&(b=!0),I=e.substring(0,I.length+(v?-1:1)*xe(B)),T=[I+(g>3?"…":"")],x.removeChild(x.firstChild))):v&&1!==T.length?(x.removeChild(x.firstChild),C.unshift(T.pop())):(T=C,C=[],T.length&&(L++,x=pe.createElementNS(Be,"tspan"),c(x,{dy:M,x:u}),d&&c(x,"style",d),r.appendChild(x)),A>g&&(g=A)),T.length&&x.appendChild(pe.createTextNode(T.join(" ").replace(/- /g,"-")));b&&t.attr("title",t.textStr),t.rotation=D}h++}}})}),b&&b.removeChild(r),x&&t.applyTextShadow&&t.applyTextShadow(x),void 0):void r.appendChild(pe.createTextNode(w(l)))},getContrast:function(t){return t=Li(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(e,i,n,o,r,s,a,l,h){var c,d,p,u,f,g,m=this.label(e,i,n,h,null,null,null,null,"button"),x=0,y={x1:0,y1:0,x2:0,y2:1};return r=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r),p=r.style,delete r.style,s=t(r,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),u=s.style,delete s.style,a=t(r,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=t(r,{style:{color:"#CCC"}},l),g=l.style,delete l.style,yi(m.element,Ce?"mouseover":"mouseenter",function(){3!==x&&m.attr(s).css(u)}),yi(m.element,Ce?"mouseout":"mouseleave",function(){3!==x&&(c=[r,s,a][x],d=[p,u,f][x],m.attr(c).css(d))}),m.setState=function(t){m.state=x=t,t?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(r).css(p)},m.on("click",function(){3!==x&&o.call(m)}).attr(r).css(si({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ge(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ge(t[2])+e%2/2),t},path:function(t){var e={fill:qe};return o(t)?e.d=t:n(t)&&si(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){var o=n(t)?t:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=function(t){this.element.setAttribute("cx",t)},r.ySetter=function(t){this.element.setAttribute("cy",t)},r.attr(o)},arc:function(t,e,i,o,r,s){var a;return n(t)&&(e=t.y,i=t.r,o=t.innerR,r=t.start,s=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:o||0,start:r||0,end:s||0}),a.r=i,a},rect:function(t,e,i,o,r,s){r=n(t)?t.r:r;var a=this.createElement("rect"),l=n(t)?t:t===H?{}:{x:t,y:e,width:ye(i,0),height:ye(o,0)};return s!==H&&(l.strokeWidth=s,l=a.crisp(l)),r&&(l.r=r),a.rSetter=function(t){c(this.element,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,i){var n=this,o=n.alignedObjects,r=o.length;for(n.width=t,n.height=e,n.boxWrapper[ai(i,!0)?"animate":"attr"]({width:t,height:e});r--;)o[r].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":je+t}):e},image:function(t,e,i,n,o){var r,s={preserveAspectRatio:qe};return arguments.length>1&&si(s,{x:e,y:i,width:n,height:o}),r=this.createElement("image").attr(s),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r},symbol:function(t,e,i,n,o,r){var s,a,l,h,c,d=this.symbols[t],p=d&&d(ge(e),ge(i),n,o,r),f=/^url\((.*?)\)$/;return p?(s=this.path(p),si(s,{symbolName:t,x:e,y:i,width:n,height:o}),r&&si(s,r)):f.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ge((n-e[0])/2),ge((o-e[1])/2)))},l=t.match(f)[1],h=Ee[l]||r&&r.width&&r.height&&[r.width,r.height],s=this.image(l).attr({x:e,y:i}),s.isImg=!0,h?c(s,h):(s.attr({width:0,height:0}),a=u("img",{onload:function(){c(s,Ee[l]=[this.width,this.height])},src:l}))),s},symbols:{circle:function(t,e,i,n){var o=.166*i;return[$e,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[$e,t,e,Je,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[$e,t+i/2,e,Je,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[$e,t,e,Je,t+i,e,t+i/2,e+n,"Z"]
},diamond:function(t,e,i,n){return[$e,t+i/2,e,Je,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var r=o.start,s=o.r||i||n,a=o.end-.001,l=o.innerR,h=o.open,c=ke(r),d=we(r),p=ke(a),u=we(a),f=o.end-r<Ae?0:1;return[$e,t+s*c,e+s*d,"A",s,s,0,f,1,t+s*p,e+s*u,h?$e:Je,t+l*p,e+l*u,"A",l,l,0,f,0,t+l*c,e+l*d,h?"":"Z"]},callout:function(t,e,i,n,o){var r,s=6,a=6,l=ve(o&&o.r||0,i,n),h=l+a,c=o&&o.anchorX,d=o&&o.anchorY;return r=["M",t+l,e,"L",t+i-l,e,"C",t+i,e,t+i,e,t+i,e+l,"L",t+i,e+n-l,"C",t+i,e+n,t+i,e+n,t+i-l,e+n,"L",t+l,e+n,"C",t,e+n,t,e+n,t,e+n-l,"L",t,e+l,"C",t,e,t,e,t+l,e],c&&c>i&&d>e+h&&e+n-h>d?r.splice(13,3,"L",t+i,d-a,t+i+s,d,t+i,d+a,t+i,e+n-l):c&&0>c&&d>e+h&&e+n-h>d?r.splice(33,3,"L",t,d+a,t-s,d,t,d-a,t,e+l):d&&d>n&&c>t+h&&t+i-h>c?r.splice(23,3,"L",c+a,e+n,c,e+n+s,c-a,e+n,t+l,e+n):d&&0>d&&c>t+h&&t+i-h>c&&r.splice(3,3,"L",c-a,e,c,e-s,c+a,e,i-l,e),r}},clipRect:function(t,e,i,n){var o,r=je+We++,s=this.createElement("clipPath").attr({id:r}).add(this.defs);return o=this.rect(t,e,i,n,0).add(s),o.id=r,o.clipPath=s,o.count=0,o},text:function(t,e,i,n){var o,r=this,s=Re||!Oe&&r.forExport,a={};return n&&!r.forExport?r.html(t,e,i):(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),o=r.createElement("text").attr(a),s&&o.css({position:Ve}),n||(o.xSetter=function(t,e,i){var n,o,r=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(o=0;o<r.length;o++)n=r[o],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),o)},fontMetrics:function(t,i){var n,o,r;return t=t||this.style.fontSize,i&&ue.getComputedStyle&&(i=i.element||i,r=ue.getComputedStyle(i,""),t=r&&r.fontSize),t=/px/.test(t)?e(t):/em/.test(t)?12*parseFloat(t):12,n=24>t?t+3:ge(1.2*t),o=ge(.8*n),{h:n,b:o,f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=ye(n*ke(e*Se),4)),{x:-t/3*we(e*Se),y:n}},label:function(e,i,n,o,r,s,a,l,c){function d(){var t,e,i=S.element.style;g=(void 0===m||void 0===x||A.styles.textAlign)&&h(S.textStr)&&S.getBBox(),A.width=(m||g.width||0)+2*P+C,A.height=(x||g.height||0)+2*P,b=P+w.fontMetrics(i&&i.fontSize,S).b,k&&(f||(t=ge(-T*P)+M,e=(l?-b:0)+M,A.box=f=o?w.symbol(o,t,e,A.width,A.height,L):w.rect(t,e,A.width,A.height,0,L[oi]),f.attr("fill",qe).add(A)),f.isImg||f.attr(si({width:ge(A.width),height:ge(A.height)},L)),L=null)}function p(){var t,e=A.styles,i=e&&e.textAlign,n=C+P*(1-T);t=l?0:b,h(m)&&g&&("center"===i||"right"===i)&&(n+={center:.5,right:1}[i]*(m-g.width)),(n!==S.x||t!==S.y)&&(S.attr("x",n),t!==H&&S.attr("y",t)),S.x=n,S.y=t}function u(t,e){f?f.attr(t,e):L[t]=e}var f,g,m,x,y,v,b,k,w=this,A=w.g(c),S=w.text("",0,0,a).attr({zIndex:1}),T=0,P=3,C=0,M=0,L={};A.onAdd=function(){S.add(A),A.attr({text:e||0===e?e:"",x:i,y:n}),f&&h(r)&&A.attr({anchorX:r,anchorY:s})},A.widthSetter=function(t){m=t},A.heightSetter=function(t){x=t},A.paddingSetter=function(t){h(t)&&t!==P&&(P=A.padding=t,p())},A.paddingLeftSetter=function(t){h(t)&&t!==C&&(C=t,p())},A.alignSetter=function(t){T={left:0,center:.5,right:1}[t]},A.textSetter=function(t){t!==H&&S.textSetter(t),d(),p()},A["stroke-widthSetter"]=function(t,e){t&&(k=!0),M=t%2/2,u(e,t)},A.strokeSetter=A.fillSetter=A.rSetter=function(t,e){"fill"===e&&t&&(k=!0),u(e,t)},A.anchorXSetter=function(t,e){r=t,u(e,ge(t)-M-y)},A.anchorYSetter=function(t,e){s=t,u(e,t-v)},A.xSetter=function(t){A.x=t,T&&(t-=T*((m||g.width)+P)),y=ge(t),A.attr("translateX",y)},A.ySetter=function(t){v=A.y=ge(t),A.attr("translateY",v)};var D=A.css;return si(A,{css:function(e){if(e){var i={};e=t(e),fi(A.textProps,function(t){e[t]!==H&&(i[t]=e[t],delete e[t])}),S.css(i)}return D.call(A,e)},getBBox:function(){return{width:g.width+2*P,height:g.height+2*P,x:g.x-P,y:g.y-P}},shadow:function(t){return f&&f.shadow(t),A},destroy:function(){vi(A.element,"mouseenter"),vi(A.element,"mouseleave"),S&&(S=S.destroy()),f&&(f=f.destroy()),O.prototype.destroy.call(A),A=w=d=p=u=null}})}},X=Di,si(O.prototype,{htmlCss:function(t){var e=this,i=e.element,n=t&&"SPAN"===i.tagName&&t.width;return n&&(delete t.width,e.textWidth=n,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=si(e.styles,t),p(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position=Ve),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,i=t.renderer,n=t.element,o=t.translateX||0,r=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],d=t.shadows,u=t.styles;if(p(n,{marginLeft:o,marginTop:r}),d&&fi(d,function(t){p(t,{marginLeft:o+1,marginTop:r+1})}),t.inverted&&fi(n.childNodes,function(t){i.invertChild(t,n)}),"SPAN"===n.tagName){var f,g,m=t.rotation,x=e(t.textWidth),y=[m,l,n.innerHTML,t.textWidth].join(",");y!==t.cTT&&(g=i.fontMetrics(n.style.fontSize).b,h(m)&&t.setSpanRotation(m,c,g),f=ai(t.elemWidth,n.offsetWidth),f>x&&/[ \-]/.test(n.textContent||n.innerText)&&(p(n,{width:x+Ke,display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),f=x),t.getSpanCorrection(f,g,c,m,l)),p(n,{left:s+(t.xCorr||0)+Ke,top:a+(t.yCorr||0)+Ke}),Le&&(g=n.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,i){var n={},o=Ce?"-ms-transform":Le?"-webkit-transform":De?"MozTransform":Pe?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(De?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",p(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),si(Di.prototype,{html:function(t,e,i){var n=this.createElement("span"),o=n.element,r=n.renderer;return n.textSetter=function(t){t!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=t},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:ge(e),y:ge(i)}).css({position:Ve,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(t){var e,i,s=r.box.parentNode,a=[];if(this.parentGroup=t,t){if(e=t.div,!e){for(i=t;i;)a.push(i),i=i.parentGroup;fi(a.reverse(),function(t){var i,n=c(t.element,"class");n&&(n={className:n}),e=t.div=t.div||u(Ne,n,{position:Ve,left:(t.translateX||0)+Ke,top:(t.translateY||0)+Ke},e||s),i=e.style,si(t,{translateXSetter:function(e,n){i.left=e+Ke,t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+Ke,t[n]=e,t.doTransform=!0},visibilitySetter:function(t,e){i[e]=t}})})}}else e=s;return e.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var Ii,Bi;if(!Oe&&!Re){Bi={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",Ve,";"],r=e===Ne;("shape"===e||r)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",r?Ue:Ze),n.push(' style="',o.join(""),'"/>'),e&&(n=r||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=u(n)),i.renderer=t},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,r=t&&t.inverted,s=t?t.element||t:o;return r&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:O.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=ke(t*Se),i=we(t*Se);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):qe})},getSpanCorrection:function(t,e,i,n,o){var r,s=n?ke(n*Se):1,a=n?we(n*Se):0,l=ai(this.elemHeight,this.element.offsetHeight),h=o&&"left"!==o;this.xCorr=0>s&&-t,this.yCorr=0>a&&-l,r=0>s*a,this.xCorr+=a*e*(r?1-i:i),this.yCorr-=s*e*(n?r?i:1-i:1),h&&(this.xCorr-=t*i*(0>s?-1:1),n&&(this.yCorr-=l*i*(0>a?-1:1)),p(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)r(t[e])?i[e]=ge(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i,n=this;return t?(e=t.members,l(e,n),e.push(n),n.destroyClip=function(){l(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Me?"inherit":"rect(auto)"}),n.css(i)},css:O.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&P(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),O.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ue.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,i){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=e(t[n-2])-10*i),t.join(" ")},shadow:function(t,i,n){var o,r,s,a,l,h,c,d=[],p=this.element,f=this.renderer,g=p.style,m=p.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(h=ai(t.width,3),c=(t.opacity||.15)/h,o=1;3>=o;o++)a=2*h+1-2*o,n&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',p.style.cssText,'" />'],r=u(f.prepVML(s),null,{left:e(g.left)+ai(t.offsetX,1),top:e(g.top)+ai(t.offsetY,1)}),n&&(r.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*o,'"/>'],u(f.prepVML(s),null,null,r),i?i.element.appendChild(r):p.parentNode.insertBefore(r,p),d.push(r);this.shadows=d}return this},updateShadows:He,setAttr:function(t,e){Me?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){var n=i.getElementsByTagName("stroke")[0]||u(this.renderer.prepVML(["<stroke/>"]),null,null,i);n[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n,o=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),o)for(n=o.length;n--;)o[n].path=o[n].cutOff?this.cutOffPath(t,o[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled=t!==qe,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},opacitySetter:He,rotationSetter:function(t,e,i){var n=i.style;this[e]=n[e]=t,n.left=-ge(we(t*Se)+1)+Ke,n.top=ge(ke(t*Se))+Ke},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,r(t)&&(t+=Ke),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t=Ze),this.shadows&&fi(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t=t===Ue?"-999em":0,Me||(i.style[e]=t?Ze:Ue),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},de.VMLElement=Bi=f(O,Bi),Bi.prototype.ySetter=Bi.prototype.widthSetter=Bi.prototype.heightSetter=Bi.prototype.xSetter;var Oi={Element:Bi,isIE8:Te.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var o,r,s,a=this;if(a.alignedObjects=[],o=a.createElement(Ne).css(si(this.getStyle(n),{position:_e})),r=o.element,t.appendChild(o.element),a.isVML=!0,a.box=r,a.boxWrapper=o,a.cache={},a.setSize(e,i,!1),!pe.namespaces.hcv){pe.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{pe.createStyleSheet().cssText=s}catch(l){pe.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,o){var r=this.createElement(),s=n(t);return si(r,{members:[],count:0,left:(s?t.x:t)+1,top:(s?t.y:e)+1,width:(s?t.width:i)-1,height:(s?t.height:o)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n="shape"===i,o=t.inverted,r=this,s=r.top-(n?e.offsetTop:0),a=r.left,l=a+r.width,h=s+r.height,c={clip:"rect("+ge(o?a:s)+"px,"+ge(o?h:l)+"px,"+ge(o?l:h)+"px,"+ge(o?s:a)+"px)"};return!o&&Me&&"DIV"===i&&si(c,{width:l+Ke,height:h+Ke}),c},updateClipping:function(){fi(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,i,n){var o,r,s,a=this,l=/^rgba/,h=qe;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,d,p,f,g,m,x,y,v,b,k,w,A=t.linearGradient||t.radialGradient,S="",T=t.stops,P=[],C=function(){r=['<fill colors="'+P.join(",")+'" opacity="',y,'" o:opacity2="',x,'" type="',s,'" ',S,'focus="100%" method="any" />'],u(a.prepVML(r),null,null,e)};if(k=T[0],w=T[T.length-1],k[0]>0&&T.unshift([0,k[1]]),w[0]<1&&T.push([1,w[1]]),fi(T,function(t,e){l.test(t[1])?(o=Li(t[1]),c=o.get("rgb"),d=o.get("a")):(c=t[1],d=1),P.push(100*t[0]+"% "+c),e?(y=d,v=c):(x=d,b=c)}),"fill"===i)if("gradient"===s)p=A.x1||A[0]||0,f=A.y1||A[1]||0,g=A.x2||A[2]||0,m=A.y2||A[3]||0,S='angle="'+(90-180*fe.atan((m-f)/(g-p))/Ae)+'"',C();else{var M,L=A.r,D=2*L,I=2*L,B=A.cx,O=A.cy,z=e.radialReference,R=function(){z&&(M=n.getBBox(),B+=(z[0]-M.x)/M.width-.5,O+=(z[1]-M.y)/M.height-.5,D*=z[2]/M.width,I*=z[2]/M.height),S='src="'+F.global.VMLRadialGradientURL+'" size="'+D+","+I+'" origin="0.5,0.5" position="'+B+","+O+'" color2="'+b+'" ',C()};n.added?R():n.onAdd=R,h=v}else h=c}else if(l.test(t)&&"IMG"!==e.tagName)o=Li(t),r=["<",i,' opacity="',o.get("a"),'"/>'],u(this.prepVML(r),null,null,e),h=o.get("rgb");else{var E=e.getElementsByTagName(i);E.length&&(E[0].opacity=1,E[0].type="solid"),h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Di.prototype.html,path:function(t){var e={coordsize:"10 10"};return o(t)?e.d=t:n(t)&&si(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var o=this.symbol("circle");return n(t)&&(i=t.r,e=t.y,t=t.x),o.isCircle=!0,o.r=i,o.attr({x:t,y:e})},g:function(t){var e,i;return t&&(i={className:je+t,"class":je+t}),e=this.createElement(Ne).attr(i)},image:function(t,e,i,n,o){var r=this.createElement("img").attr({src:t});return arguments.length>1&&r.attr({x:e,y:i,width:n,height:o}),r},createElement:function(t){return"rect"===t?this.symbol(t):Di.prototype.createElement.call(this,t)},invertChild:function(t,i){var n=this,o=i.style,r="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:e(o.width)-(r?e(r.top):1),top:e(o.height)-(r?e(r.left):1),rotation:-90}),fi(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,o){var r,s=o.start,a=o.end,l=o.r||i||n,h=o.innerR,c=ke(s),d=we(s),p=ke(a),u=we(a);return a-s===0?["x"]:(r=["wa",t-l,e-l,t+l,e+l,t+l*c,e+l*d,t+l*p,e+l*u],o.open&&!h&&r.push("e",$e,t,e),r.push("at",t-h,e-h,t+h,e+h,t+h*p,e+h*u,t+h*c,e+h*d,"x","e"),r.isArc=!0,r)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){return Di.prototype.symbols[h(o)&&o.r?"callout":"square"].call(0,t,e,i,n,o)}}};de.VMLRenderer=Ii=function(){this.init.apply(this,arguments)},Ii.prototype=t(Di.prototype,Oi),X=Ii}Di.prototype.measureSpanWidth=function(t,e){var i,n=pe.createElement("span"),o=pe.createTextNode(t);return n.appendChild(o),p(n,e),this.box.appendChild(n),i=n.offsetWidth,P(n),i};var zi,Ri;Re&&(de.CanVGRenderer=zi=function(){Be="http://www.w3.org/1999/xhtml"},zi.prototype.symbols={},Ri=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&pi(n,t),e.push(i)}}}(),X=zi),z.prototype={addLabel:function(){var e,i,n=this,o=n.axis,r=o.options,s=o.chart,l=o.categories,c=o.names,d=n.pos,p=r.labels,u=o.tickPositions,f=d===u[0],g=d===u[u.length-1],m=l?ai(l[d],c[d],d):d,x=n.label,y=u.info;o.isDatetimeAxis&&y&&(i=r.dateTimeLabelFormats[y.higherRanks[d]||y.unitName]),n.isFirst=f,n.isLast=g,e=o.labelFormatter.call({axis:o,chart:s,isFirst:f,isLast:g,dateTimeLabelFormat:i,value:o.isLog?M(a(m)):m}),h(x)?x&&x.attr({text:e}):(n.label=x=h(e)&&p.enabled?s.renderer.text(e,0,0,p.useHTML).css(t(p.style)).add(o.labelGroup):null,n.labelLength=x&&x.getBBox().width,n.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i,n,o=this.axis,r=t.x,s=o.chart.chartWidth,a=o.chart.spacing,l=ai(o.labelLeft,ve(o.pos,a[3])),h=ai(o.labelRight,ye(o.pos+o.len,s-a[1])),c=this.label,d=this.rotation,p={left:0,center:.5,right:1}[o.labelAlign],u=c.getBBox().width,f=o.slotWidth,g=p,m=1,x={};d?0>d&&l>r-p*u?n=ge(r/ke(d*Se)-l):d>0&&r+p*u>h&&(n=ge((s-r)/ke(d*Se))):(e=r-p*u,i=r+(1-p)*u,l>e?f=t.x+f*(1-p)-l:i>h&&(f=h-t.x+f*p,m=-1),f=ve(o.slotWidth,f),f<o.slotWidth&&"center"===o.labelAlign&&(t.x+=m*(o.slotWidth-f-g*(o.slotWidth-ve(u,f)))),(u>f||o.autoRotation&&c.styles.width)&&(n=f)),n&&(x.width=n,o.options.labels.style.textOverflow||(x.textOverflow="ellipsis"),c.css(x))},getPosition:function(t,e,i,n){var o=this.axis,r=o.chart,s=n&&r.oldChartHeight||r.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:t?s-o.bottom+o.offset-(o.opposite?o.height:0):s-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,r,s,a){var l,h=this.axis,c=h.transA,d=h.reversed,p=h.staggerLines,u=h.tickRotCorr||{x:0,y:0},f=ai(o.y,u.y+(2===h.side?8:-(i.getBBox().height/2)));return t=t+o.x+u.x-(r&&n?r*c*(d?-1:1):0),e=e+f-(r&&!n?r*c*(d?1:-1):0),p&&(l=s/(a||1)%p,e+=l*(h.labelOffset/p)),{x:t,y:ge(e)}},getMarkPath:function(t,e,i,n,o,r){return r.crispLine([$e,t,e,Je,t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n,o,r,s=this,a=s.axis,l=a.options,h=a.chart,c=h.renderer,d=a.horiz,p=s.type,u=s.label,f=s.pos,g=l.labels,m=s.gridLine,x=p?p+"Grid":"grid",y=p?p+"Tick":"tick",v=l[x+"LineWidth"],b=l[x+"LineColor"],k=l[x+"LineDashStyle"],w=l[y+"Length"],A=l[y+"Width"]||0,S=l[y+"Color"],T=l[y+"Position"],P=s.mark,C=g.step,M=!0,L=a.tickmarkOffset,D=s.getPosition(d,f,L,e),I=D.x,B=D.y,O=d&&I===a.pos+a.len||!d&&B===a.pos?-1:1;i=ai(i,1),this.isActive=!0,v&&(n=a.getPlotLinePath(f+L,v*O,e,!0),m===H&&(r={stroke:b,"stroke-width":v},k&&(r.dashstyle=k),p||(r.zIndex=1),e&&(r.opacity=0),s.gridLine=m=v?c.path(n).attr(r).add(a.gridGroup):null),!e&&m&&n&&m[s.isNew?"attr":"animate"]({d:n,opacity:i})),A&&w&&("inside"===T&&(w=-w),a.opposite&&(w=-w),o=s.getMarkPath(I,B,w,A*O,d,c),P?P.animate({d:o,opacity:i}):s.mark=c.path(o).attr({stroke:S,"stroke-width":A,opacity:i}).add(a.axisGroup)),u&&!isNaN(I)&&(u.xy=D=s.getLabelPosition(I,B,u,d,g,L,t,C),s.isFirst&&!s.isLast&&!ai(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!ai(l.showLastLabel,1)?M=!1:!d||a.isRadial||g.step||g.rotation||e||0===i||s.handleOverflow(D),C&&t%C&&(M=!1),M&&!isNaN(D.y)?(D.opacity=i,u[s.isNew?"attr":"animate"](D),s.isNew=!1):u.attr("y",-9999))},destroy:function(){T(this,this.axis)}},de.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},de.PlotLineOrBand.prototype={render:function(){var e,i,n,o,r,a,l=this,c=l.axis,d=c.horiz,p=l.options,u=p.label,f=l.label,g=p.width,m=p.to,x=p.from,y=h(x)&&h(m),v=p.value,b=p.dashStyle,k=l.svgElem,w=[],T=p.color,P=p.zIndex,C=p.events,M={},L=c.chart.renderer;if(c.isLog&&(x=s(x),m=s(m),v=s(v)),g)w=c.getPlotLinePath(v,g),M={stroke:T,"stroke-width":g},b&&(M.dashstyle=b);else{if(!y)return;w=c.getPlotBandPath(x,m,p),T&&(M.fill=T),p.borderWidth&&(M.stroke=p.borderColor,M["stroke-width"]=p.borderWidth)}if(h(P)&&(M.zIndex=P),k)w?k.animate({d:w},null,k.onGetPath):(k.hide(),k.onGetPath=function(){k.show()},f&&(l.label=f=f.destroy()));else if(w&&w.length&&(l.svgElem=k=L.path(w).attr(M).add(),C)){e=function(t){k.on(t,function(e){C[t].apply(l,[e])})};for(i in C)e(i)}return u&&h(u.text)&&w&&w.length&&c.width>0&&c.height>0?(u=t({align:d&&y&&"center",x:d?!y&&4:10,verticalAlign:!d&&y&&"middle",y:d?y?16:10:y?6:-4,rotation:d&&!y&&90},u),f||(M={align:u.textAlign||u.align,rotation:u.rotation},h(P)&&(M.zIndex=P),l.label=f=L.text(u.text,0,0,u.useHTML).attr(M).css(u.style).add()),n=[w[1],w[4],y?w[6]:w[1]],o=[w[2],w[5],y?w[7]:w[2]],r=A(n),a=A(o),f.align(u,!1,{x:r,y:a,width:S(n)-r,height:S(o)-a}),f.show()):f&&f.hide(),l},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,T(this)}},j={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new de.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();fi([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&l(e,e[o])})}};var Ei=de.Axis=function(){this.init.apply(this,arguments)};Ei.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return de.numberFormat(this.total,-1)},style:t(Si.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var o=this.options,r=o.type,l="datetime"===r;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=o.reversed,n.zoomEnabled=o.zoomEnabled!==!1,n.categories=o.categories||"category"===r,n.names=n.names||[],n.isLog="logarithmic"===r,n.isDatetimeAxis=l,n.isLinked=h(o.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.oldStacks={},n.max=null,n.min=null,n.crosshair=ai(o.crosshair,d(t.options.tooltip.crosshairs)[i?0:1],!1);var c,p=n.options.events;-1===ui(n,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,n):t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===H&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(c in p)yi(n,c,p[c]);n.isLog&&(n.val2lin=s,n.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(F[this.coll],e))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,o=i.categories,r=this.dateTimeLabelFormat,s=F.lang.numericSymbols,a=s&&s.length,l=i.options.labels.format,h=i.isLog?n:i.tickInterval;if(l)e=v(l,this);else if(o)e=n;else if(r)e=N(r,n);else if(a&&h>=1e3)for(;a--&&e===H;)t=Math.pow(1e3,a+1),h>=t&&10*n%t===0&&null!==s[a]&&(e=de.numberFormat(n/t,-1)+s[a]);return e===H&&(e=be(n)>=1e4?de.numberFormat(n,-1):de.numberFormat(n,-1,H,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.ignoreMinPadding=t.ignoreMaxPadding=null,t.buildStacks&&t.buildStacks(),fi(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o,r,s=i.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=a&&(a=null),t.isXAxis?(n=i.xData,n.length&&(t.dataMin=ve(ai(t.dataMin,n[0]),A(n)),t.dataMax=ye(ai(t.dataMax,n[0]),S(n)))):(i.getExtremes(),r=i.dataMax,o=i.dataMin,h(o)&&h(r)&&(t.dataMin=ve(ai(t.dataMin,o),o),t.dataMax=ye(ai(t.dataMax,r),r)),h(a)&&(t.dataMin>=a?(t.dataMin=a,t.ignoreMinPadding=!0):t.dataMax<a&&(t.dataMax=a,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,o,s){var a,l=this.linkedParent||this,h=1,c=0,d=n?l.oldTransA:l.transA,p=n?l.oldMin:l.min,u=l.minPixelPadding,f=(l.doPostTranslate||l.isLog&&o)&&l.lin2val;return d||(d=l.transA),i&&(h*=-1,c=l.len),l.reversed&&(h*=-1,c-=h*(l.sector||l.len)),e?(t=t*h+c,t-=u,a=t/d+p,f&&(a=l.lin2val(a))):(f&&(t=l.val2lin(t)),"between"===s&&(s=.5),a=h*(t-p)*d+c+h*u+(r(s)?d*s*l.pointRange:0)),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var r,s,a,l,h,c=this,d=c.chart,p=c.left,u=c.top,f=i&&d.oldChartHeight||d.chartHeight,g=i&&d.oldChartWidth||d.chartWidth,m=c.transB,x=function(t,e,i){return(e>t||t>i)&&(n?t=ve(ye(e,t),i):h=!0),t};return o=ai(o,c.translate(t,null,null,i)),r=a=ge(o+m),s=l=ge(f-o-m),isNaN(o)?h=!0:c.horiz?(s=u,l=f-c.bottom,r=a=x(r,p,p+c.width)):(r=p,a=g-c.right,s=l=x(s,u,u+c.height)),h&&!n?null:d.renderer.crispLine([$e,r,s,Je,a,l],e||1)},getLinearTickPositions:function(t,e,i){var n,o,s=M(me(e/t)*t),a=M(xe(i/t)*t),l=[];if(e===i&&r(e))return[e];for(n=s;a>=n&&(l.push(n),n=M(n+t),n!==o);)o=n;return l},getMinorTickPositions:function(){var t,e,i,n=this,o=n.options,r=n.tickPositions,s=n.minorTickInterval,a=[],l=n.min,h=n.max,c=h-l;if(c&&c/s<n.len/3)if(n.isLog)for(i=r.length,e=1;i>e;e++)a=a.concat(n.getLogTickPositions(s,r[e-1],r[e],!0));else if(n.isDatetimeAxis&&"auto"===o.minorTickInterval)a=a.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),l,h,o.startOfWeek));else for(t=l+(r[0]-l)%s;h>=t;t+=s)a.push(t);return n.trimTicks(a),a},adjustForMinRange:function(){var t,e,i,n,o,r,s,a,l=this,c=l.options,d=l.min,p=l.max,u=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===H&&!l.isLog&&(h(c.min)||h(c.max)?l.minRange=null:(fi(l.series,function(t){for(o=t.xData,r=t.xIncrement?1:o.length-1,i=r;i>0;i--)n=o[i]-o[i-1],(e===H||e>n)&&(e=n)}),l.minRange=ve(5*e,l.dataMax-l.dataMin))),p-d<l.minRange){var f=l.minRange;t=(f-p+d)/2,s=[d-t,ai(c.min,d-t)],u&&(s[2]=l.dataMin),d=S(s),a=[d+f,ai(c.max,d+f)],u&&(a[2]=l.dataMax),p=A(a),f>p-d&&(s[0]=p-f,s[1]=ai(c.min,p-f),d=S(s))}l.min=d,l.max=p},setAxisTranslation:function(t){var e,n,o=this,r=o.max-o.min,s=o.axisPointRange||0,a=0,l=0,c=o.linkedParent,d=!!o.categories,p=o.transA,u=o.isXAxis;(u||d||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):fi(o.series,function(t){var n=d?1:u?t.pointRange:o.axisPointRange||0,c=t.options.pointPlacement,p=t.closestPointRange;n>r&&(n=0),s=ye(s,n),o.single||(a=ye(a,i(c)?0:n/2),l=ye(l,"on"===c?0:n)),!t.noSharedTooltip&&h(p)&&(e=h(e)?ve(e,p):p)}),n=o.ordinalSlope&&e?o.ordinalSlope/e:1,o.minPointOffset=a*=n,o.pointRangePadding=l*=n,o.pointRange=ve(s,r),u&&(o.closestPointRange=e)),t&&(o.oldTransA=p),o.translationSlope=o.transA=p=o.len/(r+l||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=p*a},setTickInterval:function(t){var e,i,n,o=this,a=o.chart,l=o.options,c=o.isLog,d=o.isDatetimeAxis,p=o.isXAxis,u=o.isLinked,f=l.maxPadding,g=l.minPadding,m=l.tickInterval,x=l.tickPixelInterval,y=o.categories;d||y||u||this.getTickAmount(),u?(o.linkedParent=a[o.coll][l.linkedTo],i=o.linkedParent.getExtremes(),o.min=ai(i.min,i.dataMin),o.max=ai(i.max,i.dataMax),l.type!==o.linkedParent.options.type&&C(11,1)):(o.min=ai(o.userMin,l.min,o.dataMin),o.max=ai(o.userMax,l.max,o.dataMax)),c&&(!t&&ve(o.min,ai(o.dataMin,o.min))<=0&&C(10,1),o.min=M(s(o.min)),o.max=M(s(o.max))),o.range&&h(o.max)&&(o.userMin=o.min=ye(o.min,o.max-o.range),o.userMax=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),y||o.axisPointRange||o.usePercentage||u||!h(o.min)||!h(o.max)||(e=o.max-o.min,e&&(h(l.min)||h(o.userMin)||!g||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*g),h(l.max)||h(o.userMax)||!f||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=e*f))),r(l.floor)&&(o.min=ye(o.min,l.floor)),r(l.ceiling)&&(o.max=ve(o.max,l.ceiling)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:u&&!m&&x===o.linkedParent.options.tickPixelInterval?m=o.linkedParent.tickInterval:ai(m,this.tickAmount?(o.max-o.min)/ye(this.tickAmount-1,1):void 0,y?1:(o.max-o.min)*x/ye(o.len,x)),p&&!t&&fi(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=ye(o.pointRange,o.tickInterval)),n=ai(l.minTickInterval,o.isDatetimeAxis&&o.closestPointRange),!m&&o.tickInterval<n&&(o.tickInterval=n),d||c||m||(o.tickInterval=k(o.tickInterval,null,b(o.tickInterval),ai(l.allowDecimals,!(o.tickInterval>.5&&o.tickInterval<5&&o.max>1e3&&o.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(o.tickInterval=o.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,o=i.tickPositioner,r=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickPositions=t,o&&(o=o.apply(this,[this.min,this.max]),o&&(this.tickPositions=t=o))),this.isLinked||(this.trimTicks(t,r,s),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,n||o||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],o=t[t.length-1],r=this.minPointOffset||0;e?this.min=n:this.min-r>n&&t.shift(),i?this.max=o:this.max+r<o&&t.pop(),0===t.length&&h(n)&&t.push((o+n)/2)},getTickAmount:function(){var t,e={},i=this.options,n=i.tickAmount,o=i.tickPixelInterval;!h(i.tickInterval)&&this.len<o&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),n||this.chart.options.chart.alignTicks===!1||i.alignTicks===!1||(fi(this.chart[this.coll],function(i){var n=i.options,o=i.horiz,r=[o?n.left:n.top,o?n.width:n.height,n.pane].join(",");e[r]?i.series.length&&(t=!0):e[r]=1}),t&&(n=xe(this.len/o)+1)),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var t,e,i=this.tickInterval,n=this.tickPositions,o=this.tickAmount,r=this.finalTickAmt,s=n&&n.length;if(o>s){for(;n.length<o;)n.push(M(n[n.length-1]+i));this.transA*=(s-1)/(o-1),this.max=n[n.length-1]}else s>o&&(this.tickInterval*=2,this.setTickPositions());if(h(r)){for(t=e=n.length;t--;)(3===r&&t%2===1||2>=r&&t>0&&e-1>t)&&n.splice(t,1);this.finalTickAmt=H}},setScale:function(){var t,e,i,n,o=this,r=o.stacks;if(o.oldMin=o.min,o.oldMax=o.max,o.oldAxisLength=o.len,o.setAxisSize(),n=o.len!==o.oldAxisLength,fi(o.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||o.isLinked||o.forceRedraw||o.userMin!==o.oldUserMin||o.userMax!==o.oldUserMax){if(!o.isXAxis)for(t in r)for(e in r[t])r[t][e].total=null,r[t][e].cum=0;o.forceRedraw=!1,o.getSeriesExtremes(),o.setTickInterval(),o.oldUserMin=o.userMin,o.oldUserMax=o.userMax,o.isDirty||(o.isDirty=n||o.min!==o.oldMin||o.max!==o.oldMax)
}else if(!o.isXAxis){o.oldStacks&&(r=o.stacks=o.oldStacks);for(t in r)for(e in r[t])r[t][e].cum=r[t][e].total}},setExtremes:function(t,e,i,n,o){var r=this,s=r.chart;i=ai(i,!0),fi(r.series,function(t){delete t.kdTree}),o=si(o,{min:t,max:e}),bi(r,"setExtremes",o,function(){r.userMin=t,r.userMax=e,r.eventArgs=o,r.isDirtyExtremes=!0,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(h(i)&&t<=ve(i,ai(o.min,i))&&(t=H),h(n)&&e>=ye(n,ai(o.max,n))&&(e=H)),this.displayBtn=t!==H||e!==H,this.setExtremes(t,e,!1,H,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=e.offsetRight||0,o=this.horiz,r=ai(e.width,t.plotWidth-i+n),s=ai(e.height,t.plotHeight),a=ai(e.top,t.plotTop),l=ai(e.left,t.plotLeft+i),h=/%$/;h.test(s)&&(s=parseFloat(s)/100*t.plotHeight),h.test(a)&&(a=parseFloat(a)/100*t.plotHeight+t.plotTop),this.left=l,this.top=a,this.width=r,this.height=s,this.bottom=t.chartHeight-s-a,this.right=t.chartWidth-r-l,this.len=ye(o?r:s,0),this.pos=o?l:a},getExtremes:function(){var t=this,e=t.isLog;return{min:e?M(a(t.min)):t.min,max:e?M(a(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?a(e.min):e.min,o=i?a(e.max):e.max;return null===t?t=0>o?o:n:n>t?t=n:t>o&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,i=(ai(t,0)-90*this.side+720)%360;return e=i>15&&165>i?"right":i>195&&345>i?"left":"center"},unsquish:function(){var t,e,i,n=this.chart,o=this.ticks,r=this.options.labels,s=this.horiz,a=this.tickInterval,l=a,c=this.len/(((this.categories?1:0)+this.max-this.min)/a),d=r.rotation,p=n.renderer.fontMetrics(r.style.fontSize,o[0]&&o[0].label),u=Number.MAX_VALUE,f=function(t){var e=t/(c||1);return e=e>1?xe(e):1,e*a};return s?(i=h(d)?[d]:c<ai(r.autoRotationLimit,80)&&!r.staggerLines&&!r.step&&r.autoRotation,i&&fi(i,function(i){var n;(i===d||i&&i>=-90&&90>=i)&&(e=f(be(p.h/we(Se*i))),n=e+be(i/360),u>n&&(u=n,t=i,l=e))})):l=f(p.h),this.autoRotation=i,this.labelRotation=t,l},renderUnsquish:function(){var e,n,o,r,s=this.chart,a=s.renderer,l=this.tickPositions,h=this.ticks,c=this.options.labels,d=this.horiz,p=s.margin,u=this.categories?l.length:l.length-1,f=this.slotWidth=d&&!c.step&&!c.rotation&&(this.staggerLines||1)*s.plotWidth/u||!d&&(p[3]&&p[3]-s.spacing[3]||.33*s.chartWidth),g=ye(1,ge(f-2*(c.padding||5))),m={},x=a.fontMetrics(c.style.fontSize,h[0]&&h[0].label),y=c.style.textOverflow,v=0;if(i(c.rotation)||(m.rotation=c.rotation),this.autoRotation)fi(l,function(t){t=h[t],t&&t.labelLength>v&&(v=t.labelLength)}),v>g&&v>x.h?m.rotation=this.labelRotation:this.labelRotation=0;else if(f&&(e={width:g+Ke},!y))for(e.textOverflow="clip",o=l.length;!d&&o--;)r=l[o],n=h[r].label,n&&("ellipsis"===n.styles.textOverflow&&n.css({textOverflow:"clip"}),n.getBBox().height>this.len/l.length-(x.h-x.f)&&(n.specCss={textOverflow:"ellipsis"}));m.rotation&&(e={width:(v>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+Ke},y||(e.textOverflow="ellipsis")),this.labelAlign=m.align=c.align||this.autoLabelAlign(this.labelRotation),fi(l,function(i){var n=h[i],o=n&&n.label;o&&(e&&o.css(t(e,o.specCss)),delete o.specCss,o.attr(m),n.rotation=m.rotation)}),this.tickRotCorr=a.rotCorr(x.b,this.labelRotation||0,2===this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,o,r,s,a=this,l=a.chart,c=l.renderer,d=a.options,p=a.tickPositions,u=a.ticks,f=a.horiz,g=a.side,m=l.inverted?[1,0,3,2][g]:g,x=0,y=0,v=d.title,b=d.labels,k=0,w=l.axisOffset,A=l.clipOffset,S=[-1,1,1,-1][g];if(t=a.hasData(),a.showAxis=e=t||ai(d.showEmpty,!0),a.staggerLines=a.horiz&&b.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:b.zIndex||7}).addClass(je+a.coll.toLowerCase()+"-labels").add()),t||a.isLinked)fi(p,function(t){u[t]?u[t].addLabel():u[t]=new z(a,t)}),a.renderUnsquish(),fi(p,function(t){(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)&&(k=ye(u[t].getLabelSize(),k))}),a.staggerLines&&(k*=a.staggerLines,a.labelOffset=k);else for(r in u)u[r].destroy(),delete u[r];v&&v.text&&v.enabled!==!1&&(a.axisTitle||(a.axisTitle=c.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).addClass(je+this.coll.toLowerCase()+"-title").css(v.style).add(a.axisGroup),a.axisTitle.isNew=!0),e&&(x=a.axisTitle.getBBox()[f?"height":"width"],i=v.offset,y=h(i)?0:ai(v.margin,f?5:10)),a.axisTitle[e?"show":"hide"]()),a.offset=S*ai(d.offset,w[g]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},s=2===g?a.tickRotCorr.y:0,n=k+y+(k&&S*(f?ai(b.y,a.tickRotCorr.y+8):b.x)-s),a.axisTitleMargin=ai(i,n),w[g]=ye(w[g],a.axisTitleMargin+x+S*a.offset,n),o=2*me(d.lineWidth/2),d.offset&&(o=ye(0,o-d.offset)),A[m]=ye(A[m],o)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([$e,o?this.left:r,o?s:this.top,Je,o?e.chartWidth-this.right:r,o?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,i=this.left,n=this.top,o=this.len,r=this.options.title,s=t?i:n,a=this.opposite,l=this.offset,h=r.x||0,c=r.y||0,d=e(r.style.fontSize||12),p={low:s+(t?0:o),middle:s+o/2,high:s+(t?o:0)}[r.align],u=(t?n+this.height:i)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:t?p+h:u+(a?this.width:0)+l+h,y:t?u+c-(a?this.height:0)+l:p+c}},render:function(){var t,e,i,n=this,o=n.chart,r=o.renderer,s=n.options,l=n.isLog,c=n.isLinked,d=n.tickPositions,p=n.axisTitle,u=n.ticks,f=n.minorTicks,g=n.alternateBands,m=s.stackLabels,x=s.alternateGridColor,y=n.tickmarkOffset,v=s.lineWidth,b=o.hasRendered,k=b&&h(n.oldMin)&&!isNaN(n.oldMin),w=n.showAxis;n.labelEdge.length=0,n.overlap=!1,fi([u,f,g],function(t){var e;for(e in t)t[e].isActive=!1}),(n.hasData()||c)&&(n.minorTickInterval&&!n.categories&&fi(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new z(n,t,"minor")),k&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),d.length&&(fi(d,function(t,e){(!c||t>=n.min&&t<=n.max)&&(u[t]||(u[t]=new z(n,t)),k&&u[t].isNew&&u[t].render(e,!0,.1),u[t].render(e))}),y&&(0===n.min||n.single)&&(u[-1]||(u[-1]=new z(n,-1,null,!0)),u[-1].render(-1))),x&&fi(d,function(t,o){o%2===0&&t<n.max&&(g[t]||(g[t]=new de.PlotLineOrBand(n)),e=t+y,i=d[o+1]!==H?d[o+1]+y:n.max,g[t].options={from:l?a(e):e,to:l?a(i):i,color:x},g[t].render(),g[t].isActive=!0)}),n._addedPlotLB||(fi((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),fi([u,f,g],function(t){var e,i,n=[],r=V?V.duration||500:0,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&o.hasRendered&&r?r&&setTimeout(s,r):s()}),v&&(t=n.getLinePath(v),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=r.path(t).attr({stroke:s.lineColor,"stroke-width":v,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"]()),p&&w&&(p[p.isNew?"attr":"animate"](n.getTitlePosition()),p.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.render(),fi(this.plotLinesAndBands,function(t){t.render()}),fi(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i,n=this,o=n.stacks,r=n.plotLinesAndBands;t||vi(n);for(e in o)T(o[e]),o[e]=null;for(fi([n.ticks,n.minorTicks,n.alternateBands],function(t){T(t)}),i=r.length;i--;)r[i].destroy();fi(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,o,r,s=this.crosshair,a=s.animation;if(!this.crosshair||(h(e)||!ai(this.crosshair.snap,!0))===!1||e&&e.series&&e.series[this.coll]!==this)this.hideCrosshair();else{if(ai(s.snap,!0)?h(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:ai(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,n)||null,null===i)return void this.hideCrosshair();this.cross?this.cross.attr({visibility:Ze})[a?"animate":"attr"]({d:i},a):(r=this.categories&&!this.isRadial,o={"stroke-width":s.width||(r?this.transA:1),stroke:s.color||(r?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:s.zIndex||2},s.dashStyle&&(o.dashstyle=s.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},si(Ei.prototype,j),Ei.prototype.getTimeTicks=function(t,e,i,n){var o,r,s=[],a={},l=F.global.useUTC,c=new Z(e-x(e)),d=t.unitRange,p=t.count;if(h(e)){c[oe](d>=U.second?0:p*me(c.getMilliseconds()/p)),d>=U.second&&c[re](d>=U.minute?0:p*me(c.getSeconds()/p)),d>=U.minute&&c[se](d>=U.hour?0:p*me(c[J]()/p)),d>=U.hour&&c[ae](d>=U.day?0:p*me(c[Q]()/p)),d>=U.day&&c[le](d>=U.month?1:p*me(c[ee]()/p)),d>=U.month&&(c[he](d>=U.year?0:p*me(c[ie]()/p)),r=c[ne]()),d>=U.year&&(r-=r%p,c[ce](r)),d===U.week&&c[le](c[ee]()-c[te]()+ai(n,1)),o=1,(q||$)&&(c=c.getTime(),c=new Z(c+x(c))),r=c[ne]();for(var u=c.getTime(),f=c[ie](),g=c[ee](),m=(U.day+(l?x(c):60*c.getTimezoneOffset()*1e3))%U.day;i>u;)s.push(u),d===U.year?u=K(r+o*p,0):d===U.month?u=K(r,f+o*p):l||d!==U.day&&d!==U.week?u+=d*p:u=K(r,f,g+o*p*(d===U.day?1:7)),o++;s.push(u),fi(gi(s,function(t){return d<=U.hour&&t%U.day===m}),function(t){a[t]="day"})}return s.info=si(t,{higherRanks:a,totalRange:d*p}),s},Ei.prototype.normalizeTimeTickInterval=function(t,e){var i,n,o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=o[o.length-1],s=U[r[0]],a=r[1];for(n=0;n<o.length;n++)if(r=o[n],s=U[r[0]],a=r[1],o[n+1]){var l=(s*a[a.length-1]+U[o[n+1][0]])/2;if(l>=t)break}return s===U.year&&5*s>t&&(a=[1,2,5]),i=k(t/s,a,"year"===r[0]?ye(b(t/s),1):1),{unitRange:s,count:i,unitName:r[0]}},Ei.prototype.getLogTickPositions=function(t,e,i,n){var o=this,r=o.options,l=o.len,h=[];if(n||(o._minorAutoInterval=null),t>=.5)t=ge(t),h=o.getLinearTickPositions(t,e,i);else if(t>=.08){var c,d,p,u,f,g,m,x=me(e);for(c=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=x;i+1>d&&!m;d++)for(u=c.length,p=0;u>p&&!m;p++)f=s(a(d)*c[p]),f>e&&(!n||i>=g)&&g!==H&&h.push(g),g>i&&(m=!0),g=f}else{var y=a(e),v=a(i),w=r[n?"minorTickInterval":"tickInterval"],A="auto"===w?null:w,S=r.tickPixelInterval/(n?5:1),T=n?l/o.tickPositions.length:l;t=ai(A,o._minorAutoInterval,(v-y)*S/(T||1)),t=k(t,null,b(t)),h=xi(o.getLinearTickPositions(t,y,v),s),n||(o._minorAutoInterval=t/5)}return n||(o.tickInterval=t),h};var Wi=de.Tooltip=function(){this.init.apply(this,arguments)};Wi.prototype={init:function(t,i){var n=i.borderWidth,o=i.style,r=e(o.padding);this.chart=t,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:r,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),Re||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var o=this,r=o.now,s=o.options.animation!==!1&&!o.isHidden&&(be(t-r.x)>1||be(e-r.y)>1),a=o.followPointer||o.len>1;si(r,{x:s?(2*r.x+t)/3:t,y:s?(r.y+e)/2:e,anchorX:a?H:s?(2*r.anchorX+i)/3:i,anchorY:a?H:s?(r.anchorY+n)/2:n}),o.label.attr(r),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,n)},32))},hide:function(t){var e,i=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){i.label.fadeOut(),i.isHidden=!0},ai(t,this.options.hideDelay,500)))},getAnchor:function(t,e){var i,n,o,r=this.chart,s=r.inverted,a=r.plotTop,l=r.plotLeft,h=0,c=0;return t=d(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===H&&(e=r.pointer.normalize(e)),i=[e.chartX-r.plotLeft,e.chartY-a]),i||(fi(t,function(t){n=t.series.yAxis,o=t.series.xAxis,h+=t.plotX+(!s&&o?o.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),h/=t.length,c/=t.length,i=[s?r.plotWidth-c:h,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?r.plotHeight-h:c]),xi(i,ge)},getPosition:function(t,e,i){var n,o=this.chart,r=this.distance,s={},a=i.h||0,l=["y",o.chartHeight,e,i.plotY+o.plotTop],h=["x",o.chartWidth,t,i.plotX+o.plotLeft],c=ai(i.ttBelow,o.inverted&&!i.negative||!o.inverted&&i.negative),d=function(t,e,i,n){var o=n-r>i,l=e>n+r+i,h=n-r-i,d=n+r;if(c&&l)s[t]=d;else if(!c&&o)s[t]=h;else if(o)s[t]=0>h-a?h:h-a;else{if(!l)return!1;s[t]=d+a+i>e?d:d+a}},p=function(t,e,i,n){return r>n||n>e-r?!1:void(s[t]=i/2>n?1:n>e-i/2?e-i-2:n-i/2)},u=function(t){var e=l;l=h,h=e,n=t},f=function(){d.apply(0,l)!==!1?p.apply(0,h)!==!1||n||(u(!0),f()):n?s.x=s.y=0:(u(!0),f())};return(o.inverted||this.len>1)&&u(),f(),s},defaultFormatter:function(t){var e,i=this.points||d(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,o,r,s,a,l=this,h=l.chart,c=l.label,p=l.options,u={},f=[],g=p.formatter||l.defaultFormatter,m=h.hoverPoints,x=l.shared;clearTimeout(this.hideTimer),l.followPointer=d(t)[0].series.tooltipOptions.followPointer,o=l.getAnchor(t,e),i=o[0],n=o[1],!x||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(h.hoverPoints=t,m&&fi(m,function(t){t.setState()}),fi(t,function(t){t.setState(ei),f.push(t.getLabelConfig())}),u={x:t[0].category,y:t[0].y},u.points=f,this.len=f.length,t=t[0]),r=g.call(u,l),a=t.series,this.distance=ai(a.tooltipOptions.distance,16),r===!1?this.hide():(l.isHidden&&(Ai(c),c.attr("opacity",1).show()),c.attr({text:r}),s=p.borderColor||t.color||a.color||"#606060",c.attr({stroke:s}),l.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:o[2]||0}),this.isHidden=!1),bi(h,"tooltipRefresh",{text:r,x:i+h.plotLeft,y:n+h.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ge(n.x),ge(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,o,r,s=e.dateTimeLabelFormats,a=i&&i.closestPointRange,l="01-01 00:00:00.000",h={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";if(a){r=N("%m-%d %H:%M:%S.%L",t.x);for(o in U){if(a===U.week&&+N("%w",t.x)===i.options.startOfWeek&&r.substr(6)===l.substr(6)){o="week";break}if(U[o]>a){o=c;break}if(h[o]&&r.substr(h[o])!==l.substr(h[o]))break;"week"!==o&&(c=o)}o&&(n=s[o])}else n=s.day;return n||s.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,o=n.tooltipOptions,s=o.xDateFormat,a=n.xAxis,l=a&&"datetime"===a.options.type&&r(t.key),h=o[i+"Format"];return l&&!s&&(s=this.getXDateFormat(t,o,a)),l&&s&&(h=h.replace("{point.key}","{point.key:"+s+"}")),v(h,{point:t,series:n})},bodyFormatter:function(t){return xi(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var Hi;G=pe.documentElement.ontouchstart!==H;var Xi=de.Pointer=function(t,e){this.init(t,e)};if(Xi.prototype={init:function(t,e){var i,n,o=e.chart,r=o.events,s=Re?"":o.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=i&&!a||n&&a,this.zoomVert=n&&!a||i&&a,this.hasZoom=i||n,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},de.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Wi(t,e.tooltip),this.followTouchMove=ai(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(t,e){var i,n,o;return t=t||window.event,t=ki(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=mi(this.chart.container)),o.pageX===H?(i=ye(t.x,t.clientX-e.left),n=t.y):(i=o.pageX-e.left,n=o.pageY-e.top),si(t,{chartX:ge(i),chartY:ge(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return fi(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,o,r,s,a,l=this,h=l.chart,c=h.series,d=h.tooltip,p=d?d.shared:!1,u=h.hoverPoint,f=h.hoverSeries,g=h.chartWidth,m=[];if(!p&&!f)for(i=0;i<c.length;i++)(c[i].directTouch||!c[i].options.stickyTracking)&&(c=[]);if(!p&&f&&f.directTouch&&u?s=u:(fi(c,function(e){o=e.noSharedTooltip&&p,r=!p&&e.directTouch,e.visible&&!o&&!r&&ai(e.options.enableMouseTracking,!0)&&(a=e.searchPoint(t,!o&&1===e.kdDimensions),a&&m.push(a))}),fi(m,function(t){t&&"number"==typeof t.dist&&t.dist<g&&(g=t.dist,s=t)})),s&&(s!==this.prevKDPoint||d&&d.isHidden)){if(p&&!s.series.noSharedTooltip){for(i=m.length;i--;)(m[i].clientX!==s.clientX||m[i].series.noSharedTooltip)&&m.splice(i,1);m.length&&d&&d.refresh(m,t),fi(m,function(e){e!==s&&e.onMouseOver(t)}),(f&&f.directTouch&&u||s).onMouseOver(t)}else d&&d.refresh(s,t),s.onMouseOver(t);this.prevKDPoint=s}else e=f&&f.tooltipOptions.followPointer,d&&e&&!d.isHidden&&(n=d.getAnchor([{}],t),d.updatePosition({plotX:n[0],plotY:n[1]}));d&&!l._onDocumentMouseMove&&(l._onDocumentMouseMove=function(t){Xe[Hi]&&Xe[Hi].pointer.onDocumentMouseMove(t)},yi(pe,"mousemove",l._onDocumentMouseMove)),fi(h.axes,function(e){e.drawCrosshair(t,ai(s,u))})},reset:function(t,e){var i=this,n=i.chart,o=n.hoverSeries,r=n.hoverPoint,s=n.hoverPoints,a=n.tooltip,l=a&&a.shared?s:r;t=t&&a&&l,t&&d(l)[0].plotX===H&&(t=!1),t?(a.refresh(l),r&&(r.setState(r.state,!0),fi(n.axes,function(t){ai(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,r):t.hideCrosshair()}))):(r&&r.onMouseOut(),s&&fi(s,function(t){t.setState()}),o&&o.onMouseOut(),a&&a.hide(e),i._onDocumentMouseMove&&(vi(pe,"mousemove",i._onDocumentMouseMove),i._onDocumentMouseMove=null),fi(n.axes,function(t){t.hideCrosshair()}),i.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;fi(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,r=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,h=n.plotLeft,c=n.plotTop,d=n.plotWidth,p=n.plotHeight,u=this.mouseDownX,f=this.mouseDownY,g=o.panKey&&t[o.panKey+"Key"];h>r?r=h:r>h+d&&(r=h+d),c>s?s=c:s>c+p&&(s=c+p),this.hasDragged=Math.sqrt(Math.pow(u-r,2)+Math.pow(f-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(u-h,f-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&(this.selectionMarker||(this.selectionMarker=n.renderer.rect(h,c,a?1:d,l?1:p,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&a&&(i=r-u,this.selectionMarker.attr({width:be(i),x:(i>0?0:i)+u})),this.selectionMarker&&l&&(i=s-f,this.selectionMarker.attr({height:be(i),y:(i>0?0:i)+f})),e&&!this.selectionMarker&&o.panning&&n.pan(t,o.panning))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,c=s.attr?s.attr("width"):s.width,d=s.attr?s.attr("height"):s.height;(this.hasDragged||n)&&(fi(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var s=i.horiz,p="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((s?a:l)+p),f=i.toValue((s?a+c:l+d)-p);r[i.coll].push({axis:i,min:ve(u,f),max:ye(u,f)}),o=!0}}),o&&bi(i,"selection",r,function(t){i.zoom(si(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(p(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Xe[Hi]&&Xe[Hi].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(){var t=Xe[Hi];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Hi=e.index,t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(je+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,je+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,o=e.plotTop;t=this.normalize(t),t.originalEvent=t,e.cancelClick||(i&&this.inClass(t.target,je+"tracker")?(bi(i.series,"click",si(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(si(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-o)&&bi(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},yi(e,"mouseleave",t.onContainerMouseLeave),1===Ge&&yi(pe,"mouseup",t.onDocumentMouseUp),G&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e),e.preventDefault()},1===Ge&&yi(pe,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;vi(this.chart.container,"mouseleave",this.onContainerMouseLeave),Ge||(vi(pe,"mouseup",this.onDocumentMouseUp),vi(pe,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},si(de.Pointer.prototype,{pinchTranslate:function(t,e,i,n,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,o,r)},pinchTranslateDirection:function(t,e,i,n,o,r,s,a){var l,h,c,d,p,u,f=this.chart,g=t?"x":"y",m=t?"X":"Y",x="chart"+m,y=t?"width":"height",v=f["plot"+(t?"Left":"Top")],b=a||1,k=f.inverted,w=f.bounds[t?"h":"v"],A=1===e.length,S=e[0][x],T=i[0][x],P=!A&&e[1][x],C=!A&&i[1][x],M=function(){!A&&be(S-P)>20&&(b=a||be(T-C)/be(S-P)),c=(v-T)/b+S,l=f["plot"+(t?"Width":"Height")]/b};M(),h=c,h<w.min?(h=w.min,d=!0):h+l>w.max&&(h=w.max-l,d=!0),d?(T-=.8*(T-s[g][0]),A||(C-=.8*(C-s[g][1])),M()):s[g]=[T,C],k||(r[g]=c-v,r[y]=l),u=k?t?"scaleY":"scaleX":"scale"+m,p=k?1/b:b,o[y]=l,o[g]=h,n[u]=b,n["translate"+m]=p*v+(T-p*S)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,o=t.touches,r=o.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===r&&(e.inClass(t.target,je+"tracker")&&i.runTrackerClick||e.runChartClick),d={};r>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),xi(o,function(t){return e.normalize(t)}),"touchstart"===t.type?(fi(o,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[n[0].chartX,n[1]&&n[1].chartX],s.y=[n[0].chartY,n[1]&&n[1].chartY],fi(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,o=t.toPixels(ai(t.options.min,t.dataMin)),r=t.toPixels(ai(t.options.max,t.dataMax)),s=ve(o,r),a=ye(o,r);e.min=ve(t.pos,s-n),e.max=ye(t.pos+t.len,a+n)}}),e.res=!0):n.length&&(l||(e.selectionMarker=l=si({destroy:He},i.plotBox)),e.pinchTranslate(n,o,h,l,d,s),e.hasPinched=a,e.scaleGroups(h,d),!a&&e.followTouchMove&&1===r?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;Hi=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Xe[Hi]&&Xe[Hi].pointer.drop(t)}}),ue.PointerEvent||ue.MSPointerEvent){var Gi={},Yi=!!ue.PointerEvent,Fi=function(){var t,e=[];e.item=function(t){return this[t]};for(t in Gi)Gi.hasOwnProperty(t)&&e.push({pageX:Gi[t].pageX,pageY:Gi[t].pageY,target:Gi[t].target});return e},Ni=function(t,e,i,n){var o;t=t.originalEvent||t,"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Xe[Hi]||(n(t),o=Xe[Hi].pointer,o[e]({type:i,target:t.currentTarget,preventDefault:He,touches:Fi()}))};si(Xi.prototype,{onContainerPointerDown:function(t){Ni(t,"onContainerTouchStart","touchstart",function(t){Gi[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Ni(t,"onContainerTouchMove","touchmove",function(t){Gi[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Gi[t.pointerId].target||(Gi[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Ni(t,"onDocumentTouchEnd","touchend",function(t){delete Gi[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Yi?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Yi?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(pe,Yi?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),li(Xi.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&p(e.container,{"-ms-touch-action":qe,"touch-action":qe})}),li(Xi.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(yi)}),li(Xi.prototype,"destroy",function(t){this.batchMSEvents(vi),t.call(this)})}var Vi=de.Legend=function(t,e){this.init(t,e)};Vi.prototype={init:function(e,i){var n,o=this,r=i.itemStyle,s=i.itemMarginTop||0;this.options=i,i.enabled&&(o.itemStyle=r,o.itemHiddenStyle=t(r,i.itemHiddenStyle),o.itemMarginTop=s,o.padding=n=ai(i.padding,8),o.initialItemX=n,o.initialItemY=n-5,o.maxItemWidth=0,o.chart=e,o.itemHeight=0,o.symbolWidth=ai(i.symbolWidth,16),o.pages=[],o.render(),yi(o.chart,"endResize",function(){o.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,o=this,r=o.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,h=o.itemHiddenStyle.color,c=e?r.itemStyle.color:h,d=e?t.legendColor||t.color||"#CCC":h,p=t.options&&t.options.marker,u={fill:d};if(s&&s.css({fill:c,color:c}),a&&a.attr({stroke:d}),l){if(p&&l.isMarker){u.stroke=d,p=t.convertAttribs(p);for(i in p)n=p[i],n!==H&&(u[i]=n)}l.attr(u)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,r=t._legendItemPos,s=r[0],a=r[1],l=t.checkbox,h=t.legendGroup;h&&h.element&&h.translate(o?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;fi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&P(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,fi(this.allItems,function(o){var r,s=o.checkbox;s&&(r=e+s.y+(t||0)+3,p(s,{left:i.translateX+o.checkboxOffset+s.x-20+Ke,top:r+Ke,display:r>e-6&&e+n-6>r?"":qe}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,o=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),o=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?v(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(e){var i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options,h="horizontal"===l.layout,c=r.symbolWidth,d=l.symbolPadding,p=r.itemStyle,u=r.itemHiddenStyle,f=r.padding,g=h?ai(l.itemDistance,20):0,m=!l.rtl,x=l.width,y=l.itemMarginBottom||0,v=r.itemMarginTop,b=r.initialItemX,k=e.legendItem,w=e.series&&e.series.drawLegendSymbol?e.series:e,A=w.options,S=r.createCheckboxForItem&&A&&A.showCheckbox,T=l.useHTML;k||(e.legendGroup=a.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),e.legendItem=k=a.text("",m?c+d:-d,r.baseline||0,T).css(t(e.visible?p:u)).attr({align:m?"left":"right",zIndex:2}).add(e.legendGroup),r.baseline||(r.fontMetrics=a.fontMetrics(p.fontSize,k),r.baseline=r.fontMetrics.f+3+v,k.attr("y",r.baseline)),w.drawLegendSymbol(r,e),r.setItemEvents&&r.setItemEvents(e,k,T,p,u),r.colorizeItem(e,e.visible),S&&r.createCheckboxForItem(e)),r.setText(e),n=k.getBBox(),o=e.checkboxOffset=l.itemWidth||e.legendItemWidth||c+d+n.width+g+(S?20:0),r.itemHeight=i=ge(e.legendItemHeight||n.height),h&&r.itemX-b+o>(x||s.chartWidth-2*f-b-l.x)&&(r.itemX=b,r.itemY+=v+r.lastLineHeight+y,r.lastLineHeight=0),r.maxItemWidth=ye(r.maxItemWidth,o),r.lastItemY=v+r.itemY+y,r.lastLineHeight=ye(i,r.lastLineHeight),e._legendItemPos=[r.itemX,r.itemY],h?r.itemX+=o:(r.itemY+=v+i+y,r.lastLineHeight=i),r.offsetWidth=x||ye((h?r.itemX-b-g:o)+f,r.offsetWidth)},getAllItems:function(){var t=[];return fi(this.chart.series,function(e){var i=e.options;ai(i.showInLegend,h(i.linkedTo)?!1:H,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,o=n.align[0]+n.verticalAlign[0]+n.layout[0];this.display&&!n.floating&&fi([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,s){r.test(o)&&!h(t[s])&&(i[ni[s]]=ye(i[ni[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*n[s%2?"x":"y"]+ai(n.margin,12)+e[s]))})},render:function(){var t,e,i,n,o=this,r=o.chart,s=r.renderer,a=o.group,l=o.box,h=o.options,c=o.padding,d=h.borderWidth,p=h.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,a||(o.group=a=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(a),o.scrollGroup=s.g().add(o.contentGroup)),o.renderTitle(),t=o.getAllItems(),w(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),o.allItems=t,o.display=e=!!t.length,o.lastLineHeight=0,fi(t,function(t){o.renderItem(t)}),i=(h.width||o.offsetWidth)+c,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),n+=c,(d||p)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=s.rect(0,0,i,n,h.borderRadius,d||0).attr({stroke:h.borderColor,"stroke-width":d||0,fill:p||qe}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,fi(t,function(t){o.positionItem(t)}),e&&a.align(si({width:i,height:n},h),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,r=o.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,h=o.spacingBox.height+(l?-a:a)-this.padding,c=s.maxHeight,d=this.clipRect,p=s.navigation,u=ai(p.animation,!0),f=p.arrowSize||12,g=this.nav,m=this.pages,x=this.padding,y=this.allItems,v=function(t){d.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+x+"px,9999px,"+(x+t)+"px,0)")};return"horizontal"===s.layout&&(h/=2),c&&(h=ve(h,c)),m.length=0,t>h?(this.clipHeight=e=ye(h-20-this.titleHeight-x,0),this.currentPage=ai(this.currentPage,1),this.fullHeight=t,fi(y,function(t,n){var o=t._legendItemPos[1],r=ge(t.legendItem.getBBox().height),s=m.length;
(!s||o-m[s-1]>e&&(i||o)!==m[s-1])&&(m.push(i||o),s++),n===y.length-1&&o+r-m[s-1]>e&&m.push(o),o!==i&&(i=o)}),d||(d=n.clipRect=r.clipRect(0,x,9999,0),n.contentGroup.clip(d)),v(e),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,f,f).on("click",function(){n.scroll(-1,u)}).add(g),this.pager=r.text("",15,10).css(p.style).add(g),this.down=r.symbol("triangle-down",0,0,f,f).on("click",function(){n.scroll(1,u)}).add(g)),n.scroll(0),t=h):g&&(v(o.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,o=n.length,r=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,h=a.inactiveColor,c=this.pager,d=this.padding;r>o&&(r=o),r>0&&(e!==H&&L(e,this.chart),this.nav.attr({translateX:d,translateY:s+this.padding+7+this.titleHeight,visibility:Ze}),this.up.attr({fill:1===r?h:l}).css({cursor:1===r?"default":"pointer"}),c.attr({text:r+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===o?h:l}).css({cursor:r===o?"default":"pointer"}),i=-n[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=r,this.positionCheckboxes(i))}};var _i=de.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n,o=this.options,r=o.marker,s=t.symbolWidth,a=this.chart.renderer,l=this.legendGroup,h=t.baseline-ge(.3*t.fontMetrics.b);o.lineWidth&&(n={"stroke-width":o.lineWidth},o.dashStyle&&(n.dashstyle=o.dashStyle),this.legendLine=a.path([$e,0,h,Je,s,h]).attr(n).add(l)),r&&r.enabled!==!1&&(e=r.radius,this.legendSymbol=i=a.symbol(this.symbol,s/2-e,h-e,2*e,2*e).add(l),i.isMarker=!0)}};(/Trident\/7\.0/.test(Te)||De)&&li(Vi.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var Ui=de.Chart=function(){this.init.apply(this,arguments)};Ui.prototype={callbacks:[],init:function(e,i){var n,o=e.series;e.series=null,n=t(F,e),n.series=e.series=o,this.userOptions=e;var r=n.chart;this.margin=this.splashArray("margin",r),this.spacing=this.splashArray("spacing",r);var s=r.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=r.showAxes;var a,l=this;if(l.index=Xe.length,Xe.push(l),Ge++,r.reflow!==!1&&yi(l,"load",function(){l.initReflow()}),s)for(a in s)yi(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=Re?!1:ai(r.animation,!0),l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(t){var e,i=this,n=i.options.chart,o=t.type||n.type||n.defaultSeriesType,r=ri[o];return r||C(17,!0),e=new r,e.init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},redraw:function(t){var e,i,n,o=this,r=o.axes,s=o.series,a=o.pointer,l=o.legend,h=o.isDirtyLegend,c=o.hasCartesianSeries,d=o.isDirtyBox,p=s.length,u=p,f=o.renderer,g=f.isHidden(),m=[];for(L(t,o),g&&o.cloneRenderTo(),o.layOutTitles();u--;)if(n=s[u],n.options.stacking&&(e=!0,n.isDirty)){i=!0;break}if(i)for(u=p;u--;)n=s[u],n.options.stacking&&(n.isDirty=!0);fi(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),h=!0)}),h&&l.options.enabled&&(l.render(),o.isDirtyLegend=!1),e&&o.getStacks(),c&&(o.isResizing||(o.maxTicks=null,fi(r,function(t){t.setScale()}))),o.getMargins(),c&&(fi(r,function(t){t.isDirty&&(d=!0)}),fi(r,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,m.push(function(){bi(t,"afterSetExtremes",si(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||e)&&t.redraw()})),d&&o.drawChartBox(),fi(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),f.draw(),bi(o,"redraw"),g&&o.cloneRenderTo(!0),fi(m,function(t){t.call()})},get:function(t){var e,i,n,o=this,r=o.axes,s=o.series;for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(n=s[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,o=n.xAxis=d(n.xAxis||{}),r=n.yAxis=d(n.yAxis||{});fi(o,function(t,e){t.index=e,t.isX=!0}),fi(r,function(t,e){t.index=e}),t=o.concat(r),fi(t,function(t){e=new Ei(i,t)})},getSelectedPoints:function(){var t=[];return fi(this.series,function(e){t=t.concat(gi(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return gi(this.series,function(t){return t.selected})},getStacks:function(){var t=this;fi(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),fi(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+ai(e.options.stack,""))})},setTitle:function(e,i,n){var o,r,s=this,a=s.options;o=a.title=t(a.title,e),r=a.subtitle=t(a.subtitle,i),fi([["title",e,o],["subtitle",i,r]],function(t){var e=t[0],i=s[e],n=t[1],o=t[2];i&&n&&(s[e]=i=i.destroy()),o&&o.text&&!i&&(s[e]=s.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":je+e,zIndex:o.zIndex||4}).css(o.style).add())}),s.layOutTitles(n)},layOutTitles:function(t){var e,i=0,n=this.title,o=this.subtitle,r=this.options,s=r.title,a=r.subtitle,l=this.renderer,h=this.spacingBox.width-44;n&&(n.css({width:(s.width||h)+Ke}).align(si({y:l.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=n.getBBox().height)),o&&(o.css({width:(a.width||h)+Ke}).align(si({y:i+(s.margin-13)+l.fontMetrics(s.style.fontSize,o).b},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=xe(i+o.getBBox().height))),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&ai(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,i=e.width,n=e.height,o=t.renderToClone||t.renderTo;h(i)||(t.containerWidth=di(o,"width")),h(n)||(t.containerHeight=di(o,"height")),t.chartWidth=ye(0,i||t.containerWidth||600),t.chartHeight=ye(0,ai(n,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),P(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:Ve,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),pe.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,n,o,r,s,a,l=this,h=l.options.chart,d="data-highcharts-chart";l.renderTo=r=h.renderTo,a=je+We++,i(r)&&(l.renderTo=r=pe.getElementById(r)),r||C(13,!0),s=e(c(r,d)),!isNaN(s)&&Xe[s]&&Xe[s].hasRendered&&Xe[s].destroy(),c(r,d,l.index),r.innerHTML="",h.skipClone||r.offsetWidth||l.cloneRenderTo(),l.getChartSize(),n=l.chartWidth,o=l.chartHeight,l.container=t=u(Ne,{className:je+"container"+(h.className?" "+h.className:""),id:a},si({position:_e,overflow:Ue,width:n+Ke,height:o+Ke,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),l.renderToClone||r),l._cursor=t.style.cursor,l.renderer=h.forExport?new Di(t,n,o,h.style,!0):new X(t,n,o,h.style),Re&&l.renderer.create(l,t,n,o),l.renderer.chartIndex=l.index},getMargins:function(t){var e=this,i=e.spacing,n=e.margin,o=e.titleOffset;e.resetMargins(),o&&!h(n[0])&&(e.plotTop=ye(e.plotTop,o+e.options.title.margin+i[0])),e.legend.adjustMargins(n,i),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&fi(t.axes,function(t){t.getOffset()}),fi(ni,function(n,o){h(i[o])||(t[n]+=e[o])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||di(n,"width"),r=i.height||di(n,"height"),s=t?t.target:ue,a=function(){e.container&&(e.setSize(o,r,!1),e.hasUserSize=null)};e.hasUserSize||e.isPrinting||!o||!r||s!==ue&&s!==pe||((o!==e.containerWidth||r!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(a,100):a()),e.containerWidth=o,e.containerHeight=r)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};yi(ue,"resize",e),yi(t,"destroy",function(){vi(ue,"resize",e)})},setSize:function(t,e,i){var n,o,r,s=this;s.isResizing+=1,r=function(){s&&bi(s,"endResize",null,function(){s.isResizing-=1})},L(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,h(t)&&(s.chartWidth=n=ye(0,ge(t)),s.hasUserSize=!!n),h(e)&&(s.chartHeight=o=ye(0,ge(e))),(V?wi:p)(s.container,{width:n+Ke,height:o+Ke},V),s.setChartSize(!0),s.renderer.setSize(n,o,i),s.maxTicks=null,fi(s.axes,function(t){t.isDirty=!0,t.setScale()}),fi(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,bi(s,"resize"),V===!1?r():setTimeout(r,V&&V.duration||500)},setChartSize:function(t){var e,i,n,o,r,s,a,l=this,h=l.inverted,c=l.renderer,d=l.chartWidth,p=l.chartHeight,u=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=n=ge(l.plotLeft),l.plotTop=o=ge(l.plotTop),l.plotWidth=r=ye(0,ge(d-n-l.marginRight)),l.plotHeight=s=ye(0,ge(p-o-l.marginBottom)),l.plotSizeX=h?s:r,l.plotSizeY=h?r:s,l.plotBorderWidth=u.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:f[3],y:f[0],width:d-f[3]-f[1],height:p-f[0]-f[2]},l.plotBox=c.plotBox={x:n,y:o,width:r,height:s},a=2*me(l.plotBorderWidth/2),e=xe(ye(a,g[3])/2),i=xe(ye(a,g[0])/2),l.clipBox={x:e,y:i,width:me(l.plotSizeX-ye(a,g[1])/2-e),height:ye(0,me(l.plotSizeY-ye(a,g[2])/2-i))},t||fi(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;fi(ni,function(e,i){t[e]=ai(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,o=i.renderer,r=i.chartWidth,s=i.chartHeight,a=i.chartBackground,l=i.plotBackground,h=i.plotBorder,c=i.plotBGImage,d=n.borderWidth||0,p=n.backgroundColor,u=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,x=i.plotTop,y=i.plotWidth,v=i.plotHeight,b=i.plotBox,k=i.clipRect,w=i.clipBox;t=d+(n.shadow?8:0),(d||p)&&(a?a.animate(a.crisp({width:r-t,height:s-t})):(e={fill:p||qe},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=o.rect(t/2,t/2,r-t,s-t,n.borderRadius,d).attr(e).addClass(je+"background").add().shadow(n.shadow))),u&&(l?l.animate(b):i.plotBackground=o.rect(m,x,y,v,0).attr({fill:u}).add().shadow(n.plotShadow)),f&&(c?c.animate(b):i.plotBGImage=o.image(f,m,x,y,v).add()),k?k.animate({width:w.width,height:w.height}):i.clipRect=o.clipRect(w),g&&(h?h.animate(h.crisp({x:m,y:x,width:y,height:v,strokeWidth:-g})):i.plotBorder=o.rect(m,x,y,v,0,-g).attr({stroke:n.plotBorderColor,"stroke-width":g,fill:qe,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,r=n.options.series;fi(["inverted","angular","polar"],function(s){for(t=ri[o.type||o.defaultSeriesType],i=n[s]||o[s]||t&&t.prototype[s],e=r&&r.length;!i&&e--;)t=ri[r[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;fi(e,function(t){t.linkedSeries.length=0}),fi(e,function(e){var n=e.options.linkedTo;i(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n))})},renderSeries:function(){fi(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,i=t.options.labels;i.items&&fi(i.items,function(n){var o=si(i.style,n.style),r=e(o.left)+t.plotLeft,s=e(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(n.html,r,s).attr({zIndex:2}).css(o).add()})},render:function(){var t,e,i,n,o=this,r=o.axes,s=o.renderer,a=o.options;o.setTitle(),o.legend=new Vi(o,a.legend),o.getStacks(),o.getMargins(!0),o.setChartSize(),t=o.plotWidth,e=o.plotHeight=o.plotHeight-13,fi(r,function(t){t.setScale()}),o.getAxisMargins(),i=t/o.plotWidth>1.1,n=e/o.plotHeight>1.1,(i||n)&&(o.maxTicks=null,fi(r,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),o.getMargins()),o.drawChartBox(),o.hasCartesianSeries&&fi(r,function(t){t.render()}),o.seriesGroup||(o.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),o.renderSeries(),o.renderLabels(),o.showCredits(a.credits),o.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,r=o&&o.parentNode;for(bi(e,"destroy"),Xe[e.index]=H,Ge--,e.renderTo.removeAttribute("data-highcharts-chart"),vi(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();fi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",vi(o),r&&P(o));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Oe&&ue==ue.top&&"complete"!==pe.readyState||Re&&!ue.canvg?(Re?Ri.push(function(){t.firstRender()},t.options.global.canvasToolsURL):pe.attachEvent("onreadystatechange",function(){pe.detachEvent("onreadystatechange",t.firstRender),"complete"===pe.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),bi(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),fi(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),bi(t,"beforeRender"),de.Pointer&&(t.pointer=new Xi(t,e)),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),fi(t.callbacks,function(e){t.index!==H&&e.apply(t,[t])}),bi(t,"load"),t.cloneRenderTo(!0))},splashArray:function(t,e){var i=e[t],o=n(i)?i:[i,i,i,i];return[ai(e[t+"Top"],o[0]),ai(e[t+"Right"],o[1]),ai(e[t+"Bottom"],o[2]),ai(e[t+"Left"],o[3])]}};var ji=de.CenteredSeriesMixin={getCenter:function(){var t,e,i,n=this.options,o=this.chart,r=2*(n.slicedOffset||0),s=o.plotWidth-2*r,a=o.plotHeight-2*r,l=n.center,h=[ai(l[0],"50%"),ai(l[1],"50%"),n.size||"100%",n.innerSize||0],c=ve(s,a);for(e=0;4>e;++e)i=h[e],t=2>e||2===e&&/%$/.test(i),h[e]=m(i,[s,a,c,h[2]][e])+(t?r:0);return h}},Zi=function(){};Zi.prototype={init:function(t,e,i){var n,o=this;return o.series=t,o.color=t.color,o.applyOptions(e,i),o.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,o},applyOptions:function(t,e){var i=this,n=i.series,o=n.options.pointValKey||n.pointValKey;return t=Zi.prototype.optionsToObject.call(this,t),si(i,t),i.options=i.options?si(i.options,t):t,o&&(i.y=i[o]),i.x===H&&n&&(i.x=e===H?n.autoIncrement():e),i},optionsToObject:function(t){var e,i={},n=this.series,r=n.options.keys,s=r||n.pointArrayMap||["y"],a=s.length,l=0,h=0;if("number"==typeof t||null===t)i[s[0]]=t;else if(o(t))for(!r&&t.length>a&&(e=typeof t[0],"string"===e?i.name=t[0]:"number"===e&&(i.x=t[0]),l++);a>h;)i[s[h++]]=t[l++];else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),l(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(vi(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=ai(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return fi(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||r)&&(t=t.replace(e+"}",o+e+"}"+r)),t=t.replace(e+"}",e+":,."+n+"f}")}),v(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series,r=o.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),bi(this,t,e,i)}};var Ki=de.Series=function(){};Ki.prototype={isCartesian:!0,type:"line",pointClass:Zi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,o=this,r=t.series,s=function(t,e){return ai(t.options.index,t._i)-ai(e.options.index,e._i)};o.chart=t,o.options=e=o.setOptions(e),o.linkedSeries=[],o.bindAxes(),si(o,{name:e.name,state:ti,pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Re&&(e.animation=!1),n=e.events;for(i in n)yi(o,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),fi(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(e.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),r.push(o),o._i=r.length-1,w(r,s),this.yAxis&&w(this.yAxis.series,s),fi(r,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;fi(e.axisTypes||[],function(o){fi(n[o],function(n){t=n.options,(i[o]===t.index||i[o]!==H&&i[o]===t.id||i[o]===H&&0===t.index)&&(n.series.push(e),e[o]=n,n.isDirty=!0)}),e[o]||e.optionalAxis===o||C(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o="number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};fi(i.parallelArrays,o)},autoIncrement:function(){var t,e,i=this.options,n=this.xIncrement,o=i.pointIntervalUnit;return n=ai(n,i.pointStart,0),this.pointInterval=e=ai(this.pointInterval,i.pointInterval,1),("month"===o||"year"===o)&&(t=new Z(n),t="month"===o?+t[he](t[ie]()+e):+t[ce](t[ne]()+e),e=t-n),this.xIncrement=n+e,n},getSegments:function(){var t,e=this,i=-1,n=[],o=e.points,r=o.length;if(r)if(e.options.connectNulls){for(t=r;t--;)null===o[t].y&&o.splice(t,1);o.length&&(n=[o])}else fi(o,function(t,e){null===t.y?(e>i+1&&n.push(o.slice(i+1,e)),i=e):e===r-1&&n.push(o.slice(i+1,e+1))});e.segments=n},setOptions:function(e){var i,n,o=this.chart,r=o.options,s=r.plotOptions,a=o.userOptions||{},l=a.plotOptions||{},c=s[this.type];return this.userOptions=e,i=t(c,s.series,e),this.tooltipOptions=t(F.tooltip,F.plotOptions[this.type].tooltip,a.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,e.tooltip),null===c.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,n=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||n.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),n.length&&h(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n,o=this.userOptions,r="_"+t+"Index",s=t+"Counter";e||(h(o[r])?n=o[r]:(o[r]=n=this.chart[s]%i.length,this.chart[s]+=1),e=i[n]),this[t]=e},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||Si[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:_i.drawLineMarker,setData:function(t,e,n,s){var a,l,h,c=this,d=c.points,p=d&&d.length||0,u=c.options,f=c.chart,g=null,m=c.xAxis,x=m&&!!m.categories,y=u.turboThreshold,v=this.xData,b=this.yData,k=c.pointArrayMap,w=k&&k.length;if(t=t||[],a=t.length,e=ai(e,!0),s!==!1&&a&&p===a&&!c.cropped&&!c.hasGroupedData&&c.visible)fi(t,function(t,e){d[e].update&&d[e].update(t,!1,null,!1)});else{if(c.xIncrement=null,c.pointRange=x?1:u.pointRange,c.colorCounter=0,fi(this.parallelArrays,function(t){c[t+"Data"].length=0}),y&&a>y){for(l=0;null===g&&a>l;)g=t[l],l++;if(r(g)){var A=ai(u.pointStart,0),S=ai(u.pointInterval,1);for(l=0;a>l;l++)v[l]=A,b[l]=t[l],A+=S;c.xIncrement=A}else if(o(g))if(w)for(l=0;a>l;l++)h=t[l],v[l]=h[0],b[l]=h.slice(1,w+1);else for(l=0;a>l;l++)h=t[l],v[l]=h[0],b[l]=h[1];else C(12)}else for(l=0;a>l;l++)t[l]!==H&&(h={series:c},c.pointClass.prototype.applyOptions.apply(h,[t[l]]),c.updateParallelArrays(h,l),x&&h.name&&(m.names[h.x]=h.name));for(i(b[0])&&C(14,!0),c.data=[],c.options.data=t,l=p;l--;)d[l]&&d[l].destroy&&d[l].destroy();m&&(m.minRange=m.userMinRange),c.isDirty=c.isDirtyData=f.isDirtyBox=!0,n=!1}e&&f.redraw(n)},processData:function(t){var e,i,n,o,r,s,a,l,h=this,c=h.xData,d=h.yData,p=c.length,u=0,f=h.xAxis,g=h.options,m=g.cropThreshold,x=h.isCartesian;if(x&&!h.isDirty&&!f.isDirty&&!h.yAxis.isDirty&&!t)return!1;for(f&&(s=f.getExtremes(),a=s.min,l=s.max),x&&h.sorted&&(!m||p>m||h.forceCrop)&&(c[p-1]<a||c[0]>l?(c=[],d=[]):(c[0]<a||c[p-1]>l)&&(e=this.cropData(h.xData,h.yData,a,l),c=e.xData,d=e.yData,u=e.start,i=!0)),r=c.length-1;r>=0;r--)n=c[r]-c[r-1],n>0&&(o===H||o>n)?o=n:0>n&&h.requireSorting&&C(15);h.cropped=i,h.cropStart=u,h.processedXData=c,h.processedYData=d,null===g.pointRange&&(h.pointRange=o||1),h.closestPointRange=o},cropData:function(t,e,i,n){var o,r=t.length,s=0,a=r,l=ai(this.cropShoulder,1);for(o=0;r>o;o++)if(t[o]>=i){s=ye(0,o-l);break}for(;r>o;o++)if(t[o]>n){a=o+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,i,n,o=this,r=o.options,s=r.data,a=o.data,l=o.processedXData,h=o.processedYData,c=o.pointClass,p=l.length,u=o.cropStart||0,f=o.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=s.length,a=o.data=m}for(n=0;p>n;n++)e=u+n,f?g[n]=(new c).init(o,[l[n]].concat(d(h[n]))):(a[e]?i=a[e]:s[e]!==H&&(a[e]=i=(new c).init(o,s[e],l[n])),g[n]=i),g[n].index=e;if(a&&(p!==(t=a.length)||f))for(n=0;t>n;n++)n!==u||f||(n+=p),a[n]&&(a[n].destroyElements(),a[n].plotX=H);o.data=a,o.points=g},getExtremes:function(t){var e,i,n,o,r,s,a,l=this.xAxis,h=this.yAxis,c=this.processedXData,d=[],p=0,u=l.getExtremes(),f=u.min,g=u.max;for(t=t||this.stackedYData||this.processedYData,e=t.length,s=0;e>s;s++)if(o=c[s],r=t[s],i=null!==r&&r!==H&&(!h.isLog||r.length||r>0),n=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[s+1]||o)>=f&&(c[s-1]||o)<=g,i&&n)if(a=r.length)for(;a--;)null!==r[a]&&(d[p++]=r[a]);else d[p++]=r;this.dataMin=A(d),this.dataMax=S(d)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,o=this,s=o.options,a=s.stacking,l=o.xAxis,c=l.categories,d=o.yAxis,p=o.points,u=p.length,f=!!o.modifyValue,g=s.pointPlacement,m="between"===g||r(g),x=s.threshold,y=s.startFromThreshold?x:0,v=Number.MAX_VALUE;for(t=0;u>t;t++){var b,k,w=p[t],A=w.x,S=w.y,T=w.low,P=a&&d.stacks[(o.negStacks&&(y?0:x)>S?"-":"")+o.stackKey];d.isLog&&null!==S&&0>=S&&(w.y=S=null,C(10)),w.plotX=e=ve(ye(-1e5,l.translate(A,0,0,0,1,g,"flags"===this.type)),1e5),a&&o.visible&&P&&P[A]&&(b=P[A],k=b.points[o.index+","+t],T=k[0],S=k[1],T===y&&(T=ai(x,d.min)),d.isLog&&0>=T&&(T=null),w.total=w.stackTotal=b.total,w.percentage=b.total&&w.y/b.total*100,w.stackY=S,b.setOffset(o.pointXOffset||0,o.barW||0)),w.yBottom=h(T)?d.translate(T,0,1,0,1):null,f&&(S=o.modifyValue(S,w)),w.plotY=i="number"==typeof S&&1/0!==S?ve(ye(-1e5,d.translate(S,0,1,0,1)),1e5):H,w.isInside=i!==H&&i>=0&&i<=d.len&&e>=0&&e<=l.len,w.clientX=m?l.translate(A,0,0,0,1):e,w.negative=w.y<(x||0),w.category=c&&c[w.x]!==H?c[w.x]:w.x,t&&(v=ve(v,be(e-n))),n=e}o.closestPointRangePx=v,o.getSegments()},setClip:function(t){var e=this.chart,i=e.renderer,n=e.inverted,o=this.clipBox,r=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height].join(","),a=e[s],l=e[s+"m"];a||(t&&(r.width=0,e[s+"m"]=l=i.clipRect(-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[s]=a=i.clipRect(r)),t&&(a.count+=1),this.options.clip!==!1&&(this.group.clip(t||o?a:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),t||(a.count-=1,a.count<=0&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i,o=this,r=o.chart,s=o.options.animation;s&&!n(s)&&(s=Si[o.type].animation),t?o.setClip(s):(i=this.sharedClipKey,e=r[i],e&&e.animate({width:r.plotSizeX},s),r[i+"m"]&&r[i+"m"].animate({width:r.plotSizeX+99},s),o.animate=null)},afterAnimate:function(){this.setClip(),bi(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,o,r,s,a,l,h,c,d,p,u=this,f=u.points,g=u.chart,m=u.options,x=m.marker,y=u.pointAttr[""],v=u.markerGroup,b=u.xAxis,k=ai(x.enabled,b.isRadial,u.closestPointRangePx>2*x.radius);if(x.enabled!==!1||u._hasPointMarkers)for(n=f.length;n--;)o=f[n],e=me(o.plotX),i=o.plotY,l=o.graphic,h=o.marker||{},c=!!o.marker,d=k&&h.enabled===H||h.enabled,p=o.isInside,d&&i!==H&&!isNaN(i)&&null!==o.y?(t=o.pointAttr[o.selected?ii:ti]||y,r=t.r,s=ai(h.symbol,u.symbol),a=0===s.indexOf("url"),l?l[p?"show":"hide"](!0).animate(si({x:e-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):p&&(r>0||a)&&(o.graphic=l=g.renderer.symbol(s,e-r,i-r,2*r,2*r,c?h:x).attr(t).add(v))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,n){var o,r,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(o in s)r=s[o],a[o]=ai(t[r],e[o],i[o],n[o]);return a},getAttribs:function(){var t,e,i,n,o,r,s=this,a=s.options,l=Si[s.type].marker?a.marker:a,c=l.states,d=c[ei],p=s.color,u=s.options.negativeColor,f={stroke:p,fill:p},g=s.points||[],m=[],x=s.pointAttrToOptions,y=s.hasPointSpecificOptions,v=l.lineColor,b=l.fillColor,k=a.turboThreshold,w=s.zones,A=s.zoneAxis||"y";if(a.marker?(d.radius=d.radius||l.radius+d.radiusPlus,d.lineWidth=d.lineWidth||l.lineWidth+d.lineWidthPlus):(d.color=d.color||Li(d.color||p).brighten(d.brightness).get(),d.negativeColor=d.negativeColor||Li(d.negativeColor||u).brighten(d.brightness).get()),m[ti]=s.convertAttribs(l,f),fi([ei,ii],function(t){m[t]=s.convertAttribs(c[t],m[ti])}),s.pointAttr=m,e=g.length,!k||k>e||y)for(;e--;){if(i=g[e],l=i.options&&i.options.marker||i.options,l&&l.enabled===!1&&(l.radius=0),w.length){for(var S=0,T=w[S];i[A]>=T.value;)T=w[++S];i.color=i.fillColor=T.color}if(y=a.colorByPoint||i.color,i.options)for(r in x)h(l[x[r]])&&(y=!0);y?(l=l||{},n=[],c=l.states||{},t=c[ei]=c[ei]||{},a.marker||(t.color=t.color||!i.options.color&&d[i.negative&&u?"negativeColor":"color"]||Li(i.color).brighten(t.brightness||d.brightness).get()),o={color:i.color},b||(o.fillColor=i.color),v||(o.lineColor=i.color),l.hasOwnProperty("color")&&!l.color&&delete l.color,n[ti]=s.convertAttribs(si(o,l),m[ti]),n[ei]=s.convertAttribs(c[ei],m[ei],n[ti]),n[ii]=s.convertAttribs(c[ii],m[ii],n[ti])):n=m,i.pointAttr=n}},destroy:function(){var t,e,i,n,o,r=this,s=r.chart,a=/AppleWebKit\/533/.test(Te),h=r.data||[];for(bi(r,"destroy"),vi(r),fi(r.axisTypes||[],function(t){o=r[t],o&&(l(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=h.length;e--;)i=h[e],i&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout);for(n in r)r[n]instanceof O&&!r[n].survive&&(t=a&&"group"===n?"hide":"destroy",r[n][t]());s.hoverSeries===r&&(s.hoverSeries=null),l(s.series,r);for(n in r)delete r[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return fi(t,function(o,r){var s,a=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,r)):(i.push(r?Je:$e),n&&r&&(s=t[r-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):i.push(a,s.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return fi(e.segments,function(o){t=e.getSegmentPath(o),o.length>1?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,o="square"!==e.linecap,r=this.getGraphPath(),s=this.fillGraph&&this.color||qe,a=this.zones;fi(a,function(n,o){i.push(["zoneGraph"+o,n.color||t.color,n.dashStyle||e.dashStyle])}),fi(i,function(i,a){var l,h=i[0],c=t[h];c?(Ai(c),c.animate({d:r})):(n||s)&&r.length&&(l={stroke:i[1],"stroke-width":n,fill:s,zIndex:1},i[2]?l.dashstyle=i[2]:o&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[h]=t.chart.renderer.path(r).attr(l).add(t.group).shadow(2>a&&e.shadow))})},applyZones:function(){var t,e,i,n,o,r,s,a=this,l=this.chart,h=l.renderer,c=this.zones,d=this.clips||[],p=this.graph,u=this.area,f=ye(l.chartWidth,l.chartHeight),g=this.zoneAxis||"y",m=this[g+"Axis"],x=m.reversed,y=l.inverted,v=m.horiz,b=!1;c.length&&(p||u)&&(p&&p.hide(),u&&u.hide(),n=m.getExtremes(),fi(c,function(c,g){t=x?v?l.plotWidth:0:v?0:m.toPixels(n.min),t=ve(ye(ai(e,t),0),f),e=ve(ye(ge(m.toPixels(ai(c.value,n.max),!0)),0),f),b&&(t=e=m.toPixels(n.max)),o=Math.abs(t-e),r=ve(t,e),s=ye(t,e),m.isXAxis?(i={x:y?s:r,y:0,width:o,height:f},v||(i.x=l.plotHeight-i.x)):(i={x:0,y:y?s:r,width:f,height:o},v&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=m.isXAxis?{x:0,y:x?r:s,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),d[g]?d[g].animate(i):(d[g]=h.clipRect(i),p&&a["zoneGraph"+g].clip(d[g]),u&&a["zoneArea"+g].clip(d[g])),b=c.value>n.max}),this.clips=d)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};fi(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(yi(i,"resize",t),yi(e,"destroy",function(){vi(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var r=this[t],s=!r;return s&&(this[t]=r=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),r[s?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=n.animation,r=o&&!!e.animate&&i.renderer.isSVG&&ai(o.duration,500)||0,s=e.visible?Ze:Ue,a=n.zIndex,l=e.hasRendered,h=i.seriesGroup;t=e.plotGroup("group","series",s,a,h),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,h),r&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),fi(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),r&&e.animate(),l||(r?e.animationTimeout=setTimeout(function(){e.afterAnimate()},r):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.isDirty,o=t.group,r=t.xAxis,s=t.yAxis;o&&(e.inverted&&o.attr({width:e.plotWidth,height:e.plotHeight}),o.animate({translateX:ai(r&&r.left,e.plotLeft),translateY:ai(s&&s.top,e.plotTop)})),t.translate(),t.render(),i&&bi(t,"updatedData"),(n||i)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this,n=i.xAxis,o=i.yAxis,r=i.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?o.len-t.chartX+o.pos:t.chartY-o.pos},e)},buildKDTree:function(){function t(e,n,o){var r,s,a=e&&e.length;return a?(r=i.kdAxisArray[n%o],e.sort(function(t,e){return t[r]-e[r]}),s=Math.floor(a/2),{point:e[s],left:t(e.slice(0,s),n+1,o),right:t(e.slice(s+1),n+1,o)}):void 0}function e(){var e=gi(i.points,function(t){return null!==t.y});i.kdTree=t(e,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?e():setTimeout(e)},searchKDTree:function(t,e){function i(t,e){var i=h(t[r])&&h(e[r])?Math.pow(t[r]-e[r],2):null,n=h(t[s])&&h(e[s])?Math.pow(t[s]-e[s],2):null,o=(i||0)+(n||0);
e.dist=h(o)?Math.sqrt(o):Number.MAX_VALUE,e.distX=h(i)?Math.sqrt(i):Number.MAX_VALUE}function n(t,e,r,s){var l,h,c,d,p,u=e.point,f=o.kdAxisArray[r%s],g=u;return i(t,u),l=t[f]-u[f],h=0>l?"left":"right",c=0>l?"right":"left",e[h]&&(d=n(t,e[h],r+1,s),g=d[a]<g[a]?d:u),e[c]&&Math.sqrt(l*l)<g[a]&&(p=n(t,e[c],r+1,s),g=p[a]<g[a]?p:g),g}var o=this,r=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?n(t,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},R.prototype={destroy:function(){T(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?v(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Ue}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ue}).add(t)},setOffset:function(t,e){var i,n=this,o=n.axis,r=o.chart,s=r.inverted,a=o.reversed,l=this.isNegative&&!a||!this.isNegative&&a,h=o.translate(o.usePercentage?100:this.total,0,0,0,1),c=o.translate(0),d=be(h-c),p=r.xAxis[0].translate(this.x)+t,u=r.plotHeight,f={x:s?l?h:h-d:p,y:s?u-p-e:l?u-h-d:u-h,width:s?d:e,height:s?e:d},g=this.label;g&&(g.align(this.alignOptions,null,f),i=g.alignAttr,g[this.options.crop===!1||r.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},Ei.prototype.buildStacks=function(){var t=this.series,e=ai(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)t[e?i:t.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<t.length;i++)t[i].setPercentStacks()}},Ei.prototype.renderStackTotals=function(){var t,e,i,n=this,o=n.chart,r=o.renderer,s=n.stacks,a=n.stackTotalGroup;a||(n.stackTotalGroup=a=r.g("stack-labels").attr({visibility:Ze,zIndex:6}).add()),a.translate(o.plotLeft,o.plotTop);for(t in s){e=s[t];for(i in e)e[i].render(a)}},Ki.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,o,r,s,a,l=this,h=l.processedXData,c=l.processedYData,d=[],p=c.length,u=l.options,f=u.threshold,g=u.startFromThreshold?f:0,m=u.stack,x=u.stacking,y=l.stackKey,v="-"+y,b=l.negStacks,k=l.yAxis,w=k.stacks,A=k.oldStacks;for(r=0;p>r;r++)s=h[r],a=c[r],o=l.index+","+r,t=b&&(g?0:f)>a,n=t?v:y,w[n]||(w[n]={}),w[n][s]||(A[n]&&A[n][s]?(w[n][s]=A[n][s],w[n][s].total=null):w[n][s]=new R(k,k.options.stackLabels,t,s,m)),e=w[n][s],e.points[o]=[ai(e.cum,g)],"percent"===x?(i=t?y:v,b&&w[i]&&w[i][s]?(i=w[i][s],e.total=i.total=ye(i.total,e.total)+be(a)||0):e.total=M(e.total+(be(a)||0))):e.total=M(e.total+(a||0)),e.cum=ai(e.cum,g)+(a||0),e.points[o].push(e.cum),d[r]=e.cum;"percent"===x&&(k.usePercentage=!0),this.stackedYData=d,k.oldStacks={}}},Ki.prototype.setPercentStacks=function(){var t=this,e=t.stackKey,i=t.yAxis.stacks,n=t.processedXData;fi([e,"-"+e],function(e){for(var o,r,s,a,l=n.length;l--;)o=n[l],r=i[e]&&i[e][o],s=r&&r.points[t.index+","+l],s&&(a=r.total?100/r.total:0,s[0]=M(s[0]*a),s[1]=M(s[1]*a),t.stackedYData[l]=s[1])})},si(Ui.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=ai(e,!0),bi(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(e,i,n,o){var r,s=i?"xAxis":"yAxis",a=this.options;r=new Ei(this,t(e,{index:this[s].length,isX:i})),a[s]=d(a[s]||{}),a[s].push(e),ai(n,!0)&&this.redraw(o)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,o=i.loading,r=function(){n&&p(n,{left:e.plotLeft+Ke,top:e.plotTop+Ke,width:e.plotWidth+Ke,height:e.plotHeight+Ke})};n||(e.loadingDiv=n=u(Ne,{className:je+"loading"},si(o.style,{zIndex:10,display:qe}),e.container),e.loadingSpan=u("span",null,o.labelStyle,n),yi(e,"redraw",r)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(p(n,{opacity:0,display:""}),wi(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),e.loadingShown=!0),r()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&wi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:qe})}}),this.loadingShown=!1}}),si(Zi.prototype,{update:function(t,e,i,r){function s(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),n(t)&&!o(t)&&(l.redraw=function(){c&&(t&&t.marker&&t.marker.symbol?l.graphic=c.destroy():c.attr(l.pointAttr[l.state||""])[l.visible===!1?"hide":"show"]()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),a=l.index,h.updateParallelArrays(l,a),u&&l.name&&(u[l.x]=l.name),p.data[a]=l.options,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===p.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var a,l=this,h=l.series,c=l.graphic,d=h.chart,p=h.options,u=h.xAxis&&h.xAxis.names;e=ai(e,!0),r===!1?s():l.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(ui(this,this.series.data),t,e)}}),si(Ki.prototype,{addPoint:function(t,e,i,n){var o,r,s,a,l=this,h=l.options,c=l.data,d=l.graph,p=l.area,u=l.chart,f=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,m=["graph","area"],x=h.data,y=l.xData;if(L(n,u),i){for(s=l.zones.length;s--;)m.push("zoneGraph"+s,"zoneArea"+s);fi(m,function(t){l[t]&&(l[t].shift=g+1)})}if(p&&(p.isArea=!0),e=ai(e,!0),o={series:l},l.pointClass.prototype.applyOptions.apply(o,[t]),a=o.x,s=y.length,l.requireSorting&&a<y[s-1])for(r=!0;s&&y[s-1]>a;)s--;l.updateParallelArrays(o,"splice",s,0,0),l.updateParallelArrays(o,s),f&&o.name&&(f[a]=o.name),x.splice(s,0,t),r&&(l.data.splice(s,0,null),l.processData()),"point"===h.legendType&&l.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),l.updateParallelArrays(o,"shift"),x.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),u.redraw())},removePoint:function(t,e,i){var n=this,o=n.data,r=o[t],s=n.points,a=n.chart,l=function(){o.length===s.length&&s.splice(t,1),o.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(r||{series:n},"splice",t,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};L(i,a),e=ai(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,n=i.chart;t=ai(t,!0),i.isRemoving||(i.isRemoving=!0,bi(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(e,i){var n,o=this,r=this.chart,s=this.userOptions,a=this.type,l=ri[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(e.type&&e.type!==a||void 0!==e.zIndex)&&(h.length=0),fi(h,function(t){h[t]=o[t],delete o[t]}),e=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},e),this.remove(!1);for(n in l)this[n]=H;si(this,ri[e.type||a].prototype),fi(h,function(t){o[t]=h[t]}),this.init(r,e),r.linkSeries(),ai(i,!0)&&r.redraw(!1)}}),si(Ei.prototype,{update:function(e,i){var n=this.chart;e=n.options[this.coll][this.options.index]=t(this.userOptions,e),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=H,this.init(n,si(e,{events:H})),n.isDirtyBox=!0,ai(i,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),fi(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,ai(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var qi=f(Ki);ri.line=qi,Si.area=t(Ti,{threshold:0});var $i=f(Ki,{type:"area",getSegments:function(){var t,e,i,n,o=this,r=[],s=[],a=[],l=this.xAxis,h=this.yAxis,c=h.stacks[this.stackKey],d={},p=this.points,u=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<p.length;i++)d[p[i].x]=p[i];for(n in c)null!==c[n].total&&a.push(+n);a.sort(function(t,e){return t-e}),fi(a,function(n){var r,a=0;if(!u||d[n]&&null!==d[n].y)if(d[n])s.push(d[n]);else{for(i=o.index;i<=h.series.length;i++)if(r=c[n].points[i+","+n]){a=r[1];break}t=l.translate(n),e=h.toPixels(a,!0),s.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:He})}}),s.length&&r.push(s)}else Ki.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(t){var e,i,n=Ki.prototype.getSegmentPath.call(this,t),o=[].concat(n),r=this.options,s=n.length,a=this.yAxis.getThreshold(r.threshold);if(3===s&&o.push(Je,n[1],n[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)i=ai(t[e].yBottom,a),e<t.length-1&&r.step&&o.push(t[e+1].plotX,i),o.push(t[e].plotX,i);else this.closeSegment(o,t,a);return this.areaPath=this.areaPath.concat(o),n},closeSegment:function(t,e,i){t.push(Je,e[e.length-1].plotX,i,Je,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Ki.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=this.zones,o=[["area",this.color,i.fillColor]];fi(n,function(e,n){o.push(["zoneArea"+n,e.color||t.color,e.fillColor||i.fillColor])}),fi(o,function(n){var o=n[0],r=t[o];r?r.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:ai(n[2],Li(n[1]).setOpacity(ai(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:_i.drawRectangle});ri.area=$i,Si.spline=t(Ti);var Ji=f(Ki,{type:"spline",getPointSpline:function(t,e,i){var n,o,r,s,a,l=1.5,h=l+1,c=e.plotX,d=e.plotY,p=t[i-1],u=t[i+1];if(p&&u){var f,g=p.plotX,m=p.plotY,x=u.plotX,y=u.plotY;n=(l*c+g)/h,o=(l*d+m)/h,r=(l*c+x)/h,s=(l*d+y)/h,f=(s-o)*(r-c)/(r-n)+d-s,o+=f,s+=f,o>m&&o>d?(o=ye(m,d),s=2*d-o):m>o&&d>o&&(o=ve(m,d),s=2*d-o),s>y&&s>d?(s=ye(y,d),o=2*d-s):y>s&&d>s&&(s=ve(y,d),o=2*d-s),e.rightContX=r,e.rightContY=s}return i?(a=["C",p.rightContX||p.plotX,p.rightContY||p.plotY,n||c,o||d,c,d],p.rightContX=p.rightContY=null):a=[$e,c,d],a}});ri.spline=Ji,Si.areaspline=t(Si.area);var Qi=$i.prototype,tn=f(Ji,{type:"areaspline",closedStacks:!0,getSegmentPath:Qi.getSegmentPath,closeSegment:Qi.closeSegment,drawGraph:Qi.drawGraph,drawLegendSymbol:_i.drawRectangle});ri.areaspline=tn,Si.column=t(Ti,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var en=f(Ki,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ki.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&fi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,o=i.xAxis,r=i.yAxis,s=o.reversed,a={},l=0;n.grouping===!1?l=1:fi(i.chart.series,function(n){var o=n.options,s=n.yAxis;n.type===i.type&&n.visible&&r.len===s.len&&r.pos===s.pos&&(o.stacking?(t=n.stackKey,a[t]===H&&(a[t]=l++),e=a[t]):o.grouping!==!1&&(e=l++),n.columnIndex=e)});var c=ve(be(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len),d=c*n.groupPadding,p=c-2*d,u=p/l,f=n.pointWidth,g=h(f)?(u-f)/2:u*n.pointPadding,m=ai(f,u-2*g),x=(s?l-(i.columnIndex||0):i.columnIndex)||0,y=g+(d+x*u-c/2)*(s?-1:1);return i.columnMetrics={width:m,offset:y}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=ai(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),o=t.yAxis,r=i.threshold,s=t.translatedThreshold=o.getThreshold(r),a=ai(i.minPointLength,5),l=t.getColumnMetrics(),h=l.width,c=t.barW=ye(h,1+2*n),d=t.pointXOffset=l.offset,p=-(n%2?.5:0),u=n%2?.5:1;e.inverted&&(s-=.5,e.renderer.isVML&&(u+=1)),i.pointPadding&&(c=xe(c)),Ki.prototype.translate.apply(t),fi(t.points,function(i){var n,r,l,f,g=ai(i.yBottom,s),m=999+be(g),x=ve(ye(-m,i.plotY),o.len+m),y=i.plotX+d,v=c,b=ve(x,g),k=ye(x,g)-b;be(k)<a&&a&&(k=a,f=!o.reversed&&!i.negative||o.reversed&&i.negative,b=ge(be(b-s)>a?g-a:s-(f?a:0))),i.barX=y,i.pointWidth=h,n=ge(y+v)+p,y=ge(y)+p,v=n-y,l=be(b)<.5,r=ve(ge(b+k)+u,9e4),b=ge(b)+u,k=r-b,l&&(b-=1,k+=1),i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-x,t.xAxis.len-y-v/2,k]:[y+v/2,x+o.pos-e.plotTop,k],i.shapeType="rect",i.shapeArgs={x:y,y:b,width:v,height:k}})},getSymbol:He,drawLegendSymbol:_i.drawRectangle,drawGraph:He,drawPoints:function(){var e,i,n=this,o=this.chart,r=n.options,s=o.renderer,a=r.animationLimit||250;fi(n.points,function(l){var c,d=l.plotY,p=l.graphic;d===H||isNaN(d)||null===l.y?p&&(l.graphic=p.destroy()):(e=l.shapeArgs,c=h(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?ii:ti]||n.pointAttr[ti],p?(Ai(p),p.attr(c)[o.pointCount<a?"animate":"attr"](t(e))):l.graphic=p=s[l.shapeType](e).attr(c).attr(i).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(t){var e,i=this,n=this.yAxis,o=i.options,r=this.chart.inverted,s={};Oe&&(t?(s.scaleY=.001,e=ve(n.pos+n.len,ye(n.pos,n.toPixels(o.threshold))),r?s.translateX=e-n.len:s.translateY=e,i.group.attr(s)):(s.scaleY=1,s[r?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&fi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ki.prototype.remove.apply(t,arguments)}});ri.column=en,Si.bar=t(Si.column);var nn=f(en,{type:"bar",inverted:!0});ri.bar=nn,Si.scatter=t(Ti,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var on=f(Ki,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Ki.prototype.drawGraph.call(this)}});ri.scatter=on,Si.pie=t(Ti,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var rn=f(Zi,{init:function(){Zi.prototype.init.apply(this,arguments);var t,e=this;return si(e,{visible:e.visible!==!1,name:ai(e.name,"Slice")}),t=function(t){e.slice("select"===t.type)},yi(e,"select",t),yi(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,r=n.options.ignoreHiddenPoint;e=ai(e,r),t!==i.visible&&(i.visible=i.options.visible=t=t===H?!i.visible:t,n.options.data[ui(i,n.data)]=i.options,fi(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),r&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var n,o=this,r=o.series,s=r.chart;L(i,s),e=ai(e,!0),o.sliced=o.options.sliced=t=h(t)?t:!o.sliced,r.options.data[ui(o,r.data)]=o.options,n=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),sn={type:"pie",isCartesian:!1,pointClass:rn,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:He,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(fi(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e,i,n){Ki.prototype.setData.call(this,t,!1,i,n),this.processData(),this.generatePoints(),ai(e,!0)&&this.chart.redraw(i)},updateTotals:function(){var t,e,i=0,n=this.points,o=n.length,r=this.options.ignoreHiddenPoint;for(t=0;o>t;t++)e=n[t],i+=r&&!e.visible?0:e.y;for(this.total=i,t=0;o>t;t++)e=n[t],e.percentage=i>0&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){Ki.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,o,r,s,a,l=this,h=0,c=1e3,d=l.options,p=d.slicedOffset,u=p+d.borderWidth,f=d.startAngle||0,g=l.startAngleRad=Ae/180*(f-90),m=l.endAngleRad=Ae/180*(ai(d.endAngle,f+360)-90),x=m-g,y=l.points,v=d.dataLabels.distance,b=d.ignoreHiddenPoint,k=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=fe.asin(ve((e-t[1])/(t[2]/2+v),1)),t[0]+(i?-1:1)*ke(n)*(t[2]/2+v)},s=0;k>s;s++)a=y[s],e=g+h*x,(!b||a.visible)&&(h+=a.percentage/100),i=g+h*x,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ge(e*c)/c,end:ge(i*c)/c},n=(i+e)/2,n>1.5*Ae?n-=2*Ae:-Ae/2>n&&(n+=2*Ae),a.slicedTranslation={translateX:ge(ke(n)*p),translateY:ge(we(n)*p)},o=ke(n)*t[2]/2,r=we(n)*t[2]/2,a.tooltipPos=[t[0]+.7*o,t[1]+.7*r],a.half=-Ae/2>n||n>Ae/2?1:0,a.angle=n,u=ve(u,v/2),a.labelPos=[t[0]+o+ke(n)*v,t[1]+r+we(n)*v,t[0]+o+ke(n)*u,t[1]+r+we(n)*u,t[0]+o,t[1]+r,0>v?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,o,r=this,s=r.chart,a=s.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),fi(r.points,function(s){e=s.graphic,n=s.shapeArgs,i=s.shadowGroup,l&&!i&&(i=s.shadowGroup=a.g("shadow").add(r.shadowGroup)),t=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.animate(si(n,t)):(o={"stroke-linejoin":"round"},s.visible||(o.visibility="hidden"),s.graphic=e=a[s.shapeType](n).setRadialReference(r.center).attr(s.pointAttr[s.selected?ii:ti]).attr(o).attr(t).add(r.group).shadow(l,i))})},searchPoint:He,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:_i.drawRectangle,getCenter:ji.getCenter,getSymbol:He};sn=f(Ki,sn),ri.pie=sn,Ki.prototype.drawDataLabels=function(){var e,i,n,o,r=this,s=r.options,a=s.cursor,l=s.dataLabels,c=r.points,d=r.hasRendered||0,p=r.chart.renderer;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),o=r.plotGroup("dataLabelsGroup","data-labels",l.defer?Ue:Ze,l.zIndex||6),ai(l.defer,!0)&&(o.attr({opacity:+d}),d||yi(r,"afterAnimate",function(){r.visible&&o.show(),o[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,fi(c,function(c){var d,u,f,g,m,x,y=c.dataLabel,b=c.connector,k=!0,w={};if(e=c.dlOptions||c.options&&c.options.dataLabels,d=ai(e&&e.enabled,i.enabled),y&&!d)c.dataLabel=y.destroy();else if(d){if(l=t(i,e),x=l.style,m=l.rotation,u=c.getLabelConfig(),n=l.format?v(l.format,u):l.formatter.call(u,l),x.color=ai(l.color,x.color,r.color,"black"),y)h(n)?(y.attr({text:n}),k=!1):(c.dataLabel=y=y.destroy(),b&&(c.connector=b.destroy()));else if(h(n)){f={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:m,padding:l.padding,zIndex:1},"contrast"===x.color&&(w.color=l.inside||l.distance<0||s.stacking?p.getContrast(c.color||r.color):"#000000"),a&&(w.cursor=a);for(g in f)f[g]===H&&delete f[g];y=c.dataLabel=p[m?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(f).css(si(x,w)).add(o).shadow(l.shadow)}y&&r.alignDataLabel(c,y,l,null,k)}}))},Ki.prototype.alignDataLabel=function(t,e,i,n,o){var r,s,a=this.chart,l=a.inverted,h=ai(t.plotX,-999),c=ai(t.plotY,-999),d=e.getBBox(),p=a.renderer.fontMetrics(i.style.fontSize).b,u=this.visible&&(t.series.forceDL||a.isInsidePlot(h,ge(c),l)||n&&a.isInsidePlot(h,l?n.x+1:n.y+n.height-1,l));u&&(n=si({x:l?a.plotWidth-c:h,y:ge(l?a.plotHeight-h:c),width:0,height:0},n),si(i,{width:d.width,height:d.height}),i.rotation?(r=a.renderer.rotCorr(p,i.rotation),e[o?"attr":"animate"]({x:n.x+i.x+n.width/2+r.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(e.align(i,null,n),s=e.alignAttr,"justify"===ai(i.overflow,"justify")?this.justifyDataLabel(e,i,s,d,n,o):ai(i.crop,!0)&&(u=a.isInsidePlot(s.x,s.y)&&a.isInsidePlot(s.x+d.width,s.y+d.height)),i.shape&&e.attr({anchorX:t.plotX,anchorY:t.plotY}))),u||(e.attr({y:-999}),e.placed=!1)},Ki.prototype.justifyDataLabel=function(t,e,i,n,o,r){var s,a,l=this.chart,h=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;s=i.x+d,0>s&&("right"===h?e.align="left":e.x=-s,a=!0),s=i.x+n.width-d,s>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+d,0>s&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-d,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!r,t.align(e,null,o))},ri.pie&&(ri.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,r,s,a,l,h,c,d,p,u=this,f=u.data,g=u.chart,m=u.options.dataLabels,x=ai(m.connectorPadding,10),y=ai(m.connectorWidth,1),v=g.plotWidth,b=g.plotHeight,k=ai(m.softConnector,!0),w=m.distance,A=u.center,T=A[2]/2,P=A[1],C=w>0,M=[[],[]],L=[0,0,0,0],D=function(t,e){return e.y-t.y};if(u.visible&&(m.enabled||u._hasPointLabels)){for(Ki.prototype.drawDataLabels.apply(u),fi(f,function(t){t.dataLabel&&t.visible&&M[t.half].push(t)}),d=2;d--;){var I,B,O,z,R=[],E=[],W=M[d],H=W.length;if(H){for(u.sortByAngle(W,d-.5),p=s=0;!s&&W[p];)s=W[p]&&W[p].dataLabel&&(W[p].dataLabel.getBBox().height||21),p++;if(w>0){for(O=ve(P+T+w,g.plotHeight),B=ye(0,P-T-w);O>=B;B+=s)R.push(B);if(I=R.length,H>I){for(c=[].concat(W),c.sort(D),p=H;p--;)c[p].rank=p;for(p=H;p--;)W[p].rank>=I&&W.splice(p,1);H=W.length}for(p=0;H>p;p++){t=W[p],r=t.labelPos;var X,G,Y=9999;for(G=0;I>G;G++)X=be(R[G]-r[1]),Y>X&&(Y=X,z=G);if(p>z&&null!==R[p])z=p;else if(H-p+z>I&&null!==R[p])for(z=I-H+p;null===R[z];)z++;else for(;null===R[z];)z++;E.push({i:z,y:R[z]}),R[z]=null}E.sort(D)}for(p=0;H>p;p++){var F,N;t=W[p],r=t.labelPos,n=t.dataLabel,h=t.visible===!1?Ue:"inherit",N=r[1],w>0?(F=E.pop(),z=F.i,l=F.y,(N>l&&null!==R[z+1]||l>N&&null!==R[z-1])&&(l=ve(ye(0,N),g.plotHeight))):l=N,a=m.justify?A[0]+(d?-1:1)*(T+w):u.getX(l===P-T-w||l===P+T+w?N:l,d),n._attr={visibility:h,align:r[6]},n._pos={x:a+m.x+({left:x,right:-x}[r[6]]||0),y:l+m.y-10},n.connX=a,n.connY=l,null===this.options.size&&(o=n.width,x>a-o?L[3]=ye(ge(o-a+x),L[3]):a+o>v-x&&(L[1]=ye(ge(a+o-v+x),L[1])),0>l-s/2?L[0]=ye(ge(-l+s/2),L[0]):l+s/2>b&&(L[2]=ye(ge(l+s/2-b),L[2])))}}}(0===S(L)||this.verifyDataLabelOverflow(L))&&(this.placeDataLabels(),C&&y&&fi(this.points,function(t){e=t.connector,r=t.labelPos,n=t.dataLabel,n&&n._pos&&t.visible?(h=n._attr.visibility,a=n.connX,l=n.connY,i=k?[$e,a+("left"===r[6]?5:-5),l,"C",a,l,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],Je,r[4],r[5]]:[$e,a+("left"===r[6]?5:-5),l,Je,r[2],r[3],Je,r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=u.chart.renderer.path(i).attr({"stroke-width":y,stroke:m.connectorColor||t.color||"#606060",visibility:h}).add(u.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},ri.pie.prototype.placeDataLabels=function(){fi(this.points,function(t){var e,i=t.dataLabel;i&&t.visible&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},ri.pie.prototype.alignDataLabel=He,ri.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,r=n.minSize||80,s=r;return null!==o[0]?s=ye(i[2]-ye(t[1],t[3]),r):(s=ye(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==o[1]?s=ye(ve(s,i[2]-ye(t[0],t[2])),r):(s=ye(ve(s,i[2]-t[0]-t[2]),r),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,i[3]=m(n.innerSize||0,s),this.translate(i),fi(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),ri.column&&(ri.column.prototype.alignDataLabel=function(e,i,n,o,r){var s=this.chart.inverted,a=e.series,l=e.dlBox||e.shapeArgs,h=ai(e.below,e.plotY>ai(this.translatedThreshold,a.yAxis.len)),c=ai(n.inside,!!this.options.stacking);l&&(o=t(l),s&&(o={x:a.yAxis.len-o.y-o.height,y:a.xAxis.len-o.x-o.width,width:o.height,height:o.width}),c||(s?(o.x+=h?0:o.width,o.width=0):(o.y+=h?o.height:0,o.height=0))),n.align=ai(n.align,!s||c?"center":h?"right":"left"),n.verticalAlign=ai(n.verticalAlign,s||c?"middle":h?"top":"bottom"),Ki.prototype.alignDataLabel.call(this,e,i,n,o,r)}),function(t){var e=t.Chart,i=t.each,n=t.pick,o=HighchartsAdapter.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var o=t.options.dataLabels;(o.enabled||t._hasPointLabels)&&!o.allowOverlap&&t.visible&&i(t.points,function(t){t.dataLabel&&(t.dataLabel.labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t.dataLabel))})}),t.hideOverlappingLabels(e)}e(),o(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,n,o,r,s=t.length,a=function(t,e,i,n){return!(e.x>t.x+i.width||e.x+n.width<t.x||e.y>t.y+i.height||e.y+n.height<t.y)};for(i=0;s>i;i++)e=t[i],e&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return e.labelrank-t.labelrank}),i=0;s>i;i++)for(o=t[i],n=i+1;s>n;++n)r=t[n],o&&r&&o.placed&&r.placed&&0!==o.newOpacity&&0!==r.newOpacity&&a(o.alignAttr,r.alignAttr,o,r)&&((o.labelrank<r.labelrank?o:r).newOpacity=0);for(i=0;s>i;i++)e=t[i],e&&(e.oldOpacity!==e.newOpacity&&e.placed&&(e.alignAttr.opacity=e.newOpacity,e[e.isOld&&e.newOpacity?"animate":"attr"](e.alignAttr)),e.isOld=!0)}}(de);var an=de.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},r=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==H&&i!==e.hoverPoint&&i.onMouseOver(t)};fi(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(fi(t.trackerGroups,function(e){t[e]&&(t[e].addClass(je+"tracker").on("mouseover",r).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),G&&t[e].on("touchstart",r))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,i=this,n=i.options,o=n.trackByArea,r=[].concat(o?i.areaPath:i.graphPath),s=r.length,a=i.chart,l=a.pointer,h=a.renderer,c=a.options.tooltip.snap,d=i.tracker,p=n.cursor,u=p&&{cursor:p},f=i.singlePoints,g=function(){a.hoverSeries!==i&&i.onMouseOver()},m="rgba(192,192,192,"+(Oe?1e-4:.002)+")";if(s&&!o)for(e=s+1;e--;)r[e]===$e&&r.splice(e+1,0,r[e+1]-c,r[e+2],Je),(e&&r[e]===$e||e===s)&&r.splice(e,0,Je,r[e-2]+c,r[e-1]);for(e=0;e<f.length;e++)t=f[e],r.push($e,t.plotX-c,t.plotY,Je,t.plotX+c,t.plotY);d?d.attr({d:r}):(i.tracker=h.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?Ze:Ue,stroke:m,fill:o?m:qe,"stroke-width":n.lineWidth+(o?0:2*c),zIndex:2}).add(i.group),fi([i.tracker,i.markerGroup],function(t){t.addClass(je+"tracker").on("mouseover",g).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(u),G&&t.on("touchstart",g)}))}};ri.column&&(en.prototype.drawTracker=an.drawTrackerPoint),ri.pie&&(ri.pie.prototype.drawTracker=an.drawTrackerPoint),ri.scatter&&(on.prototype.drawTracker=an.drawTrackerPoint),si(Vi.prototype,{setItemEvents:function(t,e,i,n,o){var r=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState(ei),e.css(r.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:o),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):bi(t,i,e,n)})},createCheckboxForItem:function(t){var e=this;t.checkbox=u("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),yi(t.checkbox,"click",function(e){var i=e.target;bi(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}),F.legend.itemStyle.cursor="pointer",si(Ui.prototype,{showResetZoom:function(){var t=this,e=F.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var t=this;bi(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,o=this,r=o.pointer,s=!1;!t||t.resetSelection?fi(o.axes,function(t){e=t.zoom()}):fi(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=o.resetZoomButton,s&&!i?o.showResetZoom():!s&&n(i)&&(o.resetZoomButton=i.destroy()),e&&o.redraw(ai(o.options.chart.animation,t&&t.animation,o.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&fi(o,function(t){t.setState()}),fi("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],r=n[e?"xAxis":"yAxis"][0],s=n[e?"mouseDownX":"mouseDownY"],a=(r.pointRange||0)/2,l=r.getExtremes(),h=r.toValue(s-o,!0)+a,c=r.toValue(s+n[e?"plotWidth":"plotHeight"]-o,!0)-a,d=s>o;r.series.length&&(d||h>ve(l.dataMin,l.min))&&(!d||c<ye(l.dataMax,l.max))&&(r.setExtremes(h,c,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),p(n.container,{cursor:"move"})}}),si(Zi.prototype,{select:function(t,e){var i=this,n=i.series,o=n.chart;t=ai(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ui(i,n.data)]=i.options,i.setState(t&&ii),e||fi(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ui(t,n.data)]=t.options,t.setState(ti),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.tooltip,r=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),r&&r!==e&&r.onMouseOut(),e.series&&(e.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(e,t),e.setState(ei),n.hoverPoint=e)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==ui(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,i=this,n=t(i.series.options.point,i.options),o=n.events;i.events=o;for(e in o)yi(i,e,o[e]);this.hasImportedEvents=!0}},setState:function(e,i){var n,o,r,s,a=this,l=a.plotX,h=a.plotY,c=a.series,d=c.options.states,p=Si[c.type].marker&&c.options.marker,u=p&&!p.enabled,f=p&&p.states[e],g=f&&f.enabled===!1,m=c.stateMarkerGraphic,x=a.marker||{},y=c.chart,v=c.halo;e=e||ti,s=a.pointAttr[e]||c.pointAttr[e],e===a.state&&!i||a.selected&&e!==ii||d[e]&&d[e].enabled===!1||e&&(g||u&&f.enabled===!1)||e&&x.states&&x.states[e]&&x.states[e].enabled===!1||(a.graphic?(n=p&&a.graphic.symbolName&&s.r,a.graphic.attr(t(s,n?{x:l-n,y:h-n,width:2*n,height:2*n}:{})),m&&m.hide()):(e&&f&&(n=f.radius,r=x.symbol||c.symbol,m&&m.currentSymbol!==r&&(m=m.destroy()),m?m[i?"animate":"attr"]({x:l-n,y:h-n}):r&&(c.stateMarkerGraphic=m=y.renderer.symbol(r,l-n,h-n,2*n,2*n).attr(s).add(c.markerGroup),m.currentSymbol=r)),m&&(m[e&&y.isInsidePlot(l,h,y.inverted)?"show":"hide"](),m.element.point=a)),o=d[e]&&d[e].halo,o&&o.size?(v||(c.halo=v=y.renderer.path().add(y.seriesGroup)),v.attr(si({fill:Li(a.color||c.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:a.haloPath(o.size)})):v&&v.attr({d:[]}),a.state=e)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?e.yAxis.len-this.plotY:this.plotX)-t,n.translateY+(o?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),si(Ki.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&bi(t,"mouseOver"),t.setState(ei),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;i.hoverSeries=null,o&&o.onMouseOut(),t&&e.events.mouseOut&&bi(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState()},setState:function(t){var e,i=this,n=i.options,o=i.graph,r=n.states,s=n.lineWidth,a=0;if(t=t||ti,i.state!==t){if(i.state=t,r[t]&&r[t].enabled===!1)return;if(t&&(s=r[t].lineWidth||s+(r[t].lineWidthPlus||0)),o&&!o.dashstyle)for(e={"stroke-width":s},o.attr(e);i["zoneGraph"+a];)i["zoneGraph"+a].attr(e),a+=1}},setVisible:function(t,e){var i,n=this,o=n.chart,r=n.legendItem,s=o.options.chart.ignoreHiddenSeries,a=n.visible;
n.visible=t=n.userOptions.visible=t===H?!a:t,i=t?"show":"hide",fi(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),(o.hoverSeries===n||(o.hoverPoint&&o.hoverPoint.series)===n)&&n.onMouseOut(),r&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&fi(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),fi(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(o.isDirtyBox=!0),e!==!1&&o.redraw(),bi(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===H?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),bi(e,t?"select":"unselect")},drawTracker:an.drawTrackerGraph}),li(Ki.prototype,"init",function(t){var e,i=this;t.apply(this,Array.prototype.slice.call(arguments,1)),e=i.xAxis,e&&e.options.ordinal&&yi(i,"updatedData",function(){delete e.ordinalIndex})}),li(Ei.prototype,"getTimeTicks",function(t,e,i,n,o,r,s,a){var l,c,d,p,u,f=0,g=0,m={},x=[],y=-Number.MAX_VALUE,v=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||i===H)return t.call(this,e,i,n,o);for(p=r.length;p>g;g++){if(u=g&&r[g-1]>n,r[g]<i&&(f=g),g===p-1||r[g+1]-r[g]>5*s||u){if(r[g]>y){for(l=t.call(this,e,r[f],r[g],o);l.length&&l[0]<=y;)l.shift();l.length&&(y=l[l.length-1]),x=x.concat(l)}f=g+1}if(u)break}if(d=l.info,a&&d.unitRange<=U.hour){for(g=x.length-1,f=1;g>f;f++)N("%d",x[f])!==N("%d",x[f-1])&&(m[x[f]]="day",c=!0);c&&(m[x[0]]="day"),d.higherRanks=m}if(x.info=d,a&&h(v)){for(var b,k,w,A,S,T=x.length,P=T,C=[],M=[];P--;)k=this.translate(x[P]),w&&(M[P]=w-k),C[P]=w=k;for(M.sort(),A=M[me(M.length/2)],.6*v>A&&(A=null),P=x[T-1]>n?T-1:T,w=void 0;P--;)k=C[P],S=w-k,w&&.8*v>S&&(null===A||.8*A>S)?(m[x[P]]&&!m[x[P+1]]?(b=P+1,w=k):b=P,x.splice(b,1)):w=k}return x}),si(Ei.prototype,{beforeSetTickPositions:function(){var t,e,i,n,o,r,s=this,a=[],l=!1,h=s.getExtremes(),c=h.min,d=h.max,p=s.isXAxis&&!!s.options.breaks,u=s.options.ordinal;if(u||p){if(fi(s.series,function(e,i){if(e.visible!==!1&&(e.takeOrdinalPosition!==!1||p)&&(a=a.concat(e.processedXData),t=a.length,a.sort(function(t,e){return t-e}),t))for(i=t-1;i--;)a[i]===a[i+1]&&a.splice(i,1)}),t=a.length,t>2){for(e=a[1]-a[0],r=t-1;r--&&!l;)a[r+1]-a[r]!==e&&(l=!0);!s.options.keepOrdinalPadding&&(a[0]-c>e||d-a[a.length-1]>e)&&(l=!0)}l?(s.ordinalPositions=a,i=s.val2lin(ye(c,a[0]),!0),n=ye(s.val2lin(ve(d,a[a.length-1]),!0),1),s.ordinalSlope=o=(d-c)/(n-i),s.ordinalOffset=c-i*o):s.ordinalPositions=s.ordinalSlope=s.ordinalOffset=H}s.doPostTranslate=u&&l||p,s.groupIntervalFactor=null},val2lin:function(t,e){var i=this,n=i.ordinalPositions;if(n){var o,r,s,a=n.length;for(o=a;o--;)if(n[o]===t){s=o;break}for(o=a-1;o--;)if(t>n[o]||0===o){r=(t-n[o])/(n[o+1]-n[o]),s=o+r;break}return e?s:i.ordinalSlope*(s||0)+i.ordinalOffset}return t},lin2val:function(t,e){var i=this,n=i.ordinalPositions;if(n){var o,r,s,a=i.ordinalSlope,l=i.ordinalOffset,h=n.length-1;if(e)0>t?t=n[0]:t>h?t=n[h]:(h=me(t),s=t-h);else for(;h--;)if(o=a*h+l,t>=o){r=a*(h+1)+l,s=(t-o)/(r-o);break}return s!==H&&n[h]!==H?n[h]+(s?s*(n[h+1]-n[h]):0):t}return t},getExtendedPositions:function(){var t,e,i=this,n=i.chart,o=i.series[0].currentDataGrouping,r=i.ordinalIndex,s=o?o.count+o.unitName:"raw",a=i.getExtremes();return r||(r=i.ordinalIndex={}),r[s]||(t={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:Ei.prototype.val2lin},fi(i.series,function(i){e={xAxis:t,xData:i.xData,chart:n,destroyGroupedData:He},e.options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}},i.processData.apply(e),t.series.push(e)}),i.beforeSetTickPositions.apply(t),r[s]=t.ordinalPositions),r[s]},getGroupIntervalFactor:function(t,e,i){var n,o=0,r=i.processedXData,s=r.length,a=[],l=this.groupIntervalFactor;if(!l){for(;s-1>o;o++)a[o]=r[o+1]-r[o];a.sort(function(t,e){return t-e}),n=a[me(s/2)],t=ye(t,r[0]),e=ve(e,r[s-1]),this.groupIntervalFactor=l=s*n/(e-t)}return l},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange:t/(e/this.closestPointRange):t}}),li(Ui.prototype,"pan",function(t,e){var i=this,n=i.xAxis[0],o=e.chartX,r=!1;if(n.options.ordinal&&n.series.length){var s,a,l,h,c=i.mouseDownX,d=n.getExtremes(),u=d.dataMax,f=d.min,g=d.max,m=i.hoverPoints,x=n.closestPointRange,y=n.translationSlope*(n.ordinalSlope||x),v=(c-o)/y,b={ordinalPositions:n.getExtendedPositions()},k=n.lin2val,w=n.val2lin;b.ordinalPositions?be(v)>1&&(m&&fi(m,function(t){t.setState()}),0>v?(l=b,h=n.ordinalPositions?n:b):(l=n.ordinalPositions?n:b,h=b),a=h.ordinalPositions,u>a[a.length-1]&&a.push(u),i.fixedRange=g-f,s=n.toFixedRange(null,null,k.apply(l,[w.apply(l,[f,!0])+v,!0]),k.apply(h,[w.apply(h,[g,!0])+v,!0])),s.min>=ve(d.dataMin,f)&&s.max<=ye(u,g)&&n.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),i.mouseDownX=o,p(i.container,{cursor:"move"})):r=!0}else r=!0;r&&t.apply(this,Array.prototype.slice.call(arguments,1))}),li(Ki.prototype,"getSegments",function(t){var e,i=this,n=i.options.gapSize,o=i.xAxis;t.apply(this,Array.prototype.slice.call(arguments,1)),n&&(e=i.segments,fi(e,function(t,i){for(var r=t.length-1;r--;){if(t[r].x<o.min&&t[r+1].x>o.max){e.length=0;break}t[r+1].x-t[r].x>o.closestPointRange*n&&e.splice(i+1,0,t.splice(r+1,t.length-r))}}))}),function(t){"use strict";function e(){return Array.prototype.slice.call(arguments,1)}var i=t.pick,n=t.wrap,o=t.extend,r=HighchartsAdapter.fireEvent,s=t.Axis,a=t.Series;o(s.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,n=t.from,o=t.to-t.from,r=e>=n?(e-n)%i:i-(n-e)%i;return t.inclusive?o>=r:o>r&&0!==r},isInAnyBreak:function(t,e){var n,o,r,s=this.options.breaks,a=s&&s.length;if(a){for(;a--;)this.isInBreak(s[a],t)&&(n=!0,o||(o=i(s[a].showPoints,this.isXAxis?!1:!0)));r=n&&e?n&&!o:n}return r}}),n(s.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this,n=this.tickPositions,o=this.tickPositions.info,r=[];if(o&&o.totalRange>=i.closestPointRange)return;for(e=0;e<n.length;e++)i.isInAnyBreak(n[e])||r.push(n[e]);this.tickPositions=r,this.tickPositions.info=o}}),n(s.prototype,"init",function(t,e,i){if(i.breaks&&i.breaks.length&&(i.ordinal=!1),t.call(this,e,i),this.options.breaks){var n=this;n.doPostTranslate=!0,this.val2lin=function(t){var e,i,o=t;for(i=0;i<n.breakArray.length;i++)if(e=n.breakArray[i],e.to<=t)o-=e.len;else{if(e.from>=t)break;if(n.isInBreak(e,t)){o-=t-e.from;break}}return o},this.lin2val=function(t){var e,i,o=t;for(i=0;i<n.breakArray.length&&(e=n.breakArray[i],!(e.from>=o));i++)e.to<o?o+=e.len:n.isInBreak(e,o)&&(o+=e.len);return o},this.setExtremes=function(t,e,i,n,o){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;s.prototype.setExtremes.call(this,t,e,i,n,o)},this.setAxisTranslation=function(t){s.prototype.setAxisTranslation.call(this,t);var e,i,o,a,l,h,c=n.options.breaks,d=[],p=[],u=0,f=n.userMin||n.min,g=n.userMax||n.max;for(l in c)o=c[l],i=o.repeat||1/0,n.isInBreak(o,f)&&(f+=o.to%i-f%i),n.isInBreak(o,g)&&(g-=g%i-o.from%i);for(l in c){for(o=c[l],a=o.from,i=o.repeat||1/0;a-i>f;)a-=i;for(;f>a;)a+=i;for(h=a;g>h;h+=i)d.push({value:h,move:"in"}),d.push({value:h+(o.to-o.from),move:"out",size:o.breakSize})}d.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,a=f;for(l in d)o=d[l],e+="in"===o.move?1:-1,1===e&&"in"===o.move&&(a=o.value),0===e&&(p.push({from:a,to:o.value,len:o.value-a-(o.size||0)}),u+=o.value-a-(o.size||0));n.breakArray=p,r(n,"afterBreaks"),n.transA*=(g-n.min)/(g-f-u),n.min=f,n.max=g}}}),n(a.prototype,"generatePoints",function(t){t.apply(this,e(arguments));var i,n,o=this,r=o.xAxis,s=o.yAxis,a=o.points,l=a.length,h=o.options.connectNulls;if(r&&s&&(r.options.breaks||s.options.breaks))for(;l--;)i=a[l],n=null===i.y&&h===!1,n||!r.isInAnyBreak(i.x,!0)&&!s.isInAnyBreak(i.y,!0)||(a.splice(l,1),this.data[l]&&this.data[l].destroyElements())}),n(t.seriesTypes.column.prototype,"drawPoints",function(t){t.apply(this);var e,i,n,o,s,a=this,l=a.points,h=a.yAxis,c=h.breakArray||[];for(n=0;n<l.length;n++)for(e=l[n],s=e.stackY||e.y,o=0;o<c.length&&(i=c[o],!(s<i.from));o++)s>i.to?r(h,"pointBreak",{point:e,brk:i}):r(h,"pointInBreak",{point:e,brk:i})})}(de);var ln="dataGrouping",hn=Ki.prototype,cn=Wi.prototype,dn=hn.processData,pn=hn.generatePoints,un=hn.destroy,fn=cn.tooltipFooterHeaderFormatter,gn="number",mn={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},xn={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},yn=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],vn={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length,i=vn.sum(t);return typeof i===gn&&e&&(i/=e),i},open:function(t){return t.length?t[0]:t.hasNulls?null:H},high:function(t){return t.length?S(t):t.hasNulls?null:H},low:function(t){return t.length?A(t):t.hasNulls?null:H},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:H},ohlc:function(t,e,i,n){return t=vn.open(t),e=vn.high(e),i=vn.low(i),n=vn.close(n),typeof t===gn||typeof e===gn||typeof i===gn||typeof n===gn?[t,e,i,n]:void 0},range:function(t,e){return t=vn.low(t),e=vn.high(e),typeof t===gn||typeof e===gn?[t,e]:void 0}};hn.groupData=function(t,e,i,n){var o,r,s,a,l=this,h=l.data,c=l.options.data,d=[],p=[],u=t.length,f=!!e,g=[[],[],[],[]],m="function"==typeof n?n:vn[n],x=l.pointArrayMap,y=x&&x.length;for(a=0;u>=a&&!(t[a]>=i[0]);a++);for(;u>=a;a++){for(;(i[1]!==H&&t[a]>=i[1]||a===u)&&(o=i.shift(),s=m.apply(0,g),s!==H&&(d.push(o),p.push(s)),g[0]=[],g[1]=[],g[2]=[],g[3]=[],a!==u););if(a===u)break;if(x){var v,b,k=l.cropStart+a,w=h&&h[k]||l.pointClass.prototype.applyOptions.apply({series:l},[c[k]]);for(v=0;y>v;v++)b=w[x[v]],typeof b===gn?g[v].push(b):null===b&&(g[v].hasNulls=!0)}else r=f?e[a]:null,typeof r===gn?g[0].push(r):null===r&&(g[0].hasNulls=!0)}return[d,p]},hn.processData=function(){var t,e=this,i=e.chart,n=e.options,o=n[ln],r=e.allowDG!==!1&&o&&ai(o.enabled,i.options._stock);if(e.forceCrop=r,e.groupPixelWidth=null,e.hasProcessed=!0,dn.apply(e,arguments)!==!1&&r){e.destroyGroupedData();var s,a=e.processedXData,l=e.processedYData,c=i.plotSizeX,d=e.xAxis,p=d.options.ordinal,u=e.groupPixelWidth=d.getGroupPixelWidth&&d.getGroupPixelWidth(),f=e.pointRange;if(u){t=!0,e.points=null;var g=d.getExtremes(),m=g.min,x=g.max,y=p&&d.getGroupIntervalFactor(m,x,e)||1,v=u*(x-m)/c*y,b=d.getTimeTicks(d.normalizeTimeTickInterval(v,o.units||yn),m,x,d.options.startOfWeek,a,e.closestPointRange),k=hn.groupData.apply(e,[a,l,b,o.approximation]),w=k[0],A=k[1];if(o.smoothed){for(s=w.length-1,w[s]=x;s--&&s>0;)w[s]+=v/2;w[0]=m}e.currentDataGrouping=b.info,null===n.pointRange&&(e.pointRange=b.info.totalRange),e.closestPointRange=b.info.totalRange,h(w[0])&&w[0]<d.dataMin&&(d.min===d.dataMin&&(d.min=w[0]),d.dataMin=w[0]),e.processedXData=w,e.processedYData=A}else e.currentDataGrouping=null,e.pointRange=f;e.hasGroupedData=t}},hn.destroyGroupedData=function(){var t=this.groupedData;fi(t||[],function(e,i){e&&(t[i]=e.destroy?e.destroy():null)}),this.groupedData=null},hn.generatePoints=function(){pn.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},cn.tooltipFooterHeaderFormatter=function(t,e){var i,n,o,s,a,l,h=this,c=t.series,d=c.options,p=c.tooltipOptions,u=d.dataGrouping,f=p.xDateFormat,g=c.xAxis;return g&&"datetime"===g.options.type&&u&&r(t.key)?(n=c.currentDataGrouping,o=u.dateTimeLabelFormats,n?(s=o[n.unitName],1===n.count?f=s[0]:(f=s[1],i=s[2])):!f&&o&&(f=h.getXDateFormat(t,p,g)),a=N(f,t.key),i&&(a+=N(i,t.key+n.totalRange-1)),l=p[(e?"footer":"header")+"Format"].replace("{point.key}",a)):l=fn.call(h,t,e),l},hn.destroy=function(){for(var t=this,e=t.groupedData||[],i=e.length;i--;)e[i]&&e[i].destroy();un.apply(t)},li(hn,"setOptions",function(e,i){var n=e.call(this,i),o=this.type,r=this.chart.options.plotOptions,s=Si[o].dataGrouping;return xn[o]&&(s||(s=t(mn,xn[o])),n.dataGrouping=t(s,r.series&&r.series.dataGrouping,r[o].dataGrouping,i.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),li(Ei.prototype,"setScale",function(t){t.call(this),fi(this.series,function(t){t.hasProcessed=!1})}),Ei.prototype.getGroupPixelWidth=function(){var t,e,i,n=this.series,o=n.length,r=0,s=!1;for(t=o;t--;)i=n[t].options.dataGrouping,i&&(r=ye(r,i.groupPixelWidth));for(t=o;t--;)i=n[t].options.dataGrouping,i&&n[t].hasProcessed&&(e=(n[t].processedXData||n[t].data).length,(n[t].groupPixelWidth||e>this.chart.plotSizeX/r||e&&i.forced)&&(s=!0));return s?r:0},Ei.prototype.setDataGrouping=function(t,e){e=ai(e,!0),t||(t={forced:!1,units:null}),this instanceof Ei?fi(this.series,function(e){e.update({dataGrouping:t},!1)}):fi(this.chart.options.series,function(e){e.dataGrouping=t})},Si.ohlc=t(Si.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var bn=f(ri.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){ri.column.prototype.getAttribs.apply(this,arguments);var e=this,i=e.options,n=i.states,o=i.upColor||e.color,r=t(e.pointAttr),s=e.upColorProp;r[""][s]=o,r.hover[s]=n.hover.upColor||o,r.select[s]=n.select.upColor||o,fi(e.points,function(t){t.open<t.close&&!t.options.color&&(t.pointAttr=r)})},translate:function(){var t=this,e=t.yAxis;ri.column.prototype.translate.apply(t),fi(t.points,function(t){null!==t.open&&(t.plotOpen=e.translate(t.open,0,1,0,1)),null!==t.close&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var t,e,i,n,o,r,s,a,l=this,h=l.points,c=l.chart;fi(h,function(h){h.plotY!==H&&(s=h.graphic,t=h.pointAttr[h.selected?"selected":""]||l.pointAttr[ti],n=t["stroke-width"]%2/2,a=ge(h.plotX)-n,o=ge(h.shapeArgs.width/2),r=["M",a,ge(h.yBottom),"L",a,ge(h.plotY)],null!==h.open&&(e=ge(h.plotOpen)+n,r.push("M",a,e,"L",a-o,e)),null!==h.close&&(i=ge(h.plotClose)+n,r.push("M",a,i,"L",a+o,i)),s?s.attr(t).animate({d:r}):h.graphic=c.renderer.path(r).attr(t).add(l.group))})},animate:null});ri.ohlc=bn,Si.candlestick=t(Si.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:Si.ohlc.tooltip,threshold:null,upColor:"white"});var kn=f(bn,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){ri.ohlc.prototype.getAttribs.apply(this,arguments);var e=this,i=e.options,n=i.states,o=i.upLineColor||i.lineColor,r=n.hover.upLineColor||o,s=n.select.upLineColor||o;fi(e.points,function(e){e.open<e.close&&(e.lineColor&&(e.pointAttr=t(e.pointAttr),o=e.lineColor),e.pointAttr[""].stroke=o,e.pointAttr.hover.stroke=r,e.pointAttr.select.stroke=s)})},drawPoints:function(){var t,e,i,n,o,r,s,a,l,h,c,d,p=this,u=p.points,f=p.chart,g=p.pointAttr[""];fi(u,function(u){h=u.graphic,u.plotY!==H&&(t=u.pointAttr[u.selected?"selected":""]||g,a=t["stroke-width"]%2/2,l=ge(u.plotX)-a,e=u.plotOpen,i=u.plotClose,n=fe.min(e,i),o=fe.max(e,i),d=ge(u.shapeArgs.width/2),r=ge(n)!==ge(u.plotY),s=o!==u.yBottom,n=ge(n)+a,o=ge(o)+a,c=["M",l-d,o,"L",l-d,n,"L",l+d,n,"L",l+d,o,"Z","M",l,n,"L",l,r?ge(u.plotY):n,"M",l,o,"L",l,s?ge(u.yBottom):o],h?h.attr(t).animate({d:c}):u.graphic=f.renderer.path(c).attr(t).add(p.group).shadow(p.options.shadow))})}});ri.candlestick=kn;var wn=Di.prototype.symbols;Si.flags=t(Si.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),ri.flags=f(ri.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Ki.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){ri.column.prototype.translate.apply(this);var t,e,i,n,o,r,s=this,a=s.options,l=s.chart,h=s.points,c=h.length-1,d=a.onSeries,p=d&&l.get(d),u=p&&p.options.step,f=p&&p.points,g=f&&f.length,m=s.xAxis,x=m.getExtremes();if(p&&p.visible&&g)for(r=p.currentDataGrouping,n=f[g-1].x+(r?r.totalRange:0),h.sort(function(t,e){return t.x-e.x});g--&&h[c]&&(t=h[c],i=f[g],!(i.x<=t.x&&i.plotY!==H&&(t.x<=n&&(t.plotY=i.plotY,i.x<t.x&&!u&&(o=f[g+1],o&&o.plotY!==H&&(t.plotY+=(t.x-i.x)/(o.x-i.x)*(o.plotY-i.plotY)))),c--,g++,0>c))););fi(h,function(t,i){var n;t.plotY===H&&(t.x>=x.min&&t.x<=x.max?t.plotY=l.chartHeight-m.bottom-(m.opposite?m.height:0)+m.offset-l.plotTop:t.shapeArgs={}),e=h[i-1],e&&e.plotX===t.plotX&&(e.stackIndex===H&&(e.stackIndex=0),n=e.stackIndex+1),t.stackIndex=n})},drawPoints:function(){var e,i,n,o,r,s,a,l,h,c,d,p=this,u=p.pointAttr[""],f=p.points,g=p.chart,m=g.renderer,x=p.options,y=x.y;for(r=f.length;r--;)s=f[r],d=s.plotX>p.xAxis.len,i=s.plotX-ai(s.lineWidth,x.lineWidth)%2,l=s.stackIndex,o=s.options.shape||x.shape,n=s.plotY,n!==H&&(n=s.plotY+y-(l!==H&&l*x.stackDistance)),h=l?H:s.plotX,c=l?H:s.plotY,a=s.graphic,n!==H&&i>=0&&!d?(e=s.pointAttr[s.selected?"select":""]||u,a?a.attr({x:i,y:n,r:e.r,anchorX:h,anchorY:c}):a=s.graphic=m.label(s.options.title||x.title||"A",i,n,o,h,c,x.useHTML).css(t(x.style,s.style)).attr(e).attr({align:"flag"===o?"left":"center",width:x.width,height:x.height}).add(p.markerGroup).shadow(x.shadow),s.tooltipPos=[i,n]):a&&(s.graphic=a.destroy())},drawTracker:function(){var t=this,e=t.points;an.drawTrackerPoint.apply(this),fi(e,function(t){var i=t.graphic;i&&yi(i.element,"mouseover",function(){t.stackIndex>0&&!t.raised&&(t._y=i.y,i.attr({y:t._y-8}),t.raised=!0),fi(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:He,buildKDTree:He,setClip:He}),wn.flag=function(t,e,i,n,o){var r=o&&o.anchorX||t,s=o&&o.anchorY||e;return["M",r,s,"L",t,e+n,t,e,t+i,e,t+i,e+n,t,e+n,"Z"]},fi(["circle","square"],function(t){wn[t+"pin"]=function(e,i,n,o,r){var s,a,l=r&&r.anchorX,h=r&&r.anchorY;return"circle"===t&&o>n&&(e-=ge((o-n)/2),n=o),s=wn[t](e,i,n,o),l&&h&&(a=i>h?i:i+o,s.push("M",l,a,"L",l,h)),s}}),X===de.VMLRenderer&&fi(["flag","circlepin","squarepin"],function(t){Ii.prototype.symbols[t]=wn[t]});var An,Sn=[].concat(yn),Tn=function(t){var e=gi(arguments,function(t){return"number"==typeof t});return e.length?Math[t].apply(0,e):void 0};Sn[4]=["day",[1,2,3,4]],Sn[5]=["week",[1,2,3]],An=ri.areaspline===H?"line":"areaspline",si(F,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:An,color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Sn},dataLabels:{enabled:!1,zIndex:2},id:je+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:Ie?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Oe&&!Ie}}),E.prototype={drawHandle:function(t,e){var i,n=this,o=n.chart,r=o.renderer,s=n.elementsToDestroy,a=n.handles,l=n.navigatorOptions.handles,h={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":1};n.rendered||(a[e]=r.g("navigator-handle-"+["left","right"][e]).css({cursor:"ew-resize"}).attr({zIndex:4-e}).add(),i=r.rect(-4.5,0,9,16,0,1).attr(h).add(a[e]),s.push(i),i=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(h).add(a[e]),s.push(i)),a[e][o.isResizing?"animate":"attr"]({translateX:n.scrollerLeft+n.scrollbarHeight+parseInt(t,10),translateY:n.top+n.height/2-8})},drawScrollbarButton:function(t){var e,i=this,n=i.chart,o=n.renderer,r=i.elementsToDestroy,s=i.scrollbarButtons,a=i.scrollbarHeight,l=i.scrollbarOptions;i.rendered||(s[t]=o.g().add(i.scrollbarGroup),e=o.rect(-.5,-.5,a+1,a+1,l.buttonBorderRadius,l.buttonBorderWidth).attr({stroke:l.buttonBorderColor,"stroke-width":l.buttonBorderWidth,fill:l.buttonBackgroundColor}).add(s[t]),r.push(e),e=o.path(["M",a/2+(t?-1:1),a/2-3,"L",a/2+(t?-1:1),a/2+3,a/2+(t?2:-2),a/2]).attr({fill:l.buttonArrowColor}).add(s[t]),r.push(e)),t&&s[t].attr({translateX:i.scrollerWidth-a})},render:function(t,e,i,n){var o,r,s,a,l,c,d,p,u,f,g,m,x,y=this,v=y.chart,b=v.renderer,k=y.scrollbarGroup,w=y.navigatorGroup,A=y.scrollbar,S=y.xAxis,T=y.scrollbarTrack,P=y.scrollbarHeight,C=y.scrollbarEnabled,M=y.navigatorOptions,L=y.scrollbarOptions,D=L.minWidth,I=y.height,B=y.top,O=y.navigatorEnabled,z=M.outlineWidth,R=z/2,E=0,W=y.outlineHeight,H=L.barBorderRadius,X=L.barBorderWidth,G=B+R;h(t)&&!isNaN(t)&&(y.navigatorLeft=o=ai(S.left,v.plotLeft+P),y.navigatorWidth=r=ai(S.len,v.plotWidth-2*P),y.scrollerLeft=s=o-P,y.scrollerWidth=a=a=r+2*P,S.getExtremes&&(x=y.getUnionExtremes(!0),!x||x.dataMin===S.min&&x.dataMax===S.max||S.setExtremes(x.dataMin,x.dataMax,!0,!1)),i=ai(i,S.translate(t)),n=ai(n,S.translate(e)),(isNaN(i)||1/0===be(i))&&(i=0,n=a),S.translate(n,!0)-S.translate(i,!0)<v.xAxis[0].minRange||(y.zoomedMax=ve(ye(i,n),r),y.zoomedMin=ye(y.fixedWidth?y.zoomedMax-y.fixedWidth:ve(i,n),0),y.range=y.zoomedMax-y.zoomedMin,c=ge(y.zoomedMax),l=ge(y.zoomedMin),d=c-l,y.rendered||(O&&(y.navigatorGroup=w=b.g("navigator").attr({zIndex:3}).add(),y.leftShade=b.rect().attr({fill:M.maskFill}).add(w),M.maskInside?y.leftShade.css({cursor:"ew-resize "}):y.rightShade=b.rect().attr({fill:M.maskFill}).add(w),y.outline=b.path().attr({"stroke-width":z,stroke:M.outlineColor}).add(w)),C&&(y.scrollbarGroup=k=b.g("scrollbar").add(),f=L.trackBorderWidth,y.scrollbarTrack=T=b.rect().attr({x:0,y:-f%2/2,fill:L.trackBackgroundColor,stroke:L.trackBorderColor,"stroke-width":f,r:L.trackBorderRadius||0,height:P}).add(k),y.scrollbar=A=b.rect().attr({y:-X%2/2,height:P,fill:L.barBackgroundColor,stroke:L.barBorderColor,"stroke-width":X,r:H}).add(k),y.scrollbarRifles=b.path().attr({stroke:L.rifleColor,"stroke-width":1}).add(k))),m=v.isResizing?"animate":"attr",O&&(y.leftShade[m](M.maskInside?{x:o+l,y:B,width:c-l,height:I}:{x:o,y:B,width:l,height:I}),y.rightShade&&y.rightShade[m]({x:o+c,y:B,width:r-c,height:I}),y.outline[m]({d:[$e,s,G,Je,o+l-R,G,o+l-R,G+W,Je,o+c-R,G+W,Je,o+c-R,G,s+a,G].concat(M.maskInside?[$e,o+l+R,G,Je,o+c-R,G]:[])}),y.drawHandle(l+R,0),y.drawHandle(c+R,1)),C&&k&&(y.drawScrollbarButton(0),y.drawScrollbarButton(1),k[m]({translateX:s,translateY:ge(G+I)}),T[m]({width:a}),p=P+l,u=d-X,D>u&&(E=(D-u)/2,u=D,p-=E),y.scrollbarPad=E,A[m]({x:me(p)+X%2/2,width:u}),g=P+l+d/2-.5,y.scrollbarRifles.attr({visibility:d>12?Ze:Ue})[m]({d:[$e,g-3,P/4,Je,g-3,2*P/3,$e,g,P/4,Je,g,2*P/3,$e,g+3,P/4,Je,g+3,2*P/3]})),y.scrollbarPad=E,y.rendered=!0))},addEvents:function(){var t,e=this.chart.container,i=this.mouseDownHandler,n=this.mouseMoveHandler,o=this.mouseUpHandler;t=[[e,"mousedown",i],[e,"mousemove",n],[document,"mouseup",o]],G&&t.push([e,"touchstart",i],[e,"touchmove",n],[document,"touchend",o]),fi(t,function(t){yi.apply(null,t)}),this._events=t},removeEvents:function(){fi(this._events,function(t){vi.apply(null,t)}),this._events=H,this.navigatorEnabled&&this.baseSeries&&vi(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e,i,n,o,r=this,s=r.chart,a=r.scrollbarHeight,l=r.navigatorOptions,h=r.height,c=r.top,d=r.baseSeries;r.mouseDownHandler=function(t){t=s.pointer.normalize(t);var i,o,a,l,c=r.zoomedMin,d=r.zoomedMax,p=r.top,u=r.scrollbarHeight,f=r.scrollerLeft,g=r.scrollerWidth,m=r.navigatorLeft,x=r.navigatorWidth,y=r.scrollbarPad,v=r.range,b=t.chartX,k=t.chartY,w=s.xAxis[0],A=Ie?10:7;k>p&&p+h+u>k&&(l=!r.scrollbarEnabled||p+h>k,l&&fe.abs(b-c-m)<A?(r.grabbedLeft=!0,r.otherHandlePos=d,r.fixedExtreme=w.max,s.fixedRange=null):l&&fe.abs(b-d-m)<A?(r.grabbedRight=!0,r.otherHandlePos=c,r.fixedExtreme=w.min,s.fixedRange=null):b>m+c-y&&m+d+y>b?(r.grabbedCenter=b,r.fixedWidth=v,n=b-c):b>f&&f+g>b&&(a=l?b-m-v/2:m>b?c-.2*v:b>f+g-u?c+.2*v:m+c>b?c-v:d,0>a?a=0:a+v>=x&&(a=x-v,i=r.getUnionExtremes().dataMax),a!==c&&(r.fixedWidth=v,o=e.toFixedRange(a,a+v,null,i),w.setExtremes(o.min,o.max,!0,!1,{trigger:"navigator"}))))},r.mouseMoveHandler=function(t){var e,i=r.scrollbarHeight,a=r.navigatorLeft,l=r.navigatorWidth,h=r.scrollerLeft,c=r.scrollerWidth,d=r.range;0!==t.pageX&&(t=s.pointer.normalize(t),e=t.chartX,a>e?e=a:e>h+c-i&&(e=h+c-i),r.grabbedLeft?(o=!0,r.render(0,0,e-a,r.otherHandlePos)):r.grabbedRight?(o=!0,r.render(0,0,r.otherHandlePos,e-a)):r.grabbedCenter&&(o=!0,n>e?e=n:e>l+n-d&&(e=l+n-d),r.render(0,0,e-n,e-n+d)),o&&r.scrollbarOptions.liveRedraw&&setTimeout(function(){r.mouseUpHandler(t)},0))},r.mouseUpHandler=function(t){var i,a,l;o&&(r.zoomedMin===r.otherHandlePos?a=r.fixedExtreme:r.zoomedMax===r.otherHandlePos&&(l=r.fixedExtreme),i=e.toFixedRange(r.zoomedMin,r.zoomedMax,a,l),s.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:t})),"mousemove"!==t.type&&(r.grabbedLeft=r.grabbedRight=r.grabbedCenter=r.fixedWidth=r.fixedExtreme=r.otherHandlePos=o=n=null)};var p=s.xAxis.length,u=s.yAxis.length;s.extraBottomMargin=r.outlineHeight+l.margin,r.navigatorEnabled?(r.xAxis=e=new Ei(s,t({breaks:d&&d.xAxis.options.breaks,ordinal:d&&d.xAxis.options.ordinal},l.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:p,height:h,offset:0,offsetLeft:a,offsetRight:-a,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),r.yAxis=i=new Ei(s,t(l.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:h,offset:0,index:u,zoomEnabled:!1})),d||l.series.data?r.addBaseSeries():0===s.series.length&&li(s,"redraw",function(t,e){s.series.length>0&&!r.series&&(r.setBaseSeries(),s.redraw=t),t.call(s,e)})):r.xAxis=e={translate:function(t,e){var i=s.xAxis[0],n=i.getExtremes(),o=s.plotWidth-2*a,r=Tn("min",i.options.min,n.dataMin),l=Tn("max",i.options.max,n.dataMax)-r;return e?t*l/o+r:o*(t-r)/l},toFixedRange:Ei.prototype.toFixedRange},li(s,"getMargins",function(t){var n=this.legend,o=n.options;t.apply(this,[].slice.call(arguments,1)),r.top=c=r.navigatorOptions.top||this.chartHeight-r.height-r.scrollbarHeight-this.spacing[2]-("bottom"===o.verticalAlign&&o.enabled&&!o.floating?n.legendHeight+ai(o.margin,10):0),e&&i&&(e.options.top=i.options.top=c,e.setAxisSize(),i.setAxisSize())}),r.addEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],n=this.xAxis,o=n.options,r=i.options;return t&&null===i.dataMin||(e={dataMin:ai(o&&o.min,Tn("min",r.min,i.dataMin,n.dataMin)),dataMax:ai(o&&o.max,Tn("max",r.max,i.dataMax,n.dataMax))}),e},setBaseSeries:function(t){var e=this.chart;t=t||e.options.navigator.baseSeries,this.series&&this.series.remove(),this.baseSeries=e.series[t]||"string"==typeof t&&e.get(t)||e.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var e,i,n=this.baseSeries,o=n?n.options:{},r=o.data,s=this.navigatorOptions.series;i=s.data,this.hasNavigatorData=!!i,e=t(o,s,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),e.data=i||r,this.series=this.chart.initSeries(e),n&&this.navigatorOptions.adaptToUpdatedData!==!1&&(yi(n,"updatedData",this.updatedDataHandler),n.userOptions.events=si(n.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var t,e,i,n,o,r=this.chart.scroller,s=r.baseSeries,a=s.xAxis,l=a.getExtremes(),h=l.min,c=l.max,d=l.dataMin,p=l.dataMax,u=c-h,f=r.series,g=f.xData,m=!!a.setExtremes;e=c>=g[g.length-1]-(this.closestPointRange||0),t=d>=h,r.hasNavigatorData||(f.options.pointStart=s.xData[0],f.setData(s.options.data,!1),o=!0),t&&(n=d,i=n+u),e&&(i=p,t||(n=ye(i-u,f.xData[0]))),m&&(t||e)?isNaN(n)||a.setExtremes(n,i,!0,!1,{trigger:"updatedData"}):(o&&this.chart.redraw(!1),r.render(ye(h,d),ve(c,p)))},destroy:function(){var t=this;t.removeEvents(),fi([t.xAxis,t.yAxis,t.leftShade,t.rightShade,t.outline,t.scrollbarTrack,t.scrollbarRifles,t.scrollbarGroup,t.scrollbar],function(t){t&&t.destroy&&t.destroy()}),t.xAxis=t.yAxis=t.leftShade=t.rightShade=t.outline=t.scrollbarTrack=t.scrollbarRifles=t.scrollbarGroup=t.scrollbar=null,fi([t.scrollbarButtons,t.handles,t.elementsToDestroy],function(t){T(t)})}},de.Scroller=E,li(Ei.prototype,"zoom",function(t,e,i){var n,o,r=this.chart,s=r.options,a=s.chart.zoomType,l=s.navigator,c=s.rangeSelector;return this.isXAxis&&(l&&l.enabled||c&&c.enabled)&&("x"===a?r.resetZoomButton="blocked":"y"===a?o=!1:"xy"===a&&(n=this.previousZoom,h(e)?this.previousZoom=[this.min,this.max]:n&&(e=n[0],i=n[1],delete this.previousZoom))),o!==H?o:t.call(this,e,i)}),li(Ui.prototype,"init",function(t,e,i){yi(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=new E(this))}),t.call(this,e,i)}),li(Ki.prototype,"addPoint",function(t,e,i,r,s){var a=this.options.turboThreshold;a&&this.xData.length>a&&n(e)&&!o(e)&&this.chart.scroller&&C(20,!0),t.call(this,e,i,r,s)}),si(F,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),F.lang=t(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),W.prototype={clickButton:function(t,e){var i,n,o,r,s,a,l,h,c=this,d=c.selected,p=c.chart,u=c.buttons,f=c.buttonOptions[t],g=p.xAxis[0],m=p.scroller&&p.scroller.getUnionExtremes()||g||{},x=m.dataMin,y=m.dataMax,v=g&&ge(ve(g.max,ai(y,g.max))),b=new Z(v),k=f.type,w=f.count,A=f._range,S=f.dataGrouping;if(null!==x&&null!==y&&t!==c.selected){if(S&&(this.forcedDataGrouping=!0,Ei.prototype.setDataGrouping.call(g||{chart:this.chart},S,!1)),"month"===k||"year"===k)a={month:"Month",year:"FullYear"}[k],b["set"+a](b["get"+a]()-w),i=b.getTime(),x=ai(x,Number.MIN_VALUE),isNaN(i)||x>i?(i=x,v=ve(i+A,y)):A=v-i;else if(A)i=ye(v-A,x),v=ve(i+A,y);else if("ytd"===k){if(!g)return void yi(p,"beforeRender",function(){c.clickButton(t)});y===H&&(x=Number.MAX_VALUE,y=Number.MIN_VALUE,fi(p.series,function(t){var e=t.xData;x=ve(e[0],x),y=ye(e[e.length-1],y)}),e=!1),n=new Z(y),s=n.getFullYear(),i=r=ye(x||0,Z.UTC(s,0,1)),n=n.getTime(),v=ve(y||n,n)}else"all"===k&&g&&(i=x,v=y);u[d]&&u[d].setState(0),u[t]&&u[t].setState(2),p.fixedRange=A,g?(g.setExtremes(i,v,ai(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:f}),c.setSelected(t)):(o=p.options.xAxis[0],h=o.range,o.range=A,l=o.min,o.min=r,c.setSelected(t),yi(p,"load",function(){o.range=h,o.min=l
}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,i=t.options.rangeSelector,n=i.buttons||[].concat(e.defaultButtons),o=i.selected,r=e.blurInputs=function(){var t=e.minInput,i=e.maxInput;t&&t.blur&&bi(t,"blur"),i&&i.blur&&bi(i,"blur")};e.chart=t,e.options=i,e.buttons=[],t.extraTopMargin=35,e.buttonOptions=n,yi(t.container,"mousedown",r),yi(t,"resize",r),fi(n,e.computeButtonRange),o!==H&&n[o]&&this.clickButton(o,!1),yi(t,"load",function(){yi(t.xAxis[0],"setExtremes",function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),yi(t.xAxis[0],"afterSetExtremes",function(){e.updateButtonStates(!0)})})},updateButtonStates:function(t){var e=this,i=this.chart,n=i.xAxis[0],o=i.scroller&&i.scroller.getUnionExtremes()||n,r=o.dataMin,s=o.dataMax,a=e.selected,l=e.options.allButtonsEnabled,h=e.buttons;t&&i.fixedRange!==ge(n.max-n.min)&&(h[a]&&h[a].setState(0),e.setSelected(null)),fi(e.buttonOptions,function(t,i){var o=t._range,c=o>s-r,d=o<n.minRange,p="all"===t.type&&n.max-n.min>=s-r&&2!==h[i].state,u="ytd"===t.type&&N("%Y",r)===N("%Y",s);o===ge(n.max-n.min)&&i!==a?(e.setSelected(i),h[i].setState(2)):!l&&(c||d||p||u)?h[i].setState(3):3===h[i].state&&h[i].setState(0)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:("month"===e||"year"===e)&&(t._range=24*{month:30,year:365}[e]*36e5*i)},setInputValue:function(t,e){var i=this.chart.options.rangeSelector;h(e)&&(this[t+"Input"].HCTime=e),this[t+"Input"].value=N(i.inputEditDateFormat||"%Y-%m-%d",this[t+"Input"].HCTime),this[t+"DateBox"].attr({text:N(i.inputDateFormat||"%b %e, %Y",this[t+"Input"].HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];p(this[t+"Input"],{left:e.translateX+i.x+Ke,top:e.translateY+Ke,width:i.width-2+Ke,height:i.height-2+Ke,border:"2px solid silver"})},hideInput:function(t){document.activeElement===this[t+"Input"]&&(p(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t))},drawInput:function(i){var n,o,r,s=this,a=s.chart,l=a.renderer.style,h=a.renderer,c=a.options.rangeSelector,d=F.lang,p=s.div,f="min"===i,g=this.inputGroup;this[i+"Label"]=o=h.label(d[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(t(l,c.labelStyle)).add(g),g.offset+=o.width+5,this[i+"DateBox"]=r=h.label("",g.offset).attr({padding:2,width:c.inputBoxWidth||90,height:c.inputBoxHeight||17,stroke:c.inputBoxBorderColor||"silver","stroke-width":1}).css(t({textAlign:"center",color:"#444"},l,c.inputStyle)).on("click",function(){s.showInput(i),s[i+"Input"].focus()}).add(g),g.offset+=r.width+(f?10:0),this[i+"Input"]=n=u("input",{name:i,className:je+"range-selector",type:"text"},si({position:Ve,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,top:a.plotTop+Ke},c.inputStyle),p),n.onfocus=function(){s.showInput(i)},n.onblur=function(){s.hideInput(i)},n.onchange=function(){var t=n.value,i=(c.inputDateParser||Z.parse)(t),o=a.xAxis[0],r=o.dataMin,l=o.dataMax;isNaN(i)&&(i=t.split("-"),i=Z.UTC(e(i[0]),e(i[1])-1,e(i[2]))),isNaN(i)||(F.global.useUTC||(i+=60*(new Z).getTimezoneOffset()*1e3),f?i>s.maxInput.HCTime?i=H:r>i&&(i=r):i<s.minInput.HCTime?i=H:i>l&&(i=l),i!==H&&a.xAxis[0].setExtremes(f?i:o.min,f?o.max:i,H,H,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,i=ai((e.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-35);return{buttonTop:i,inputTop:i-10}},render:function(t,e){var i,n,o=this,r=o.chart,s=r.renderer,a=r.container,l=r.options,c=l.exporting&&l.navigation&&l.navigation.buttonOptions,d=l.rangeSelector,p=o.buttons,f=F.lang,g=o.div,m=o.inputGroup,x=d.buttonTheme,y=d.buttonPosition||{},v=d.inputEnabled,b=x&&x.states,k=r.plotLeft,w=this.getPosition(),A=o.group;o.rendered||(o.group=A=s.g("range-selector-buttons").add(),o.zoomText=s.text(f.rangeSelectorZoom,ai(y.x,k),w.buttonTop+15).css(d.labelStyle).add(A),i=ai(y.x,k)+o.zoomText.getBBox().width+5,fi(o.buttonOptions,function(t,e){p[e]=s.button(t.text,i,w.buttonTop,function(){o.clickButton(e),o.isActive=!0},x,b&&b.hover,b&&b.select,b&&b.disabled).css({textAlign:"center"}).add(A),i+=p[e].width+ai(d.buttonSpacing,5),o.selected===e&&p[e].setState(2)}),o.updateButtonStates(),v!==!1&&(o.div=g=u("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(g,a),o.inputGroup=m=s.g("input-group").add(),m.offset=0,o.drawInput("min"),o.drawInput("max"))),v!==!1&&(m.align(si({y:w.inputTop,width:m.offset,x:c&&w.inputTop<(c.y||0)+c.height-r.spacing[0]?-40:0},d.inputPosition),!0,r.spacingBox),h(v)||(n=A.getBBox(),m[m.translateX<n.x+n.width+10?"hide":"show"]()),o.setInputValue("min",t),o.setInputValue("max",e)),o.rendered=!0},destroy:function(){var t,e=this.minInput,i=this.maxInput,n=this.chart,o=this.blurInputs;vi(n.container,"mousedown",o),vi(n,"resize",o),T(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null);for(t in this)this[t]&&"chart"!==t&&(this[t].destroy?this[t].destroy():this[t].nodeType&&P(this[t])),this[t]=null}},Ei.prototype.toFixedRange=function(t,e,i,n){var o=this.chart&&this.chart.fixedRange,r=ai(i,this.translate(t,!0)),s=ai(n,this.translate(e,!0)),a=o&&(s-r)/o;return a>.7&&1.3>a&&(n?r=s-o:s=r+o),{min:r,max:s}},li(Ui.prototype,"init",function(t,e,i){yi(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new W(this))}),t.call(this,e,i)}),de.RangeSelector=W,Ui.prototype.callbacks.push(function(t){function e(){s=t.xAxis[0].getExtremes(),a.render(s.min,s.max)}function i(){s=t.xAxis[0].getExtremes(),isNaN(s.min)||l.render(s.min,s.max)}function n(t){"navigator-drag"!==t.triggerOp&&a.render(t.min,t.max)}function o(t){l.render(t.min,t.max)}function r(){a&&vi(t.xAxis[0],"afterSetExtremes",n),l&&(vi(t,"resize",i),vi(t.xAxis[0],"afterSetExtremes",o))}var s,a=t.scroller,l=t.rangeSelector;a&&(yi(t.xAxis[0],"afterSetExtremes",n),li(t,"drawChartBox",function(t){var i=this.isDirtyBox;t.call(this),i&&e()}),e()),l&&(yi(t.xAxis[0],"afterSetExtremes",o),yi(t,"resize",i),i()),yi(t,"destroy",r)}),de.StockChart=function(e,i){var n,o=e.series,r=ai(e.navigator&&e.navigator.enabled,!0),s=r?{startOnTick:!1,endOnTick:!1}:null,a={marker:{enabled:!1,radius:2}},l={shadow:!1,borderWidth:0};return e.xAxis=xi(d(e.xAxis||{}),function(e){return t({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null},s)}),e.yAxis=xi(d(e.yAxis||{}),function(e){return n=ai(e.opposite,!0),t({labels:{y:-2},opposite:n,showLastLabel:!1,title:{text:null}},e)}),e.series=null,e=t({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:a,spline:a,area:a,areaspline:a,arearange:a,areasplinerange:a,column:l,columnrange:l,candlestick:l,ohlc:l}},e,{_stock:!0,chart:{inverted:!1}}),e.series=o,new Ui(e,i)},li(Xi.prototype,"init",function(t,e,i){var n=i.chart.pinchType||"";t.call(this,e,i),this.pinchX=this.pinchHor=-1!==n.indexOf("x"),this.pinchY=this.pinchVert=-1!==n.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),li(Ei.prototype,"autoLabelAlign",function(t){var e,i=this.chart,n=this.options,o=i._labelPanes=i._labelPanes||{},r=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(e=n.top+","+n.height,!o[e]&&r.enabled)?(15===r.x&&(r.x=0),void 0===r.align&&(r.align="right"),o[e]=1,"right"):t.call(this,[].slice.call(arguments,1))}),li(Ei.prototype,"getPlotLinePath",function(t,e,i,n,o,r){var s,a,l,c,d,p,u=this,f=this.isLinked&&!this.series?this.linkedParent.series:this.series,g=u.chart,m=g.renderer,x=u.left,y=u.top,v=[],b=[];return"colorAxis"===u.coll?t.apply(this,[].slice.call(arguments,1)):(b=u.isXAxis?h(u.options.yAxis)?[g.yAxis[u.options.yAxis]]:xi(f,function(t){return t.yAxis}):h(u.options.xAxis)?[g.xAxis[u.options.xAxis]]:xi(f,function(t){return t.xAxis}),d=u.isXAxis?g.yAxis:g.xAxis,fi(d,function(t){if(h(t.options.id)?-1===t.options.id.indexOf("navigator"):!0){var e=t.isXAxis?"yAxis":"xAxis",i=h(t.options[e])?g[e][t.options[e]]:g[e][0];u===i&&b.push(t)}}),p=b.length?[]:[u.isXAxis?g.yAxis[0]:g.xAxis[0]],fi(b,function(t){-1===ui(t,p)&&p.push(t)}),r=ai(r,u.translate(e,null,null,n)),isNaN(r)||(u.horiz?fi(p,function(t){var e;a=t.pos,c=a+t.len,s=l=ge(r+u.transB),(x>s||s>x+u.width)&&(o?s=l=ve(ye(x,s),x+u.width):e=!0),e||v.push("M",s,a,"L",l,c)}):fi(p,function(t){var e;s=t.pos,l=s+t.len,a=c=ge(y+u.height-r),(y>a||a>y+u.height)&&(o?a=c=ve(ye(y,a),u.top+u.height):e=!0),e||v.push("M",s,a,"L",l,c)})),v.length>0?m.crispPolyLine(v,i||1):null)}),Ei.prototype.getPlotBandPath=function(t,e){var i,n=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0),r=[];if(o&&n&&o.toString()!==n.toString())for(i=0;i<o.length;i+=6)r.push("M",o[i+1],o[i+2],"L",o[i+4],o[i+5],n[i+4],n[i+5],n[i+1],n[i+2]);else r=null;return r},Di.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=ge(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=ge(t[i+2])+e%2/2);return t},X===de.VMLRenderer&&(Ii.prototype.crispPolyLine=Di.prototype.crispPolyLine),li(Ei.prototype,"hideCrosshair",function(t,e){t.call(this,e),h(this.crossLabelArray)&&(h(e)?this.crossLabelArray[e]&&this.crossLabelArray[e].hide():fi(this.crossLabelArray,function(t){t.hide()}))}),li(Ei.prototype,"drawCrosshair",function(t,e,i){if(t.call(this,e,i),h(this.crosshair.label)&&this.crosshair.label.enabled&&h(i)){var n,o,r,s,a=this.chart,l=this.options.crosshair.label,c=this.isXAxis?"x":"y",d=this.horiz,p=this.opposite,u=this.left,f=this.top,g=this.crossLabel,m=l.format,x="";if(g||(g=this.crossLabel=a.renderer.label().attr({align:l.align||(d?"center":p?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:d?16:H,fill:l.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:ai(l.padding,2),stroke:l.borderColor||null,"stroke-width":l.borderWidth||0}).css(si({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},l.style)).add()),d?(n=i.plotX+u,o=f+(p?0:this.height)):(n=p?this.width+u:0,o=i.plotY+f),f>o||o>f+this.height)return void this.hideCrosshair();m||l.formatter||(this.isDatetimeAxis&&(x="%b %d, %Y"),m="{value"+(x?":"+x:"")+"}"),g.attr({text:m?v(m,{value:i[c]}):l.formatter.call(this,i[c]),x:n,y:o,visibility:Ze}),r=g.getBBox(),d?("inside"===this.options.tickPosition&&!p||"inside"!==this.options.tickPosition&&p)&&(o=g.y-r.height):o=g.y-r.height/2,s=d?{left:u-r.x,right:u+this.width-r.x}:{left:"left"===this.labelAlign?u:0,right:"right"===this.labelAlign?u+this.width:a.chartWidth},g.translateX<s.left&&(n+=s.left-g.translateX),g.translateX+r.width>=s.right&&(n-=g.translateX+r.width-s.right),g.attr({x:n,y:o,visibility:Ze})}});var Pn=hn.init,Cn=hn.processData,Mn=Zi.prototype.tooltipFormatter;hn.init=function(){Pn.apply(this,arguments),this.setCompare(this.options.compare)},hn.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,i){var n=this.compareValue;return e!==H&&(e="value"===t?e-n:e=100*(e/n)-100,i&&(i.change=e)),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},hn.processData=function(){var t,e,i,n=this,o=0;if(Cn.apply(this,arguments),n.xAxis&&n.processedYData)for(t=n.processedXData,e=n.processedYData,i=e.length;i>o;o++)if(typeof e[o]===gn&&t[o]>=n.xAxis.min){n.compareValue=e[o];break}},li(hn,"getExtremes",function(t){t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),Ei.prototype.setCompare=function(t,e){this.isXAxis||(fi(this.series,function(e){e.setCompare(t)}),ai(e,!0)&&this.chart.redraw())},Zi.prototype.tooltipFormatter=function(t){var e=this;return t=t.replace("{point.change}",(e.change>0?"+":"")+de.numberFormat(e.change,ai(e.series.tooltipOptions.changeDecimals,2))),Mn.apply(this,[t])},li(Ki.prototype,"render",function(e){this.chart.options._stock&&(!this.clipBox&&this.animate?(this.clipBox=t(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(Ai(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),e.call(this)}),si(de,{Color:Li,Point:Zi,Tick:z,Renderer:X,SVGElement:O,SVGRenderer:Di,arrayMin:A,arrayMax:S,charts:Xe,dateFormat:N,error:C,format:v,pathAnim:_,getOptions:B,hasBidiBug:ze,isTouchDevice:Ie,setOptions:I,addEvent:yi,removeEvent:vi,createElement:u,discardElement:P,css:p,each:fi,map:xi,merge:t,splat:d,extendClass:f,pInt:e,svg:Oe,canvas:Re,vml:!Oe&&!Re,product:Ye,version:Fe})}();